var oO=Object.defineProperty;var lO=(e,t,n)=>t in e?oO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xl=(e,t,n)=>(lO(e,typeof t!="symbol"?t+"":t,n),n);function E1(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const cO="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",uO=E1(cO);function Pn(e){if(ut(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Gt(r)?pO(r):Pn(r);if(i)for(const a in i)t[a]=i[a]}return t}else{if(Gt(e))return e;if(ln(e))return e}}const fO=/;(?![^(]*\))/g,dO=/:([^]+)/,hO=/\/\*.*?\*\//gs;function pO(e){const t={};return e.replace(hO,"").split(fO).forEach(n=>{if(n){const r=n.split(dO);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function We(e){let t="";if(Gt(e))t=e;else if(ut(e))for(let n=0;n<e.length;n++){const r=We(e[n]);r&&(t+=r+" ")}else if(ln(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function gO(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Gt(t)&&(e.class=We(t)),n&&(e.style=Pn(n)),e}const vO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mO=E1(vO);function E7(e){return!!e||e===""}function bO(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Bo(e[r],t[r]);return n}function Bo(e,t){if(e===t)return!0;let n=H5(e),r=H5(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=rf(e),r=rf(t),n||r)return e===t;if(n=ut(e),r=ut(t),n||r)return n&&r?bO(e,t):!1;if(n=ln(e),r=ln(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const s in e){const o=e.hasOwnProperty(s),u=t.hasOwnProperty(s);if(o&&!u||!o&&u||!Bo(e[s],t[s]))return!1}}return String(e)===String(t)}function S1(e,t){return e.findIndex(n=>Bo(n,t))}const Rn=e=>Gt(e)?e:e==null?"":ut(e)||ln(e)&&(e.toString===P7||!vt(e.toString))?JSON.stringify(e,S7,2):String(e),S7=(e,t)=>t&&t.__v_isRef?S7(e,t.value):Wl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:G0(t)?{[`Set(${t.size})`]:[...t.values()]}:ln(t)&&!ut(t)&&!A7(t)?String(t):t,Tn={},Ul=[],qr=()=>{},yO=()=>!1,wO=/^on[^a-z]/,Sf=e=>wO.test(e),Hm=e=>e.startsWith("onUpdate:"),tr=Object.assign,zm=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_O=Object.prototype.hasOwnProperty,an=(e,t)=>_O.call(e,t),ut=Array.isArray,Wl=e=>hc(e)==="[object Map]",G0=e=>hc(e)==="[object Set]",H5=e=>hc(e)==="[object Date]",xO=e=>hc(e)==="[object RegExp]",vt=e=>typeof e=="function",Gt=e=>typeof e=="string",rf=e=>typeof e=="symbol",ln=e=>e!==null&&typeof e=="object",af=e=>ln(e)&&vt(e.then)&&vt(e.catch),P7=Object.prototype.toString,hc=e=>P7.call(e),Lh=e=>hc(e).slice(8,-1),A7=e=>hc(e)==="[object Object]",Vm=e=>Gt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Bu=E1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),P1=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},MO=/-(\w)/g,pi=P1(e=>e.replace(MO,(t,n)=>n?n.toUpperCase():"")),CO=/\B([A-Z])/g,ta=P1(e=>e.replace(CO,"-$1").toLowerCase()),Pf=P1(e=>e.charAt(0).toUpperCase()+e.slice(1)),$u=P1(e=>e?`on${Pf(e)}`:""),Ql=(e,t)=>!Object.is(e,t),jl=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},jh=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},qh=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Kh=e=>{const t=Gt(e)?Number(e):NaN;return isNaN(t)?e:t};let z5;const TO=()=>z5||(z5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ii;class Um{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ii,!t&&Ii&&(this.index=(Ii.scopes||(Ii.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Ii;try{return Ii=this,t()}finally{Ii=n}}}on(){Ii=this}off(){Ii=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Wm(e){return new Um(e)}function k7(e,t=Ii){t&&t.active&&t.effects.push(e)}function A1(){return Ii}function jm(e){Ii&&Ii.cleanups.push(e)}const qm=e=>{const t=new Set(e);return t.w=0,t.n=0,t},O7=e=>(e.w&$o)>0,N7=e=>(e.n&$o)>0,EO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=$o},SO=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];O7(i)&&!N7(i)?i.delete(e):t[n++]=i,i.w&=~$o,i.n&=~$o}t.length=n}},Gh=new WeakMap;let Pu=0,$o=1;const Tv=30;let ka;const I0=Symbol(""),Ev=Symbol("");class Af{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,k7(this,r)}run(){if(!this.active)return this.fn();let t=ka,n=Oo;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=ka,ka=this,Oo=!0,$o=1<<++Pu,Pu<=Tv?EO(this):V5(this),this.fn()}finally{Pu<=Tv&&SO(this),$o=1<<--Pu,ka=this.parent,Oo=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ka===this?this.deferStop=!0:this.active&&(V5(this),this.onStop&&this.onStop(),this.active=!1)}}function V5(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function PO(e,t){e.effect&&(e=e.effect.fn);const n=new Af(e);t&&(tr(n,t),t.scope&&k7(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function AO(e){e.effect.stop()}let Oo=!0;const I7=[];function pc(){I7.push(Oo),Oo=!1}function gc(){const e=I7.pop();Oo=e===void 0?!0:e}function bi(e,t,n){if(Oo&&ka){let r=Gh.get(e);r||Gh.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=qm()),L7(i)}}function L7(e,t){let n=!1;Pu<=Tv?N7(e)||(e.n|=$o,n=!O7(e)):n=!e.has(ka),n&&(e.add(ka),ka.deps.push(e))}function js(e,t,n,r,i,a){const s=Gh.get(e);if(!s)return;let o=[];if(t==="clear")o=[...s.values()];else if(n==="length"&&ut(e)){const u=Number(r);s.forEach((c,f)=>{(f==="length"||f>=u)&&o.push(c)})}else switch(n!==void 0&&o.push(s.get(n)),t){case"add":ut(e)?Vm(n)&&o.push(s.get("length")):(o.push(s.get(I0)),Wl(e)&&o.push(s.get(Ev)));break;case"delete":ut(e)||(o.push(s.get(I0)),Wl(e)&&o.push(s.get(Ev)));break;case"set":Wl(e)&&o.push(s.get(I0));break}if(o.length===1)o[0]&&Sv(o[0]);else{const u=[];for(const c of o)c&&u.push(...c);Sv(qm(u))}}function Sv(e,t){const n=ut(e)?e:[...e];for(const r of n)r.computed&&U5(r);for(const r of n)r.computed||U5(r)}function U5(e,t){(e!==ka||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function kO(e,t){var n;return(n=Gh.get(e))===null||n===void 0?void 0:n.get(t)}const OO=E1("__proto__,__v_isRef,__isVue"),B7=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(rf)),NO=k1(),IO=k1(!1,!0),LO=k1(!0),BO=k1(!0,!0),W5=$O();function $O(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Ht(this);for(let a=0,s=this.length;a<s;a++)bi(r,"get",a+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(Ht)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){pc();const r=Ht(this)[t].apply(this,n);return gc(),r}}),e}function RO(e){const t=Ht(this);return bi(t,"has",e),t.hasOwnProperty(e)}function k1(e=!1,t=!1){return function(r,i,a){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&a===(e?t?V7:z7:t?H7:D7).get(r))return r;const s=ut(r);if(!e){if(s&&an(W5,i))return Reflect.get(W5,i,a);if(i==="hasOwnProperty")return RO}const o=Reflect.get(r,i,a);return(rf(i)?B7.has(i):OO(i))||(e||bi(r,"get",i),t)?o:St(o)?s&&Vm(i)?o:o.value:ln(o)?e?I1(o):xr(o):o}}const FO=$7(),DO=$7(!0);function $7(e=!1){return function(n,r,i,a){let s=n[r];if(Ro(s)&&St(s)&&!St(i))return!1;if(!e&&(!sf(i)&&!Ro(i)&&(s=Ht(s),i=Ht(i)),!ut(n)&&St(s)&&!St(i)))return s.value=i,!0;const o=ut(n)&&Vm(r)?Number(r)<n.length:an(n,r),u=Reflect.set(n,r,i,a);return n===Ht(a)&&(o?Ql(i,s)&&js(n,"set",r,i):js(n,"add",r,i)),u}}function HO(e,t){const n=an(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&js(e,"delete",t,void 0),r}function zO(e,t){const n=Reflect.has(e,t);return(!rf(t)||!B7.has(t))&&bi(e,"has",t),n}function VO(e){return bi(e,"iterate",ut(e)?"length":I0),Reflect.ownKeys(e)}const R7={get:NO,set:FO,deleteProperty:HO,has:zO,ownKeys:VO},F7={get:LO,set(e,t){return!0},deleteProperty(e,t){return!0}},UO=tr({},R7,{get:IO,set:DO}),WO=tr({},F7,{get:BO}),Km=e=>e,O1=e=>Reflect.getPrototypeOf(e);function Kd(e,t,n=!1,r=!1){e=e.__v_raw;const i=Ht(e),a=Ht(t);n||(t!==a&&bi(i,"get",t),bi(i,"get",a));const{has:s}=O1(i),o=r?Km:n?Ym:of;if(s.call(i,t))return o(e.get(t));if(s.call(i,a))return o(e.get(a));e!==i&&e.get(t)}function Gd(e,t=!1){const n=this.__v_raw,r=Ht(n),i=Ht(e);return t||(e!==i&&bi(r,"has",e),bi(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Yd(e,t=!1){return e=e.__v_raw,!t&&bi(Ht(e),"iterate",I0),Reflect.get(e,"size",e)}function j5(e){e=Ht(e);const t=Ht(this);return O1(t).has.call(t,e)||(t.add(e),js(t,"add",e,e)),this}function q5(e,t){t=Ht(t);const n=Ht(this),{has:r,get:i}=O1(n);let a=r.call(n,e);a||(e=Ht(e),a=r.call(n,e));const s=i.call(n,e);return n.set(e,t),a?Ql(t,s)&&js(n,"set",e,t):js(n,"add",e,t),this}function K5(e){const t=Ht(this),{has:n,get:r}=O1(t);let i=n.call(t,e);i||(e=Ht(e),i=n.call(t,e)),r&&r.call(t,e);const a=t.delete(e);return i&&js(t,"delete",e,void 0),a}function G5(){const e=Ht(this),t=e.size!==0,n=e.clear();return t&&js(e,"clear",void 0,void 0),n}function Xd(e,t){return function(r,i){const a=this,s=a.__v_raw,o=Ht(s),u=t?Km:e?Ym:of;return!e&&bi(o,"iterate",I0),s.forEach((c,f)=>r.call(i,u(c),u(f),a))}}function Jd(e,t,n){return function(...r){const i=this.__v_raw,a=Ht(i),s=Wl(a),o=e==="entries"||e===Symbol.iterator&&s,u=e==="keys"&&s,c=i[e](...r),f=n?Km:t?Ym:of;return!t&&bi(a,"iterate",u?Ev:I0),{next(){const{value:h,done:p}=c.next();return p?{value:h,done:p}:{value:o?[f(h[0]),f(h[1])]:f(h),done:p}},[Symbol.iterator](){return this}}}}function go(e){return function(...t){return e==="delete"?!1:this}}function jO(){const e={get(a){return Kd(this,a)},get size(){return Yd(this)},has:Gd,add:j5,set:q5,delete:K5,clear:G5,forEach:Xd(!1,!1)},t={get(a){return Kd(this,a,!1,!0)},get size(){return Yd(this)},has:Gd,add:j5,set:q5,delete:K5,clear:G5,forEach:Xd(!1,!0)},n={get(a){return Kd(this,a,!0)},get size(){return Yd(this,!0)},has(a){return Gd.call(this,a,!0)},add:go("add"),set:go("set"),delete:go("delete"),clear:go("clear"),forEach:Xd(!0,!1)},r={get(a){return Kd(this,a,!0,!0)},get size(){return Yd(this,!0)},has(a){return Gd.call(this,a,!0)},add:go("add"),set:go("set"),delete:go("delete"),clear:go("clear"),forEach:Xd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=Jd(a,!1,!1),n[a]=Jd(a,!0,!1),t[a]=Jd(a,!1,!0),r[a]=Jd(a,!0,!0)}),[e,n,t,r]}const[qO,KO,GO,YO]=jO();function N1(e,t){const n=t?e?YO:GO:e?KO:qO;return(r,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(an(n,i)&&i in r?n:r,i,a)}const XO={get:N1(!1,!1)},JO={get:N1(!1,!0)},QO={get:N1(!0,!1)},ZO={get:N1(!0,!0)},D7=new WeakMap,H7=new WeakMap,z7=new WeakMap,V7=new WeakMap;function eN(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tN(e){return e.__v_skip||!Object.isExtensible(e)?0:eN(Lh(e))}function xr(e){return Ro(e)?e:L1(e,!1,R7,XO,D7)}function U7(e){return L1(e,!1,UO,JO,H7)}function I1(e){return L1(e,!0,F7,QO,z7)}function nN(e){return L1(e,!0,WO,ZO,V7)}function L1(e,t,n,r,i){if(!ln(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const s=tN(e);if(s===0)return e;const o=new Proxy(e,s===2?r:n);return i.set(e,o),o}function ns(e){return Ro(e)?ns(e.__v_raw):!!(e&&e.__v_isReactive)}function Ro(e){return!!(e&&e.__v_isReadonly)}function sf(e){return!!(e&&e.__v_isShallow)}function Gm(e){return ns(e)||Ro(e)}function Ht(e){const t=e&&e.__v_raw;return t?Ht(t):e}function z0(e){return jh(e,"__v_skip",!0),e}const of=e=>ln(e)?xr(e):e,Ym=e=>ln(e)?I1(e):e;function Xm(e){Oo&&ka&&(e=Ht(e),L7(e.dep||(e.dep=qm())))}function B1(e,t){e=Ht(e);const n=e.dep;n&&Sv(n)}function St(e){return!!(e&&e.__v_isRef===!0)}function He(e){return W7(e,!1)}function No(e){return W7(e,!0)}function W7(e,t){return St(e)?e:new rN(e,t)}class rN{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ht(t),this._value=n?t:of(t)}get value(){return Xm(this),this._value}set value(t){const n=this.__v_isShallow||sf(t)||Ro(t);t=n?t:Ht(t),Ql(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:of(t),B1(this))}}function Rl(e){B1(e)}function P(e){return St(e)?e.value:e}const iN={get:(e,t,n)=>P(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return St(i)&&!St(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Jm(e){return ns(e)?e:new Proxy(e,iN)}class aN{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>Xm(this),()=>B1(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function sN(e){return new aN(e)}function Fo(e){const t=ut(e)?new Array(e.length):{};for(const n in e)t[n]=Wr(e,n);return t}class oN{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return kO(Ht(this._object),this._key)}}function Wr(e,t,n){const r=e[t];return St(r)?r:new oN(e,t,n)}var j7;class lN{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[j7]=!1,this._dirty=!0,this.effect=new Af(t,()=>{this._dirty||(this._dirty=!0,B1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Ht(this);return Xm(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}j7="__v_isReadonly";function cN(e,t,n=!1){let r,i;const a=vt(e);return a?(r=e,i=qr):(r=e.get,i=e.set),new lN(r,i,a||!i,n)}function q7(e,...t){}function uN(e,t){}function zs(e,t,n,r){let i;try{i=r?e(...r):e()}catch(a){Y0(a,t,n)}return i}function Ri(e,t,n,r){if(vt(e)){const a=zs(e,t,n,r);return a&&af(a)&&a.catch(s=>{Y0(s,t,n)}),a}const i=[];for(let a=0;a<e.length;a++)i.push(Ri(e[a],t,n,r));return i}function Y0(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let a=t.parent;const s=t.proxy,o=n;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,s,o)===!1)return}a=a.parent}const u=t.appContext.config.errorHandler;if(u){zs(u,null,10,[e,s,o]);return}}fN(e,n,i,r)}function fN(e,t,n,r=!0){console.error(e)}let lf=!1,Pv=!1;const Ur=[];let es=0;const ql=[];let Fs=null,E0=0;const K7=Promise.resolve();let Qm=null;function Qt(e){const t=Qm||K7;return e?t.then(this?e.bind(this):e):t}function dN(e){let t=es+1,n=Ur.length;for(;t<n;){const r=t+n>>>1;cf(Ur[r])<e?t=r+1:n=r}return t}function $1(e){(!Ur.length||!Ur.includes(e,lf&&e.allowRecurse?es+1:es))&&(e.id==null?Ur.push(e):Ur.splice(dN(e.id),0,e),G7())}function G7(){!lf&&!Pv&&(Pv=!0,Qm=K7.then(Y7))}function hN(e){const t=Ur.indexOf(e);t>es&&Ur.splice(t,1)}function Zm(e){ut(e)?ql.push(...e):(!Fs||!Fs.includes(e,e.allowRecurse?E0+1:E0))&&ql.push(e),G7()}function Y5(e,t=lf?es+1:0){for(;t<Ur.length;t++){const n=Ur[t];n&&n.pre&&(Ur.splice(t,1),t--,n())}}function Yh(e){if(ql.length){const t=[...new Set(ql)];if(ql.length=0,Fs){Fs.push(...t);return}for(Fs=t,Fs.sort((n,r)=>cf(n)-cf(r)),E0=0;E0<Fs.length;E0++)Fs[E0]();Fs=null,E0=0}}const cf=e=>e.id==null?1/0:e.id,pN=(e,t)=>{const n=cf(e)-cf(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Y7(e){Pv=!1,lf=!0,Ur.sort(pN);const t=qr;try{for(es=0;es<Ur.length;es++){const n=Ur[es];n&&n.active!==!1&&zs(n,null,14)}}finally{es=0,Ur.length=0,Yh(),lf=!1,Qm=null,(Ur.length||ql.length)&&Y7()}}let Fl,Qd=[];function X7(e,t){var n,r;Fl=e,Fl?(Fl.enabled=!0,Qd.forEach(({event:i,args:a})=>Fl.emit(i,...a)),Qd=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(a=>{X7(a,t)}),setTimeout(()=>{Fl||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Qd=[])},3e3)):Qd=[]}function gN(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Tn;let i=n;const a=t.startsWith("update:"),s=a&&t.slice(7);if(s&&s in r){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:h,trim:p}=r[f]||Tn;p&&(i=n.map(v=>Gt(v)?v.trim():v)),h&&(i=n.map(qh))}let o,u=r[o=$u(t)]||r[o=$u(pi(t))];!u&&a&&(u=r[o=$u(ta(t))]),u&&Ri(u,e,6,i);const c=r[o+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,Ri(c,e,6,i)}}function J7(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const a=e.emits;let s={},o=!1;if(!vt(e)){const u=c=>{const f=J7(c,t,!0);f&&(o=!0,tr(s,f))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!a&&!o?(ln(e)&&r.set(e,null),null):(ut(a)?a.forEach(u=>s[u]=null):tr(s,a),ln(e)&&r.set(e,s),s)}function R1(e,t){return!e||!Sf(t)?!1:(t=t.slice(2).replace(/Once$/,""),an(e,t[0].toLowerCase()+t.slice(1))||an(e,ta(t))||an(e,t))}let Ir=null,F1=null;function uf(e){const t=Ir;return Ir=e,F1=e&&e.type.__scopeId||null,t}function e2(e){F1=e}function t2(){F1=null}const vN=e=>Re;function Re(e,t=Ir,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Bv(-1);const a=uf(t);let s;try{s=e(...i)}finally{uf(a),r._d&&Bv(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Bh(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:a,propsOptions:[s],slots:o,attrs:u,emit:c,render:f,renderCache:h,data:p,setupState:v,ctx:g,inheritAttrs:b}=e;let y,x;const _=uf(e);try{if(n.shapeFlag&4){const w=i||r;y=$i(f.call(w,w,h,a,v,p,g)),x=u}else{const w=t;y=$i(w.length>1?w(a,{attrs:u,slots:o,emit:c}):w(a,null)),x=t.props?u:bN(u)}}catch(w){Du.length=0,Y0(w,e,1),y=Ae(Lr)}let E=y;if(x&&b!==!1){const w=Object.keys(x),{shapeFlag:M}=E;w.length&&M&7&&(s&&w.some(Hm)&&(x=yN(x,s)),E=La(E,x))}return n.dirs&&(E=La(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),y=E,uf(_),y}function mN(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(Do(r)){if(r.type!==Lr||r.children==="v-if"){if(t)return;t=r}}else return}return t}const bN=e=>{let t;for(const n in e)(n==="class"||n==="style"||Sf(n))&&((t||(t={}))[n]=e[n]);return t},yN=(e,t)=>{const n={};for(const r in e)(!Hm(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function wN(e,t,n){const{props:r,children:i,component:a}=e,{props:s,children:o,patchFlag:u}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?X5(r,s,c):!!s;if(u&8){const f=t.dynamicProps;for(let h=0;h<f.length;h++){const p=f[h];if(s[p]!==r[p]&&!R1(c,p))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===s?!1:r?s?X5(r,s,c):!0:!!s;return!1}function X5(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!R1(n,a))return!0}return!1}function n2({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Q7=e=>e.__isSuspense,_N={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,a,s,o,u,c){e==null?xN(t,n,r,i,a,s,o,u,c):MN(e,t,n,r,i,s,o,u,c)},hydrate:CN,create:r2,normalize:TN},Z7=_N;function ff(e,t){const n=e.props&&e.props[t];vt(n)&&n()}function xN(e,t,n,r,i,a,s,o,u){const{p:c,o:{createElement:f}}=u,h=f("div"),p=e.suspense=r2(e,i,r,t,h,n,a,s,o,u);c(null,p.pendingBranch=e.ssContent,h,null,r,p,a,s),p.deps>0?(ff(e,"onPending"),ff(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,a,s),Kl(p,e.ssFallback)):p.resolve()}function MN(e,t,n,r,i,a,s,o,{p:u,um:c,o:{createElement:f}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const p=t.ssContent,v=t.ssFallback,{activeBranch:g,pendingBranch:b,isInFallback:y,isHydrating:x}=h;if(b)h.pendingBranch=p,Oa(p,b)?(u(b,p,h.hiddenContainer,null,i,h,a,s,o),h.deps<=0?h.resolve():y&&(u(g,v,n,r,i,null,a,s,o),Kl(h,v))):(h.pendingId++,x?(h.isHydrating=!1,h.activeBranch=b):c(b,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=f("div"),y?(u(null,p,h.hiddenContainer,null,i,h,a,s,o),h.deps<=0?h.resolve():(u(g,v,n,r,i,null,a,s,o),Kl(h,v))):g&&Oa(p,g)?(u(g,p,n,r,i,h,a,s,o),h.resolve(!0)):(u(null,p,h.hiddenContainer,null,i,h,a,s,o),h.deps<=0&&h.resolve()));else if(g&&Oa(p,g))u(g,p,n,r,i,h,a,s,o),Kl(h,p);else if(ff(t,"onPending"),h.pendingBranch=p,h.pendingId++,u(null,p,h.hiddenContainer,null,i,h,a,s,o),h.deps<=0)h.resolve();else{const{timeout:_,pendingId:E}=h;_>0?setTimeout(()=>{h.pendingId===E&&h.fallback(v)},_):_===0&&h.fallback(v)}}function r2(e,t,n,r,i,a,s,o,u,c,f=!1){const{p:h,m:p,um:v,n:g,o:{parentNode:b,remove:y}}=c,x=e.props?Kh(e.props.timeout):void 0,_={vnode:e,parent:t,parentComponent:n,isSVG:s,container:r,hiddenContainer:i,anchor:a,deps:0,pendingId:0,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:f,isUnmounted:!1,effects:[],resolve(E=!1){const{vnode:w,activeBranch:M,pendingBranch:T,pendingId:S,effects:k,parentComponent:L,container:B}=_;if(_.isHydrating)_.isHydrating=!1;else if(!E){const R=M&&T.transition&&T.transition.mode==="out-in";R&&(M.transition.afterLeave=()=>{S===_.pendingId&&p(T,B,z,0)});let{anchor:z}=_;M&&(z=g(M),v(M,L,_,!0)),R||p(T,B,z,0)}Kl(_,T),_.pendingBranch=null,_.isInFallback=!1;let H=_.parent,D=!1;for(;H;){if(H.pendingBranch){H.effects.push(...k),D=!0;break}H=H.parent}D||Zm(k),_.effects=[],ff(w,"onResolve")},fallback(E){if(!_.pendingBranch)return;const{vnode:w,activeBranch:M,parentComponent:T,container:S,isSVG:k}=_;ff(w,"onFallback");const L=g(M),B=()=>{_.isInFallback&&(h(null,E,S,L,T,null,k,o,u),Kl(_,E))},H=E.transition&&E.transition.mode==="out-in";H&&(M.transition.afterLeave=B),_.isInFallback=!0,v(M,T,null,!0),H||B()},move(E,w,M){_.activeBranch&&p(_.activeBranch,E,w,M),_.container=E},next(){return _.activeBranch&&g(_.activeBranch)},registerDep(E,w){const M=!!_.pendingBranch;M&&_.deps++;const T=E.vnode.el;E.asyncDep.catch(S=>{Y0(S,E,0)}).then(S=>{if(E.isUnmounted||_.isUnmounted||_.pendingId!==E.suspenseId)return;E.asyncResolved=!0;const{vnode:k}=E;$v(E,S,!1),T&&(k.el=T);const L=!T&&E.subTree.el;w(E,k,b(T||E.subTree.el),T?null:g(E.subTree),_,s,u),L&&y(L),n2(E,k.el),M&&--_.deps===0&&_.resolve()})},unmount(E,w){_.isUnmounted=!0,_.activeBranch&&v(_.activeBranch,n,E,w),_.pendingBranch&&v(_.pendingBranch,n,E,w)}};return _}function CN(e,t,n,r,i,a,s,o,u){const c=t.suspense=r2(t,r,n,e.parentNode,document.createElement("div"),null,i,a,s,o,!0),f=u(e,c.pendingBranch=t.ssContent,n,c,a,s);return c.deps===0&&c.resolve(),f}function TN(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=J5(r?n.default:n),e.ssFallback=r?J5(n.fallback):Ae(Lr)}function J5(e){let t;if(vt(e)){const n=U0&&e._c;n&&(e._d=!1,ce()),e=e(),n&&(e._d=!0,t=hi,P9())}return ut(e)&&(e=mN(e)),e=$i(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function e9(e,t){t&&t.pendingBranch?ut(e)?t.effects.push(...e):t.effects.push(e):Zm(e)}function Kl(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,n2(r,i))}function $r(e,t){if(Zn){let n=Zn.provides;const r=Zn.parent&&Zn.parent.provides;r===n&&(n=Zn.provides=Object.create(r)),n[e]=t}}function on(e,t,n=!1){const r=Zn||Ir;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&vt(t)?t.call(r.proxy):t}}function t9(e,t){return kf(e,null,t)}function n9(e,t){return kf(e,null,{flush:"post"})}function EN(e,t){return kf(e,null,{flush:"sync"})}const Zd={};function Ze(e,t,n){return kf(e,t,n)}function kf(e,t,{immediate:n,deep:r,flush:i,onTrack:a,onTrigger:s}=Tn){const o=A1()===(Zn==null?void 0:Zn.scope)?Zn:null;let u,c=!1,f=!1;if(St(e)?(u=()=>e.value,c=sf(e)):ns(e)?(u=()=>e,r=!0):ut(e)?(f=!0,c=e.some(E=>ns(E)||sf(E)),u=()=>e.map(E=>{if(St(E))return E.value;if(ns(E))return k0(E);if(vt(E))return zs(E,o,2)})):vt(e)?t?u=()=>zs(e,o,2):u=()=>{if(!(o&&o.isUnmounted))return h&&h(),Ri(e,o,3,[p])}:u=qr,t&&r){const E=u;u=()=>k0(E())}let h,p=E=>{h=x.onStop=()=>{zs(E,o,4)}},v;if(ec)if(p=qr,t?n&&Ri(t,o,3,[u(),f?[]:void 0,p]):u(),i==="sync"){const E=H9();v=E.__watcherHandles||(E.__watcherHandles=[])}else return qr;let g=f?new Array(e.length).fill(Zd):Zd;const b=()=>{if(x.active)if(t){const E=x.run();(r||c||(f?E.some((w,M)=>Ql(w,g[M])):Ql(E,g)))&&(h&&h(),Ri(t,o,3,[E,g===Zd?void 0:f&&g[0]===Zd?[]:g,p]),g=E)}else x.run()};b.allowRecurse=!!t;let y;i==="sync"?y=b:i==="post"?y=()=>Or(b,o&&o.suspense):(b.pre=!0,o&&(b.id=o.uid),y=()=>$1(b));const x=new Af(u,y);t?n?b():g=x.run():i==="post"?Or(x.run.bind(x),o&&o.suspense):x.run();const _=()=>{x.stop(),o&&o.scope&&zm(o.scope.effects,x)};return v&&v.push(_),_}function SN(e,t,n){const r=this.proxy,i=Gt(e)?e.includes(".")?r9(r,e):()=>r[e]:e.bind(r,r);let a;vt(t)?a=t:(a=t.handler,n=t);const s=Zn;Ho(this);const o=kf(i,a.bind(r),n);return s?Ho(s):Io(),o}function r9(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function k0(e,t){if(!ln(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),St(e))k0(e.value,t);else if(ut(e))for(let n=0;n<e.length;n++)k0(e[n],t);else if(G0(e)||Wl(e))e.forEach(n=>{k0(n,t)});else if(A7(e))for(const n in e)k0(e[n],t);return e}function i2(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ln(()=>{e.isMounted=!0}),Gr(()=>{e.isUnmounting=!0}),e}const Xi=[Function,Array],PN={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Xi,onEnter:Xi,onAfterEnter:Xi,onEnterCancelled:Xi,onBeforeLeave:Xi,onLeave:Xi,onAfterLeave:Xi,onLeaveCancelled:Xi,onBeforeAppear:Xi,onAppear:Xi,onAfterAppear:Xi,onAppearCancelled:Xi},setup(e,{slots:t}){const n=Yn(),r=i2();let i;return()=>{const a=t.default&&D1(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){for(const b of a)if(b.type!==Lr){s=b;break}}const o=Ht(e),{mode:u}=o;if(r.isLeaving)return Eg(s);const c=Q5(s);if(!c)return Eg(s);const f=Zl(c,o,r,n);V0(c,f);const h=n.subTree,p=h&&Q5(h);let v=!1;const{getTransitionKey:g}=c.type;if(g){const b=g();i===void 0?i=b:b!==i&&(i=b,v=!0)}if(p&&p.type!==Lr&&(!Oa(c,p)||v)){const b=Zl(p,o,r,n);if(V0(p,b),u==="out-in")return r.isLeaving=!0,b.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Eg(s);u==="in-out"&&c.type!==Lr&&(b.delayLeave=(y,x,_)=>{const E=i9(r,p);E[String(p.key)]=p,y._leaveCb=()=>{x(),y._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=_})}return s}}},a2=PN;function i9(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Zl(e,t,n,r){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:o,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:h,onLeave:p,onAfterLeave:v,onLeaveCancelled:g,onBeforeAppear:b,onAppear:y,onAfterAppear:x,onAppearCancelled:_}=t,E=String(e.key),w=i9(n,e),M=(k,L)=>{k&&Ri(k,r,9,L)},T=(k,L)=>{const B=L[1];M(k,L),ut(k)?k.every(H=>H.length<=1)&&B():k.length<=1&&B()},S={mode:a,persisted:s,beforeEnter(k){let L=o;if(!n.isMounted)if(i)L=b||o;else return;k._leaveCb&&k._leaveCb(!0);const B=w[E];B&&Oa(e,B)&&B.el._leaveCb&&B.el._leaveCb(),M(L,[k])},enter(k){let L=u,B=c,H=f;if(!n.isMounted)if(i)L=y||u,B=x||c,H=_||f;else return;let D=!1;const R=k._enterCb=z=>{D||(D=!0,z?M(H,[k]):M(B,[k]),S.delayedLeave&&S.delayedLeave(),k._enterCb=void 0)};L?T(L,[k,R]):R()},leave(k,L){const B=String(e.key);if(k._enterCb&&k._enterCb(!0),n.isUnmounting)return L();M(h,[k]);let H=!1;const D=k._leaveCb=R=>{H||(H=!0,L(),R?M(g,[k]):M(v,[k]),k._leaveCb=void 0,w[B]===e&&delete w[B])};w[B]=e,p?T(p,[k,D]):D()},clone(k){return Zl(k,t,n,r)}};return S}function Eg(e){if(Of(e))return e=La(e),e.children=null,e}function Q5(e){return Of(e)?e.children?e.children[0]:void 0:e}function V0(e,t){e.shapeFlag&6&&e.component?V0(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function D1(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let s=e[a];const o=n==null?s.key:String(n)+String(s.key!=null?s.key:a);s.type===qt?(s.patchFlag&128&&i++,r=r.concat(D1(s.children,t,o))):(t||s.type!==Lr)&&r.push(o!=null?La(s,{key:o}):s)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function pt(e){return vt(e)?{setup:e,name:e.name}:e}const L0=e=>!!e.type.__asyncLoader;function a9(e){vt(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,timeout:a,suspensible:s=!0,onError:o}=e;let u=null,c,f=0;const h=()=>(f++,u=null,p()),p=()=>{let v;return u||(v=u=t().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),o)return new Promise((b,y)=>{o(g,()=>b(h()),()=>y(g),f+1)});throw g}).then(g=>v!==u&&u?u:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),c=g,g)))};return pt({name:"AsyncComponentWrapper",__asyncLoader:p,get __asyncResolved(){return c},setup(){const v=Zn;if(c)return()=>Sg(c,v);const g=_=>{u=null,Y0(_,v,13,!r)};if(s&&v.suspense||ec)return p().then(_=>()=>Sg(_,v)).catch(_=>(g(_),()=>r?Ae(r,{error:_}):null));const b=He(!1),y=He(),x=He(!!i);return i&&setTimeout(()=>{x.value=!1},i),a!=null&&setTimeout(()=>{if(!b.value&&!y.value){const _=new Error(`Async component timed out after ${a}ms.`);g(_),y.value=_}},a),p().then(()=>{b.value=!0,v.parent&&Of(v.parent.vnode)&&$1(v.parent.update)}).catch(_=>{g(_),y.value=_}),()=>{if(b.value&&c)return Sg(c,v);if(y.value&&r)return Ae(r,{error:y.value});if(n&&!x.value)return Ae(n)}}})}function Sg(e,t){const{ref:n,props:r,children:i,ce:a}=t.vnode,s=Ae(e,r,i);return s.ref=n,s.ce=a,delete t.vnode.ce,s}const Of=e=>e.type.__isKeepAlive,AN={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Yn(),r=n.ctx;if(!r.renderer)return()=>{const _=t.default&&t.default();return _&&_.length===1?_[0]:_};const i=new Map,a=new Set;let s=null;const o=n.suspense,{renderer:{p:u,m:c,um:f,o:{createElement:h}}}=r,p=h("div");r.activate=(_,E,w,M,T)=>{const S=_.component;c(_,E,w,0,o),u(S.vnode,_,E,w,S,o,M,_.slotScopeIds,T),Or(()=>{S.isDeactivated=!1,S.a&&jl(S.a);const k=_.props&&_.props.onVnodeMounted;k&&fi(k,S.parent,_)},o)},r.deactivate=_=>{const E=_.component;c(_,p,null,1,o),Or(()=>{E.da&&jl(E.da);const w=_.props&&_.props.onVnodeUnmounted;w&&fi(w,E.parent,_),E.isDeactivated=!0},o)};function v(_){Pg(_),f(_,n,o,!0)}function g(_){i.forEach((E,w)=>{const M=Fv(E.type);M&&(!_||!_(M))&&b(w)})}function b(_){const E=i.get(_);!s||!Oa(E,s)?v(E):s&&Pg(s),i.delete(_),a.delete(_)}Ze(()=>[e.include,e.exclude],([_,E])=>{_&&g(w=>Au(_,w)),E&&g(w=>!Au(E,w))},{flush:"post",deep:!0});let y=null;const x=()=>{y!=null&&i.set(y,Ag(n.subTree))};return Ln(x),vc(x),Gr(()=>{i.forEach(_=>{const{subTree:E,suspense:w}=n,M=Ag(E);if(_.type===M.type&&_.key===M.key){Pg(M);const T=M.component.da;T&&Or(T,w);return}v(_)})}),()=>{if(y=null,!t.default)return null;const _=t.default(),E=_[0];if(_.length>1)return s=null,_;if(!Do(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return s=null,E;let w=Ag(E);const M=w.type,T=Fv(L0(w)?w.type.__asyncResolved||{}:M),{include:S,exclude:k,max:L}=e;if(S&&(!T||!Au(S,T))||k&&T&&Au(k,T))return s=w,E;const B=w.key==null?M:w.key,H=i.get(B);return w.el&&(w=La(w),E.shapeFlag&128&&(E.ssContent=w)),y=B,H?(w.el=H.el,w.component=H.component,w.transition&&V0(w,w.transition),w.shapeFlag|=512,a.delete(B),a.add(B)):(a.add(B),L&&a.size>parseInt(L,10)&&b(a.values().next().value)),w.shapeFlag|=256,s=w,Q7(E.type)?E:w}}},kN=AN;function Au(e,t){return ut(e)?e.some(n=>Au(n,t)):Gt(e)?e.split(",").includes(t):xO(e)?e.test(t):!1}function s2(e,t){s9(e,"a",t)}function H1(e,t){s9(e,"da",t)}function s9(e,t,n=Zn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(z1(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Of(i.parent.vnode)&&ON(r,t,n,i),i=i.parent}}function ON(e,t,n,r){const i=z1(t,e,r,!0);Nf(()=>{zm(r[t],i)},n)}function Pg(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ag(e){return e.shapeFlag&128?e.ssContent:e}function z1(e,t,n=Zn,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;pc(),Ho(n);const o=Ri(t,n,e,s);return Io(),gc(),o});return r?i.unshift(a):i.push(a),a}}const Js=e=>(t,n=Zn)=>(!ec||e==="sp")&&z1(e,(...r)=>t(...r),n),o2=Js("bm"),Ln=Js("m"),o9=Js("bu"),vc=Js("u"),Gr=Js("bum"),Nf=Js("um"),l9=Js("sp"),c9=Js("rtg"),u9=Js("rtc");function l2(e,t=Zn){z1("ec",e,t)}function gi(e,t){const n=Ir;if(n===null)return e;const r=U1(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[s,o,u,c=Tn]=t[a];s&&(vt(s)&&(s={mounted:s,updated:s}),s.deep&&k0(o),i.push({dir:s,instance:r,value:o,oldValue:void 0,arg:u,modifiers:c}))}return e}function Ja(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let u=o.dir[r];u&&(pc(),Ri(u,n,8,[e.el,o,e,t]),gc())}}const c2="components",NN="directives";function Ls(e,t){return u2(c2,e,!0,t)||e}const f9=Symbol();function jr(e){return Gt(e)?u2(c2,e,!1)||e:e||f9}function d9(e){return u2(NN,e)}function u2(e,t,n=!0,r=!1){const i=Ir||Zn;if(i){const a=i.type;if(e===c2){const o=Fv(a,!1);if(o&&(o===t||o===pi(t)||o===Pf(pi(t))))return a}const s=Z5(i[e]||a[e],t)||Z5(i.appContext[e],t);return!s&&r?a:s}}function Z5(e,t){return e&&(e[t]||e[pi(t)]||e[Pf(pi(t))])}function di(e,t,n,r){let i;const a=n&&n[r];if(ut(e)||Gt(e)){i=new Array(e.length);for(let s=0,o=e.length;s<o;s++)i[s]=t(e[s],s,void 0,a&&a[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,a&&a[s])}else if(ln(e))if(e[Symbol.iterator])i=Array.from(e,(s,o)=>t(s,o,void 0,a&&a[o]));else{const s=Object.keys(e);i=new Array(s.length);for(let o=0,u=s.length;o<u;o++){const c=s[o];i[o]=t(e[c],c,o,a&&a[o])}}else i=[];return n&&(n[r]=i),i}function h9(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(ut(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const a=r.fn(...i);return a&&(a.key=r.key),a}:r.fn)}return e}function Kt(e,t,n={},r,i){if(Ir.isCE||Ir.parent&&L0(Ir.parent)&&Ir.parent.isCE)return t!=="default"&&(n.name=t),Ae("slot",n,r&&r());let a=e[t];a&&a._c&&(a._d=!1),ce();const s=a&&p9(a(n)),o=Je(qt,{key:n.key||s&&s.key||`_${t}`},s||(r?r():[]),s&&e._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),a&&a._c&&(a._d=!0),o}function p9(e){return e.some(t=>Do(t)?!(t.type===Lr||t.type===qt&&!p9(t.children)):!0)?e:null}function g9(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:$u(r)]=e[r];return n}const Av=e=>e?I9(e)?U1(e)||e.proxy:Av(e.parent):null,Ru=tr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Av(e.parent),$root:e=>Av(e.root),$emit:e=>e.emit,$options:e=>f2(e),$forceUpdate:e=>e.f||(e.f=()=>$1(e.update)),$nextTick:e=>e.n||(e.n=Qt.bind(e.proxy)),$watch:e=>SN.bind(e)}),kg=(e,t)=>e!==Tn&&!e.__isScriptSetup&&an(e,t),kv={get({_:e},t){const{ctx:n,setupState:r,data:i,props:a,accessCache:s,type:o,appContext:u}=e;let c;if(t[0]!=="$"){const v=s[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(kg(r,t))return s[t]=1,r[t];if(i!==Tn&&an(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&an(c,t))return s[t]=3,a[t];if(n!==Tn&&an(n,t))return s[t]=4,n[t];Ov&&(s[t]=0)}}const f=Ru[t];let h,p;if(f)return t==="$attrs"&&bi(e,"get",t),f(e);if((h=o.__cssModules)&&(h=h[t]))return h;if(n!==Tn&&an(n,t))return s[t]=4,n[t];if(p=u.config.globalProperties,an(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return kg(i,t)?(i[t]=n,!0):r!==Tn&&an(r,t)?(r[t]=n,!0):an(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a}},s){let o;return!!n[s]||e!==Tn&&an(e,s)||kg(t,s)||(o=a[0])&&an(o,s)||an(r,s)||an(Ru,s)||an(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:an(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},IN=tr({},kv,{get(e,t){if(t!==Symbol.unscopables)return kv.get(e,t,e)},has(e,t){return t[0]!=="_"&&!uO(t)}});let Ov=!0;function LN(e){const t=f2(e),n=e.proxy,r=e.ctx;Ov=!1,t.beforeCreate&&ey(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:o,provide:u,inject:c,created:f,beforeMount:h,mounted:p,beforeUpdate:v,updated:g,activated:b,deactivated:y,beforeDestroy:x,beforeUnmount:_,destroyed:E,unmounted:w,render:M,renderTracked:T,renderTriggered:S,errorCaptured:k,serverPrefetch:L,expose:B,inheritAttrs:H,components:D,directives:R,filters:z}=t;if(c&&BN(c,r,null,e.appContext.config.unwrapInjectedRef),s)for(const N in s){const U=s[N];vt(U)&&(r[N]=U.bind(n))}if(i){const N=i.call(n,n);ln(N)&&(e.data=xr(N))}if(Ov=!0,a)for(const N in a){const U=a[N],Y=vt(U)?U.bind(n,n):vt(U.get)?U.get.bind(n,n):qr,Z=!vt(U)&&vt(U.set)?U.set.bind(n):qr,ge=fe({get:Y,set:Z});Object.defineProperty(r,N,{enumerable:!0,configurable:!0,get:()=>ge.value,set:ie=>ge.value=ie})}if(o)for(const N in o)v9(o[N],r,n,N);if(u){const N=vt(u)?u.call(n):u;Reflect.ownKeys(N).forEach(U=>{$r(U,N[U])})}f&&ey(f,e,"c");function I(N,U){ut(U)?U.forEach(Y=>N(Y.bind(n))):U&&N(U.bind(n))}if(I(o2,h),I(Ln,p),I(o9,v),I(vc,g),I(s2,b),I(H1,y),I(l2,k),I(u9,T),I(c9,S),I(Gr,_),I(Nf,w),I(l9,L),ut(B))if(B.length){const N=e.exposed||(e.exposed={});B.forEach(U=>{Object.defineProperty(N,U,{get:()=>n[U],set:Y=>n[U]=Y})})}else e.exposed||(e.exposed={});M&&e.render===qr&&(e.render=M),H!=null&&(e.inheritAttrs=H),D&&(e.components=D),R&&(e.directives=R)}function BN(e,t,n=qr,r=!1){ut(e)&&(e=Nv(e));for(const i in e){const a=e[i];let s;ln(a)?"default"in a?s=on(a.from||i,a.default,!0):s=on(a.from||i):s=on(a),St(s)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function ey(e,t,n){Ri(ut(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function v9(e,t,n,r){const i=r.includes(".")?r9(n,r):()=>n[r];if(Gt(e)){const a=t[e];vt(a)&&Ze(i,a)}else if(vt(e))Ze(i,e.bind(n));else if(ln(e))if(ut(e))e.forEach(a=>v9(a,t,n,r));else{const a=vt(e.handler)?e.handler.bind(n):t[e.handler];vt(a)&&Ze(i,a,e)}}function f2(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,o=a.get(t);let u;return o?u=o:!i.length&&!n&&!r?u=t:(u={},i.length&&i.forEach(c=>Xh(u,c,s,!0)),Xh(u,t,s)),ln(t)&&a.set(t,u),u}function Xh(e,t,n,r=!1){const{mixins:i,extends:a}=t;a&&Xh(e,a,n,!0),i&&i.forEach(s=>Xh(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const o=$N[s]||n&&n[s];e[s]=o?o(e[s],t[s]):t[s]}return e}const $N={data:ty,props:x0,emits:x0,methods:x0,computed:x0,beforeCreate:ei,created:ei,beforeMount:ei,mounted:ei,beforeUpdate:ei,updated:ei,beforeDestroy:ei,beforeUnmount:ei,destroyed:ei,unmounted:ei,activated:ei,deactivated:ei,errorCaptured:ei,serverPrefetch:ei,components:x0,directives:x0,watch:FN,provide:ty,inject:RN};function ty(e,t){return t?e?function(){return tr(vt(e)?e.call(this,this):e,vt(t)?t.call(this,this):t)}:t:e}function RN(e,t){return x0(Nv(e),Nv(t))}function Nv(e){if(ut(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ei(e,t){return e?[...new Set([].concat(e,t))]:t}function x0(e,t){return e?tr(tr(Object.create(null),e),t):t}function FN(e,t){if(!e)return t;if(!t)return e;const n=tr(Object.create(null),e);for(const r in t)n[r]=ei(e[r],t[r]);return n}function DN(e,t,n,r=!1){const i={},a={};jh(a,V1,1),e.propsDefaults=Object.create(null),m9(e,t,i,a);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:U7(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function HN(e,t,n,r){const{props:i,attrs:a,vnode:{patchFlag:s}}=e,o=Ht(i),[u]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const f=e.vnode.dynamicProps;for(let h=0;h<f.length;h++){let p=f[h];if(R1(e.emitsOptions,p))continue;const v=t[p];if(u)if(an(a,p))v!==a[p]&&(a[p]=v,c=!0);else{const g=pi(p);i[g]=Iv(u,o,g,v,e,!1)}else v!==a[p]&&(a[p]=v,c=!0)}}}else{m9(e,t,i,a)&&(c=!0);let f;for(const h in o)(!t||!an(t,h)&&((f=ta(h))===h||!an(t,f)))&&(u?n&&(n[h]!==void 0||n[f]!==void 0)&&(i[h]=Iv(u,o,h,void 0,e,!0)):delete i[h]);if(a!==o)for(const h in a)(!t||!an(t,h))&&(delete a[h],c=!0)}c&&js(e,"set","$attrs")}function m9(e,t,n,r){const[i,a]=e.propsOptions;let s=!1,o;if(t)for(let u in t){if(Bu(u))continue;const c=t[u];let f;i&&an(i,f=pi(u))?!a||!a.includes(f)?n[f]=c:(o||(o={}))[f]=c:R1(e.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,s=!0)}if(a){const u=Ht(n),c=o||Tn;for(let f=0;f<a.length;f++){const h=a[f];n[h]=Iv(i,u,h,c[h],e,!an(c,h))}}return s}function Iv(e,t,n,r,i,a){const s=e[n];if(s!=null){const o=an(s,"default");if(o&&r===void 0){const u=s.default;if(s.type!==Function&&vt(u)){const{propsDefaults:c}=i;n in c?r=c[n]:(Ho(i),r=c[n]=u.call(null,t),Io())}else r=u}s[0]&&(a&&!o?r=!1:s[1]&&(r===""||r===ta(n))&&(r=!0))}return r}function b9(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const a=e.props,s={},o=[];let u=!1;if(!vt(e)){const f=h=>{u=!0;const[p,v]=b9(h,t,!0);tr(s,p),v&&o.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!a&&!u)return ln(e)&&r.set(e,Ul),Ul;if(ut(a))for(let f=0;f<a.length;f++){const h=pi(a[f]);ny(h)&&(s[h]=Tn)}else if(a)for(const f in a){const h=pi(f);if(ny(h)){const p=a[f],v=s[h]=ut(p)||vt(p)?{type:p}:Object.assign({},p);if(v){const g=ay(Boolean,v.type),b=ay(String,v.type);v[0]=g>-1,v[1]=b<0||g<b,(g>-1||an(v,"default"))&&o.push(h)}}}const c=[s,o];return ln(e)&&r.set(e,c),c}function ny(e){return e[0]!=="$"}function ry(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function iy(e,t){return ry(e)===ry(t)}function ay(e,t){return ut(t)?t.findIndex(n=>iy(n,e)):vt(t)&&iy(t,e)?0:-1}const y9=e=>e[0]==="_"||e==="$stable",d2=e=>ut(e)?e.map($i):[$i(e)],zN=(e,t,n)=>{if(t._n)return t;const r=Re((...i)=>d2(t(...i)),n);return r._c=!1,r},w9=(e,t,n)=>{const r=e._ctx;for(const i in e){if(y9(i))continue;const a=e[i];if(vt(a))t[i]=zN(i,a,r);else if(a!=null){const s=d2(a);t[i]=()=>s}}},_9=(e,t)=>{const n=d2(t);e.slots.default=()=>n},VN=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ht(t),jh(t,"_",n)):w9(t,e.slots={})}else e.slots={},t&&_9(e,t);jh(e.slots,V1,1)},UN=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,s=Tn;if(r.shapeFlag&32){const o=t._;o?n&&o===1?a=!1:(tr(i,t),!n&&o===1&&delete i._):(a=!t.$stable,w9(t,i)),s=t}else t&&(_9(e,t),s={default:1});if(a)for(const o in i)!y9(o)&&!(o in s)&&delete i[o]};function x9(){return{app:null,config:{isNativeTag:yO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let WN=0;function jN(e,t){return function(r,i=null){vt(r)||(r=Object.assign({},r)),i!=null&&!ln(i)&&(i=null);const a=x9(),s=new Set;let o=!1;const u=a.app={_uid:WN++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:g2,get config(){return a.config},set config(c){},use(c,...f){return s.has(c)||(c&&vt(c.install)?(s.add(c),c.install(u,...f)):vt(c)&&(s.add(c),c(u,...f))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,f){return f?(a.components[c]=f,u):a.components[c]},directive(c,f){return f?(a.directives[c]=f,u):a.directives[c]},mount(c,f,h){if(!o){const p=Ae(r,i);return p.appContext=a,f&&t?t(p,c):e(p,c,h),o=!0,u._container=c,c.__vue_app__=u,U1(p.component)||p.component.proxy}},unmount(){o&&(e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return a.provides[c]=f,u}};return u}}function Jh(e,t,n,r,i=!1){if(ut(e)){e.forEach((p,v)=>Jh(p,t&&(ut(t)?t[v]:t),n,r,i));return}if(L0(r)&&!i)return;const a=r.shapeFlag&4?U1(r.component)||r.component.proxy:r.el,s=i?null:a,{i:o,r:u}=e,c=t&&t.r,f=o.refs===Tn?o.refs={}:o.refs,h=o.setupState;if(c!=null&&c!==u&&(Gt(c)?(f[c]=null,an(h,c)&&(h[c]=null)):St(c)&&(c.value=null)),vt(u))zs(u,o,12,[s,f]);else{const p=Gt(u),v=St(u);if(p||v){const g=()=>{if(e.f){const b=p?an(h,u)?h[u]:f[u]:u.value;i?ut(b)&&zm(b,a):ut(b)?b.includes(a)||b.push(a):p?(f[u]=[a],an(h,u)&&(h[u]=f[u])):(u.value=[a],e.k&&(f[e.k]=u.value))}else p?(f[u]=s,an(h,u)&&(h[u]=s)):v&&(u.value=s,e.k&&(f[e.k]=s))};s?(g.id=-1,Or(g,n)):g()}}}let vo=!1;const eh=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",th=e=>e.nodeType===8;function qN(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:a,parentNode:s,remove:o,insert:u,createComment:c}}=e,f=(x,_)=>{if(!_.hasChildNodes()){n(null,x,_),Yh(),_._vnode=x;return}vo=!1,h(_.firstChild,x,null,null,null),Yh(),_._vnode=x,vo&&console.error("Hydration completed but contains mismatches.")},h=(x,_,E,w,M,T=!1)=>{const S=th(x)&&x.data==="[",k=()=>b(x,_,E,w,M,S),{type:L,ref:B,shapeFlag:H,patchFlag:D}=_;let R=x.nodeType;_.el=x,D===-2&&(T=!1,_.dynamicChildren=null);let z=null;switch(L){case qs:R!==3?_.children===""?(u(_.el=i(""),s(x),x),z=x):z=k():(x.data!==_.children&&(vo=!0,x.data=_.children),z=a(x));break;case Lr:R!==8||S?z=k():z=a(x);break;case B0:if(S&&(x=a(x),R=x.nodeType),R===1||R===3){z=x;const j=!_.children.length;for(let I=0;I<_.staticCount;I++)j&&(_.children+=z.nodeType===1?z.outerHTML:z.data),I===_.staticCount-1&&(_.anchor=z),z=a(z);return S?a(z):z}else k();break;case qt:S?z=g(x,_,E,w,M,T):z=k();break;default:if(H&1)R!==1||_.type.toLowerCase()!==x.tagName.toLowerCase()?z=k():z=p(x,_,E,w,M,T);else if(H&6){_.slotScopeIds=M;const j=s(x);if(t(_,j,null,E,w,eh(j),T),z=S?y(x):a(x),z&&th(z)&&z.data==="teleport end"&&(z=a(z)),L0(_)){let I;S?(I=Ae(qt),I.anchor=z?z.previousSibling:j.lastChild):I=x.nodeType===3?gt(""):Ae("div"),I.el=x,_.component.subTree=I}}else H&64?R!==8?z=k():z=_.type.hydrate(x,_,E,w,M,T,e,v):H&128&&(z=_.type.hydrate(x,_,E,w,eh(s(x)),M,T,e,h))}return B!=null&&Jh(B,null,w,_),z},p=(x,_,E,w,M,T)=>{T=T||!!_.dynamicChildren;const{type:S,props:k,patchFlag:L,shapeFlag:B,dirs:H}=_,D=S==="input"&&H||S==="option";if(D||L!==-1){if(H&&Ja(_,null,E,"created"),k)if(D||!T||L&48)for(const z in k)(D&&z.endsWith("value")||Sf(z)&&!Bu(z))&&r(x,z,null,k[z],!1,void 0,E);else k.onClick&&r(x,"onClick",null,k.onClick,!1,void 0,E);let R;if((R=k&&k.onVnodeBeforeMount)&&fi(R,E,_),H&&Ja(_,null,E,"beforeMount"),((R=k&&k.onVnodeMounted)||H)&&e9(()=>{R&&fi(R,E,_),H&&Ja(_,null,E,"mounted")},w),B&16&&!(k&&(k.innerHTML||k.textContent))){let z=v(x.firstChild,_,x,E,w,M,T);for(;z;){vo=!0;const j=z;z=z.nextSibling,o(j)}}else B&8&&x.textContent!==_.children&&(vo=!0,x.textContent=_.children)}return x.nextSibling},v=(x,_,E,w,M,T,S)=>{S=S||!!_.dynamicChildren;const k=_.children,L=k.length;for(let B=0;B<L;B++){const H=S?k[B]:k[B]=$i(k[B]);if(x)x=h(x,H,w,M,T,S);else{if(H.type===qs&&!H.children)continue;vo=!0,n(null,H,E,null,w,M,eh(E),T)}}return x},g=(x,_,E,w,M,T)=>{const{slotScopeIds:S}=_;S&&(M=M?M.concat(S):S);const k=s(x),L=v(a(x),_,k,E,w,M,T);return L&&th(L)&&L.data==="]"?a(_.anchor=L):(vo=!0,u(_.anchor=c("]"),k,L),L)},b=(x,_,E,w,M,T)=>{if(vo=!0,_.el=null,T){const L=y(x);for(;;){const B=a(x);if(B&&B!==L)o(B);else break}}const S=a(x),k=s(x);return o(x),n(null,_,k,S,E,w,eh(k),M),S},y=x=>{let _=0;for(;x;)if(x=a(x),x&&th(x)&&(x.data==="["&&_++,x.data==="]")){if(_===0)return a(x);_--}return x};return[f,h]}const Or=e9;function M9(e){return T9(e)}function C9(e){return T9(e,qN)}function T9(e,t){const n=TO();n.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:s,createText:o,createComment:u,setText:c,setElementText:f,parentNode:h,nextSibling:p,setScopeId:v=qr,insertStaticContent:g}=e,b=(W,X,ae,ee=null,xe=null,Se=null,Ve=!1,Te=null,te=!!X.dynamicChildren)=>{if(W===X)return;W&&!Oa(W,X)&&(ee=nt(W),ie(W,xe,Se,!0),W=null),X.patchFlag===-2&&(te=!1,X.dynamicChildren=null);const{type:se,ref:ke,shapeFlag:Pe}=X;switch(se){case qs:y(W,X,ae,ee);break;case Lr:x(W,X,ae,ee);break;case B0:W==null&&_(X,ae,ee,Ve);break;case qt:D(W,X,ae,ee,xe,Se,Ve,Te,te);break;default:Pe&1?M(W,X,ae,ee,xe,Se,Ve,Te,te):Pe&6?R(W,X,ae,ee,xe,Se,Ve,Te,te):(Pe&64||Pe&128)&&se.process(W,X,ae,ee,xe,Se,Ve,Te,te,at)}ke!=null&&xe&&Jh(ke,W&&W.ref,Se,X||W,!X)},y=(W,X,ae,ee)=>{if(W==null)r(X.el=o(X.children),ae,ee);else{const xe=X.el=W.el;X.children!==W.children&&c(xe,X.children)}},x=(W,X,ae,ee)=>{W==null?r(X.el=u(X.children||""),ae,ee):X.el=W.el},_=(W,X,ae,ee)=>{[W.el,W.anchor]=g(W.children,X,ae,ee,W.el,W.anchor)},E=({el:W,anchor:X},ae,ee)=>{let xe;for(;W&&W!==X;)xe=p(W),r(W,ae,ee),W=xe;r(X,ae,ee)},w=({el:W,anchor:X})=>{let ae;for(;W&&W!==X;)ae=p(W),i(W),W=ae;i(X)},M=(W,X,ae,ee,xe,Se,Ve,Te,te)=>{Ve=Ve||X.type==="svg",W==null?T(X,ae,ee,xe,Se,Ve,Te,te):L(W,X,xe,Se,Ve,Te,te)},T=(W,X,ae,ee,xe,Se,Ve,Te)=>{let te,se;const{type:ke,props:Pe,shapeFlag:oe,transition:$e,dirs:qe}=W;if(te=W.el=s(W.type,Se,Pe&&Pe.is,Pe),oe&8?f(te,W.children):oe&16&&k(W.children,te,null,ee,xe,Se&&ke!=="foreignObject",Ve,Te),qe&&Ja(W,null,ee,"created"),S(te,W,W.scopeId,Ve,ee),Pe){for(const lt in Pe)lt!=="value"&&!Bu(lt)&&a(te,lt,null,Pe[lt],Se,W.children,ee,xe,Be);"value"in Pe&&a(te,"value",null,Pe.value),(se=Pe.onVnodeBeforeMount)&&fi(se,ee,W)}qe&&Ja(W,null,ee,"beforeMount");const et=(!xe||xe&&!xe.pendingBranch)&&$e&&!$e.persisted;et&&$e.beforeEnter(te),r(te,X,ae),((se=Pe&&Pe.onVnodeMounted)||et||qe)&&Or(()=>{se&&fi(se,ee,W),et&&$e.enter(te),qe&&Ja(W,null,ee,"mounted")},xe)},S=(W,X,ae,ee,xe)=>{if(ae&&v(W,ae),ee)for(let Se=0;Se<ee.length;Se++)v(W,ee[Se]);if(xe){let Se=xe.subTree;if(X===Se){const Ve=xe.vnode;S(W,Ve,Ve.scopeId,Ve.slotScopeIds,xe.parent)}}},k=(W,X,ae,ee,xe,Se,Ve,Te,te=0)=>{for(let se=te;se<W.length;se++){const ke=W[se]=Te?Eo(W[se]):$i(W[se]);b(null,ke,X,ae,ee,xe,Se,Ve,Te)}},L=(W,X,ae,ee,xe,Se,Ve)=>{const Te=X.el=W.el;let{patchFlag:te,dynamicChildren:se,dirs:ke}=X;te|=W.patchFlag&16;const Pe=W.props||Tn,oe=X.props||Tn;let $e;ae&&p0(ae,!1),($e=oe.onVnodeBeforeUpdate)&&fi($e,ae,X,W),ke&&Ja(X,W,ae,"beforeUpdate"),ae&&p0(ae,!0);const qe=xe&&X.type!=="foreignObject";if(se?B(W.dynamicChildren,se,Te,ae,ee,qe,Se):Ve||U(W,X,Te,null,ae,ee,qe,Se,!1),te>0){if(te&16)H(Te,X,Pe,oe,ae,ee,xe);else if(te&2&&Pe.class!==oe.class&&a(Te,"class",null,oe.class,xe),te&4&&a(Te,"style",Pe.style,oe.style,xe),te&8){const et=X.dynamicProps;for(let lt=0;lt<et.length;lt++){const wt=et[lt],Et=Pe[wt],Xt=oe[wt];(Xt!==Et||wt==="value")&&a(Te,wt,Et,Xt,xe,W.children,ae,ee,Be)}}te&1&&W.children!==X.children&&f(Te,X.children)}else!Ve&&se==null&&H(Te,X,Pe,oe,ae,ee,xe);(($e=oe.onVnodeUpdated)||ke)&&Or(()=>{$e&&fi($e,ae,X,W),ke&&Ja(X,W,ae,"updated")},ee)},B=(W,X,ae,ee,xe,Se,Ve)=>{for(let Te=0;Te<X.length;Te++){const te=W[Te],se=X[Te],ke=te.el&&(te.type===qt||!Oa(te,se)||te.shapeFlag&70)?h(te.el):ae;b(te,se,ke,null,ee,xe,Se,Ve,!0)}},H=(W,X,ae,ee,xe,Se,Ve)=>{if(ae!==ee){if(ae!==Tn)for(const Te in ae)!Bu(Te)&&!(Te in ee)&&a(W,Te,ae[Te],null,Ve,X.children,xe,Se,Be);for(const Te in ee){if(Bu(Te))continue;const te=ee[Te],se=ae[Te];te!==se&&Te!=="value"&&a(W,Te,se,te,Ve,X.children,xe,Se,Be)}"value"in ee&&a(W,"value",ae.value,ee.value)}},D=(W,X,ae,ee,xe,Se,Ve,Te,te)=>{const se=X.el=W?W.el:o(""),ke=X.anchor=W?W.anchor:o("");let{patchFlag:Pe,dynamicChildren:oe,slotScopeIds:$e}=X;$e&&(Te=Te?Te.concat($e):$e),W==null?(r(se,ae,ee),r(ke,ae,ee),k(X.children,ae,ke,xe,Se,Ve,Te,te)):Pe>0&&Pe&64&&oe&&W.dynamicChildren?(B(W.dynamicChildren,oe,ae,xe,Se,Ve,Te),(X.key!=null||xe&&X===xe.subTree)&&h2(W,X,!0)):U(W,X,ae,ke,xe,Se,Ve,Te,te)},R=(W,X,ae,ee,xe,Se,Ve,Te,te)=>{X.slotScopeIds=Te,W==null?X.shapeFlag&512?xe.ctx.activate(X,ae,ee,Ve,te):z(X,ae,ee,xe,Se,Ve,te):j(W,X,te)},z=(W,X,ae,ee,xe,Se,Ve)=>{const Te=W.component=N9(W,ee,xe);if(Of(W)&&(Te.ctx.renderer=at),L9(Te),Te.asyncDep){if(xe&&xe.registerDep(Te,I),!W.el){const te=Te.subTree=Ae(Lr);x(null,te,X,ae)}return}I(Te,W,X,ae,xe,Se,Ve)},j=(W,X,ae)=>{const ee=X.component=W.component;if(wN(W,X,ae))if(ee.asyncDep&&!ee.asyncResolved){N(ee,X,ae);return}else ee.next=X,hN(ee.update),ee.update();else X.el=W.el,ee.vnode=X},I=(W,X,ae,ee,xe,Se,Ve)=>{const Te=()=>{if(W.isMounted){let{next:ke,bu:Pe,u:oe,parent:$e,vnode:qe}=W,et=ke,lt;p0(W,!1),ke?(ke.el=qe.el,N(W,ke,Ve)):ke=qe,Pe&&jl(Pe),(lt=ke.props&&ke.props.onVnodeBeforeUpdate)&&fi(lt,$e,ke,qe),p0(W,!0);const wt=Bh(W),Et=W.subTree;W.subTree=wt,b(Et,wt,h(Et.el),nt(Et),W,xe,Se),ke.el=wt.el,et===null&&n2(W,wt.el),oe&&Or(oe,xe),(lt=ke.props&&ke.props.onVnodeUpdated)&&Or(()=>fi(lt,$e,ke,qe),xe)}else{let ke;const{el:Pe,props:oe}=X,{bm:$e,m:qe,parent:et}=W,lt=L0(X);if(p0(W,!1),$e&&jl($e),!lt&&(ke=oe&&oe.onVnodeBeforeMount)&&fi(ke,et,X),p0(W,!0),Pe&&Xe){const wt=()=>{W.subTree=Bh(W),Xe(Pe,W.subTree,W,xe,null)};lt?X.type.__asyncLoader().then(()=>!W.isUnmounted&&wt()):wt()}else{const wt=W.subTree=Bh(W);b(null,wt,ae,ee,W,xe,Se),X.el=wt.el}if(qe&&Or(qe,xe),!lt&&(ke=oe&&oe.onVnodeMounted)){const wt=X;Or(()=>fi(ke,et,wt),xe)}(X.shapeFlag&256||et&&L0(et.vnode)&&et.vnode.shapeFlag&256)&&W.a&&Or(W.a,xe),W.isMounted=!0,X=ae=ee=null}},te=W.effect=new Af(Te,()=>$1(se),W.scope),se=W.update=()=>te.run();se.id=W.uid,p0(W,!0),se()},N=(W,X,ae)=>{X.component=W;const ee=W.vnode.props;W.vnode=X,W.next=null,HN(W,X.props,ee,ae),UN(W,X.children,ae),pc(),Y5(),gc()},U=(W,X,ae,ee,xe,Se,Ve,Te,te=!1)=>{const se=W&&W.children,ke=W?W.shapeFlag:0,Pe=X.children,{patchFlag:oe,shapeFlag:$e}=X;if(oe>0){if(oe&128){Z(se,Pe,ae,ee,xe,Se,Ve,Te,te);return}else if(oe&256){Y(se,Pe,ae,ee,xe,Se,Ve,Te,te);return}}$e&8?(ke&16&&Be(se,xe,Se),Pe!==se&&f(ae,Pe)):ke&16?$e&16?Z(se,Pe,ae,ee,xe,Se,Ve,Te,te):Be(se,xe,Se,!0):(ke&8&&f(ae,""),$e&16&&k(Pe,ae,ee,xe,Se,Ve,Te,te))},Y=(W,X,ae,ee,xe,Se,Ve,Te,te)=>{W=W||Ul,X=X||Ul;const se=W.length,ke=X.length,Pe=Math.min(se,ke);let oe;for(oe=0;oe<Pe;oe++){const $e=X[oe]=te?Eo(X[oe]):$i(X[oe]);b(W[oe],$e,ae,null,xe,Se,Ve,Te,te)}se>ke?Be(W,xe,Se,!0,!1,Pe):k(X,ae,ee,xe,Se,Ve,Te,te,Pe)},Z=(W,X,ae,ee,xe,Se,Ve,Te,te)=>{let se=0;const ke=X.length;let Pe=W.length-1,oe=ke-1;for(;se<=Pe&&se<=oe;){const $e=W[se],qe=X[se]=te?Eo(X[se]):$i(X[se]);if(Oa($e,qe))b($e,qe,ae,null,xe,Se,Ve,Te,te);else break;se++}for(;se<=Pe&&se<=oe;){const $e=W[Pe],qe=X[oe]=te?Eo(X[oe]):$i(X[oe]);if(Oa($e,qe))b($e,qe,ae,null,xe,Se,Ve,Te,te);else break;Pe--,oe--}if(se>Pe){if(se<=oe){const $e=oe+1,qe=$e<ke?X[$e].el:ee;for(;se<=oe;)b(null,X[se]=te?Eo(X[se]):$i(X[se]),ae,qe,xe,Se,Ve,Te,te),se++}}else if(se>oe)for(;se<=Pe;)ie(W[se],xe,Se,!0),se++;else{const $e=se,qe=se,et=new Map;for(se=qe;se<=oe;se++){const Ot=X[se]=te?Eo(X[se]):$i(X[se]);Ot.key!=null&&et.set(Ot.key,se)}let lt,wt=0;const Et=oe-qe+1;let Xt=!1,pn=0;const Ft=new Array(Et);for(se=0;se<Et;se++)Ft[se]=0;for(se=$e;se<=Pe;se++){const Ot=W[se];if(wt>=Et){ie(Ot,xe,Se,!0);continue}let Bt;if(Ot.key!=null)Bt=et.get(Ot.key);else for(lt=qe;lt<=oe;lt++)if(Ft[lt-qe]===0&&Oa(Ot,X[lt])){Bt=lt;break}Bt===void 0?ie(Ot,xe,Se,!0):(Ft[Bt-qe]=se+1,Bt>=pn?pn=Bt:Xt=!0,b(Ot,X[Bt],ae,null,xe,Se,Ve,Te,te),wt++)}const Wt=Xt?KN(Ft):Ul;for(lt=Wt.length-1,se=Et-1;se>=0;se--){const Ot=qe+se,Bt=X[Ot],de=Ot+1<ke?X[Ot+1].el:ee;Ft[se]===0?b(null,Bt,ae,de,xe,Se,Ve,Te,te):Xt&&(lt<0||se!==Wt[lt]?ge(Bt,ae,de,2):lt--)}}},ge=(W,X,ae,ee,xe=null)=>{const{el:Se,type:Ve,transition:Te,children:te,shapeFlag:se}=W;if(se&6){ge(W.component.subTree,X,ae,ee);return}if(se&128){W.suspense.move(X,ae,ee);return}if(se&64){Ve.move(W,X,ae,at);return}if(Ve===qt){r(Se,X,ae);for(let Pe=0;Pe<te.length;Pe++)ge(te[Pe],X,ae,ee);r(W.anchor,X,ae);return}if(Ve===B0){E(W,X,ae);return}if(ee!==2&&se&1&&Te)if(ee===0)Te.beforeEnter(Se),r(Se,X,ae),Or(()=>Te.enter(Se),xe);else{const{leave:Pe,delayLeave:oe,afterLeave:$e}=Te,qe=()=>r(Se,X,ae),et=()=>{Pe(Se,()=>{qe(),$e&&$e()})};oe?oe(Se,qe,et):et()}else r(Se,X,ae)},ie=(W,X,ae,ee=!1,xe=!1)=>{const{type:Se,props:Ve,ref:Te,children:te,dynamicChildren:se,shapeFlag:ke,patchFlag:Pe,dirs:oe}=W;if(Te!=null&&Jh(Te,null,ae,W,!0),ke&256){X.ctx.deactivate(W);return}const $e=ke&1&&oe,qe=!L0(W);let et;if(qe&&(et=Ve&&Ve.onVnodeBeforeUnmount)&&fi(et,X,W),ke&6)De(W.component,ae,ee);else{if(ke&128){W.suspense.unmount(ae,ee);return}$e&&Ja(W,null,X,"beforeUnmount"),ke&64?W.type.remove(W,X,ae,xe,at,ee):se&&(Se!==qt||Pe>0&&Pe&64)?Be(se,X,ae,!1,!0):(Se===qt&&Pe&384||!xe&&ke&16)&&Be(te,X,ae),ee&&me(W)}(qe&&(et=Ve&&Ve.onVnodeUnmounted)||$e)&&Or(()=>{et&&fi(et,X,W),$e&&Ja(W,null,X,"unmounted")},ae)},me=W=>{const{type:X,el:ae,anchor:ee,transition:xe}=W;if(X===qt){ve(ae,ee);return}if(X===B0){w(W);return}const Se=()=>{i(ae),xe&&!xe.persisted&&xe.afterLeave&&xe.afterLeave()};if(W.shapeFlag&1&&xe&&!xe.persisted){const{leave:Ve,delayLeave:Te}=xe,te=()=>Ve(ae,Se);Te?Te(W.el,Se,te):te()}else Se()},ve=(W,X)=>{let ae;for(;W!==X;)ae=p(W),i(W),W=ae;i(X)},De=(W,X,ae)=>{const{bum:ee,scope:xe,update:Se,subTree:Ve,um:Te}=W;ee&&jl(ee),xe.stop(),Se&&(Se.active=!1,ie(Ve,W,X,ae)),Te&&Or(Te,X),Or(()=>{W.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&W.asyncDep&&!W.asyncResolved&&W.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},Be=(W,X,ae,ee=!1,xe=!1,Se=0)=>{for(let Ve=Se;Ve<W.length;Ve++)ie(W[Ve],X,ae,ee,xe)},nt=W=>W.shapeFlag&6?nt(W.component.subTree):W.shapeFlag&128?W.suspense.next():p(W.anchor||W.el),Me=(W,X,ae)=>{W==null?X._vnode&&ie(X._vnode,null,null,!0):b(X._vnode||null,W,X,null,null,null,ae),Y5(),Yh(),X._vnode=W},at={p:b,um:ie,m:ge,r:me,mt:z,mc:k,pc:U,pbc:B,n:nt,o:e};let Ue,Xe;return t&&([Ue,Xe]=t(at)),{render:Me,hydrate:Ue,createApp:jN(Me,Ue)}}function p0({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function h2(e,t,n=!1){const r=e.children,i=t.children;if(ut(r)&&ut(i))for(let a=0;a<r.length;a++){const s=r[a];let o=i[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[a]=Eo(i[a]),o.el=s.el),n||h2(s,o)),o.type===qs&&(o.el=s.el)}}function KN(e){const t=e.slice(),n=[0];let r,i,a,s,o;const u=e.length;for(r=0;r<u;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(a=0,s=n.length-1;a<s;)o=a+s>>1,e[n[o]]<c?a=o+1:s=o;c<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,s=n[a-1];a-- >0;)n[a]=s,s=t[s];return n}const GN=e=>e.__isTeleport,Fu=e=>e&&(e.disabled||e.disabled===""),sy=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Lv=(e,t)=>{const n=e&&e.to;return Gt(n)?t?t(n):null:n},YN={__isTeleport:!0,process(e,t,n,r,i,a,s,o,u,c){const{mc:f,pc:h,pbc:p,o:{insert:v,querySelector:g,createText:b,createComment:y}}=c,x=Fu(t.props);let{shapeFlag:_,children:E,dynamicChildren:w}=t;if(e==null){const M=t.el=b(""),T=t.anchor=b("");v(M,n,r),v(T,n,r);const S=t.target=Lv(t.props,g),k=t.targetAnchor=b("");S&&(v(k,S),s=s||sy(S));const L=(B,H)=>{_&16&&f(E,B,H,i,a,s,o,u)};x?L(n,T):S&&L(S,k)}else{t.el=e.el;const M=t.anchor=e.anchor,T=t.target=e.target,S=t.targetAnchor=e.targetAnchor,k=Fu(e.props),L=k?n:T,B=k?M:S;if(s=s||sy(T),w?(p(e.dynamicChildren,w,L,i,a,s,o),h2(e,t,!0)):u||h(e,t,L,B,i,a,s,o,!1),x)k||nh(t,n,M,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const H=t.target=Lv(t.props,g);H&&nh(t,H,null,c,0)}else k&&nh(t,T,S,c,1)}S9(t)},remove(e,t,n,r,{um:i,o:{remove:a}},s){const{shapeFlag:o,children:u,anchor:c,targetAnchor:f,target:h,props:p}=e;if(h&&a(f),(s||!Fu(p))&&(a(c),o&16))for(let v=0;v<u.length;v++){const g=u[v];i(g,t,n,!0,!!g.dynamicChildren)}},move:nh,hydrate:XN};function nh(e,t,n,{o:{insert:r},m:i},a=2){a===0&&r(e.targetAnchor,t,n);const{el:s,anchor:o,shapeFlag:u,children:c,props:f}=e,h=a===2;if(h&&r(s,t,n),(!h||Fu(f))&&u&16)for(let p=0;p<c.length;p++)i(c[p],t,n,2);h&&r(o,t,n)}function XN(e,t,n,r,i,a,{o:{nextSibling:s,parentNode:o,querySelector:u}},c){const f=t.target=Lv(t.props,u);if(f){const h=f._lpa||f.firstChild;if(t.shapeFlag&16)if(Fu(t.props))t.anchor=c(s(e),t,o(e),n,r,i,a),t.targetAnchor=h;else{t.anchor=s(e);let p=h;for(;p;)if(p=s(p),p&&p.nodeType===8&&p.data==="teleport anchor"){t.targetAnchor=p,f._lpa=t.targetAnchor&&s(t.targetAnchor);break}c(h,t,f,n,r,i,a)}S9(t)}return t.anchor&&s(t.anchor)}const E9=YN;function S9(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const qt=Symbol(void 0),qs=Symbol(void 0),Lr=Symbol(void 0),B0=Symbol(void 0),Du=[];let hi=null;function ce(e=!1){Du.push(hi=e?null:[])}function P9(){Du.pop(),hi=Du[Du.length-1]||null}let U0=1;function Bv(e){U0+=e}function A9(e){return e.dynamicChildren=U0>0?hi||Ul:null,P9(),U0>0&&hi&&hi.push(e),e}function je(e,t,n,r,i,a){return A9(pe(e,t,n,r,i,a,!0))}function Je(e,t,n,r,i){return A9(Ae(e,t,n,r,i,!0))}function Do(e){return e?e.__v_isVNode===!0:!1}function Oa(e,t){return e.type===t.type&&e.key===t.key}function JN(e){}const V1="__vInternal",k9=({key:e})=>e??null,$h=({ref:e,ref_key:t,ref_for:n})=>e!=null?Gt(e)||St(e)||vt(e)?{i:Ir,r:e,k:t,f:!!n}:e:null;function pe(e,t=null,n=null,r=0,i=null,a=e===qt?0:1,s=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&k9(t),ref:t&&$h(t),scopeId:F1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ir};return o?(p2(u,n),a&128&&e.normalize(u)):n&&(u.shapeFlag|=Gt(n)?8:16),U0>0&&!s&&hi&&(u.patchFlag>0||a&6)&&u.patchFlag!==32&&hi.push(u),u}const Ae=QN;function QN(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===f9)&&(e=Lr),Do(e)){const o=La(e,t,!0);return n&&p2(o,n),U0>0&&!a&&hi&&(o.shapeFlag&6?hi[hi.indexOf(e)]=o:hi.push(o)),o.patchFlag|=-2,o}if(sI(e)&&(e=e.__vccOpts),t){t=O9(t);let{class:o,style:u}=t;o&&!Gt(o)&&(t.class=We(o)),ln(u)&&(Gm(u)&&!ut(u)&&(u=tr({},u)),t.style=Pn(u))}const s=Gt(e)?1:Q7(e)?128:GN(e)?64:ln(e)?4:vt(e)?2:0;return pe(e,t,n,r,i,s,a,!0)}function O9(e){return e?Gm(e)||V1 in e?tr({},e):e:null}function La(e,t,n=!1){const{props:r,ref:i,patchFlag:a,children:s}=e,o=t?ra(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&k9(o),ref:t&&t.ref?n&&i?ut(i)?i.concat($h(t)):[i,$h(t)]:$h(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==qt?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&La(e.ssContent),ssFallback:e.ssFallback&&La(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function gt(e=" ",t=0){return Ae(qs,null,e,t)}function ZN(e,t){const n=Ae(B0,null,e);return n.staticCount=t,n}function st(e="",t=!1){return t?(ce(),Je(Lr,null,e)):Ae(Lr,null,e)}function $i(e){return e==null||typeof e=="boolean"?Ae(Lr):ut(e)?Ae(qt,null,e.slice()):typeof e=="object"?Eo(e):Ae(qs,null,String(e))}function Eo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:La(e)}function p2(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ut(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),p2(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(V1 in t)?t._ctx=Ir:i===3&&Ir&&(Ir.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else vt(t)?(t={default:t,_ctx:Ir},n=32):(t=String(t),r&64?(n=16,t=[gt(t)]):n=8);e.children=t,e.shapeFlag|=n}function ra(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=We([t.class,r.class]));else if(i==="style")t.style=Pn([t.style,r.style]);else if(Sf(i)){const a=t[i],s=r[i];s&&a!==s&&!(ut(a)&&a.includes(s))&&(t[i]=a?[].concat(a,s):s)}else i!==""&&(t[i]=r[i])}return t}function fi(e,t,n,r=null){Ri(e,t,7,[n,r])}const eI=x9();let tI=0;function N9(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||eI,a={uid:tI++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Um(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:b9(r,i),emitsOptions:J7(r,i),emit:null,emitted:null,propsDefaults:Tn,inheritAttrs:r.inheritAttrs,ctx:Tn,data:Tn,props:Tn,attrs:Tn,slots:Tn,refs:Tn,setupState:Tn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=gN.bind(null,a),e.ce&&e.ce(a),a}let Zn=null;const Yn=()=>Zn||Ir,Ho=e=>{Zn=e,e.scope.on()},Io=()=>{Zn&&Zn.scope.off(),Zn=null};function I9(e){return e.vnode.shapeFlag&4}let ec=!1;function L9(e,t=!1){ec=t;const{props:n,children:r}=e.vnode,i=I9(e);DN(e,n,i,t),VN(e,r);const a=i?nI(e,t):void 0;return ec=!1,a}function nI(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=z0(new Proxy(e.ctx,kv));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?$9(e):null;Ho(e),pc();const a=zs(r,e,0,[e.props,i]);if(gc(),Io(),af(a)){if(a.then(Io,Io),t)return a.then(s=>{$v(e,s,t)}).catch(s=>{Y0(s,e,0)});e.asyncDep=a}else $v(e,a,t)}else B9(e,t)}function $v(e,t,n){vt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ln(t)&&(e.setupState=Jm(t)),B9(e,n)}let Qh,Rv;function rI(e){Qh=e,Rv=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,IN))}}const iI=()=>!Qh;function B9(e,t,n){const r=e.type;if(!e.render){if(!t&&Qh&&!r.render){const i=r.template||f2(e).template;if(i){const{isCustomElement:a,compilerOptions:s}=e.appContext.config,{delimiters:o,compilerOptions:u}=r,c=tr(tr({isCustomElement:a,delimiters:o},s),u);r.render=Qh(i,c)}}e.render=r.render||qr,Rv&&Rv(e)}Ho(e),pc(),LN(e),gc(),Io()}function aI(e){return new Proxy(e.attrs,{get(t,n){return bi(e,"get","$attrs"),t[n]}})}function $9(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=aI(e))},slots:e.slots,emit:e.emit,expose:t}}function U1(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Jm(z0(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ru)return Ru[n](e)},has(t,n){return n in t||n in Ru}}))}function Fv(e,t=!0){return vt(e)?e.displayName||e.name:e.name||t&&e.__name}function sI(e){return vt(e)&&"__vccOpts"in e}const fe=(e,t)=>cN(e,t,ec);function oI(){return null}function lI(){return null}function cI(e){}function uI(e,t){return null}function W1(){return F9().slots}function R9(){return F9().attrs}function F9(){const e=Yn();return e.setupContext||(e.setupContext=$9(e))}function fI(e,t){const n=ut(e)?e.reduce((r,i)=>(r[i]={},r),{}):e;for(const r in t){const i=n[r];i?ut(i)||vt(i)?n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(n[r]={default:t[r]})}return n}function dI(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function hI(e){const t=Yn();let n=e();return Io(),af(n)&&(n=n.catch(r=>{throw Ho(t),r})),[n,()=>Ho(t)]}function j1(e,t,n){const r=arguments.length;return r===2?ln(t)&&!ut(t)?Do(t)?Ae(e,null,[t]):Ae(e,t):Ae(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Do(n)&&(n=[n]),Ae(e,t,n))}const D9=Symbol(""),H9=()=>on(D9);function pI(){}function gI(e,t,n,r){const i=n[r];if(i&&z9(i,e))return i;const a=t();return a.memo=e.slice(),n[r]=a}function z9(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(Ql(n[r],t[r]))return!1;return U0>0&&hi&&hi.push(e),!0}const g2="3.2.47",vI={createComponentInstance:N9,setupComponent:L9,renderComponentRoot:Bh,setCurrentRenderingInstance:uf,isVNode:Do,normalizeVNode:$i},mI=vI,bI=null,yI=null,wI="http://www.w3.org/2000/svg",S0=typeof document<"u"?document:null,oy=S0&&S0.createElement("template"),_I={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?S0.createElementNS(wI,e):S0.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>S0.createTextNode(e),createComment:e=>S0.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>S0.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,a){const s=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{oy.innerHTML=r?`<svg>${e}</svg>`:e;const o=oy.content;if(r){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}t.insertBefore(o,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function xI(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function MI(e,t,n){const r=e.style,i=Gt(n);if(n&&!i){if(t&&!Gt(t))for(const a in t)n[a]==null&&Dv(r,a,"");for(const a in n)Dv(r,a,n[a])}else{const a=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=a)}}const ly=/\s*!important$/;function Dv(e,t,n){if(ut(n))n.forEach(r=>Dv(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=CI(e,t);ly.test(n)?e.setProperty(ta(r),n.replace(ly,""),"important"):e[r]=n}}const cy=["Webkit","Moz","ms"],Og={};function CI(e,t){const n=Og[t];if(n)return n;let r=pi(t);if(r!=="filter"&&r in e)return Og[t]=r;r=Pf(r);for(let i=0;i<cy.length;i++){const a=cy[i]+r;if(a in e)return Og[t]=a}return t}const uy="http://www.w3.org/1999/xlink";function TI(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(uy,t.slice(6,t.length)):e.setAttributeNS(uy,t,n);else{const a=mO(t);n==null||a&&!E7(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function EI(e,t,n,r,i,a,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,a),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n??"";(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let o=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=E7(n):n==null&&u==="string"?(n="",o=!0):u==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(t)}function Hs(e,t,n,r){e.addEventListener(t,n,r)}function SI(e,t,n,r){e.removeEventListener(t,n,r)}function PI(e,t,n,r,i=null){const a=e._vei||(e._vei={}),s=a[t];if(r&&s)s.value=r;else{const[o,u]=AI(t);if(r){const c=a[t]=NI(r,i);Hs(e,o,c,u)}else s&&(SI(e,o,s,u),a[t]=void 0)}}const fy=/(?:Once|Passive|Capture)$/;function AI(e){let t;if(fy.test(e)){t={};let r;for(;r=e.match(fy);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ta(e.slice(2)),t]}let Ng=0;const kI=Promise.resolve(),OI=()=>Ng||(kI.then(()=>Ng=0),Ng=Date.now());function NI(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ri(II(r,n.value),t,5,[r])};return n.value=e,n.attached=OI(),n}function II(e,t){if(ut(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const dy=/^on[a-z]/,LI=(e,t,n,r,i=!1,a,s,o,u)=>{t==="class"?xI(e,r,i):t==="style"?MI(e,n,r):Sf(t)?Hm(t)||PI(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):BI(e,t,r,i))?EI(e,t,r,a,s,o,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),TI(e,t,r,i))};function BI(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&dy.test(t)&&vt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||dy.test(t)&&Gt(n)?!1:t in e}function V9(e,t){const n=pt(e);class r extends q1{constructor(a){super(n,a,t)}}return r.def=n,r}const $I=e=>V9(e,rw),RI=typeof HTMLElement<"u"?HTMLElement:class{};class q1 extends RI{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Qt(()=>{this._connected||(Vv(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const t=(r,i=!1)=>{const{props:a,styles:s}=r;let o;if(a&&!ut(a))for(const u in a){const c=a[u];(c===Number||c&&c.type===Number)&&(u in this._props&&(this._props[u]=Kh(this._props[u])),(o||(o=Object.create(null)))[pi(u)]=!0)}this._numberProps=o,i&&this._resolveProps(r),this._applyStyles(s),this._update()},n=this._def.__asyncLoader;n?n().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,r=ut(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(pi))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(a){this._setProp(i,a)}})}_setAttr(t){let n=this.getAttribute(t);const r=pi(t);this._numberProps&&this._numberProps[r]&&(n=Kh(n)),this._setProp(r,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(ta(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(ta(t),n+""):n||this.removeAttribute(ta(t))))}_update(){Vv(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Ae(this._def,tr({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const r=(a,s)=>{this.dispatchEvent(new CustomEvent(a,{detail:s}))};n.emit=(a,...s)=>{r(a,s),ta(a)!==a&&r(ta(a),s)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof q1){n.parent=i._instance,n.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function FI(e="$style"){{const t=Yn();if(!t)return Tn;const n=t.type.__cssModules;if(!n)return Tn;const r=n[e];return r||Tn}}function DI(e){const t=Yn();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(a=>zv(a,i))},r=()=>{const i=e(t.proxy);Hv(t.subTree,i),n(i)};n9(r),Ln(()=>{const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),Nf(()=>i.disconnect())})}function Hv(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Hv(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)zv(e.el,t);else if(e.type===qt)e.children.forEach(n=>Hv(n,t));else if(e.type===B0){let{el:n,anchor:r}=e;for(;n&&(zv(n,t),n!==r);)n=n.nextSibling}}function zv(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const mo="transition",fu="animation",ss=(e,{slots:t})=>j1(a2,W9(e),t);ss.displayName="Transition";const U9={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},HI=ss.props=tr({},a2.props,U9),g0=(e,t=[])=>{ut(e)?e.forEach(n=>n(...t)):e&&e(...t)},hy=e=>e?ut(e)?e.some(t=>t.length>1):e.length>1:!1;function W9(e){const t={};for(const D in e)D in U9||(t[D]=e[D]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:u=a,appearActiveClass:c=s,appearToClass:f=o,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,g=zI(i),b=g&&g[0],y=g&&g[1],{onBeforeEnter:x,onEnter:_,onEnterCancelled:E,onLeave:w,onLeaveCancelled:M,onBeforeAppear:T=x,onAppear:S=_,onAppearCancelled:k=E}=t,L=(D,R,z)=>{wo(D,R?f:o),wo(D,R?c:s),z&&z()},B=(D,R)=>{D._isLeaving=!1,wo(D,h),wo(D,v),wo(D,p),R&&R()},H=D=>(R,z)=>{const j=D?S:_,I=()=>L(R,D,z);g0(j,[R,I]),py(()=>{wo(R,D?u:a),Bs(R,D?f:o),hy(j)||gy(R,r,b,I)})};return tr(t,{onBeforeEnter(D){g0(x,[D]),Bs(D,a),Bs(D,s)},onBeforeAppear(D){g0(T,[D]),Bs(D,u),Bs(D,c)},onEnter:H(!1),onAppear:H(!0),onLeave(D,R){D._isLeaving=!0;const z=()=>B(D,R);Bs(D,h),q9(),Bs(D,p),py(()=>{D._isLeaving&&(wo(D,h),Bs(D,v),hy(w)||gy(D,r,y,z))}),g0(w,[D,z])},onEnterCancelled(D){L(D,!1),g0(E,[D])},onAppearCancelled(D){L(D,!0),g0(k,[D])},onLeaveCancelled(D){B(D),g0(M,[D])}})}function zI(e){if(e==null)return null;if(ln(e))return[Ig(e.enter),Ig(e.leave)];{const t=Ig(e);return[t,t]}}function Ig(e){return Kh(e)}function Bs(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function wo(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function py(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let VI=0;function gy(e,t,n,r){const i=e._endId=++VI,a=()=>{i===e._endId&&r()};if(n)return setTimeout(a,n);const{type:s,timeout:o,propCount:u}=j9(e,t);if(!s)return r();const c=s+"end";let f=0;const h=()=>{e.removeEventListener(c,p),a()},p=v=>{v.target===e&&++f>=u&&h()};setTimeout(()=>{f<u&&h()},o+1),e.addEventListener(c,p)}function j9(e,t){const n=window.getComputedStyle(e),r=g=>(n[g]||"").split(", "),i=r(`${mo}Delay`),a=r(`${mo}Duration`),s=vy(i,a),o=r(`${fu}Delay`),u=r(`${fu}Duration`),c=vy(o,u);let f=null,h=0,p=0;t===mo?s>0&&(f=mo,h=s,p=a.length):t===fu?c>0&&(f=fu,h=c,p=u.length):(h=Math.max(s,c),f=h>0?s>c?mo:fu:null,p=f?f===mo?a.length:u.length:0);const v=f===mo&&/\b(transform|all)(,|$)/.test(r(`${mo}Property`).toString());return{type:f,timeout:h,propCount:p,hasTransform:v}}function vy(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>my(n)+my(e[r])))}function my(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function q9(){return document.body.offsetHeight}const K9=new WeakMap,G9=new WeakMap,Y9={name:"TransitionGroup",props:tr({},HI,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Yn(),r=i2();let i,a;return vc(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!GI(i[0].el,n.vnode.el,s))return;i.forEach(jI),i.forEach(qI);const o=i.filter(KI);q9(),o.forEach(u=>{const c=u.el,f=c.style;Bs(c,s),f.transform=f.webkitTransform=f.transitionDuration="";const h=c._moveCb=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",h),c._moveCb=null,wo(c,s))};c.addEventListener("transitionend",h)})}),()=>{const s=Ht(e),o=W9(s);let u=s.tag||qt;i=a,a=t.default?D1(t.default()):[];for(let c=0;c<a.length;c++){const f=a[c];f.key!=null&&V0(f,Zl(f,o,r,n))}if(i)for(let c=0;c<i.length;c++){const f=i[c];V0(f,Zl(f,o,r,n)),K9.set(f,f.el.getBoundingClientRect())}return Ae(u,null,a)}}},UI=e=>delete e.mode;Y9.props;const WI=Y9;function jI(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function qI(e){G9.set(e,e.el.getBoundingClientRect())}function KI(e){const t=K9.get(e),n=G9.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${i}px)`,a.transitionDuration="0s",e}}function GI(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(s=>{s.split(/\s+/).forEach(o=>o&&r.classList.remove(o))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:a}=j9(r);return i.removeChild(r),a}const zo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ut(t)?n=>jl(t,n):t};function YI(e){e.target.composing=!0}function by(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const df={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=zo(i);const a=r||i.props&&i.props.type==="number";Hs(e,t?"change":"input",s=>{if(s.target.composing)return;let o=e.value;n&&(o=o.trim()),a&&(o=qh(o)),e._assign(o)}),n&&Hs(e,"change",()=>{e.value=e.value.trim()}),t||(Hs(e,"compositionstart",YI),Hs(e,"compositionend",by),Hs(e,"change",by))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},a){if(e._assign=zo(a),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&qh(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},v2={deep:!0,created(e,t,n){e._assign=zo(n),Hs(e,"change",()=>{const r=e._modelValue,i=tc(e),a=e.checked,s=e._assign;if(ut(r)){const o=S1(r,i),u=o!==-1;if(a&&!u)s(r.concat(i));else if(!a&&u){const c=[...r];c.splice(o,1),s(c)}}else if(G0(r)){const o=new Set(r);a?o.add(i):o.delete(i),s(o)}else s(J9(e,a))})},mounted:yy,beforeUpdate(e,t,n){e._assign=zo(n),yy(e,t,n)}};function yy(e,{value:t,oldValue:n},r){e._modelValue=t,ut(t)?e.checked=S1(t,r.props.value)>-1:G0(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Bo(t,J9(e,!0)))}const m2={created(e,{value:t},n){e.checked=Bo(t,n.props.value),e._assign=zo(n),Hs(e,"change",()=>{e._assign(tc(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=zo(r),t!==n&&(e.checked=Bo(t,r.props.value))}},X9={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=G0(t);Hs(e,"change",()=>{const a=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?qh(tc(s)):tc(s));e._assign(e.multiple?i?new Set(a):a:a[0])}),e._assign=zo(r)},mounted(e,{value:t}){wy(e,t)},beforeUpdate(e,t,n){e._assign=zo(n)},updated(e,{value:t}){wy(e,t)}};function wy(e,t){const n=e.multiple;if(!(n&&!ut(t)&&!G0(t))){for(let r=0,i=e.options.length;r<i;r++){const a=e.options[r],s=tc(a);if(n)ut(t)?a.selected=S1(t,s)>-1:a.selected=t.has(s);else if(Bo(tc(a),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function tc(e){return"_value"in e?e._value:e.value}function J9(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Q9={created(e,t,n){rh(e,t,n,null,"created")},mounted(e,t,n){rh(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){rh(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){rh(e,t,n,r,"updated")}};function Z9(e,t){switch(e){case"SELECT":return X9;case"TEXTAREA":return df;default:switch(t){case"checkbox":return v2;case"radio":return m2;default:return df}}}function rh(e,t,n,r,i){const s=Z9(e.tagName,n.props&&n.props.type)[i];s&&s(e,t,n,r)}function XI(){df.getSSRProps=({value:e})=>({value:e}),m2.getSSRProps=({value:e},t)=>{if(t.props&&Bo(t.props.value,e))return{checked:!0}},v2.getSSRProps=({value:e},t)=>{if(ut(e)){if(t.props&&S1(e,t.props.value)>-1)return{checked:!0}}else if(G0(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Q9.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=Z9(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const JI=["ctrl","shift","alt","meta"],QI={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>JI.some(n=>e[`${n}Key`]&&!t.includes(n))},Sr=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const a=QI[t[i]];if(a&&a(n,t))return}return e(n,...r)},ZI={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Er=(e,t)=>n=>{if(!("key"in n))return;const r=ta(n.key);if(t.some(i=>i===r||ZI[i]===r))return e(n)},us={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):du(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),du(e,!0),r.enter(e)):r.leave(e,()=>{du(e,!1)}):du(e,t))},beforeUnmount(e,{value:t}){du(e,t)}};function du(e,t){e.style.display=t?e._vod:"none"}function eL(){us.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const ew=tr({patchProp:LI},_I);let Hu,_y=!1;function tw(){return Hu||(Hu=M9(ew))}function nw(){return Hu=_y?Hu:C9(ew),_y=!0,Hu}const Vv=(...e)=>{tw().render(...e)},rw=(...e)=>{nw().hydrate(...e)},iw=(...e)=>{const t=tw().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=sw(r);if(!i)return;const a=t._component;!vt(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t},aw=(...e)=>{const t=nw().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=sw(r);if(i)return n(i,!0,i instanceof SVGElement)},t};function sw(e){return Gt(e)?document.querySelector(e):e}let xy=!1;const tL=()=>{xy||(xy=!0,XI(),eL())},nL=()=>{},rL=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:a2,Comment:Lr,EffectScope:Um,Fragment:qt,KeepAlive:kN,ReactiveEffect:Af,Static:B0,Suspense:Z7,Teleport:E9,Text:qs,Transition:ss,TransitionGroup:WI,VueElement:q1,assertNumber:uN,callWithAsyncErrorHandling:Ri,callWithErrorHandling:zs,camelize:pi,capitalize:Pf,cloneVNode:La,compatUtils:yI,compile:nL,computed:fe,createApp:iw,createBlock:Je,createCommentVNode:st,createElementBlock:je,createElementVNode:pe,createHydrationRenderer:C9,createPropsRestProxy:dI,createRenderer:M9,createSSRApp:aw,createSlots:h9,createStaticVNode:ZN,createTextVNode:gt,createVNode:Ae,customRef:sN,defineAsyncComponent:a9,defineComponent:pt,defineCustomElement:V9,defineEmits:lI,defineExpose:cI,defineProps:oI,defineSSRCustomElement:$I,get devtools(){return Fl},effect:PO,effectScope:Wm,getCurrentInstance:Yn,getCurrentScope:A1,getTransitionRawChildren:D1,guardReactiveProps:O9,h:j1,handleError:Y0,hydrate:rw,initCustomFormatter:pI,initDirectivesForSSR:tL,inject:on,isMemoSame:z9,isProxy:Gm,isReactive:ns,isReadonly:Ro,isRef:St,isRuntimeOnly:iI,isShallow:sf,isVNode:Do,markRaw:z0,mergeDefaults:fI,mergeProps:ra,nextTick:Qt,normalizeClass:We,normalizeProps:gO,normalizeStyle:Pn,onActivated:s2,onBeforeMount:o2,onBeforeUnmount:Gr,onBeforeUpdate:o9,onDeactivated:H1,onErrorCaptured:l2,onMounted:Ln,onRenderTracked:u9,onRenderTriggered:c9,onScopeDispose:jm,onServerPrefetch:l9,onUnmounted:Nf,onUpdated:vc,openBlock:ce,popScopeId:t2,provide:$r,proxyRefs:Jm,pushScopeId:e2,queuePostFlushCb:Zm,reactive:xr,readonly:I1,ref:He,registerRuntimeCompiler:rI,render:Vv,renderList:di,renderSlot:Kt,resolveComponent:Ls,resolveDirective:d9,resolveDynamicComponent:jr,resolveFilter:bI,resolveTransitionHooks:Zl,setBlockTracking:Bv,setDevtoolsHook:X7,setTransitionHooks:V0,shallowReactive:U7,shallowReadonly:nN,shallowRef:No,ssrContextKey:D9,ssrUtils:mI,stop:AO,toDisplayString:Rn,toHandlerKey:$u,toHandlers:g9,toRaw:Ht,toRef:Wr,toRefs:Fo,transformVNodeArgs:JN,triggerRef:Rl,unref:P,useAttrs:R9,useCssModule:FI,useCssVars:DI,useSSRContext:H9,useSlots:W1,useTransitionState:i2,vModelCheckbox:v2,vModelDynamic:Q9,vModelRadio:m2,vModelSelect:X9,vModelText:df,vShow:us,version:g2,warn:q7,watch:Ze,watchEffect:t9,watchPostEffect:n9,watchSyncEffect:EN,withAsyncContext:hI,withCtx:Re,withDefaults:uI,withDirectives:gi,withKeys:Er,withMemo:gI,withModifiers:Sr,withScopeId:vN},Symbol.toStringTag,{value:"Module"})),iL=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,aL=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,sL=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function oL(e,t){if(e!=="__proto__"&&!(e==="constructor"&&t&&typeof t=="object"&&"prototype"in t))return t}function lL(e,t={}){if(typeof e!="string")return e;const n=e.toLowerCase().trim();if(n==="true")return!0;if(n==="false")return!1;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n!=="undefined"){if(!sL.test(e)){if(t.strict)throw new SyntaxError("Invalid JSON");return e}try{return iL.test(e)||aL.test(e)?JSON.parse(e,oL):JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}}const cL=/#/g,uL=/&/g,fL=/=/g,ow=/\+/g,dL=/%5e/gi,hL=/%60/gi,pL=/%7c/gi,gL=/%20/gi;function vL(e){return encodeURI(""+e).replace(pL,"|")}function Uv(e){return vL(typeof e=="string"?e:JSON.stringify(e)).replace(ow,"%2B").replace(gL,"+").replace(cL,"%23").replace(uL,"%26").replace(hL,"`").replace(dL,"^")}function Lg(e){return Uv(e).replace(fL,"%3D")}function Zh(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function mL(e){return Zh(e.replace(ow," "))}function lw(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const n of e.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=Zh(r[1]);if(i==="__proto__"||i==="constructor")continue;const a=mL(r[2]||"");typeof t[i]<"u"?Array.isArray(t[i])?t[i].push(a):t[i]=[t[i],a]:t[i]=a}return t}function bL(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${Lg(e)}=${Uv(n)}`).join("&"):`${Lg(e)}=${Uv(t)}`:Lg(e)}function cw(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>bL(t,e[t])).join("&")}const yL=/^\w{2,}:([/\\]{1,2})/,wL=/^\w{2,}:([/\\]{2})?/,_L=/^([/\\]\s*){2,}[^/\\]/;function b2(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?yL.test(e):wL.test(e)||(t.acceptRelative?_L.test(e):!1)}const xL=/\/$|\/\?/;function Wv(e="",t=!1){return t?xL.test(e):e.endsWith("/")}function uw(e="",t=!1){if(!t)return(Wv(e)?e.slice(0,-1):e)||"/";if(!Wv(e,!0))return e||"/";const[n,...r]=e.split("?");return(n.slice(0,-1)||"/")+(r.length>0?`?${r.join("?")}`:"")}function jv(e="",t=!1){if(!t)return e.endsWith("/")?e:e+"/";if(Wv(e,!0))return e||"/";const[n,...r]=e.split("?");return n+"/"+(r.length>0?`?${r.join("?")}`:"")}function fw(e=""){return e.startsWith("/")}function ML(e=""){return(fw(e)?e.slice(1):e)||"/"}function My(e=""){return fw(e)?e:"/"+e}function CL(e,t){if(dw(t)||b2(e))return e;const n=uw(t);return e.startsWith(n)?e:If(n,e)}function TL(e,t){if(dw(t))return e;const n=uw(t);if(!e.startsWith(n))return e;const r=e.slice(n.length);return r[0]==="/"?r:"/"+r}function EL(e,t){const n=K1(e),r={...lw(n.search),...t};return n.search=cw(r),hw(n)}function dw(e){return!e||e==="/"}function SL(e){return e&&e!=="/"}function If(e,...t){let n=e||"";for(const r of t.filter(i=>SL(i)))n=n?jv(n)+ML(r):r;return n}function PL(e,t,n={}){return n.trailingSlash||(e=jv(e),t=jv(t)),n.leadingSlash||(e=My(e),t=My(t)),n.encoding||(e=Zh(e),t=Zh(t)),e===t}function K1(e="",t){if(!b2(e,{acceptRelative:!0}))return t?K1(t+e):Cy(e);const[n="",r,i=""]=(e.replace(/\\/g,"/").match(/([^/:]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[a="",s=""]=(i.match(/([^#/?]*)(.*)?/)||[]).splice(1),{pathname:o,search:u,hash:c}=Cy(s.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:n,auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:a,pathname:o,search:u,hash:c}}function Cy(e=""){const[t="",n="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:r}}function hw(e){const t=e.pathname+(e.search?(e.search.startsWith("?")?"":"?")+e.search:"")+e.hash;return e.protocol?e.protocol+"//"+(e.auth?e.auth+"@":"")+e.host+t:t}class AL extends Error{constructor(){super(...arguments),this.name="FetchError"}}function kL(e,t,n){let r="";t&&(r=t.message),e&&n?r=`${r} (${n.status} ${n.statusText} (${e.toString()}))`:e&&(r=`${r} (${e.toString()})`);const i=new AL(r);return Object.defineProperty(i,"request",{get(){return e}}),Object.defineProperty(i,"response",{get(){return n}}),Object.defineProperty(i,"data",{get(){return n&&n._data}}),Object.defineProperty(i,"status",{get(){return n&&n.status}}),Object.defineProperty(i,"statusText",{get(){return n&&n.statusText}}),Object.defineProperty(i,"statusCode",{get(){return n&&n.status}}),Object.defineProperty(i,"statusMessage",{get(){return n&&n.statusText}}),i}const OL=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Ty(e="GET"){return OL.has(e.toUpperCase())}function NL(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const IL=new Set(["image/svg","application/xml","application/xhtml","application/html"]),LL=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function BL(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return LL.test(t)?"json":IL.has(t)||t.startsWith("text/")?"text":"blob"}const $L=new Set([408,409,425,429,500,502,503,504]);function pw(e){const{fetch:t,Headers:n}=e;function r(s){const o=s.error&&s.error.name==="AbortError"||!1;if(s.options.retry!==!1&&!o){let c;typeof s.options.retry=="number"?c=s.options.retry:c=Ty(s.options.method)?0:1;const f=s.response&&s.response.status||500;if(c>0&&$L.has(f))return i(s.request,{...s.options,retry:c-1})}const u=kL(s.request,s.error,s.response);throw Error.captureStackTrace&&Error.captureStackTrace(u,i),u}const i=async function(o,u={}){const c={request:o,options:{...e.defaults,...u},response:void 0,error:void 0};c.options.onRequest&&await c.options.onRequest(c),typeof c.request=="string"&&(c.options.baseURL&&(c.request=CL(c.request,c.options.baseURL)),(c.options.query||c.options.params)&&(c.request=EL(c.request,{...c.options.params,...c.options.query})),c.options.body&&Ty(c.options.method)&&NL(c.options.body)&&(c.options.body=typeof c.options.body=="string"?c.options.body:JSON.stringify(c.options.body),c.options.headers=new n(c.options.headers),c.options.headers.has("content-type")||c.options.headers.set("content-type","application/json"),c.options.headers.has("accept")||c.options.headers.set("accept","application/json"))),c.response=await t(c.request,c.options).catch(async h=>(c.error=h,c.options.onRequestError&&await c.options.onRequestError(c),r(c)));const f=(c.options.parseResponse?"json":c.options.responseType)||BL(c.response.headers.get("content-type")||"");if(f==="json"){const h=await c.response.text(),p=c.options.parseResponse||lL;c.response._data=p(h)}else f==="stream"?c.response._data=c.response.body:c.response._data=await c.response[f]();return c.options.onResponse&&await c.options.onResponse(c),c.response.status>=400&&c.response.status<600?(c.options.onResponseError&&await c.options.onResponseError(c),r(c)):c.response},a=function(o,u){return i(o,u).then(c=>c._data)};return a.raw=i,a.native=t,a.create=(s={})=>pw({...e,defaults:{...e.defaults,...s}}),a}const gw=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),RL=gw.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),FL=gw.Headers,DL=pw({fetch:RL,Headers:FL}),HL=DL,zL=()=>{var e;return((e=window==null?void 0:window.__NUXT__)==null?void 0:e.config)||{}},e1=zL().app,VL=()=>e1.baseURL,UL=()=>e1.buildAssetsDir,WL=(...e)=>If(vw(),UL(),...e),vw=(...e)=>{const t=e1.cdnURL||e1.baseURL;return e.length?If(t,...e):t};globalThis.__buildAssetsURL=WL,globalThis.__publicAssetsURL=vw;function qv(e,t={},n){for(const r in e){const i=e[r],a=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?qv(i,t,a):typeof i=="function"&&(t[a]=i)}return t}const jL={run:e=>e()},qL=()=>jL,mw=typeof console.createTask<"u"?console.createTask:qL;function KL(e,t){const n=t.shift(),r=mw(n);return e.reduce((i,a)=>i.then(()=>r.run(()=>a(...t))),Promise.resolve())}function GL(e,t){const n=t.shift(),r=mw(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function Bg(e,t){for(const n of[...e])n(t)}class YL{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let a;for(;this._deprecatedHooks[t];)a=this._deprecatedHooks[t],t=a.to;if(a&&!r.allowDeprecated){let s=a.message;s||(s=`${i} hook has been deprecated`+(a.to?`, please use ${a.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(s)||(console.warn(s),this._deprecatedMessages.add(s))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...a)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...a));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=qv(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=qv(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(KL,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(GL,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&Bg(this._before,i);const a=t(n in this._hooks?[...this._hooks[n]]:[],r);return a instanceof Promise?a.finally(()=>{this._after&&i&&Bg(this._after,i)}):(this._after&&i&&Bg(this._after,i),a)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function bw(){return new YL}function XL(e={}){let t,n=!1;const r=s=>{if(t&&t!==s)throw new Error("Context conflict")};let i;if(e.asyncContext){const s=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;s?i=new s:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const a=()=>{if(i&&t===void 0){const s=i.getStore();if(s!==void 0)return s}return t};return{use:()=>{const s=a();if(s===void 0)throw new Error("Context is not available");return s},tryUse:()=>a(),set:(s,o)=>{o||r(s),t=s,n=!0},unset:()=>{t=void 0,n=!1},call:(s,o)=>{r(s),t=s;try{return i?i.run(s,o):o()}finally{n||(t=void 0)}},async callAsync(s,o){t=s;const u=()=>{t=s},c=()=>t===s?u:void 0;Py.add(c);try{const f=i?i.run(s,o):o();return n||(t=void 0),await f}finally{Py.delete(c)}}}}function JL(e={}){const t={};return{get(n,r={}){return t[n]||(t[n]=XL({...e,...r})),t[n],t[n]}}}const t1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Ey="__unctx__",QL=t1[Ey]||(t1[Ey]=JL()),ZL=(e,t={})=>QL.get(e,t),Sy="__unctx_async_handlers__",Py=t1[Sy]||(t1[Sy]=new Set),yw=ZL("nuxt-app"),eB="__nuxt_plugin";function tB(e){let t=0;const n={provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.4.3"},get vue(){return n.vueApp.version}},payload:xr({data:{},state:{},_errors:{},...window.__NUXT__??{}}),static:{data:{}},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};t++;let a=!1;return()=>{if(!a&&(a=!0,t--,t===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:{},_payloadRevivers:{},...e};n.hooks=bw(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(a,s)=>{const o="$"+a;ih(n,o,s),ih(n.vueApp.config.globalProperties,o,s)},ih(n.vueApp,"$nuxt",n),ih(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener("nuxt.preloadError",s=>{n.callHook("app:chunkError",{error:s.payload})});const a=n.hook("app:error",(...s)=>{console.error("[nuxt] error caught during app initialization",...s)});n.hook("app:mounted",a)}const r=xr(n.payload.config),i=new Proxy(r,{get(a,s){return s in a?a[s]:a.public[s]},set(a,s,o){return s==="public"||s==="app"?!1:(a[s]=o,a.public[s]=o,!0)}});return n.provide("config",i),n}async function nB(e,t){if(typeof t!="function")return;const{provide:n}=await zu(e,t,[e])||{};if(n&&typeof n=="object")for(const r in n)e.provide(r,n[r])}async function rB(e,t){for(const n of t)await nB(e,n)}function iB(e){const t=[];for(const n of e){if(typeof n!="function")continue;let r=n;n.length>1&&(r=i=>n(i,i.provide)),t.push(r)}return t.sort((n,r)=>{var i,a;return(((i=n.meta)==null?void 0:i.order)||n1.default)-(((a=r.meta)==null?void 0:a.order)||n1.default)}),t}const n1={pre:-20,default:0,post:20};function fs(e,t){var r;if(typeof e=="function")return fs({setup:e},t);const n=i=>{if(e.hooks&&i.hooks.addHooks(e.hooks),e.setup)return e.setup(i)};return n.meta={name:(t==null?void 0:t.name)||e.name||((r=e.setup)==null?void 0:r.name),order:(t==null?void 0:t.order)||e.order||n1[e.enforce||"default"]||n1.default},n[eB]=!0,n}function zu(e,t,n){const r=()=>n?t(...n):t();return yw.set(e),r()}function Fi(){const e=yw.tryUse();if(!e){const t=Yn();if(!t)throw new Error("[nuxt] instance unavailable");return t.appContext.app.$nuxt}return e}function Kv(){return Fi().$config}function ih(e,t,n){Object.defineProperty(e,t,{get:()=>n})}const aB=!1;function sB(){return ww().__VUE_DEVTOOLS_GLOBAL_HOOK__}function ww(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const oB=typeof Proxy=="function",lB="devtools-plugin:setup",cB="plugin:settings:set";let Ml,Gv;function uB(){var e;return Ml!==void 0||(typeof window<"u"&&window.performance?(Ml=!0,Gv=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(Ml=!0,Gv=global.perf_hooks.performance):Ml=!1),Ml}function fB(){return uB()?Gv.now():Date.now()}class dB{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const s in t.settings){const o=t.settings[s];r[s]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let a=Object.assign({},r);try{const s=localStorage.getItem(i),o=JSON.parse(s);Object.assign(a,o)}catch{}this.fallbacks={getSettings(){return a},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}a=s},now(){return fB()}},n&&n.on(cB,(s,o)=>{s===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(s,o)=>this.target?this.target.on[o]:(...u)=>{this.onQueue.push({method:o,args:u})}}),this.proxiedTarget=new Proxy({},{get:(s,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...u)=>(this.targetQueue.push({method:o,args:u,resolve:()=>{}}),this.fallbacks[o](...u)):(...u)=>new Promise(c=>{this.targetQueue.push({method:o,args:u,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function hB(e,t){const n=e,r=ww(),i=sB(),a=oB&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))i.emit(lB,e,t);else{const s=a?new dB(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:s}),s&&t(s.proxiedTarget)}}/*!
  * pinia v2.0.35
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let _w;const Lf=e=>_w=e,xw=Symbol();function Yv(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Vu;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Vu||(Vu={}));function pB(){const e=Wm(!0),t=e.run(()=>He({}));let n=[],r=[];const i=z0({install(a){Lf(i),i._a=a,a.provide(xw,i),a.config.globalProperties.$pinia=i,r.forEach(s=>n.push(s)),r=[]},use(a){return!this._a&&!aB?r.push(a):n.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const Mw=()=>{};function Ay(e,t,n,r=Mw){e.push(t);const i=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),r())};return!n&&A1()&&jm(i),i}function Cl(e,...t){e.slice().forEach(n=>{n(...t)})}function Xv(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];Yv(i)&&Yv(r)&&e.hasOwnProperty(n)&&!St(r)&&!ns(r)?e[n]=Xv(i,r):e[n]=r}return e}const gB=Symbol();function vB(e){return!Yv(e)||!e.hasOwnProperty(gB)}const{assign:_o}=Object;function mB(e){return!!(St(e)&&e.effect)}function bB(e,t,n,r){const{state:i,actions:a,getters:s}=t,o=n.state.value[e];let u;function c(){o||(n.state.value[e]=i?i():{});const f=Fo(n.state.value[e]);return _o(f,a,Object.keys(s||{}).reduce((h,p)=>(h[p]=z0(fe(()=>{Lf(n);const v=n._s.get(e);return s[p].call(v,v)})),h),{}))}return u=Cw(e,c,t,n,r,!0),u}function Cw(e,t,n={},r,i,a){let s;const o=_o({actions:{}},n),u={deep:!0};let c,f,h=z0([]),p=z0([]),v;const g=r.state.value[e];!a&&!g&&(r.state.value[e]={}),He({});let b;function y(S){let k;c=f=!1,typeof S=="function"?(S(r.state.value[e]),k={type:Vu.patchFunction,storeId:e,events:v}):(Xv(r.state.value[e],S),k={type:Vu.patchObject,payload:S,storeId:e,events:v});const L=b=Symbol();Qt().then(()=>{b===L&&(c=!0)}),f=!0,Cl(h,k,r.state.value[e])}const x=a?function(){const{state:k}=n,L=k?k():{};this.$patch(B=>{_o(B,L)})}:Mw;function _(){s.stop(),h=[],p=[],r._s.delete(e)}function E(S,k){return function(){Lf(r);const L=Array.from(arguments),B=[],H=[];function D(j){B.push(j)}function R(j){H.push(j)}Cl(p,{args:L,name:S,store:M,after:D,onError:R});let z;try{z=k.apply(this&&this.$id===e?this:M,L)}catch(j){throw Cl(H,j),j}return z instanceof Promise?z.then(j=>(Cl(B,j),j)).catch(j=>(Cl(H,j),Promise.reject(j))):(Cl(B,z),z)}}const w={_p:r,$id:e,$onAction:Ay.bind(null,p),$patch:y,$reset:x,$subscribe(S,k={}){const L=Ay(h,S,k.detached,()=>B()),B=s.run(()=>Ze(()=>r.state.value[e],H=>{(k.flush==="sync"?f:c)&&S({storeId:e,type:Vu.direct,events:v},H)},_o({},u,k)));return L},$dispose:_},M=xr(w);r._s.set(e,M);const T=r._e.run(()=>(s=Wm(),s.run(()=>t())));for(const S in T){const k=T[S];if(St(k)&&!mB(k)||ns(k))a||(g&&vB(k)&&(St(k)?k.value=g[S]:Xv(k,g[S])),r.state.value[e][S]=k);else if(typeof k=="function"){const L=E(S,k);T[S]=L,o.actions[S]=k}}return _o(M,T),_o(Ht(M),T),Object.defineProperty(M,"$state",{get:()=>r.state.value[e],set:S=>{y(k=>{_o(k,S)})}}),r._p.forEach(S=>{_o(M,s.run(()=>S({store:M,app:r._a,pinia:r,options:o})))}),g&&a&&n.hydrate&&n.hydrate(M.$state,g),c=!0,f=!0,M}function y2(e,t,n){let r,i;const a=typeof t=="function";typeof e=="string"?(r=e,i=a?n:t):(i=e,r=e.id);function s(o,u){const c=Yn();return o=o||c&&on(xw,null),o&&Lf(o),o=_w,o._s.has(r)||(a?Cw(r,t,i,o):bB(r,i,o)),o._s.get(r)}return s.$id=r,s}function ia(e){{e=Ht(e);const t={};for(const n in e){const r=e[n];(St(r)||ns(r))&&(t[n]=Wr(e,n))}return t}}function yB(e){return Array.isArray(e)?e:[e]}const Tw=["title","script","style","noscript"],Ew=["base","meta","link","style","script","noscript"],wB=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],_B=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],xB=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent"];function Sw(e){let t=9;for(let n=0;n<e.length;)t=Math.imul(t^e.charCodeAt(n++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Jv(e){return Sw(`${e.tag}:${e.textContent||e.innerHTML||""}:${Object.entries(e.props).map(([t,n])=>`${t}:${String(n)}`).join(",")}`)}function MB(e){let t=9;for(const n of e)for(let r=0;r<n.length;)t=Math.imul(t^n.charCodeAt(r++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Pw(e,t){const{props:n,tag:r}=e;if(_B.includes(r))return r;if(r==="link"&&n.rel==="canonical")return"canonical";if(n.charset)return"charset";const i=["id"];r==="meta"&&i.push("name","property","http-equiv");for(const a of i)if(typeof n[a]<"u"){const s=String(n[a]);return t&&!t(s)?!1:`${r}:${a}:${s}`}return!1}function ky(e,t){return e==null?t||null:typeof e=="function"?e(t):e}function ah(e,t=!1,n){const{tag:r,$el:i}=e;i&&(Object.entries(r.props).forEach(([a,s])=>{s=String(s);const o=`attr:${a}`;if(a==="class"){if(!s)return;for(const u of s.split(" ")){const c=`${o}:${u}`;n&&n(e,c,()=>i.classList.remove(u)),i.classList.contains(u)||i.classList.add(u)}return}n&&!a.startsWith("data-h-")&&n(e,o,()=>i.removeAttribute(a)),(t||i.getAttribute(a)!==s)&&i.setAttribute(a,s)}),Tw.includes(r.tag)&&(r.textContent&&r.textContent!==i.textContent?i.textContent=r.textContent:r.innerHTML&&r.innerHTML!==i.innerHTML&&(i.innerHTML=r.innerHTML)))}let hu=!1;async function CB(e,t={}){var p,v;const n={shouldRender:!0};if(await e.hooks.callHook("dom:beforeRender",n),!n.shouldRender)return;const r=t.document||e.resolvedOptions.document||window.document,i=(await e.resolveTags()).map(o);if(e.resolvedOptions.experimentalHashHydration&&(hu=hu||e._hash||!1,hu)){const g=MB(i.map(b=>b.tag._h));if(hu===g)return;hu=g}const a=e._popSideEffectQueue();e.headEntries().map(g=>g._sde).forEach(g=>{Object.entries(g).forEach(([b,y])=>{a[b]=y})});const s=(g,b,y)=>{b=`${g.renderId}:${b}`,g.entry&&(g.entry._sde[b]=y),delete a[b]};function o(g){const b=e.headEntries().find(x=>x._i===g._e),y={renderId:g._d||Jv(g),$el:null,shouldRender:!0,tag:g,entry:b,markSideEffect:(x,_)=>s(y,x,_)};return y}const u=[],c={body:[],head:[]},f=g=>{e._elMap[g.renderId]=g.$el,u.push(g),s(g,"el",()=>{var b;(b=g.$el)==null||b.remove(),delete e._elMap[g.renderId]})};for(const g of i){if(await e.hooks.callHook("dom:beforeRenderTag",g),!g.shouldRender)continue;const{tag:b}=g;if(b.tag==="title"){r.title=b.textContent||"",u.push(g);continue}if(b.tag==="htmlAttrs"||b.tag==="bodyAttrs"){g.$el=r[b.tag==="htmlAttrs"?"documentElement":"body"],ah(g,!1,s),u.push(g);continue}if(g.$el=e._elMap[g.renderId],!g.$el&&b.key&&(g.$el=r.querySelector(`${(p=b.tagPosition)!=null&&p.startsWith("body")?"body":"head"} > ${b.tag}[data-h-${b._h}]`)),g.$el){g.tag._d&&ah(g),f(g);continue}c[(v=b.tagPosition)!=null&&v.startsWith("body")?"body":"head"].push(g)}const h={bodyClose:void 0,bodyOpen:void 0,head:void 0};Object.entries(c).forEach(([g,b])=>{var x;if(!b.length)return;const y=(x=r==null?void 0:r[g])==null?void 0:x.children;if(y){for(const _ of[...y].reverse()){const E=_.tagName.toLowerCase();if(!Ew.includes(E))continue;const w=_.getAttributeNames().reduce((k,L)=>({...k,[L]:_.getAttribute(L)}),{}),M={tag:E,props:w};_.innerHTML&&(M.innerHTML=_.innerHTML);const T=Jv(M);let S=b.findIndex(k=>(k==null?void 0:k.renderId)===T);if(S===-1){const k=Pw(M);S=b.findIndex(L=>(L==null?void 0:L.tag._d)&&L.tag._d===k)}if(S!==-1){const k=b[S];k.$el=_,ah(k),f(k),delete b[S]}}b.forEach(_=>{const E=_.tag.tagPosition||"head";h[E]=h[E]||r.createDocumentFragment(),_.$el||(_.$el=r.createElement(_.tag.tag),ah(_,!0)),h[E].appendChild(_.$el),f(_)})}}),h.head&&r.head.appendChild(h.head),h.bodyOpen&&r.body.insertBefore(h.bodyOpen,r.body.firstChild),h.bodyClose&&r.body.appendChild(h.bodyClose);for(const g of u)await e.hooks.callHook("dom:renderTag",g);Object.values(a).forEach(g=>g())}let $g=null;async function TB(e,t={}){function n(){return $g=null,CB(e,t)}const r=t.delayFn||(i=>setTimeout(i,10));return $g=$g||new Promise(i=>r(()=>i(n())))}function EB(e){return{hooks:{"entries:updated":function(t){if(typeof(e==null?void 0:e.document)>"u"&&typeof window>"u")return;let n=e==null?void 0:e.delayFn;!n&&typeof requestAnimationFrame<"u"&&(n=requestAnimationFrame),TB(t,{document:(e==null?void 0:e.document)||window.document,delayFn:n})}}}}function SB(e){var t;return((t=e==null?void 0:e.head.querySelector('meta[name="unhead:ssr"]'))==null?void 0:t.getAttribute("content"))||!1}const Oy={critical:2,high:9,low:12,base:-1,title:1,meta:10};function Ny(e){if(typeof e.tagPriority=="number")return e.tagPriority;if(e.tag==="meta"){if(e.props.charset)return-2;if(e.props["http-equiv"]==="content-security-policy")return 0}const t=e.tagPriority||e.tag;return t in Oy?Oy[t]:10}const PB=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}];function AB(){return{hooks:{"tags:resolve":e=>{const t=n=>{var r;return(r=e.tags.find(i=>i._d===n))==null?void 0:r._p};for(const{prefix:n,offset:r}of PB)for(const i of e.tags.filter(a=>typeof a.tagPriority=="string"&&a.tagPriority.startsWith(n))){const a=t(i.tagPriority.replace(n,""));typeof a<"u"&&(i._p=a+r)}e.tags.sort((n,r)=>n._p-r._p).sort((n,r)=>Ny(n)-Ny(r))}}}}function kB(){return{hooks:{"tags:resolve":e=>{const{tags:t}=e;let n=t.findIndex(i=>i.tag==="titleTemplate");const r=t.findIndex(i=>i.tag==="title");if(r!==-1&&n!==-1){const i=ky(t[n].textContent,t[r].textContent);i!==null?t[r].textContent=i||t[r].textContent:delete t[r]}else if(n!==-1){const i=ky(t[n].textContent);i!==null&&(t[n].textContent=i,t[n].tag="title",n=-1)}n!==-1&&delete t[n],e.tags=t.filter(Boolean)}}}}function OB(){return{hooks:{"tag:normalise":function({tag:e}){typeof e.props.body<"u"&&(e.tagPosition="bodyClose",delete e.props.body)}}}}const NB=["link","style","script","noscript"];function IB(){return{hooks:{"tag:normalise":({tag:e,resolvedOptions:t})=>{t.experimentalHashHydration===!0&&(e._h=Jv(e)),e.key&&NB.includes(e.tag)&&(e._h=Sw(e.key),e.props[`data-h-${e._h}`]="")}}}}const Iy=["script","link","bodyAttrs"];function LB(){const e=(t,n)=>{const r={},i={};Object.entries(n.props).forEach(([s,o])=>{s.startsWith("on")&&typeof o=="function"?i[s]=o:r[s]=o});let a;return t==="dom"&&n.tag==="script"&&typeof r.src=="string"&&typeof i.onload<"u"&&(a=r.src,delete r.src),{props:r,eventHandlers:i,delayedSrc:a}};return{hooks:{"ssr:render":function(t){t.tags=t.tags.map(n=>(!Iy.includes(n.tag)||!Object.entries(n.props).find(([r,i])=>r.startsWith("on")&&typeof i=="function")||(n.props=e("ssr",n).props),n))},"dom:beforeRenderTag":function(t){if(!Iy.includes(t.tag.tag)||!Object.entries(t.tag.props).find(([a,s])=>a.startsWith("on")&&typeof s=="function"))return;const{props:n,eventHandlers:r,delayedSrc:i}=e("dom",t.tag);Object.keys(r).length&&(t.tag.props=n,t.tag._eventHandlers=r,t.tag._delayedSrc=i)},"dom:renderTag":function(t){const n=t.$el;if(!t.tag._eventHandlers||!n)return;const r=t.tag.tag==="bodyAttrs"&&typeof window<"u"?window:n;Object.entries(t.tag._eventHandlers).forEach(([i,a])=>{const s=`${t.tag._d||t.tag._p}:${i}`,o=i.slice(2).toLowerCase(),u=`data-h-${o}`;if(t.markSideEffect(s,()=>{}),n.hasAttribute(u))return;const c=a;n.setAttribute(u,""),r.addEventListener(o,c),t.entry&&(t.entry._sde[s]=()=>{r.removeEventListener(o,c),n.removeAttribute(u)})}),t.tag._delayedSrc&&n.setAttribute("src",t.tag._delayedSrc)}}}}const BB=["templateParams","htmlAttrs","bodyAttrs"];function $B(){return{hooks:{"tag:normalise":function({tag:e}){["hid","vmid","key"].forEach(r=>{e.props[r]&&(e.key=e.props[r],delete e.props[r])});const n=Pw(e)||(e.key?`${e.tag}:${e.key}`:!1);n&&(e._d=n)},"tags:resolve":function(e){const t={};e.tags.forEach(r=>{const i=(r.key?`${r.tag}:${r.key}`:r._d)||r._p,a=t[i];if(a){let o=r==null?void 0:r.tagDuplicateStrategy;if(!o&&BB.includes(r.tag)&&(o="merge"),o==="merge"){const u=a.props;["class","style"].forEach(c=>{r.props[c]&&u[c]&&(c==="style"&&!u[c].endsWith(";")&&(u[c]+=";"),r.props[c]=`${u[c]} ${r.props[c]}`)}),t[i].props={...u,...r.props};return}else if(r._e===a._e){a._duped=a._duped||[],r._d=`${a._d}:${a._duped.length+1}`,a._duped.push(r);return}}const s=Object.keys(r.props).length+(r.innerHTML?1:0)+(r.textContent?1:0);if(Ew.includes(r.tag)&&s===0){delete t[i];return}t[i]=r});const n=[];Object.values(t).forEach(r=>{const i=r._duped;delete r._duped,n.push(r),i&&n.push(...i)}),e.tags=n}}}}function sh(e,t){function n(a){if(["s","pageTitle"].includes(a))return t.pageTitle;let s;return a.includes(".")?s=a.split(".").reduce((o,u)=>o&&o[u]||void 0,t):s=t[a],typeof s<"u"?s||"":!1}let r=e;try{r=decodeURI(e)}catch{}return(r.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(a=>{const s=n(a.slice(1));typeof s=="string"&&(e=e.replaceAll(new RegExp(`\\${a}(\\W|$)`,"g"),`${s}$1`).trim())}),t.separator&&(e.endsWith(t.separator)&&(e=e.slice(0,-t.separator.length).trim()),e.startsWith(t.separator)&&(e=e.slice(t.separator.length).trim()),e=e.replace(new RegExp(`\\${t.separator}\\s*\\${t.separator}`,"g"),t.separator)),e}function RB(){return{hooks:{"tags:resolve":e=>{var a;const{tags:t}=e,n=(a=t.find(s=>s.tag==="title"))==null?void 0:a.textContent,r=t.findIndex(s=>s.tag==="templateParams"),i=r!==-1?t[r].props:{};i.pageTitle=i.pageTitle||n||"";for(const s of t)if(["titleTemplate","title"].includes(s.tag)&&typeof s.textContent=="string")s.textContent=sh(s.textContent,i);else if(s.tag==="meta"&&typeof s.props.content=="string")s.props.content=sh(s.props.content,i);else if(s.tag==="link"&&typeof s.props.href=="string")s.props.href=sh(s.props.href,i);else if(s.tag==="script"&&["application/json","application/ld+json"].includes(s.props.type)&&typeof s.innerHTML=="string")try{s.innerHTML=JSON.stringify(JSON.parse(s.innerHTML),(o,u)=>typeof u=="string"?sh(u,i):u)}catch{}e.tags=t.filter(s=>s.tag!=="templateParams")}}}}const FB=typeof window<"u";let Aw;function DB(e){return Aw=e}function HB(){return Aw}async function zB(e,t){const n={tag:e,props:{}};return e==="templateParams"?(n.props=t,n):["title","titleTemplate"].includes(e)?(n.textContent=t instanceof Promise?await t:t,n):typeof t=="string"?["script","noscript","style"].includes(e)?(e==="script"&&(/^(https?:)?\/\//.test(t)||t.startsWith("/"))?n.props.src=t:n.innerHTML=t,n):!1:(n.props=await UB(e,{...t}),n.props.children&&(n.props.innerHTML=n.props.children),delete n.props.children,Object.keys(n.props).filter(r=>xB.includes(r)).forEach(r=>{(!["innerHTML","textContent"].includes(r)||Tw.includes(n.tag))&&(n[r]=n.props[r]),delete n.props[r]}),["innerHTML","textContent"].forEach(r=>{if(n.tag==="script"&&typeof n[r]=="string"&&["application/ld+json","application/json"].includes(n.props.type))try{n[r]=JSON.parse(n[r])}catch{n[r]=""}typeof n[r]=="object"&&(n[r]=JSON.stringify(n[r]))}),n.props.class&&(n.props.class=VB(n.props.class)),n.props.content&&Array.isArray(n.props.content)?n.props.content.map(r=>({...n,props:{...n.props,content:r}})):n)}function VB(e){return typeof e=="object"&&!Array.isArray(e)&&(e=Object.keys(e).filter(t=>e[t])),(Array.isArray(e)?e.join(" "):e).split(" ").filter(t=>t.trim()).filter(Boolean).join(" ")}async function UB(e,t){for(const n of Object.keys(t)){const r=n.startsWith("data-");t[n]instanceof Promise&&(t[n]=await t[n]),String(t[n])==="true"?t[n]=r?"true":"":String(t[n])==="false"&&(r?t[n]="false":delete t[n])}return t}const WB=10;async function jB(e){const t=[];return Object.entries(e.resolvedInput).filter(([n,r])=>typeof r<"u"&&wB.includes(n)).forEach(([n,r])=>{const i=yB(r);t.push(...i.map(a=>zB(n,a)).flat())}),(await Promise.all(t)).flat().filter(Boolean).map((n,r)=>(n._e=e._i,n._p=(e._i<<WB)+r,n))}function qB(){return[$B(),AB(),RB(),kB(),IB(),LB(),OB()]}function KB(e={}){return[EB({document:e==null?void 0:e.document,delayFn:e==null?void 0:e.domDelayFn})]}function GB(e={}){const t=YB({...e,plugins:[...KB(e),...(e==null?void 0:e.plugins)||[]]});return e.experimentalHashHydration&&t.resolvedOptions.document&&(t._hash=SB(t.resolvedOptions.document)),DB(t),t}function YB(e={}){let t=[],n={},r=0;const i=bw();e!=null&&e.hooks&&i.addHooks(e.hooks),e.plugins=[...qB(),...(e==null?void 0:e.plugins)||[]],e.plugins.forEach(o=>o.hooks&&i.addHooks(o.hooks)),e.document=e.document||(FB?document:void 0);const a=()=>i.callHook("entries:updated",s),s={resolvedOptions:e,headEntries(){return t},get hooks(){return i},use(o){o.hooks&&i.addHooks(o.hooks)},push(o,u){const c={_i:r++,input:o,_sde:{}};return u!=null&&u.mode&&(c._m=u==null?void 0:u.mode),u!=null&&u.transform&&(c._t=u==null?void 0:u.transform),t.push(c),a(),{dispose(){t=t.filter(f=>f._i!==c._i?!0:(n={...n,...f._sde||{}},f._sde={},a(),!1))},patch(f){t=t.map(h=>(h._i===c._i&&(c.input=h.input=f,a()),h))}}},async resolveTags(){const o={tags:[],entries:[...t]};await i.callHook("entries:resolve",o);for(const u of o.entries){const c=u._t||(f=>f);if(u.resolvedInput=c(u.resolvedInput||u.input),u.resolvedInput)for(const f of await jB(u)){const h={tag:f,entry:u,resolvedOptions:s.resolvedOptions};await i.callHook("tag:normalise",h),o.tags.push(h.tag)}}return await i.callHook("tags:resolve",o),o.tags},_popSideEffectQueue(){const o={...n};return n={},o},_elMap:{}};return s.hooks.callHook("init",s),s}function XB(e){return typeof e=="function"?e():P(e)}function r1(e,t=""){if(e instanceof Promise)return e;const n=XB(e);return!e||!n?n:Array.isArray(n)?n.map(r=>r1(r,t)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([r,i])=>r==="titleTemplate"||r.startsWith("on")?[r,P(i)]:[r,r1(i,r)])):n}const JB=g2.startsWith("3"),QB=typeof window<"u",kw="usehead";function w2(){return Yn()&&on(kw)||HB()}function ZB(e){return{install(n){JB&&(n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(kw,e))}}.install}function e$(e={}){const t=GB({...e,domDelayFn:n=>setTimeout(()=>Qt(()=>n()),10),plugins:[t$(),...(e==null?void 0:e.plugins)||[]]});return t.install=ZB(t),t}function t$(){return{hooks:{"entries:resolve":function(e){for(const t of e.entries)t.resolvedInput=r1(t.input)}}}}function n$(e,t={}){const n=w2(),r=He(!1),i=He({});t9(()=>{i.value=r.value?{}:r1(e)});const a=n.push(i.value,t);return Ze(i,o=>{a.patch(o)}),Yn()&&(Gr(()=>{a.dispose()}),H1(()=>{r.value=!0}),s2(()=>{r.value=!1})),a}function r$(e,t={}){return w2().push(e,t)}function Rfe(e,t={}){var r;const n=w2();if(n){const i=QB||!!((r=n.resolvedOptions)!=null&&r.document);return t.mode==="server"&&i||t.mode==="client"&&!i?void 0:i?n$(e,t):r$(e,t)}}class Qv extends Error{constructor(){super(...arguments),this.statusCode=500,this.fatal=!1,this.unhandled=!1,this.statusMessage=void 0}toJSON(){const t={message:this.message,statusCode:Zv(this.statusCode,500)};return this.statusMessage&&(t.statusMessage=Ow(this.statusMessage)),this.data!==void 0&&(t.data=this.data),t}}Qv.__h3_error__=!0;function i$(e){if(typeof e=="string")return new Qv(e);if(a$(e))return e;const t=new Qv(e.message??e.statusMessage,e.cause?{cause:e.cause}:void 0);if("stack"in e)try{Object.defineProperty(t,"stack",{get(){return e.stack}})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=Zv(e.statusCode,t.statusCode):e.status&&(t.statusCode=Zv(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const n=t.statusMessage;Ow(t.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future `statusMessage` will be sanitized by default.")}return e.fatal!==void 0&&(t.fatal=e.fatal),e.unhandled!==void 0&&(t.unhandled=e.unhandled),t}function a$(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.__h3_error__)===!0}const s$=/[^\u0009\u0020-\u007E]/g;function Ow(e=""){return e.replace(s$,"")}function Zv(e,t=200){return!e||(typeof e=="string"&&(e=Number.parseInt(e,10)),e<100||e>999)?t:e}function o$(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(t);const[n,r]=e;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(r!==void 0&&typeof r!="function")throw new Error("[nuxt] [useState] init must be a function: "+r);const i="$s"+n,a=Fi(),s=Wr(a.payload.state,i);if(s.value===void 0&&r){const o=r();if(St(o))return a.payload.state[i]=o,o;s.value=o}return s}const _2=()=>{var e;return(e=Fi())==null?void 0:e.$router},l$=()=>Yn()?on("_route",Fi()._route):Fi()._route,c$=()=>{try{if(Fi()._processingMiddleware)return!0}catch{return!0}return!1},u$=(e,t)=>{e||(e="/");const n=typeof e=="string"?e:e.path||"/",r=(t==null?void 0:t.external)||b2(n,{acceptRelative:!0});if(r&&!(t!=null&&t.external))throw new Error("Navigating to external URL is not allowed by default. Use `navigateTo (url, { external: true })`.");if(r&&K1(n).protocol==="script:")throw new Error("Cannot navigate to an URL with script protocol.");const i=c$();if(!r&&i)return e;const a=_2();return r?(t!=null&&t.replace?location.replace(n):location.href=n,Promise.resolve()):t!=null&&t.replace?a.replace(e):a.push(e)},x2=()=>Wr(Fi().payload,"error"),f$=e=>{const t=p$(e);try{Fi().callHook("app:error",t);const r=x2();r.value=r.value||t}catch{throw t}return t},d$=async(e={})=>{const t=Fi(),n=x2();t.callHook("app:error:cleared",e),e.redirect&&await _2().replace(e.redirect),n.value=null},h$=e=>!!(e&&typeof e=="object"&&"__nuxt_error"in e),p$=e=>{const t=i$(e);return t.__nuxt_error=!0,t},g$="modulepreload",v$=function(e,t){return e.startsWith(".")?new URL(e,t).href:e},Ly={},m$=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=v$(a,r),a in Ly)return;Ly[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const h=i[f];if(h.href===a&&(!s||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":g$,s||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),s)return new Promise((f,h)=>{c.addEventListener("load",f),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())},b$=(...e)=>m$(...e).catch(t=>{const n=new Event("nuxt.preloadError");throw n.payload=t,window.dispatchEvent(n),t});Object.getOwnPropertyNames(Object.prototype).sort().join("\0");const y$={meta:[{name:"viewport",content:"width=device-width, initial-scale=1"},{charset:"utf-8"},{name:"description",content:"weaving musical patterns"}],link:[],style:[],script:[{src:"https://www.googletagmanager.com/gtag/js?id=UA-120208217-1",async:!0}],noscript:[],charset:"utf-8",viewport:"width=device-width, initial-scale=1",title:"Weaving Music"},w$="__nuxt";function _$(e={}){const t=e.path||window.location.pathname;let n={};try{n=JSON.parse(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(e.force||(n==null?void 0:n.path)!==t||(n==null?void 0:n.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:t,expires:Date.now()+(e.ttl??1e4)}))}catch{}if(e.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Fi().payload.state}))}catch{}window.location.pathname!==t?window.location.href=t:window.location.reload()}}const x$=fs(e=>{const t=pB();return e.vueApp.use(t),Lf(t),e.payload&&e.payload.pinia&&(t.state.value=e.payload.pinia),{provide:{pinia:t}}}),M$=fs({name:"nuxt:global-components"}),C$=fs({name:"nuxt:head",setup(e){const n=e$();n.push(y$),e.vueApp.use(n);{let r=!0;const i=()=>{r=!1,n.hooks.callHook("entries:updated",n)};n.hooks.hook("dom:beforeRender",a=>{a.shouldRender=!r}),e.hooks.hook("page:start",()=>{r=!0}),e.hooks.hook("page:finish",i),e.hooks.hook("app:suspense:resolve",i)}}}),T$=[];function Rg(e){typeof e=="object"&&(e=hw({pathname:e.path||"",search:cw(e.query||{}),hash:e.hash||""}));const t=K1(e.toString());return{path:t.pathname,fullPath:e,query:lw(t.search),hash:t.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:e}}const E$=fs({name:"nuxt:router",enforce:"pre",setup(e){const t=TL(window.location.pathname,Kv().app.baseURL)+window.location.search+window.location.hash,n=[],r={"navigate:before":[],"resolve:before":[],"navigate:after":[],error:[]},i=(f,h)=>(r[f].push(h),()=>r[f].splice(r[f].indexOf(h),1)),a=Kv().app.baseURL,s=xr(Rg(t));async function o(f,h){try{const p=Rg(f);for(const v of r["navigate:before"]){const g=await v(p,s);if(g===!1||g instanceof Error)return;if(g)return o(g,!0)}for(const v of r["resolve:before"])await v(p,s);Object.assign(s,p),window.history[h?"replaceState":"pushState"]({},"",If(a,p.fullPath)),e.isHydrating||await zu(e,d$);for(const v of r["navigate:after"])await v(p,s)}catch(p){for(const v of r.error)await v(p)}}const u={currentRoute:s,isReady:()=>Promise.resolve(),options:{},install:()=>Promise.resolve(),push:f=>o(f,!1),replace:f=>o(f,!0),back:()=>window.history.go(-1),go:f=>window.history.go(f),forward:()=>window.history.go(1),beforeResolve:f=>i("resolve:before",f),beforeEach:f=>i("navigate:before",f),afterEach:f=>i("navigate:after",f),onError:f=>i("error",f),resolve:Rg,addRoute:(f,h)=>{n.push(h)},getRoutes:()=>n,hasRoute:f=>n.some(h=>h.name===f),removeRoute:f=>{const h=n.findIndex(p=>p.name===f);h!==-1&&n.splice(h,1)}};e.vueApp.component("RouterLink",{functional:!0,props:{to:String,custom:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:String},setup:(f,{slots:h})=>{const p=()=>o(f.to,f.replace);return()=>{var g;const v=u.resolve(f.to);return f.custom?(g=h.default)==null?void 0:g.call(h,{href:f.to,navigate:p,route:v}):j1("a",{href:f.to,onClick:b=>(b.preventDefault(),p())},h)}}}),window.addEventListener("popstate",f=>{const h=f.target.location;u.replace(h.href.replace(h.origin,""))}),e._route=s,e._middleware=e._middleware||{global:[],named:{}};const c=o$("_layout");return e.hooks.hookOnce("app:created",async()=>{u.beforeEach(async(f,h)=>{f.meta=xr(f.meta||{}),e.isHydrating&&c.value&&!Ro(f.meta.layout)&&(f.meta.layout=c.value),e._processingMiddleware=!0;const p=new Set([...T$,...e._middleware.global]);for(const v of p){const g=await zu(e,v,[f,h]);if(g||g===!1)return g}}),u.afterEach(()=>{delete e._processingMiddleware}),await u.replace(t),PL(s.fullPath,t)||await zu(e,u$,[s.fullPath])}),{provide:{route:s,router:u}}}}),S$=fs(e=>{e.hook("app:rendered",t=>{var n;(n=t.ssrContext)!=null&&n.teleports&&(t.ssrContext.teleports=P$(t.ssrContext.teleports))})});function P$(e){const t=Object.entries(e).reduce((n,[r,i])=>r.startsWith("#el-popper-container-")||[].includes(r)?`${n}<div id="${r.slice(1)}">${i}</div>`:n,e.body||"");return{...e,body:t}}const Ds=(e,t,{checkForDefaultPrevented:n=!0}={})=>i=>{const a=e==null?void 0:e(i);if(n===!1||!a)return t==null?void 0:t(i)};var By;const ni=typeof window<"u",A$=e=>typeof e=="string",Nw=()=>{},Iw=ni&&((By=window==null?void 0:window.navigator)==null?void 0:By.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Lw(e){return typeof e=="function"?e():P(e)}function k$(e){return e}function M2(e){return A1()?(jm(e),!0):!1}function O$(e,t=!0){Yn()?Ln(e):t?e():Qt(e)}function So(e){var t;const n=Lw(e);return(t=n==null?void 0:n.$el)!=null?t:n}const C2=ni?window:void 0;function $0(...e){let t,n,r,i;if(A$(e[0])||Array.isArray(e[0])?([n,r,i]=e,t=C2):[t,n,r,i]=e,!t)return Nw;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const a=[],s=()=>{a.forEach(f=>f()),a.length=0},o=(f,h,p,v)=>(f.addEventListener(h,p,v),()=>f.removeEventListener(h,p,v)),u=Ze(()=>[So(t),Lw(i)],([f,h])=>{s(),f&&a.push(...n.flatMap(p=>r.map(v=>o(f,p,v,h))))},{immediate:!0,flush:"post"}),c=()=>{u(),s()};return M2(c),c}let $y=!1;function N$(e,t,n={}){const{window:r=C2,ignore:i=[],capture:a=!0,detectIframe:s=!1}=n;if(!r)return;Iw&&!$y&&($y=!0,Array.from(r.document.body.children).forEach(p=>p.addEventListener("click",Nw)));let o=!0;const u=p=>i.some(v=>{if(typeof v=="string")return Array.from(r.document.querySelectorAll(v)).some(g=>g===p.target||p.composedPath().includes(g));{const g=So(v);return g&&(p.target===g||p.composedPath().includes(g))}}),f=[$0(r,"click",p=>{const v=So(e);if(!(!v||v===p.target||p.composedPath().includes(v))){if(p.detail===0&&(o=!u(p)),!o){o=!0;return}t(p)}},{passive:!0,capture:a}),$0(r,"pointerdown",p=>{const v=So(e);v&&(o=!p.composedPath().includes(v)&&!u(p))},{passive:!0}),s&&$0(r,"blur",p=>{var v;const g=So(e);((v=r.document.activeElement)==null?void 0:v.tagName)==="IFRAME"&&!(g!=null&&g.contains(r.document.activeElement))&&t(p)})].filter(Boolean);return()=>f.forEach(p=>p())}function I$(e,t=!1){const n=He(),r=()=>n.value=!!e();return r(),O$(r,t),n}const Ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fy="__vueuse_ssr_handlers__";Ry[Fy]=Ry[Fy]||{};var Dy=Object.getOwnPropertySymbols,L$=Object.prototype.hasOwnProperty,B$=Object.prototype.propertyIsEnumerable,$$=(e,t)=>{var n={};for(var r in e)L$.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Dy)for(var r of Dy(e))t.indexOf(r)<0&&B$.call(e,r)&&(n[r]=e[r]);return n};function G1(e,t,n={}){const r=n,{window:i=C2}=r,a=$$(r,["window"]);let s;const o=I$(()=>i&&"ResizeObserver"in i),u=()=>{s&&(s.disconnect(),s=void 0)},c=Ze(()=>So(e),h=>{u(),o.value&&i&&h&&(s=new ResizeObserver(t),s.observe(h,a))},{immediate:!0,flush:"post"}),f=()=>{u(),c()};return M2(f),{isSupported:o,stop:f}}var Hy;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Hy||(Hy={}));var R$=Object.defineProperty,zy=Object.getOwnPropertySymbols,F$=Object.prototype.hasOwnProperty,D$=Object.prototype.propertyIsEnumerable,Vy=(e,t,n)=>t in e?R$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H$=(e,t)=>{for(var n in t||(t={}))F$.call(t,n)&&Vy(e,n,t[n]);if(zy)for(var n of zy(t))D$.call(t,n)&&Vy(e,n,t[n]);return e};const z$={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};H$({linear:k$},z$);const V$=()=>ni&&/firefox/i.test(window.navigator.userAgent);var U$=typeof global=="object"&&global&&global.Object===Object&&global;const Bw=U$;var W$=typeof self=="object"&&self&&self.Object===Object&&self,j$=Bw||W$||Function("return this")();const ds=j$;var q$=ds.Symbol;const Vo=q$;var $w=Object.prototype,K$=$w.hasOwnProperty,G$=$w.toString,pu=Vo?Vo.toStringTag:void 0;function Y$(e){var t=K$.call(e,pu),n=e[pu];try{e[pu]=void 0;var r=!0}catch{}var i=G$.call(e);return r&&(t?e[pu]=n:delete e[pu]),i}var X$=Object.prototype,J$=X$.toString;function Q$(e){return J$.call(e)}var Z$="[object Null]",eR="[object Undefined]",Uy=Vo?Vo.toStringTag:void 0;function mc(e){return e==null?e===void 0?eR:Z$:Uy&&Uy in Object(e)?Y$(e):Q$(e)}function nc(e){return e!=null&&typeof e=="object"}var tR="[object Symbol]";function Y1(e){return typeof e=="symbol"||nc(e)&&mc(e)==tR}function nR(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var rR=Array.isArray;const Uo=rR;var iR=1/0,Wy=Vo?Vo.prototype:void 0,jy=Wy?Wy.toString:void 0;function Rw(e){if(typeof e=="string")return e;if(Uo(e))return nR(e,Rw)+"";if(Y1(e))return jy?jy.call(e):"";var t=e+"";return t=="0"&&1/e==-iR?"-0":t}var aR=/\s/;function sR(e){for(var t=e.length;t--&&aR.test(e.charAt(t)););return t}var oR=/^\s+/;function lR(e){return e&&e.slice(0,sR(e)+1).replace(oR,"")}function hf(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qy=0/0,cR=/^[-+]0x[0-9a-f]+$/i,uR=/^0b[01]+$/i,fR=/^0o[0-7]+$/i,dR=parseInt;function Ky(e){if(typeof e=="number")return e;if(Y1(e))return qy;if(hf(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=hf(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lR(e);var n=uR.test(e);return n||fR.test(e)?dR(e.slice(2),n?2:8):cR.test(e)?qy:+e}var hR="[object AsyncFunction]",pR="[object Function]",gR="[object GeneratorFunction]",vR="[object Proxy]";function Fw(e){if(!hf(e))return!1;var t=mc(e);return t==pR||t==gR||t==hR||t==vR}var mR=ds["__core-js_shared__"];const Fg=mR;var Gy=function(){var e=/[^.]+$/.exec(Fg&&Fg.keys&&Fg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bR(e){return!!Gy&&Gy in e}var yR=Function.prototype,wR=yR.toString;function X0(e){if(e!=null){try{return wR.call(e)}catch{}try{return e+""}catch{}}return""}var _R=/[\\^$.*+?()[\]{}|]/g,xR=/^\[object .+?Constructor\]$/,MR=Function.prototype,CR=Object.prototype,TR=MR.toString,ER=CR.hasOwnProperty,SR=RegExp("^"+TR.call(ER).replace(_R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function PR(e){if(!hf(e)||bR(e))return!1;var t=Fw(e)?SR:xR;return t.test(X0(e))}function AR(e,t){return e==null?void 0:e[t]}function bc(e,t){var n=AR(e,t);return PR(n)?n:void 0}var kR=bc(ds,"WeakMap");const em=kR;var OR=9007199254740991,NR=/^(?:0|[1-9]\d*)$/;function IR(e,t){var n=typeof e;return t=t??OR,!!t&&(n=="number"||n!="symbol"&&NR.test(e))&&e>-1&&e%1==0&&e<t}function Dw(e,t){return e===t||e!==e&&t!==t}var LR=9007199254740991;function Hw(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=LR}function BR(e){return e!=null&&Hw(e.length)&&!Fw(e)}var $R=Object.prototype;function RR(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||$R;return e===n}function FR(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var DR="[object Arguments]";function Yy(e){return nc(e)&&mc(e)==DR}var zw=Object.prototype,HR=zw.hasOwnProperty,zR=zw.propertyIsEnumerable,VR=Yy(function(){return arguments}())?Yy:function(e){return nc(e)&&HR.call(e,"callee")&&!zR.call(e,"callee")};const UR=VR;var gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function T2(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(t,i);return new a}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}function WR(){return!1}var Vw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Xy=Vw&&typeof module=="object"&&module&&!module.nodeType&&module,jR=Xy&&Xy.exports===Vw,Jy=jR?ds.Buffer:void 0,qR=Jy?Jy.isBuffer:void 0,KR=qR||WR;const tm=KR;var GR="[object Arguments]",YR="[object Array]",XR="[object Boolean]",JR="[object Date]",QR="[object Error]",ZR="[object Function]",eF="[object Map]",tF="[object Number]",nF="[object Object]",rF="[object RegExp]",iF="[object Set]",aF="[object String]",sF="[object WeakMap]",oF="[object ArrayBuffer]",lF="[object DataView]",cF="[object Float32Array]",uF="[object Float64Array]",fF="[object Int8Array]",dF="[object Int16Array]",hF="[object Int32Array]",pF="[object Uint8Array]",gF="[object Uint8ClampedArray]",vF="[object Uint16Array]",mF="[object Uint32Array]",Hn={};Hn[cF]=Hn[uF]=Hn[fF]=Hn[dF]=Hn[hF]=Hn[pF]=Hn[gF]=Hn[vF]=Hn[mF]=!0;Hn[GR]=Hn[YR]=Hn[oF]=Hn[XR]=Hn[lF]=Hn[JR]=Hn[QR]=Hn[ZR]=Hn[eF]=Hn[tF]=Hn[nF]=Hn[rF]=Hn[iF]=Hn[aF]=Hn[sF]=!1;function bF(e){return nc(e)&&Hw(e.length)&&!!Hn[mc(e)]}function yF(e){return function(t){return e(t)}}var Uw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Uu=Uw&&typeof module=="object"&&module&&!module.nodeType&&module,wF=Uu&&Uu.exports===Uw,Dg=wF&&Bw.process,_F=function(){try{var e=Uu&&Uu.require&&Uu.require("util").types;return e||Dg&&Dg.binding&&Dg.binding("util")}catch{}}();const Qy=_F;var Zy=Qy&&Qy.isTypedArray,xF=Zy?yF(Zy):bF;const Ww=xF;var MF=Object.prototype,CF=MF.hasOwnProperty;function TF(e,t){var n=Uo(e),r=!n&&UR(e),i=!n&&!r&&tm(e),a=!n&&!r&&!i&&Ww(e),s=n||r||i||a,o=s?FR(e.length,String):[],u=o.length;for(var c in e)(t||CF.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||IR(c,u)))&&o.push(c);return o}function EF(e,t){return function(n){return e(t(n))}}var SF=EF(Object.keys,Object);const PF=SF;var AF=Object.prototype,kF=AF.hasOwnProperty;function OF(e){if(!RR(e))return PF(e);var t=[];for(var n in Object(e))kF.call(e,n)&&n!="constructor"&&t.push(n);return t}function NF(e){return BR(e)?TF(e):OF(e)}var IF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LF=/^\w*$/;function BF(e,t){if(Uo(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Y1(e)?!0:LF.test(e)||!IF.test(e)||t!=null&&e in Object(t)}var $F=bc(Object,"create");const pf=$F;function RF(){this.__data__=pf?pf(null):{},this.size=0}function FF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var DF="__lodash_hash_undefined__",HF=Object.prototype,zF=HF.hasOwnProperty;function VF(e){var t=this.__data__;if(pf){var n=t[e];return n===DF?void 0:n}return zF.call(t,e)?t[e]:void 0}var UF=Object.prototype,WF=UF.hasOwnProperty;function jF(e){var t=this.__data__;return pf?t[e]!==void 0:WF.call(t,e)}var qF="__lodash_hash_undefined__";function KF(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pf&&t===void 0?qF:t,this}function W0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}W0.prototype.clear=RF;W0.prototype.delete=FF;W0.prototype.get=VF;W0.prototype.has=jF;W0.prototype.set=KF;function GF(){this.__data__=[],this.size=0}function X1(e,t){for(var n=e.length;n--;)if(Dw(e[n][0],t))return n;return-1}var YF=Array.prototype,XF=YF.splice;function JF(e){var t=this.__data__,n=X1(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():XF.call(t,n,1),--this.size,!0}function QF(e){var t=this.__data__,n=X1(t,e);return n<0?void 0:t[n][1]}function ZF(e){return X1(this.__data__,e)>-1}function eD(e,t){var n=this.__data__,r=X1(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Qs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Qs.prototype.clear=GF;Qs.prototype.delete=JF;Qs.prototype.get=QF;Qs.prototype.has=ZF;Qs.prototype.set=eD;var tD=bc(ds,"Map");const gf=tD;function nD(){this.size=0,this.__data__={hash:new W0,map:new(gf||Qs),string:new W0}}function rD(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function J1(e,t){var n=e.__data__;return rD(t)?n[typeof t=="string"?"string":"hash"]:n.map}function iD(e){var t=J1(this,e).delete(e);return this.size-=t?1:0,t}function aD(e){return J1(this,e).get(e)}function sD(e){return J1(this,e).has(e)}function oD(e,t){var n=J1(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Zs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zs.prototype.clear=nD;Zs.prototype.delete=iD;Zs.prototype.get=aD;Zs.prototype.has=sD;Zs.prototype.set=oD;var lD="Expected a function";function E2(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(lD);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(E2.Cache||Zs),n}E2.Cache=Zs;var cD=500;function uD(e){var t=E2(e,function(r){return n.size===cD&&n.clear(),r}),n=t.cache;return t}var fD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dD=/\\(\\)?/g,hD=uD(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(fD,function(n,r,i,a){t.push(i?a.replace(dD,"$1"):r||n)}),t});const pD=hD;function gD(e){return e==null?"":Rw(e)}function vD(e,t){return Uo(e)?e:BF(e,t)?[e]:pD(gD(e))}var mD=1/0;function bD(e){if(typeof e=="string"||Y1(e))return e;var t=e+"";return t=="0"&&1/e==-mD?"-0":t}function yD(e,t){t=vD(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[bD(t[n++])];return n&&n==r?e:void 0}function ea(e,t,n){var r=e==null?void 0:yD(e,t);return r===void 0?n:r}function wD(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function e6(){if(!arguments.length)return[];var e=arguments[0];return Uo(e)?e:[e]}function _D(){this.__data__=new Qs,this.size=0}function xD(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function MD(e){return this.__data__.get(e)}function CD(e){return this.__data__.has(e)}var TD=200;function ED(e,t){var n=this.__data__;if(n instanceof Qs){var r=n.__data__;if(!gf||r.length<TD-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Zs(r)}return n.set(e,t),this.size=n.size,this}function Lo(e){var t=this.__data__=new Qs(e);this.size=t.size}Lo.prototype.clear=_D;Lo.prototype.delete=xD;Lo.prototype.get=MD;Lo.prototype.has=CD;Lo.prototype.set=ED;function SD(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}function PD(){return[]}var AD=Object.prototype,kD=AD.propertyIsEnumerable,t6=Object.getOwnPropertySymbols,OD=t6?function(e){return e==null?[]:(e=Object(e),SD(t6(e),function(t){return kD.call(e,t)}))}:PD;const ND=OD;function ID(e,t,n){var r=t(e);return Uo(e)?r:wD(r,n(e))}function n6(e){return ID(e,NF,ND)}var LD=bc(ds,"DataView");const nm=LD;var BD=bc(ds,"Promise");const rm=BD;var $D=bc(ds,"Set");const im=$D;var r6="[object Map]",RD="[object Object]",i6="[object Promise]",a6="[object Set]",s6="[object WeakMap]",o6="[object DataView]",FD=X0(nm),DD=X0(gf),HD=X0(rm),zD=X0(im),VD=X0(em),M0=mc;(nm&&M0(new nm(new ArrayBuffer(1)))!=o6||gf&&M0(new gf)!=r6||rm&&M0(rm.resolve())!=i6||im&&M0(new im)!=a6||em&&M0(new em)!=s6)&&(M0=function(e){var t=mc(e),n=t==RD?e.constructor:void 0,r=n?X0(n):"";if(r)switch(r){case FD:return o6;case DD:return r6;case HD:return i6;case zD:return a6;case VD:return s6}return t});const l6=M0;var UD=ds.Uint8Array;const c6=UD;var WD="__lodash_hash_undefined__";function jD(e){return this.__data__.set(e,WD),this}function qD(e){return this.__data__.has(e)}function i1(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Zs;++t<n;)this.add(e[t])}i1.prototype.add=i1.prototype.push=jD;i1.prototype.has=qD;function KD(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function GD(e,t){return e.has(t)}var YD=1,XD=2;function jw(e,t,n,r,i,a){var s=n&YD,o=e.length,u=t.length;if(o!=u&&!(s&&u>o))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var h=-1,p=!0,v=n&XD?new i1:void 0;for(a.set(e,t),a.set(t,e);++h<o;){var g=e[h],b=t[h];if(r)var y=s?r(b,g,h,t,e,a):r(g,b,h,e,t,a);if(y!==void 0){if(y)continue;p=!1;break}if(v){if(!KD(t,function(x,_){if(!GD(v,_)&&(g===x||i(g,x,n,r,a)))return v.push(_)})){p=!1;break}}else if(!(g===b||i(g,b,n,r,a))){p=!1;break}}return a.delete(e),a.delete(t),p}function JD(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function QD(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var ZD=1,eH=2,tH="[object Boolean]",nH="[object Date]",rH="[object Error]",iH="[object Map]",aH="[object Number]",sH="[object RegExp]",oH="[object Set]",lH="[object String]",cH="[object Symbol]",uH="[object ArrayBuffer]",fH="[object DataView]",u6=Vo?Vo.prototype:void 0,Hg=u6?u6.valueOf:void 0;function dH(e,t,n,r,i,a,s){switch(n){case fH:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case uH:return!(e.byteLength!=t.byteLength||!a(new c6(e),new c6(t)));case tH:case nH:case aH:return Dw(+e,+t);case rH:return e.name==t.name&&e.message==t.message;case sH:case lH:return e==t+"";case iH:var o=JD;case oH:var u=r&ZD;if(o||(o=QD),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=eH,s.set(e,t);var f=jw(o(e),o(t),r,i,a,s);return s.delete(e),f;case cH:if(Hg)return Hg.call(e)==Hg.call(t)}return!1}var hH=1,pH=Object.prototype,gH=pH.hasOwnProperty;function vH(e,t,n,r,i,a){var s=n&hH,o=n6(e),u=o.length,c=n6(t),f=c.length;if(u!=f&&!s)return!1;for(var h=u;h--;){var p=o[h];if(!(s?p in t:gH.call(t,p)))return!1}var v=a.get(e),g=a.get(t);if(v&&g)return v==t&&g==e;var b=!0;a.set(e,t),a.set(t,e);for(var y=s;++h<u;){p=o[h];var x=e[p],_=t[p];if(r)var E=s?r(_,x,p,t,e,a):r(x,_,p,e,t,a);if(!(E===void 0?x===_||i(x,_,n,r,a):E)){b=!1;break}y||(y=p=="constructor")}if(b&&!y){var w=e.constructor,M=t.constructor;w!=M&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof M=="function"&&M instanceof M)&&(b=!1)}return a.delete(e),a.delete(t),b}var mH=1,f6="[object Arguments]",d6="[object Array]",oh="[object Object]",bH=Object.prototype,h6=bH.hasOwnProperty;function yH(e,t,n,r,i,a){var s=Uo(e),o=Uo(t),u=s?d6:l6(e),c=o?d6:l6(t);u=u==f6?oh:u,c=c==f6?oh:c;var f=u==oh,h=c==oh,p=u==c;if(p&&tm(e)){if(!tm(t))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new Lo),s||Ww(e)?jw(e,t,n,r,i,a):dH(e,t,u,n,r,i,a);if(!(n&mH)){var v=f&&h6.call(e,"__wrapped__"),g=h&&h6.call(t,"__wrapped__");if(v||g){var b=v?e.value():e,y=g?t.value():t;return a||(a=new Lo),i(b,y,n,r,a)}}return p?(a||(a=new Lo),vH(e,t,n,r,i,a)):!1}function qw(e,t,n,r,i){return e===t?!0:e==null||t==null||!nc(e)&&!nc(t)?e!==e&&t!==t:yH(e,t,n,r,qw,i)}var wH=function(){return ds.Date.now()};const zg=wH;var _H="Expected a function",xH=Math.max,MH=Math.min;function a1(e,t,n){var r,i,a,s,o,u,c=0,f=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(_H);t=Ky(t)||0,hf(n)&&(f=!!n.leading,h="maxWait"in n,a=h?xH(Ky(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function v(T){var S=r,k=i;return r=i=void 0,c=T,s=e.apply(k,S),s}function g(T){return c=T,o=setTimeout(x,t),f?v(T):s}function b(T){var S=T-u,k=T-c,L=t-S;return h?MH(L,a-k):L}function y(T){var S=T-u,k=T-c;return u===void 0||S>=t||S<0||h&&k>=a}function x(){var T=zg();if(y(T))return _(T);o=setTimeout(x,b(T))}function _(T){return o=void 0,p&&r?v(T):(r=i=void 0,s)}function E(){o!==void 0&&clearTimeout(o),c=0,r=u=i=o=void 0}function w(){return o===void 0?s:_(zg())}function M(){var T=zg(),S=y(T);if(r=arguments,i=this,u=T,S){if(o===void 0)return g(u);if(h)return clearTimeout(o),o=setTimeout(x,t),v(u)}return o===void 0&&(o=setTimeout(x,t)),s}return M.cancel=E,M.flush=w,M}function s1(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function p6(e,t){return qw(e,t)}function Vs(e){return e==null}function CH(e){return e===void 0}const ku=e=>e===void 0,R0=e=>typeof e=="boolean",Sn=e=>typeof e=="number",vf=e=>typeof Element>"u"?!1:e instanceof Element,TH=e=>Gt(e)?!Number.isNaN(Number(e)):!1,EH=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),SH=e=>Object.keys(e);class PH extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function S2(e,t){throw new PH(`[${e}] ${t}`)}function mf(e,t="px"){if(!e)return"";if(Sn(e)||TH(e))return`${e}${t}`;if(Gt(e))return e}function AH(e,t){if(!ni)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const i=t.offsetTop+n.reduce((u,c)=>u+c.offsetTop,0),a=i+t.offsetHeight,s=e.scrollTop,o=s+e.clientHeight;i<s?e.scrollTop=i:a>o&&(e.scrollTop=a-e.clientHeight)}/*! Element Plus Icons Vue v2.1.0 */var ri=(e,t)=>{let n=e.__vccOpts||e;for(let[r,i]of t)n[r]=i;return n},kH={name:"ArrowDown"},OH={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},NH=pe("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),IH=[NH];function LH(e,t,n,r,i,a){return ce(),je("svg",OH,IH)}var Kw=ri(kH,[["render",LH],["__file","arrow-down.vue"]]),BH={name:"ArrowRight"},$H={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},RH=pe("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),FH=[RH];function DH(e,t,n,r,i,a){return ce(),je("svg",$H,FH)}var HH=ri(BH,[["render",DH],["__file","arrow-right.vue"]]),zH={name:"ArrowUp"},VH={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},UH=pe("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),WH=[UH];function jH(e,t,n,r,i,a){return ce(),je("svg",VH,WH)}var qH=ri(zH,[["render",jH],["__file","arrow-up.vue"]]),KH={name:"CircleCheck"},GH={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},YH=pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),XH=pe("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),JH=[YH,XH];function QH(e,t,n,r,i,a){return ce(),je("svg",GH,JH)}var ZH=ri(KH,[["render",QH],["__file","circle-check.vue"]]),ez={name:"CircleCloseFilled"},tz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nz=pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),rz=[nz];function iz(e,t,n,r,i,a){return ce(),je("svg",tz,rz)}var Gw=ri(ez,[["render",iz],["__file","circle-close-filled.vue"]]),az={name:"CircleClose"},sz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},oz=pe("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),lz=pe("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),cz=[oz,lz];function uz(e,t,n,r,i,a){return ce(),je("svg",sz,cz)}var P2=ri(az,[["render",uz],["__file","circle-close.vue"]]),fz={name:"Close"},dz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hz=pe("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),pz=[hz];function gz(e,t,n,r,i,a){return ce(),je("svg",dz,pz)}var am=ri(fz,[["render",gz],["__file","close.vue"]]),vz={name:"Hide"},mz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bz=pe("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),yz=pe("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),wz=[bz,yz];function _z(e,t,n,r,i,a){return ce(),je("svg",mz,wz)}var xz=ri(vz,[["render",_z],["__file","hide.vue"]]),Mz={name:"InfoFilled"},Cz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Tz=pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),Ez=[Tz];function Sz(e,t,n,r,i,a){return ce(),je("svg",Cz,Ez)}var Yw=ri(Mz,[["render",Sz],["__file","info-filled.vue"]]),Pz={name:"Loading"},Az={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},kz=pe("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),Oz=[kz];function Nz(e,t,n,r,i,a){return ce(),je("svg",Az,Oz)}var A2=ri(Pz,[["render",Nz],["__file","loading.vue"]]),Iz={name:"Minus"},Lz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Bz=pe("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),$z=[Bz];function Rz(e,t,n,r,i,a){return ce(),je("svg",Lz,$z)}var Fz=ri(Iz,[["render",Rz],["__file","minus.vue"]]),Dz={name:"Plus"},Hz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zz=pe("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),Vz=[zz];function Uz(e,t,n,r,i,a){return ce(),je("svg",Hz,Vz)}var Wz=ri(Dz,[["render",Uz],["__file","plus.vue"]]),jz={name:"SuccessFilled"},qz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Kz=pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),Gz=[Kz];function Yz(e,t,n,r,i,a){return ce(),je("svg",qz,Gz)}var Xw=ri(jz,[["render",Yz],["__file","success-filled.vue"]]),Xz={name:"View"},Jz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Qz=pe("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),Zz=[Qz];function eV(e,t,n,r,i,a){return ce(),je("svg",Jz,Zz)}var tV=ri(Xz,[["render",eV],["__file","view.vue"]]),nV={name:"WarningFilled"},rV={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},iV=pe("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),aV=[iV];function sV(e,t,n,r,i,a){return ce(),je("svg",rV,aV)}var Jw=ri(nV,[["render",sV],["__file","warning-filled.vue"]]);const Qw="__epPropKey",kt=e=>e,oV=e=>ln(e)&&!!e[Qw],Q1=(e,t)=>{if(!ln(e)||oV(e))return e;const{values:n,required:r,default:i,type:a,validator:s}=e,u={type:a,required:!!r,validator:n||s?c=>{let f=!1,h=[];if(n&&(h=Array.from(n),an(e,"default")&&h.push(i),f||(f=h.includes(c))),s&&(f||(f=s(c))),!f&&h.length>0){const p=[...new Set(h)].map(v=>JSON.stringify(v)).join(", ");q7(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${p}], got value ${JSON.stringify(c)}.`)}return f}:void 0,[Qw]:!0};return an(e,"default")&&(u.default=i),u},kn=e=>s1(Object.entries(e).map(([t,n])=>[t,Q1(n,t)])),Ks=kt([String,Object,Function]),lV={Close:am,SuccessFilled:Xw,InfoFilled:Yw,WarningFilled:Jw,CircleCloseFilled:Gw},Zw={success:Xw,warning:Jw,error:Gw,info:Yw},cV={validating:A2,success:ZH,error:P2},yi=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},uV=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Z1=e=>(e.install=qr,e),j0={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Fn="update:modelValue",Ba="change",rs="input",k2=["","default","small","large"],fV={large:40,default:32,small:24},dV=e=>fV[e||"default"],e_=e=>["",...k2].includes(e),t_=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),n_=()=>Math.floor(Math.random()*1e4),r_=e=>e,hV=["class","style"],pV=/^on[A-Z]/,gV=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=fe(()=>((n==null?void 0:n.value)||[]).concat(hV)),i=Yn();return fe(i?()=>{var a;return s1(Object.entries((a=i.proxy)==null?void 0:a.$attrs).filter(([s])=>!r.value.includes(s)&&!(t&&pV.test(s))))}:()=>({}))},O2=({from:e,replacement:t,scope:n,version:r,ref:i,type:a="API"},s)=>{Ze(()=>P(s),o=>{},{immediate:!0})},vV=e=>({focus:()=>{var t,n;(n=(t=e.value)==null?void 0:t.focus)==null||n.call(t)}});var mV={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const bV=e=>(t,n)=>yV(t,n,P(e)),yV=(e,t,n)=>ea(n,e,e).replace(/\{(\w+)\}/g,(r,i)=>{var a;return`${(a=t==null?void 0:t[i])!=null?a:`{${i}}`}`}),wV=e=>{const t=fe(()=>P(e).name),n=St(e)?e:He(e);return{lang:t,locale:n,t:bV(e)}},_V=Symbol("localeContextKey"),Bf=e=>{const t=e||on(_V,He());return wV(fe(()=>t.value||mV))},g6="el",xV="is-",v0=(e,t,n,r,i)=>{let a=`${e}-${t}`;return n&&(a+=`-${n}`),r&&(a+=`__${r}`),i&&(a+=`--${i}`),a},MV=Symbol("namespaceContextKey"),N2=e=>{const t=e||on(MV,He(g6));return fe(()=>P(t)||g6)},_n=(e,t)=>{const n=N2(t);return{namespace:n,b:(b="")=>v0(n.value,e,b,"",""),e:b=>b?v0(n.value,e,"",b,""):"",m:b=>b?v0(n.value,e,"","",b):"",be:(b,y)=>b&&y?v0(n.value,e,b,y,""):"",em:(b,y)=>b&&y?v0(n.value,e,"",b,y):"",bm:(b,y)=>b&&y?v0(n.value,e,b,"",y):"",bem:(b,y,x)=>b&&y&&x?v0(n.value,e,b,y,x):"",is:(b,...y)=>{const x=y.length>=1?y[0]:!0;return b&&x?`${xV}${b}`:""},cssVar:b=>{const y={};for(const x in b)b[x]&&(y[`--${n.value}-${x}`]=b[x]);return y},cssVarName:b=>`--${n.value}-${b}`,cssVarBlock:b=>{const y={};for(const x in b)b[x]&&(y[`--${n.value}-${e}-${x}`]=b[x]);return y},cssVarBlockName:b=>`--${n.value}-${e}-${b}`}},CV=Q1({type:kt(Boolean),default:null}),TV=Q1({type:kt(Function)}),i_=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],i={[e]:CV,[n]:TV};return{useModelToggle:({indicator:s,toggleReason:o,shouldHideWhenRouteChanges:u,shouldProceed:c,onShow:f,onHide:h})=>{const p=Yn(),{emit:v}=p,g=p.props,b=fe(()=>vt(g[n])),y=fe(()=>g[e]===null),x=S=>{s.value!==!0&&(s.value=!0,o&&(o.value=S),vt(f)&&f(S))},_=S=>{s.value!==!1&&(s.value=!1,o&&(o.value=S),vt(h)&&h(S))},E=S=>{if(g.disabled===!0||vt(c)&&!c())return;const k=b.value&&ni;k&&v(t,!0),(y.value||!k)&&x(S)},w=S=>{if(g.disabled===!0||!ni)return;const k=b.value&&ni;k&&v(t,!1),(y.value||!k)&&_(S)},M=S=>{R0(S)&&(g.disabled&&S?b.value&&v(t,!1):s.value!==S&&(S?x():_()))},T=()=>{s.value?w():E()};return Ze(()=>g[e],M),u&&p.appContext.config.globalProperties.$route!==void 0&&Ze(()=>({...p.proxy.$route}),()=>{u.value&&s.value&&w()}),Ln(()=>{M(g[e])}),{hide:w,show:E,toggle:T,hasUpdateHandler:b}},useModelToggleProps:i,useModelToggleEmits:r}};i_("modelValue");const a_=e=>{const t=Yn();return fe(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})};var vi="top",oa="bottom",la="right",mi="left",I2="auto",$f=[vi,oa,la,mi],rc="start",bf="end",EV="clippingParents",s_="viewport",vu="popper",SV="reference",v6=$f.reduce(function(e,t){return e.concat([t+"-"+rc,t+"-"+bf])},[]),wc=[].concat($f,[I2]).reduce(function(e,t){return e.concat([t,t+"-"+rc,t+"-"+bf])},[]),PV="beforeRead",AV="read",kV="afterRead",OV="beforeMain",NV="main",IV="afterMain",LV="beforeWrite",BV="write",$V="afterWrite",RV=[PV,AV,kV,OV,NV,IV,LV,BV,$V];function os(e){return e?(e.nodeName||"").toLowerCase():null}function Ra(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ic(e){var t=Ra(e).Element;return e instanceof t||e instanceof Element}function aa(e){var t=Ra(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function L2(e){if(typeof ShadowRoot>"u")return!1;var t=Ra(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function FV(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},a=t.elements[n];!aa(a)||!os(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function DV(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],a=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),o=s.reduce(function(u,c){return u[c]="",u},{});!aa(i)||!os(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(u){i.removeAttribute(u)}))})}}var o_={name:"applyStyles",enabled:!0,phase:"write",fn:FV,effect:DV,requires:["computeStyles"]};function is(e){return e.split("-")[0]}var F0=Math.max,o1=Math.min,ac=Math.round;function sc(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(aa(e)&&t){var a=e.offsetHeight,s=e.offsetWidth;s>0&&(r=ac(n.width)/s||1),a>0&&(i=ac(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function B2(e){var t=sc(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function l_(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&L2(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Gs(e){return Ra(e).getComputedStyle(e)}function HV(e){return["table","td","th"].indexOf(os(e))>=0}function jo(e){return((ic(e)?e.ownerDocument:e.document)||window.document).documentElement}function ep(e){return os(e)==="html"?e:e.assignedSlot||e.parentNode||(L2(e)?e.host:null)||jo(e)}function m6(e){return!aa(e)||Gs(e).position==="fixed"?null:e.offsetParent}function zV(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&aa(e)){var r=Gs(e);if(r.position==="fixed")return null}var i=ep(e);for(L2(i)&&(i=i.host);aa(i)&&["html","body"].indexOf(os(i))<0;){var a=Gs(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Rf(e){for(var t=Ra(e),n=m6(e);n&&HV(n)&&Gs(n).position==="static";)n=m6(n);return n&&(os(n)==="html"||os(n)==="body"&&Gs(n).position==="static")?t:n||zV(e)||t}function $2(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Wu(e,t,n){return F0(e,o1(t,n))}function VV(e,t,n){var r=Wu(e,t,n);return r>n?n:r}function c_(){return{top:0,right:0,bottom:0,left:0}}function u_(e){return Object.assign({},c_(),e)}function f_(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var UV=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,u_(typeof e!="number"?e:f_(e,$f))};function WV(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,o=is(n.placement),u=$2(o),c=[mi,la].indexOf(o)>=0,f=c?"height":"width";if(!(!a||!s)){var h=UV(i.padding,n),p=B2(a),v=u==="y"?vi:mi,g=u==="y"?oa:la,b=n.rects.reference[f]+n.rects.reference[u]-s[u]-n.rects.popper[f],y=s[u]-n.rects.reference[u],x=Rf(a),_=x?u==="y"?x.clientHeight||0:x.clientWidth||0:0,E=b/2-y/2,w=h[v],M=_-p[f]-h[g],T=_/2-p[f]/2+E,S=Wu(w,T,M),k=u;n.modifiersData[r]=(t={},t[k]=S,t.centerOffset=S-T,t)}}function jV(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!l_(t.elements.popper,i)||(t.elements.arrow=i))}var qV={name:"arrow",enabled:!0,phase:"main",fn:WV,effect:jV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oc(e){return e.split("-")[1]}var KV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function GV(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:ac(t*i)/i||0,y:ac(n*i)/i||0}}function b6(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,o=e.position,u=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,h=e.isFixed,p=s.x,v=p===void 0?0:p,g=s.y,b=g===void 0?0:g,y=typeof f=="function"?f({x:v,y:b}):{x:v,y:b};v=y.x,b=y.y;var x=s.hasOwnProperty("x"),_=s.hasOwnProperty("y"),E=mi,w=vi,M=window;if(c){var T=Rf(n),S="clientHeight",k="clientWidth";if(T===Ra(n)&&(T=jo(n),Gs(T).position!=="static"&&o==="absolute"&&(S="scrollHeight",k="scrollWidth")),T=T,i===vi||(i===mi||i===la)&&a===bf){w=oa;var L=h&&T===M&&M.visualViewport?M.visualViewport.height:T[S];b-=L-r.height,b*=u?1:-1}if(i===mi||(i===vi||i===oa)&&a===bf){E=la;var B=h&&T===M&&M.visualViewport?M.visualViewport.width:T[k];v-=B-r.width,v*=u?1:-1}}var H=Object.assign({position:o},c&&KV),D=f===!0?GV({x:v,y:b}):{x:v,y:b};if(v=D.x,b=D.y,u){var R;return Object.assign({},H,(R={},R[w]=_?"0":"",R[E]=x?"0":"",R.transform=(M.devicePixelRatio||1)<=1?"translate("+v+"px, "+b+"px)":"translate3d("+v+"px, "+b+"px, 0)",R))}return Object.assign({},H,(t={},t[w]=_?b+"px":"",t[E]=x?v+"px":"",t.transform="",t))}function YV(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,s=a===void 0?!0:a,o=n.roundOffsets,u=o===void 0?!0:o,c={placement:is(t.placement),variation:oc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,b6(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,b6(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var d_={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:YV,data:{}},lh={passive:!0};function XV(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,s=r.resize,o=s===void 0?!0:s,u=Ra(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(f){f.addEventListener("scroll",n.update,lh)}),o&&u.addEventListener("resize",n.update,lh),function(){a&&c.forEach(function(f){f.removeEventListener("scroll",n.update,lh)}),o&&u.removeEventListener("resize",n.update,lh)}}var h_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:XV,data:{}},JV={left:"right",right:"left",bottom:"top",top:"bottom"};function Rh(e){return e.replace(/left|right|bottom|top/g,function(t){return JV[t]})}var QV={start:"end",end:"start"};function y6(e){return e.replace(/start|end/g,function(t){return QV[t]})}function R2(e){var t=Ra(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function F2(e){return sc(jo(e)).left+R2(e).scrollLeft}function ZV(e){var t=Ra(e),n=jo(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,s=0,o=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,o=r.offsetTop)),{width:i,height:a,x:s+F2(e),y:o}}function eU(e){var t,n=jo(e),r=R2(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=F0(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=F0(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+F2(e),u=-r.scrollTop;return Gs(i||n).direction==="rtl"&&(o+=F0(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:u}}function D2(e){var t=Gs(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function p_(e){return["html","body","#document"].indexOf(os(e))>=0?e.ownerDocument.body:aa(e)&&D2(e)?e:p_(ep(e))}function ju(e,t){var n;t===void 0&&(t=[]);var r=p_(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=Ra(r),s=i?[a].concat(a.visualViewport||[],D2(r)?r:[]):r,o=t.concat(s);return i?o:o.concat(ju(ep(s)))}function sm(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function tU(e){var t=sc(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function w6(e,t){return t===s_?sm(ZV(e)):ic(t)?tU(t):sm(eU(jo(e)))}function nU(e){var t=ju(ep(e)),n=["absolute","fixed"].indexOf(Gs(e).position)>=0,r=n&&aa(e)?Rf(e):e;return ic(r)?t.filter(function(i){return ic(i)&&l_(i,r)&&os(i)!=="body"}):[]}function rU(e,t,n){var r=t==="clippingParents"?nU(e):[].concat(t),i=[].concat(r,[n]),a=i[0],s=i.reduce(function(o,u){var c=w6(e,u);return o.top=F0(c.top,o.top),o.right=o1(c.right,o.right),o.bottom=o1(c.bottom,o.bottom),o.left=F0(c.left,o.left),o},w6(e,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function g_(e){var t=e.reference,n=e.element,r=e.placement,i=r?is(r):null,a=r?oc(r):null,s=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2,u;switch(i){case vi:u={x:s,y:t.y-n.height};break;case oa:u={x:s,y:t.y+t.height};break;case la:u={x:t.x+t.width,y:o};break;case mi:u={x:t.x-n.width,y:o};break;default:u={x:t.x,y:t.y}}var c=i?$2(i):null;if(c!=null){var f=c==="y"?"height":"width";switch(a){case rc:u[c]=u[c]-(t[f]/2-n[f]/2);break;case bf:u[c]=u[c]+(t[f]/2-n[f]/2);break}}return u}function yf(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.boundary,s=a===void 0?EV:a,o=n.rootBoundary,u=o===void 0?s_:o,c=n.elementContext,f=c===void 0?vu:c,h=n.altBoundary,p=h===void 0?!1:h,v=n.padding,g=v===void 0?0:v,b=u_(typeof g!="number"?g:f_(g,$f)),y=f===vu?SV:vu,x=e.rects.popper,_=e.elements[p?y:f],E=rU(ic(_)?_:_.contextElement||jo(e.elements.popper),s,u),w=sc(e.elements.reference),M=g_({reference:w,element:x,strategy:"absolute",placement:i}),T=sm(Object.assign({},x,M)),S=f===vu?T:w,k={top:E.top-S.top+b.top,bottom:S.bottom-E.bottom+b.bottom,left:E.left-S.left+b.left,right:S.right-E.right+b.right},L=e.modifiersData.offset;if(f===vu&&L){var B=L[i];Object.keys(k).forEach(function(H){var D=[la,oa].indexOf(H)>=0?1:-1,R=[vi,oa].indexOf(H)>=0?"y":"x";k[H]+=B[R]*D})}return k}function iU(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,s=n.padding,o=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?wc:u,f=oc(r),h=f?o?v6:v6.filter(function(g){return oc(g)===f}):$f,p=h.filter(function(g){return c.indexOf(g)>=0});p.length===0&&(p=h);var v=p.reduce(function(g,b){return g[b]=yf(e,{placement:b,boundary:i,rootBoundary:a,padding:s})[is(b)],g},{});return Object.keys(v).sort(function(g,b){return v[g]-v[b]})}function aU(e){if(is(e)===I2)return[];var t=Rh(e);return[y6(e),t,y6(t)]}function sU(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!0:s,u=n.fallbackPlacements,c=n.padding,f=n.boundary,h=n.rootBoundary,p=n.altBoundary,v=n.flipVariations,g=v===void 0?!0:v,b=n.allowedAutoPlacements,y=t.options.placement,x=is(y),_=x===y,E=u||(_||!g?[Rh(y)]:aU(y)),w=[y].concat(E).reduce(function(ve,De){return ve.concat(is(De)===I2?iU(t,{placement:De,boundary:f,rootBoundary:h,padding:c,flipVariations:g,allowedAutoPlacements:b}):De)},[]),M=t.rects.reference,T=t.rects.popper,S=new Map,k=!0,L=w[0],B=0;B<w.length;B++){var H=w[B],D=is(H),R=oc(H)===rc,z=[vi,oa].indexOf(D)>=0,j=z?"width":"height",I=yf(t,{placement:H,boundary:f,rootBoundary:h,altBoundary:p,padding:c}),N=z?R?la:mi:R?oa:vi;M[j]>T[j]&&(N=Rh(N));var U=Rh(N),Y=[];if(a&&Y.push(I[D]<=0),o&&Y.push(I[N]<=0,I[U]<=0),Y.every(function(ve){return ve})){L=H,k=!1;break}S.set(H,Y)}if(k)for(var Z=g?3:1,ge=function(ve){var De=w.find(function(Be){var nt=S.get(Be);if(nt)return nt.slice(0,ve).every(function(Me){return Me})});if(De)return L=De,"break"},ie=Z;ie>0;ie--){var me=ge(ie);if(me==="break")break}t.placement!==L&&(t.modifiersData[r]._skip=!0,t.placement=L,t.reset=!0)}}var oU={name:"flip",enabled:!0,phase:"main",fn:sU,requiresIfExists:["offset"],data:{_skip:!1}};function _6(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function x6(e){return[vi,la,oa,mi].some(function(t){return e[t]>=0})}function lU(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,s=yf(t,{elementContext:"reference"}),o=yf(t,{altBoundary:!0}),u=_6(s,r),c=_6(o,i,a),f=x6(u),h=x6(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":h})}var cU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:lU};function uU(e,t,n){var r=is(e),i=[mi,vi].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[mi,la].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function fU(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,s=wc.reduce(function(f,h){return f[h]=uU(h,t.rects,a),f},{}),o=s[t.placement],u=o.x,c=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}var dU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fU};function hU(e){var t=e.state,n=e.name;t.modifiersData[n]=g_({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var v_={name:"popperOffsets",enabled:!0,phase:"read",fn:hU,data:{}};function pU(e){return e==="x"?"y":"x"}function gU(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!1:s,u=n.boundary,c=n.rootBoundary,f=n.altBoundary,h=n.padding,p=n.tether,v=p===void 0?!0:p,g=n.tetherOffset,b=g===void 0?0:g,y=yf(t,{boundary:u,rootBoundary:c,padding:h,altBoundary:f}),x=is(t.placement),_=oc(t.placement),E=!_,w=$2(x),M=pU(w),T=t.modifiersData.popperOffsets,S=t.rects.reference,k=t.rects.popper,L=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,B=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),H=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(T){if(a){var R,z=w==="y"?vi:mi,j=w==="y"?oa:la,I=w==="y"?"height":"width",N=T[w],U=N+y[z],Y=N-y[j],Z=v?-k[I]/2:0,ge=_===rc?S[I]:k[I],ie=_===rc?-k[I]:-S[I],me=t.elements.arrow,ve=v&&me?B2(me):{width:0,height:0},De=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:c_(),Be=De[z],nt=De[j],Me=Wu(0,S[I],ve[I]),at=E?S[I]/2-Z-Me-Be-B.mainAxis:ge-Me-Be-B.mainAxis,Ue=E?-S[I]/2+Z+Me+nt+B.mainAxis:ie+Me+nt+B.mainAxis,Xe=t.elements.arrow&&Rf(t.elements.arrow),W=Xe?w==="y"?Xe.clientTop||0:Xe.clientLeft||0:0,X=(R=H==null?void 0:H[w])!=null?R:0,ae=N+at-X-W,ee=N+Ue-X,xe=Wu(v?o1(U,ae):U,N,v?F0(Y,ee):Y);T[w]=xe,D[w]=xe-N}if(o){var Se,Ve=w==="x"?vi:mi,Te=w==="x"?oa:la,te=T[M],se=M==="y"?"height":"width",ke=te+y[Ve],Pe=te-y[Te],oe=[vi,mi].indexOf(x)!==-1,$e=(Se=H==null?void 0:H[M])!=null?Se:0,qe=oe?ke:te-S[se]-k[se]-$e+B.altAxis,et=oe?te+S[se]+k[se]-$e-B.altAxis:Pe,lt=v&&oe?VV(qe,te,et):Wu(v?qe:ke,te,v?et:Pe);T[M]=lt,D[M]=lt-te}t.modifiersData[r]=D}}var vU={name:"preventOverflow",enabled:!0,phase:"main",fn:gU,requiresIfExists:["offset"]};function mU(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function bU(e){return e===Ra(e)||!aa(e)?R2(e):mU(e)}function yU(e){var t=e.getBoundingClientRect(),n=ac(t.width)/e.offsetWidth||1,r=ac(t.height)/e.offsetHeight||1;return n!==1||r!==1}function wU(e,t,n){n===void 0&&(n=!1);var r=aa(t),i=aa(t)&&yU(t),a=jo(t),s=sc(e,i),o={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((os(t)!=="body"||D2(a))&&(o=bU(t)),aa(t)?(u=sc(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=F2(a))),{x:s.left+o.scrollLeft-u.x,y:s.top+o.scrollTop-u.y,width:s.width,height:s.height}}function _U(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function i(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!n.has(o)){var u=t.get(o);u&&i(u)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||i(a)}),r}function xU(e){var t=_U(e);return RV.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function MU(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function CU(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var M6={placement:"bottom",modifiers:[],strategy:"absolute"};function C6(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function H2(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?M6:i;return function(s,o,u){u===void 0&&(u=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},M6,a),modifiersData:{},elements:{reference:s,popper:o},attributes:{},styles:{}},f=[],h=!1,p={state:c,setOptions:function(b){var y=typeof b=="function"?b(c.options):b;g(),c.options=Object.assign({},a,c.options,y),c.scrollParents={reference:ic(s)?ju(s):s.contextElement?ju(s.contextElement):[],popper:ju(o)};var x=xU(CU([].concat(r,c.options.modifiers)));return c.orderedModifiers=x.filter(function(_){return _.enabled}),v(),p.update()},forceUpdate:function(){if(!h){var b=c.elements,y=b.reference,x=b.popper;if(C6(y,x)){c.rects={reference:wU(y,Rf(x),c.options.strategy==="fixed"),popper:B2(x)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(k){return c.modifiersData[k.name]=Object.assign({},k.data)});for(var _=0;_<c.orderedModifiers.length;_++){if(c.reset===!0){c.reset=!1,_=-1;continue}var E=c.orderedModifiers[_],w=E.fn,M=E.options,T=M===void 0?{}:M,S=E.name;typeof w=="function"&&(c=w({state:c,options:T,name:S,instance:p})||c)}}}},update:MU(function(){return new Promise(function(b){p.forceUpdate(),b(c)})}),destroy:function(){g(),h=!0}};if(!C6(s,o))return p;p.setOptions(u).then(function(b){!h&&u.onFirstUpdate&&u.onFirstUpdate(b)});function v(){c.orderedModifiers.forEach(function(b){var y=b.name,x=b.options,_=x===void 0?{}:x,E=b.effect;if(typeof E=="function"){var w=E({state:c,name:y,instance:p,options:_}),M=function(){};f.push(w||M)}})}function g(){f.forEach(function(b){return b()}),f=[]}return p}}H2();var TU=[h_,v_,d_,o_];H2({defaultModifiers:TU});var EU=[h_,v_,d_,o_,dU,oU,vU,qV,cU],SU=H2({defaultModifiers:EU});const PU=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:u})=>{const c=AU(u);Object.assign(s.value,c)},requires:["computeStyles"]},i=fe(()=>{const{onFirstUpdate:u,placement:c,strategy:f,modifiers:h}=P(n);return{onFirstUpdate:u,placement:c||"bottom",strategy:f||"absolute",modifiers:[...h||[],r,{name:"applyStyles",enabled:!1}]}}),a=No(),s=He({styles:{popper:{position:P(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return Ze(i,u=>{const c=P(a);c&&c.setOptions(u)},{deep:!0}),Ze([e,t],([u,c])=>{o(),!(!u||!c)&&(a.value=SU(u,c,P(i)))}),Gr(()=>{o()}),{state:fe(()=>{var u;return{...((u=P(a))==null?void 0:u.state)||{}}}),styles:fe(()=>P(s).styles),attributes:fe(()=>P(s).attributes),update:()=>{var u;return(u=P(a))==null?void 0:u.update()},forceUpdate:()=>{var u;return(u=P(a))==null?void 0:u.forceUpdate()},instanceRef:fe(()=>P(a))}};function AU(e){const t=Object.keys(e.elements),n=s1(t.map(i=>[i,e.styles[i]||{}])),r=s1(t.map(i=>[i,e.attributes[i]]));return{styles:n,attributes:r}}function T6(){let e;const t=(r,i)=>{n(),e=window.setTimeout(r,i)},n=()=>window.clearTimeout(e);return M2(()=>n()),{registerTimeout:t,cancelTimeout:n}}const E6={prefix:Math.floor(Math.random()*1e4),current:0},m_=Symbol("elIdInjection"),b_=()=>Yn()?on(m_,E6):E6,y_=e=>{const t=b_(),n=N2();return fe(()=>P(e)||`${n.value}-id-${t.prefix}-${t.current++}`)};let Dl=[];const S6=e=>{const t=e;t.key===j0.esc&&Dl.forEach(n=>n(t))},kU=e=>{Ln(()=>{Dl.length===0&&document.addEventListener("keydown",S6),ni&&Dl.push(e)}),Gr(()=>{Dl=Dl.filter(t=>t!==e),Dl.length===0&&ni&&document.removeEventListener("keydown",S6)})};let P6;const w_=()=>{const e=N2(),t=b_(),n=fe(()=>`${e.value}-popper-container-${t.prefix}`),r=fe(()=>`#${n.value}`);return{id:n,selector:r}},OU=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},NU=()=>{const{id:e,selector:t}=w_();return o2(()=>{ni&&!P6&&!document.body.querySelector(t.value)&&(P6=OU(e.value))}),{id:e,selector:t}},IU=kn({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),LU=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:i})=>{const{registerTimeout:a}=T6(),{registerTimeout:s,cancelTimeout:o}=T6();return{onOpen:f=>{a(()=>{r(f);const h=P(n);Sn(h)&&h>0&&s(()=>{i(f)},h)},P(e))},onClose:f=>{o(),a(()=>{i(f)},P(t))}}},__=Symbol("elForwardRef"),BU=e=>{$r(__,{setForwardRef:n=>{e.value=n}})},$U=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),A6=He(0),RU=2e3,FU=Symbol("zIndexContextKey"),DU=e=>{const t=e||on(FU,void 0),n=fe(()=>{const a=P(t);return Sn(a)?a:RU}),r=fe(()=>n.value+A6.value);return{initialZIndex:n,currentZIndex:r,nextZIndex:()=>(A6.value++,r.value)}};function HU(e){const t=He();function n(){if(e.value==null)return;const{selectionStart:i,selectionEnd:a,value:s}=e.value;if(i==null||a==null)return;const o=s.slice(0,Math.max(0,i)),u=s.slice(Math.max(0,a));t.value={selectionStart:i,selectionEnd:a,value:s,beforeTxt:o,afterTxt:u}}function r(){if(e.value==null||t.value==null)return;const{value:i}=e.value,{beforeTxt:a,afterTxt:s,selectionStart:o}=t.value;if(a==null||s==null||o==null)return;let u=i.length;if(i.endsWith(s))u=i.length-s.length;else if(i.startsWith(a))u=a.length;else{const c=a[o-1],f=i.indexOf(c,o-1);f!==-1&&(u=f+1)}e.value.setSelectionRange(u,u)}return[n,r]}const wf=Q1({type:String,values:k2,required:!1}),zU=Symbol("size"),VU=()=>{const e=on(zU,{});return fe(()=>P(e.size)||"")},UU=Symbol(),k6=He();function WU(e,t=void 0){const n=Yn()?on(UU,k6):k6;return e?fe(()=>{var r,i;return(i=(r=n.value)==null?void 0:r[e])!=null?i:t}):n}var mn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const jU=kn({size:{type:kt([Number,String])},color:{type:String}}),qU=pt({name:"ElIcon",inheritAttrs:!1}),KU=pt({...qU,props:jU,setup(e){const t=e,n=_n("icon"),r=fe(()=>{const{size:i,color:a}=t;return!i&&!a?{}:{fontSize:ku(i)?void 0:mf(i),"--color":a}});return(i,a)=>(ce(),je("i",ra({class:P(n).b(),style:P(r)},i.$attrs),[Kt(i.$slots,"default")],16))}});var GU=mn(KU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const _r=yi(GU),YU=["light","dark"],XU=kn({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:SH(Zw),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:YU,default:"light"}}),JU={close:e=>e instanceof MouseEvent},QU=pt({name:"ElAlert"}),ZU=pt({...QU,props:XU,emits:JU,setup(e,{emit:t}){const n=e,{Close:r}=lV,i=W1(),a=_n("alert"),s=He(!0),o=fe(()=>Zw[n.type]),u=fe(()=>[a.e("icon"),{[a.is("big")]:!!n.description||!!i.default}]),c=fe(()=>({[a.is("bold")]:n.description||i.default})),f=h=>{s.value=!1,t("close",h)};return(h,p)=>(ce(),Je(ss,{name:P(a).b("fade"),persisted:""},{default:Re(()=>[gi(pe("div",{class:We([P(a).b(),P(a).m(h.type),P(a).is("center",h.center),P(a).is(h.effect)]),role:"alert"},[h.showIcon&&P(o)?(ce(),Je(P(_r),{key:0,class:We(P(u))},{default:Re(()=>[(ce(),Je(jr(P(o))))]),_:1},8,["class"])):st("v-if",!0),pe("div",{class:We(P(a).e("content"))},[h.title||h.$slots.title?(ce(),je("span",{key:0,class:We([P(a).e("title"),P(c)])},[Kt(h.$slots,"title",{},()=>[gt(Rn(h.title),1)])],2)):st("v-if",!0),h.$slots.default||h.description?(ce(),je("p",{key:1,class:We(P(a).e("description"))},[Kt(h.$slots,"default",{},()=>[gt(Rn(h.description),1)])],2)):st("v-if",!0),h.closable?(ce(),je(qt,{key:2},[h.closeText?(ce(),je("div",{key:0,class:We([P(a).e("close-btn"),P(a).is("customed")]),onClick:f},Rn(h.closeText),3)):(ce(),Je(P(_r),{key:1,class:We(P(a).e("close-btn")),onClick:f},{default:Re(()=>[Ae(P(r))]),_:1},8,["class"]))],64)):st("v-if",!0)],2)],2),[[us,s.value]])]),_:3},8,["name"]))}});var eW=mn(ZU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const tW=yi(eW),z2=Symbol("formContextKey"),l1=Symbol("formItemContextKey"),J0=(e,t={})=>{const n=He(void 0),r=t.prop?n:a_("size"),i=t.global?n:VU(),a=t.form?{size:void 0}:on(z2,void 0),s=t.formItem?{size:void 0}:on(l1,void 0);return fe(()=>r.value||P(e)||(s==null?void 0:s.size)||(a==null?void 0:a.size)||i.value||"")},Ff=e=>{const t=a_("disabled"),n=on(z2,void 0);return fe(()=>t.value||P(e)||(n==null?void 0:n.disabled)||!1)},_c=()=>{const e=on(z2,void 0),t=on(l1,void 0);return{form:e,formItem:t}},V2=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=He(!1)),r||(r=He(!1));const i=He();let a;const s=fe(()=>{var o;return!!(!e.label&&t&&t.inputIds&&((o=t.inputIds)==null?void 0:o.length)<=1)});return Ln(()=>{a=Ze([Wr(e,"id"),n],([o,u])=>{const c=o??(u?void 0:y_().value);c!==i.value&&(t!=null&&t.removeInputId&&(i.value&&t.removeInputId(i.value),!(r!=null&&r.value)&&!u&&c&&t.addInputId(c)),i.value=c)},{immediate:!0})}),Nf(()=>{a&&a(),t!=null&&t.removeInputId&&i.value&&t.removeInputId(i.value)}),{isLabeledByFormItem:s,inputId:i}};let Ma;const nW=`
  height:0 !important;
  visibility:hidden !important;
  ${V$()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,rW=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function iW(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),i=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:rW.map(s=>`${s}:${t.getPropertyValue(s)}`).join(";"),paddingSize:r,borderSize:i,boxSizing:n}}function O6(e,t=1,n){var r;Ma||(Ma=document.createElement("textarea"),document.body.appendChild(Ma));const{paddingSize:i,borderSize:a,boxSizing:s,contextStyle:o}=iW(e);Ma.setAttribute("style",`${o};${nW}`),Ma.value=e.value||e.placeholder||"";let u=Ma.scrollHeight;const c={};s==="border-box"?u=u+a:s==="content-box"&&(u=u-i),Ma.value="";const f=Ma.scrollHeight-i;if(Sn(t)){let h=f*t;s==="border-box"&&(h=h+i+a),u=Math.max(h,u),c.minHeight=`${h}px`}if(Sn(n)){let h=f*n;s==="border-box"&&(h=h+i+a),u=Math.min(h,u)}return c.height=`${u}px`,(r=Ma.parentNode)==null||r.removeChild(Ma),Ma=void 0,c}const aW=kn({id:{type:String,default:void 0},size:wf,disabled:Boolean,modelValue:{type:kt([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:kt([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ks},prefixIcon:{type:Ks},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:kt([Object,Array,String]),default:()=>r_({})}}),sW={[Fn]:e=>Gt(e),input:e=>Gt(e),change:e=>Gt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},oW=["role"],lW=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],cW=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],uW=pt({name:"ElInput",inheritAttrs:!1}),fW=pt({...uW,props:aW,emits:sW,setup(e,{expose:t,emit:n}){const r=e,i=R9(),a=W1(),s=fe(()=>{const oe={};return r.containerRole==="combobox"&&(oe["aria-haspopup"]=i["aria-haspopup"],oe["aria-owns"]=i["aria-owns"],oe["aria-expanded"]=i["aria-expanded"]),oe}),o=fe(()=>[r.type==="textarea"?y.b():b.b(),b.m(v.value),b.is("disabled",g.value),b.is("exceed",ge.value),{[b.b("group")]:a.prepend||a.append,[b.bm("group","append")]:a.append,[b.bm("group","prepend")]:a.prepend,[b.m("prefix")]:a.prefix||r.prefixIcon,[b.m("suffix")]:a.suffix||r.suffixIcon||r.clearable||r.showPassword,[b.bm("suffix","password-clear")]:N.value&&U.value},i.class]),u=fe(()=>[b.e("wrapper"),b.is("focus",E.value)]),c=gV({excludeKeys:fe(()=>Object.keys(s.value))}),{form:f,formItem:h}=_c(),{inputId:p}=V2(r,{formItemContext:h}),v=J0(),g=Ff(),b=_n("input"),y=_n("textarea"),x=No(),_=No(),E=He(!1),w=He(!1),M=He(!1),T=He(!1),S=He(),k=No(r.inputStyle),L=fe(()=>x.value||_.value),B=fe(()=>{var oe;return(oe=f==null?void 0:f.statusIcon)!=null?oe:!1}),H=fe(()=>(h==null?void 0:h.validateState)||""),D=fe(()=>H.value&&cV[H.value]),R=fe(()=>T.value?tV:xz),z=fe(()=>[i.style,r.inputStyle]),j=fe(()=>[r.inputStyle,k.value,{resize:r.resize}]),I=fe(()=>Vs(r.modelValue)?"":String(r.modelValue)),N=fe(()=>r.clearable&&!g.value&&!r.readonly&&!!I.value&&(E.value||w.value)),U=fe(()=>r.showPassword&&!g.value&&!r.readonly&&!!I.value&&(!!I.value||E.value)),Y=fe(()=>r.showWordLimit&&!!c.value.maxlength&&(r.type==="text"||r.type==="textarea")&&!g.value&&!r.readonly&&!r.showPassword),Z=fe(()=>I.value.length),ge=fe(()=>!!Y.value&&Z.value>Number(c.value.maxlength)),ie=fe(()=>!!a.suffix||!!r.suffixIcon||N.value||r.showPassword||Y.value||!!H.value&&B.value),[me,ve]=HU(x);G1(_,oe=>{if(nt(),!Y.value||r.resize!=="both")return;const $e=oe[0],{width:qe}=$e.contentRect;S.value={right:`calc(100% - ${qe+15+6}px)`}});const De=()=>{const{type:oe,autosize:$e}=r;if(!(!ni||oe!=="textarea"||!_.value))if($e){const qe=ln($e)?$e.minRows:void 0,et=ln($e)?$e.maxRows:void 0,lt=O6(_.value,qe,et);k.value={overflowY:"hidden",...lt},Qt(()=>{_.value.offsetHeight,k.value=lt})}else k.value={minHeight:O6(_.value).minHeight}},nt=(oe=>{let $e=!1;return()=>{var qe;if($e||!r.autosize)return;((qe=_.value)==null?void 0:qe.offsetParent)===null||(oe(),$e=!0)}})(De),Me=()=>{const oe=L.value;!oe||oe.value===I.value||(oe.value=I.value)},at=async oe=>{me();let{value:$e}=oe.target;if(r.formatter&&($e=r.parser?r.parser($e):$e,$e=r.formatter($e)),!M.value){if($e===I.value){Me();return}n(Fn,$e),n("input",$e),await Qt(),Me(),ve()}},Ue=oe=>{n("change",oe.target.value)},Xe=oe=>{n("compositionstart",oe),M.value=!0},W=oe=>{var $e;n("compositionupdate",oe);const qe=($e=oe.target)==null?void 0:$e.value,et=qe[qe.length-1]||"";M.value=!t_(et)},X=oe=>{n("compositionend",oe),M.value&&(M.value=!1,at(oe))},ae=()=>{T.value=!T.value,ee()},ee=async()=>{var oe;await Qt(),(oe=L.value)==null||oe.focus()},xe=()=>{var oe;return(oe=L.value)==null?void 0:oe.blur()},Se=oe=>{E.value=!0,n("focus",oe)},Ve=oe=>{var $e;E.value=!1,n("blur",oe),r.validateEvent&&(($e=h==null?void 0:h.validate)==null||$e.call(h,"blur").catch(qe=>void 0))},Te=oe=>{w.value=!1,n("mouseleave",oe)},te=oe=>{w.value=!0,n("mouseenter",oe)},se=oe=>{n("keydown",oe)},ke=()=>{var oe;(oe=L.value)==null||oe.select()},Pe=()=>{n(Fn,""),n("change",""),n("clear"),n("input","")};return Ze(()=>r.modelValue,()=>{var oe;Qt(()=>De()),r.validateEvent&&((oe=h==null?void 0:h.validate)==null||oe.call(h,"change").catch($e=>void 0))}),Ze(I,()=>Me()),Ze(()=>r.type,async()=>{await Qt(),Me(),De()}),Ln(()=>{!r.formatter&&r.parser,Me(),Qt(De)}),t({input:x,textarea:_,ref:L,textareaStyle:j,autosize:Wr(r,"autosize"),focus:ee,blur:xe,select:ke,clear:Pe,resizeTextarea:De}),(oe,$e)=>gi((ce(),je("div",ra(P(s),{class:P(o),style:P(z),role:oe.containerRole,onMouseenter:te,onMouseleave:Te}),[st(" input "),oe.type!=="textarea"?(ce(),je(qt,{key:0},[st(" prepend slot "),oe.$slots.prepend?(ce(),je("div",{key:0,class:We(P(b).be("group","prepend"))},[Kt(oe.$slots,"prepend")],2)):st("v-if",!0),pe("div",{class:We(P(u))},[st(" prefix slot "),oe.$slots.prefix||oe.prefixIcon?(ce(),je("span",{key:0,class:We(P(b).e("prefix"))},[pe("span",{class:We(P(b).e("prefix-inner")),onClick:ee},[Kt(oe.$slots,"prefix"),oe.prefixIcon?(ce(),Je(P(_r),{key:0,class:We(P(b).e("icon"))},{default:Re(()=>[(ce(),Je(jr(oe.prefixIcon)))]),_:1},8,["class"])):st("v-if",!0)],2)],2)):st("v-if",!0),pe("input",ra({id:P(p),ref_key:"input",ref:x,class:P(b).e("inner")},P(c),{type:oe.showPassword?T.value?"text":"password":oe.type,disabled:P(g),formatter:oe.formatter,parser:oe.parser,readonly:oe.readonly,autocomplete:oe.autocomplete,tabindex:oe.tabindex,"aria-label":oe.label,placeholder:oe.placeholder,style:oe.inputStyle,form:r.form,onCompositionstart:Xe,onCompositionupdate:W,onCompositionend:X,onInput:at,onFocus:Se,onBlur:Ve,onChange:Ue,onKeydown:se}),null,16,lW),st(" suffix slot "),P(ie)?(ce(),je("span",{key:1,class:We(P(b).e("suffix"))},[pe("span",{class:We(P(b).e("suffix-inner")),onClick:ee},[!P(N)||!P(U)||!P(Y)?(ce(),je(qt,{key:0},[Kt(oe.$slots,"suffix"),oe.suffixIcon?(ce(),Je(P(_r),{key:0,class:We(P(b).e("icon"))},{default:Re(()=>[(ce(),Je(jr(oe.suffixIcon)))]),_:1},8,["class"])):st("v-if",!0)],64)):st("v-if",!0),P(N)?(ce(),Je(P(_r),{key:1,class:We([P(b).e("icon"),P(b).e("clear")]),onMousedown:Sr(P(qr),["prevent"]),onClick:Pe},{default:Re(()=>[Ae(P(P2))]),_:1},8,["class","onMousedown"])):st("v-if",!0),P(U)?(ce(),Je(P(_r),{key:2,class:We([P(b).e("icon"),P(b).e("password")]),onClick:ae},{default:Re(()=>[(ce(),Je(jr(P(R))))]),_:1},8,["class"])):st("v-if",!0),P(Y)?(ce(),je("span",{key:3,class:We(P(b).e("count"))},[pe("span",{class:We(P(b).e("count-inner"))},Rn(P(Z))+" / "+Rn(P(c).maxlength),3)],2)):st("v-if",!0),P(H)&&P(D)&&P(B)?(ce(),Je(P(_r),{key:4,class:We([P(b).e("icon"),P(b).e("validateIcon"),P(b).is("loading",P(H)==="validating")])},{default:Re(()=>[(ce(),Je(jr(P(D))))]),_:1},8,["class"])):st("v-if",!0)],2)],2)):st("v-if",!0)],2),st(" append slot "),oe.$slots.append?(ce(),je("div",{key:1,class:We(P(b).be("group","append"))},[Kt(oe.$slots,"append")],2)):st("v-if",!0)],64)):(ce(),je(qt,{key:1},[st(" textarea "),pe("textarea",ra({id:P(p),ref_key:"textarea",ref:_,class:P(y).e("inner")},P(c),{tabindex:oe.tabindex,disabled:P(g),readonly:oe.readonly,autocomplete:oe.autocomplete,style:P(j),"aria-label":oe.label,placeholder:oe.placeholder,form:r.form,onCompositionstart:Xe,onCompositionupdate:W,onCompositionend:X,onInput:at,onFocus:Se,onBlur:Ve,onChange:Ue,onKeydown:se}),null,16,cW),P(Y)?(ce(),je("span",{key:0,style:Pn(S.value),class:We(P(b).e("count"))},Rn(P(Z))+" / "+Rn(P(c).maxlength),7)):st("v-if",!0)],64))],16,oW)),[[us,oe.type!=="hidden"]])}});var dW=mn(fW,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const U2=yi(dW),zl=4,hW={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},pW=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),x_=Symbol("scrollbarContextKey"),gW=kn({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),vW="Thumb",mW=pt({__name:"thumb",props:gW,setup(e){const t=e,n=on(x_),r=_n("scrollbar");n||S2(vW,"can not inject scrollbar context");const i=He(),a=He(),s=He({}),o=He(!1);let u=!1,c=!1,f=ni?document.onselectstart:null;const h=fe(()=>hW[t.vertical?"vertical":"horizontal"]),p=fe(()=>pW({size:t.size,move:t.move,bar:h.value})),v=fe(()=>i.value[h.value.offset]**2/n.wrapElement[h.value.scrollSize]/t.ratio/a.value[h.value.offset]),g=T=>{var S;if(T.stopPropagation(),T.ctrlKey||[1,2].includes(T.button))return;(S=window.getSelection())==null||S.removeAllRanges(),y(T);const k=T.currentTarget;k&&(s.value[h.value.axis]=k[h.value.offset]-(T[h.value.client]-k.getBoundingClientRect()[h.value.direction]))},b=T=>{if(!a.value||!i.value||!n.wrapElement)return;const S=Math.abs(T.target.getBoundingClientRect()[h.value.direction]-T[h.value.client]),k=a.value[h.value.offset]/2,L=(S-k)*100*v.value/i.value[h.value.offset];n.wrapElement[h.value.scroll]=L*n.wrapElement[h.value.scrollSize]/100},y=T=>{T.stopImmediatePropagation(),u=!0,document.addEventListener("mousemove",x),document.addEventListener("mouseup",_),f=document.onselectstart,document.onselectstart=()=>!1},x=T=>{if(!i.value||!a.value||u===!1)return;const S=s.value[h.value.axis];if(!S)return;const k=(i.value.getBoundingClientRect()[h.value.direction]-T[h.value.client])*-1,L=a.value[h.value.offset]-S,B=(k-L)*100*v.value/i.value[h.value.offset];n.wrapElement[h.value.scroll]=B*n.wrapElement[h.value.scrollSize]/100},_=()=>{u=!1,s.value[h.value.axis]=0,document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",_),M(),c&&(o.value=!1)},E=()=>{c=!1,o.value=!!t.size},w=()=>{c=!0,o.value=u};Gr(()=>{M(),document.removeEventListener("mouseup",_)});const M=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return $0(Wr(n,"scrollbarElement"),"mousemove",E),$0(Wr(n,"scrollbarElement"),"mouseleave",w),(T,S)=>(ce(),Je(ss,{name:P(r).b("fade"),persisted:""},{default:Re(()=>[gi(pe("div",{ref_key:"instance",ref:i,class:We([P(r).e("bar"),P(r).is(P(h).key)]),onMousedown:b},[pe("div",{ref_key:"thumb",ref:a,class:We(P(r).e("thumb")),style:Pn(P(p)),onMousedown:g},null,38)],34),[[us,T.always||o.value]])]),_:1},8,["name"]))}});var N6=mn(mW,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const bW=kn({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),yW=pt({__name:"bar",props:bW,setup(e,{expose:t}){const n=e,r=He(0),i=He(0);return t({handleScroll:s=>{if(s){const o=s.offsetHeight-zl,u=s.offsetWidth-zl;i.value=s.scrollTop*100/o*n.ratioY,r.value=s.scrollLeft*100/u*n.ratioX}}}),(s,o)=>(ce(),je(qt,null,[Ae(N6,{move:r.value,ratio:s.ratioX,size:s.width,always:s.always},null,8,["move","ratio","size","always"]),Ae(N6,{move:i.value,ratio:s.ratioY,size:s.height,vertical:"",always:s.always},null,8,["move","ratio","size","always"])],64))}});var wW=mn(yW,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const _W=kn({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:kt([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),xW={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(Sn)},MW="ElScrollbar",CW=pt({name:MW}),TW=pt({...CW,props:_W,emits:xW,setup(e,{expose:t,emit:n}){const r=e,i=_n("scrollbar");let a,s;const o=He(),u=He(),c=He(),f=He("0"),h=He("0"),p=He(),v=He(1),g=He(1),b=fe(()=>{const S={};return r.height&&(S.height=mf(r.height)),r.maxHeight&&(S.maxHeight=mf(r.maxHeight)),[r.wrapStyle,S]}),y=fe(()=>[r.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!r.native}]),x=fe(()=>[i.e("view"),r.viewClass]),_=()=>{var S;u.value&&((S=p.value)==null||S.handleScroll(u.value),n("scroll",{scrollTop:u.value.scrollTop,scrollLeft:u.value.scrollLeft}))};function E(S,k){ln(S)?u.value.scrollTo(S):Sn(S)&&Sn(k)&&u.value.scrollTo(S,k)}const w=S=>{Sn(S)&&(u.value.scrollTop=S)},M=S=>{Sn(S)&&(u.value.scrollLeft=S)},T=()=>{if(!u.value)return;const S=u.value.offsetHeight-zl,k=u.value.offsetWidth-zl,L=S**2/u.value.scrollHeight,B=k**2/u.value.scrollWidth,H=Math.max(L,r.minSize),D=Math.max(B,r.minSize);v.value=L/(S-L)/(H/(S-H)),g.value=B/(k-B)/(D/(k-D)),h.value=H+zl<S?`${H}px`:"",f.value=D+zl<k?`${D}px`:""};return Ze(()=>r.noresize,S=>{S?(a==null||a(),s==null||s()):({stop:a}=G1(c,T),s=$0("resize",T))},{immediate:!0}),Ze(()=>[r.maxHeight,r.height],()=>{r.native||Qt(()=>{var S;T(),u.value&&((S=p.value)==null||S.handleScroll(u.value))})}),$r(x_,xr({scrollbarElement:o,wrapElement:u})),Ln(()=>{r.native||Qt(()=>{T()})}),vc(()=>T()),t({wrapRef:u,update:T,scrollTo:E,setScrollTop:w,setScrollLeft:M,handleScroll:_}),(S,k)=>(ce(),je("div",{ref_key:"scrollbarRef",ref:o,class:We(P(i).b())},[pe("div",{ref_key:"wrapRef",ref:u,class:We(P(y)),style:Pn(P(b)),onScroll:_},[(ce(),Je(jr(S.tag),{ref_key:"resizeRef",ref:c,class:We(P(x)),style:Pn(S.viewStyle)},{default:Re(()=>[Kt(S.$slots,"default")]),_:3},8,["class","style"]))],38),S.native?st("v-if",!0):(ce(),Je(wW,{key:0,ref_key:"barRef",ref:p,height:h.value,width:f.value,always:S.always,"ratio-x":g.value,"ratio-y":v.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var EW=mn(TW,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const SW=yi(EW),W2=Symbol("popper"),M_=Symbol("popperContent"),PW=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],C_=kn({role:{type:String,values:PW,default:"tooltip"}}),AW=pt({name:"ElPopper",inheritAttrs:!1}),kW=pt({...AW,props:C_,setup(e,{expose:t}){const n=e,r=He(),i=He(),a=He(),s=He(),o=fe(()=>n.role),u={triggerRef:r,popperInstanceRef:i,contentRef:a,referenceRef:s,role:o};return t(u),$r(W2,u),(c,f)=>Kt(c.$slots,"default")}});var OW=mn(kW,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const T_=kn({arrowOffset:{type:Number,default:5}}),NW=pt({name:"ElPopperArrow",inheritAttrs:!1}),IW=pt({...NW,props:T_,setup(e,{expose:t}){const n=e,r=_n("popper"),{arrowOffset:i,arrowRef:a,arrowStyle:s}=on(M_,void 0);return Ze(()=>n.arrowOffset,o=>{i.value=o}),Gr(()=>{a.value=void 0}),t({arrowRef:a}),(o,u)=>(ce(),je("span",{ref_key:"arrowRef",ref:a,class:We(P(r).e("arrow")),style:Pn(P(s)),"data-popper-arrow":""},null,6))}});var LW=mn(IW,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const BW="ElOnlyChild",$W=pt({name:BW,setup(e,{slots:t,attrs:n}){var r;const i=on(__),a=$U((r=i==null?void 0:i.setForwardRef)!=null?r:qr);return()=>{var s;const o=(s=t.default)==null?void 0:s.call(t,n);if(!o||o.length>1)return null;const u=E_(o);return u?gi(La(u,n),[[a]]):null}}});function E_(e){if(!e)return null;const t=e;for(const n of t){if(ln(n))switch(n.type){case Lr:continue;case qs:case"svg":return I6(n);case qt:return E_(n.children);default:return n}return I6(n)}return null}function I6(e){const t=_n("only-child");return Ae("span",{class:t.e("content")},[e])}const S_=kn({virtualRef:{type:kt(Object)},virtualTriggering:Boolean,onMouseenter:{type:kt(Function)},onMouseleave:{type:kt(Function)},onClick:{type:kt(Function)},onKeydown:{type:kt(Function)},onFocus:{type:kt(Function)},onBlur:{type:kt(Function)},onContextmenu:{type:kt(Function)},id:String,open:Boolean}),RW=pt({name:"ElPopperTrigger",inheritAttrs:!1}),FW=pt({...RW,props:S_,setup(e,{expose:t}){const n=e,{role:r,triggerRef:i}=on(W2,void 0);BU(i);const a=fe(()=>o.value?n.id:void 0),s=fe(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),o=fe(()=>{if(r&&r.value!=="tooltip")return r.value}),u=fe(()=>o.value?`${n.open}`:void 0);let c;return Ln(()=>{Ze(()=>n.virtualRef,f=>{f&&(i.value=So(f))},{immediate:!0}),Ze(i,(f,h)=>{c==null||c(),c=void 0,vf(f)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(p=>{var v;const g=n[p];g&&(f.addEventListener(p.slice(2).toLowerCase(),g),(v=h==null?void 0:h.removeEventListener)==null||v.call(h,p.slice(2).toLowerCase(),g))}),c=Ze([a,s,o,u],p=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((v,g)=>{Vs(p[g])?f.removeAttribute(v):f.setAttribute(v,p[g])})},{immediate:!0})),vf(h)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(p=>h.removeAttribute(p))},{immediate:!0})}),Gr(()=>{c==null||c(),c=void 0}),t({triggerRef:i}),(f,h)=>f.virtualTriggering?st("v-if",!0):(ce(),Je(P($W),ra({key:0},f.$attrs,{"aria-controls":P(a),"aria-describedby":P(s),"aria-expanded":P(u),"aria-haspopup":P(o)}),{default:Re(()=>[Kt(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var DW=mn(FW,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const Vg="focus-trap.focus-after-trapped",Ug="focus-trap.focus-after-released",HW="focus-trap.focusout-prevented",L6={cancelable:!0,bubbles:!1},zW={cancelable:!0,bubbles:!1},B6="focusAfterTrapped",$6="focusAfterReleased",VW=Symbol("elFocusTrap"),j2=He(),tp=He(0),q2=He(0);let ch=0;const P_=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},R6=(e,t)=>{for(const n of e)if(!UW(n,t))return n},UW=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},WW=e=>{const t=P_(e),n=R6(t,e),r=R6(t.reverse(),e);return[n,r]},jW=e=>e instanceof HTMLInputElement&&"select"in e,xo=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),q2.value=window.performance.now(),e!==n&&jW(e)&&t&&e.select()}};function F6(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const qW=()=>{let e=[];return{push:r=>{const i=e[0];i&&r!==i&&i.pause(),e=F6(e,r),e.unshift(r)},remove:r=>{var i,a;e=F6(e,r),(a=(i=e[0])==null?void 0:i.resume)==null||a.call(i)}}},KW=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(xo(r,t),document.activeElement!==n)return},D6=qW(),GW=()=>tp.value>q2.value,uh=()=>{j2.value="pointer",tp.value=window.performance.now()},H6=()=>{j2.value="keyboard",tp.value=window.performance.now()},YW=()=>(Ln(()=>{ch===0&&(document.addEventListener("mousedown",uh),document.addEventListener("touchstart",uh),document.addEventListener("keydown",H6)),ch++}),Gr(()=>{ch--,ch<=0&&(document.removeEventListener("mousedown",uh),document.removeEventListener("touchstart",uh),document.removeEventListener("keydown",H6))}),{focusReason:j2,lastUserFocusTimestamp:tp,lastAutomatedFocusTimestamp:q2}),fh=e=>new CustomEvent(HW,{...zW,detail:e}),XW=pt({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[B6,$6,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=He();let r,i;const{focusReason:a}=YW();kU(g=>{e.trapped&&!s.paused&&t("release-requested",g)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},o=g=>{if(!e.loop&&!e.trapped||s.paused)return;const{key:b,altKey:y,ctrlKey:x,metaKey:_,currentTarget:E,shiftKey:w}=g,{loop:M}=e,T=b===j0.tab&&!y&&!x&&!_,S=document.activeElement;if(T&&S){const k=E,[L,B]=WW(k);if(L&&B){if(!w&&S===B){const D=fh({focusReason:a.value});t("focusout-prevented",D),D.defaultPrevented||(g.preventDefault(),M&&xo(L,!0))}else if(w&&[L,k].includes(S)){const D=fh({focusReason:a.value});t("focusout-prevented",D),D.defaultPrevented||(g.preventDefault(),M&&xo(B,!0))}}else if(S===k){const D=fh({focusReason:a.value});t("focusout-prevented",D),D.defaultPrevented||g.preventDefault()}}};$r(VW,{focusTrapRef:n,onKeydown:o}),Ze(()=>e.focusTrapEl,g=>{g&&(n.value=g)},{immediate:!0}),Ze([n],([g],[b])=>{g&&(g.addEventListener("keydown",o),g.addEventListener("focusin",f),g.addEventListener("focusout",h)),b&&(b.removeEventListener("keydown",o),b.removeEventListener("focusin",f),b.removeEventListener("focusout",h))});const u=g=>{t(B6,g)},c=g=>t($6,g),f=g=>{const b=P(n);if(!b)return;const y=g.target,x=g.relatedTarget,_=y&&b.contains(y);e.trapped||x&&b.contains(x)||(r=x),_&&t("focusin",g),!s.paused&&e.trapped&&(_?i=y:xo(i,!0))},h=g=>{const b=P(n);if(!(s.paused||!b))if(e.trapped){const y=g.relatedTarget;!Vs(y)&&!b.contains(y)&&setTimeout(()=>{if(!s.paused&&e.trapped){const x=fh({focusReason:a.value});t("focusout-prevented",x),x.defaultPrevented||xo(i,!0)}},0)}else{const y=g.target;y&&b.contains(y)||t("focusout",g)}};async function p(){await Qt();const g=P(n);if(g){D6.push(s);const b=g.contains(document.activeElement)?r:document.activeElement;if(r=b,!g.contains(b)){const x=new Event(Vg,L6);g.addEventListener(Vg,u),g.dispatchEvent(x),x.defaultPrevented||Qt(()=>{let _=e.focusStartEl;Gt(_)||(xo(_),document.activeElement!==_&&(_="first")),_==="first"&&KW(P_(g),!0),(document.activeElement===b||_==="container")&&xo(g)})}}}function v(){const g=P(n);if(g){g.removeEventListener(Vg,u);const b=new CustomEvent(Ug,{...L6,detail:{focusReason:a.value}});g.addEventListener(Ug,c),g.dispatchEvent(b),!b.defaultPrevented&&(a.value=="keyboard"||!GW()||g.contains(document.activeElement))&&xo(r??document.body),g.removeEventListener(Ug,u),D6.remove(s)}}return Ln(()=>{e.trapped&&p(),Ze(()=>e.trapped,g=>{g?p():v()})}),Gr(()=>{e.trapped&&v()}),{onKeydown:o}}});function JW(e,t,n,r,i,a){return Kt(e.$slots,"default",{handleKeydown:e.onKeydown})}var QW=mn(XW,[["render",JW],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const ZW=["fixed","absolute"],ej=kn({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:kt(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:wc,default:"bottom"},popperOptions:{type:kt(Object),default:()=>({})},strategy:{type:String,values:ZW,default:"absolute"}}),A_=kn({...ej,id:String,style:{type:kt([String,Array,Object])},className:{type:kt([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:kt([String,Array,Object])},popperStyle:{type:kt([String,Array,Object])},referenceEl:{type:kt(Object)},triggerTargetEl:{type:kt(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),tj={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},nj=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:i}=e,a={placement:n,strategy:r,...i,modifiers:[...ij(e),...t]};return aj(a,i==null?void 0:i.modifiers),a},rj=e=>{if(ni)return So(e)};function ij(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function aj(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const sj=0,oj=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:i}=on(W2,void 0),a=He(),s=He(),o=fe(()=>({name:"eventListeners",enabled:!!e.visible})),u=fe(()=>{var x;const _=P(a),E=(x=P(s))!=null?x:sj;return{name:"arrow",enabled:!CH(_),options:{element:_,padding:E}}}),c=fe(()=>({onFirstUpdate:()=>{g()},...nj(e,[P(u),P(o)])})),f=fe(()=>rj(e.referenceEl)||P(r)),{attributes:h,state:p,styles:v,update:g,forceUpdate:b,instanceRef:y}=PU(f,n,c);return Ze(y,x=>t.value=x),Ln(()=>{Ze(()=>{var x;return(x=P(f))==null?void 0:x.getBoundingClientRect()},()=>{g()})}),{attributes:h,arrowRef:a,contentRef:n,instanceRef:y,state:p,styles:v,role:i,forceUpdate:b,update:g}},lj=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:i}=DU(),a=_n("popper"),s=fe(()=>P(t).popper),o=He(e.zIndex||i()),u=fe(()=>[a.b(),a.is("pure",e.pure),a.is(e.effect),e.popperClass]),c=fe(()=>[{zIndex:P(o)},e.popperStyle||{},P(n).popper]),f=fe(()=>r.value==="dialog"?"false":void 0),h=fe(()=>P(n).arrow||{});return{ariaModal:f,arrowStyle:h,contentAttrs:s,contentClass:u,contentStyle:c,contentZIndex:o,updateZIndex:()=>{o.value=e.zIndex||i()}}},cj=(e,t)=>{const n=He(!1),r=He();return{focusStartRef:r,trapped:n,onFocusAfterReleased:c=>{var f;((f=c.detail)==null?void 0:f.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:c=>{e.visible&&!n.value&&(c.target&&(r.value=c.target),n.value=!0)},onFocusoutPrevented:c=>{e.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},uj=pt({name:"ElPopperContent"}),fj=pt({...uj,props:A_,emits:tj,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:i,trapped:a,onFocusAfterReleased:s,onFocusAfterTrapped:o,onFocusInTrap:u,onFocusoutPrevented:c,onReleaseRequested:f}=cj(r,n),{attributes:h,arrowRef:p,contentRef:v,styles:g,instanceRef:b,role:y,update:x}=oj(r),{ariaModal:_,arrowStyle:E,contentAttrs:w,contentClass:M,contentStyle:T,updateZIndex:S}=lj(r,{styles:g,attributes:h,role:y}),k=on(l1,void 0),L=He();$r(M_,{arrowStyle:E,arrowRef:p,arrowOffset:L}),k&&(k.addInputId||k.removeInputId)&&$r(l1,{...k,addInputId:qr,removeInputId:qr});let B;const H=(R=!0)=>{x(),R&&S()},D=()=>{H(!1),r.visible&&r.focusOnShow?a.value=!0:r.visible===!1&&(a.value=!1)};return Ln(()=>{Ze(()=>r.triggerTargetEl,(R,z)=>{B==null||B(),B=void 0;const j=P(R||v.value),I=P(z||v.value);vf(j)&&(B=Ze([y,()=>r.ariaLabel,_,()=>r.id],N=>{["role","aria-label","aria-modal","id"].forEach((U,Y)=>{Vs(N[Y])?j.removeAttribute(U):j.setAttribute(U,N[Y])})},{immediate:!0})),I!==j&&vf(I)&&["role","aria-label","aria-modal","id"].forEach(N=>{I.removeAttribute(N)})},{immediate:!0}),Ze(()=>r.visible,D,{immediate:!0})}),Gr(()=>{B==null||B(),B=void 0}),t({popperContentRef:v,popperInstanceRef:b,updatePopper:H,contentStyle:T}),(R,z)=>(ce(),je("div",ra({ref_key:"contentRef",ref:v},P(w),{style:P(T),class:P(M),tabindex:"-1",onMouseenter:z[0]||(z[0]=j=>R.$emit("mouseenter",j)),onMouseleave:z[1]||(z[1]=j=>R.$emit("mouseleave",j))}),[Ae(P(QW),{trapped:P(a),"trap-on-focus-in":!0,"focus-trap-el":P(v),"focus-start-el":P(i),onFocusAfterTrapped:P(o),onFocusAfterReleased:P(s),onFocusin:P(u),onFocusoutPrevented:P(c),onReleaseRequested:P(f)},{default:Re(()=>[Kt(R.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var dj=mn(fj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const hj=yi(OW),K2=Symbol("elTooltip"),Bi=kn({...IU,...A_,appendTo:{type:kt([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:kt(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),_f=kn({...S_,disabled:Boolean,trigger:{type:kt([String,Array]),default:"hover"},triggerKeys:{type:kt(Array),default:()=>[j0.enter,j0.space]}}),{useModelToggleProps:pj,useModelToggleEmits:gj,useModelToggle:vj}=i_("visible"),mj=kn({...C_,...pj,...Bi,..._f,...T_,showArrow:{type:Boolean,default:!0}}),bj=[...gj,"before-show","before-hide","show","hide","open","close"],yj=(e,t)=>ut(e)?e.includes(t):e===t,Tl=(e,t,n)=>r=>{yj(P(e),t)&&n(r)},wj=pt({name:"ElTooltipTrigger"}),_j=pt({...wj,props:_f,setup(e,{expose:t}){const n=e,r=_n("tooltip"),{controlled:i,id:a,open:s,onOpen:o,onClose:u,onToggle:c}=on(K2,void 0),f=He(null),h=()=>{if(P(i)||n.disabled)return!0},p=Wr(n,"trigger"),v=Ds(h,Tl(p,"hover",o)),g=Ds(h,Tl(p,"hover",u)),b=Ds(h,Tl(p,"click",w=>{w.button===0&&c(w)})),y=Ds(h,Tl(p,"focus",o)),x=Ds(h,Tl(p,"focus",u)),_=Ds(h,Tl(p,"contextmenu",w=>{w.preventDefault(),c(w)})),E=Ds(h,w=>{const{code:M}=w;n.triggerKeys.includes(M)&&(w.preventDefault(),c(w))});return t({triggerRef:f}),(w,M)=>(ce(),Je(P(DW),{id:P(a),"virtual-ref":w.virtualRef,open:P(s),"virtual-triggering":w.virtualTriggering,class:We(P(r).e("trigger")),onBlur:P(x),onClick:P(b),onContextmenu:P(_),onFocus:P(y),onMouseenter:P(v),onMouseleave:P(g),onKeydown:P(E)},{default:Re(()=>[Kt(w.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var xj=mn(_j,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const Mj=pt({name:"ElTooltipContent",inheritAttrs:!1}),Cj=pt({...Mj,props:Bi,setup(e,{expose:t}){const n=e,{selector:r}=w_(),i=_n("tooltip"),a=He(null),s=He(!1),{controlled:o,id:u,open:c,trigger:f,onClose:h,onOpen:p,onShow:v,onHide:g,onBeforeShow:b,onBeforeHide:y}=on(K2,void 0),x=fe(()=>n.transition||`${i.namespace.value}-fade-in-linear`),_=fe(()=>n.persistent);Gr(()=>{s.value=!0});const E=fe(()=>P(_)?!0:P(c)),w=fe(()=>n.disabled?!1:P(c)),M=fe(()=>n.appendTo||r.value),T=fe(()=>{var N;return(N=n.style)!=null?N:{}}),S=fe(()=>!P(c)),k=()=>{g()},L=()=>{if(P(o))return!0},B=Ds(L,()=>{n.enterable&&P(f)==="hover"&&p()}),H=Ds(L,()=>{P(f)==="hover"&&h()}),D=()=>{var N,U;(U=(N=a.value)==null?void 0:N.updatePopper)==null||U.call(N),b==null||b()},R=()=>{y==null||y()},z=()=>{v(),I=N$(fe(()=>{var N;return(N=a.value)==null?void 0:N.popperContentRef}),()=>{if(P(o))return;P(f)!=="hover"&&h()})},j=()=>{n.virtualTriggering||h()};let I;return Ze(()=>P(c),N=>{N||I==null||I()},{flush:"post"}),Ze(()=>n.content,()=>{var N,U;(U=(N=a.value)==null?void 0:N.updatePopper)==null||U.call(N)}),t({contentRef:a}),(N,U)=>(ce(),Je(E9,{disabled:!N.teleported,to:P(M)},[Ae(ss,{name:P(x),onAfterLeave:k,onBeforeEnter:D,onAfterEnter:z,onBeforeLeave:R},{default:Re(()=>[P(E)?gi((ce(),Je(P(dj),ra({key:0,id:P(u),ref_key:"contentRef",ref:a},N.$attrs,{"aria-label":N.ariaLabel,"aria-hidden":P(S),"boundaries-padding":N.boundariesPadding,"fallback-placements":N.fallbackPlacements,"gpu-acceleration":N.gpuAcceleration,offset:N.offset,placement:N.placement,"popper-options":N.popperOptions,strategy:N.strategy,effect:N.effect,enterable:N.enterable,pure:N.pure,"popper-class":N.popperClass,"popper-style":[N.popperStyle,P(T)],"reference-el":N.referenceEl,"trigger-target-el":N.triggerTargetEl,visible:P(w),"z-index":N.zIndex,onMouseenter:P(B),onMouseleave:P(H),onBlur:j,onClose:P(h)}),{default:Re(()=>[s.value?st("v-if",!0):Kt(N.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[us,P(w)]]):st("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var Tj=mn(Cj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const Ej=["innerHTML"],Sj={key:1},Pj=pt({name:"ElTooltip"}),Aj=pt({...Pj,props:mj,emits:bj,setup(e,{expose:t,emit:n}){const r=e;NU();const i=y_(),a=He(),s=He(),o=()=>{var x;const _=P(a);_&&((x=_.popperInstanceRef)==null||x.update())},u=He(!1),c=He(),{show:f,hide:h,hasUpdateHandler:p}=vj({indicator:u,toggleReason:c}),{onOpen:v,onClose:g}=LU({showAfter:Wr(r,"showAfter"),hideAfter:Wr(r,"hideAfter"),autoClose:Wr(r,"autoClose"),open:f,close:h}),b=fe(()=>R0(r.visible)&&!p.value);$r(K2,{controlled:b,id:i,open:I1(u),trigger:Wr(r,"trigger"),onOpen:x=>{v(x)},onClose:x=>{g(x)},onToggle:x=>{P(u)?g(x):v(x)},onShow:()=>{n("show",c.value)},onHide:()=>{n("hide",c.value)},onBeforeShow:()=>{n("before-show",c.value)},onBeforeHide:()=>{n("before-hide",c.value)},updatePopper:o}),Ze(()=>r.disabled,x=>{x&&u.value&&(u.value=!1)});const y=()=>{var x,_;const E=(_=(x=s.value)==null?void 0:x.contentRef)==null?void 0:_.popperContentRef;return E&&E.contains(document.activeElement)};return H1(()=>u.value&&h()),t({popperRef:a,contentRef:s,isFocusInsideContent:y,updatePopper:o,onOpen:v,onClose:g,hide:h}),(x,_)=>(ce(),Je(P(hj),{ref_key:"popperRef",ref:a,role:x.role},{default:Re(()=>[Ae(xj,{disabled:x.disabled,trigger:x.trigger,"trigger-keys":x.triggerKeys,"virtual-ref":x.virtualRef,"virtual-triggering":x.virtualTriggering},{default:Re(()=>[x.$slots.default?Kt(x.$slots,"default",{key:0}):st("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Ae(Tj,{ref_key:"contentRef",ref:s,"aria-label":x.ariaLabel,"boundaries-padding":x.boundariesPadding,content:x.content,disabled:x.disabled,effect:x.effect,enterable:x.enterable,"fallback-placements":x.fallbackPlacements,"hide-after":x.hideAfter,"gpu-acceleration":x.gpuAcceleration,offset:x.offset,persistent:x.persistent,"popper-class":x.popperClass,"popper-style":x.popperStyle,placement:x.placement,"popper-options":x.popperOptions,pure:x.pure,"raw-content":x.rawContent,"reference-el":x.referenceEl,"trigger-target-el":x.triggerTargetEl,"show-after":x.showAfter,strategy:x.strategy,teleported:x.teleported,transition:x.transition,"virtual-triggering":x.virtualTriggering,"z-index":x.zIndex,"append-to":x.appendTo},{default:Re(()=>[Kt(x.$slots,"content",{},()=>[x.rawContent?(ce(),je("span",{key:0,innerHTML:x.content},null,8,Ej)):(ce(),je("span",Sj,Rn(x.content),1))]),x.showArrow?(ce(),Je(P(LW),{key:0,"arrow-offset":x.arrowOffset},null,8,["arrow-offset"])):st("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var kj=mn(Aj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const G2=yi(kj),k_=Symbol("buttonGroupContextKey"),Oj=(e,t)=>{O2({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},fe(()=>e.type==="text"));const n=on(k_,void 0),r=WU("button"),{form:i}=_c(),a=J0(fe(()=>n==null?void 0:n.size)),s=Ff(),o=He(),u=W1(),c=fe(()=>e.type||(n==null?void 0:n.type)||""),f=fe(()=>{var g,b,y;return(y=(b=e.autoInsertSpace)!=null?b:(g=r.value)==null?void 0:g.autoInsertSpace)!=null?y:!1}),h=fe(()=>e.tag==="button"?{ariaDisabled:s.value||e.loading,disabled:s.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),p=fe(()=>{var g;const b=(g=u.default)==null?void 0:g.call(u);if(f.value&&(b==null?void 0:b.length)===1){const y=b[0];if((y==null?void 0:y.type)===qs){const x=y.children;return/^\p{Unified_Ideograph}{2}$/u.test(x.trim())}}return!1});return{_disabled:s,_size:a,_type:c,_ref:o,_props:h,shouldAddSpace:p,handleClick:g=>{e.nativeType==="reset"&&(i==null||i.resetFields()),t("click",g)}}},Nj=["default","primary","success","warning","info","danger","text",""],Ij=["button","submit","reset"],om=kn({size:wf,disabled:Boolean,type:{type:String,values:Nj,default:""},icon:{type:Ks},nativeType:{type:String,values:Ij,default:"button"},loading:Boolean,loadingIcon:{type:Ks,default:()=>A2},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:kt([String,Object]),default:"button"}}),Lj={click:e=>e instanceof MouseEvent};function Br(e,t){Bj(e)&&(e="100%");var n=$j(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function dh(e){return Math.min(1,Math.max(0,e))}function Bj(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function $j(e){return typeof e=="string"&&e.indexOf("%")!==-1}function O_(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function hh(e){return e<=1?"".concat(Number(e)*100,"%"):e}function O0(e){return e.length===1?"0"+e:String(e)}function Rj(e,t,n){return{r:Br(e,255)*255,g:Br(t,255)*255,b:Br(n,255)*255}}function z6(e,t,n){e=Br(e,255),t=Br(t,255),n=Br(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,s=0,o=(r+i)/2;if(r===i)s=0,a=0;else{var u=r-i;switch(s=o>.5?u/(2-r-i):u/(r+i),r){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4;break}a/=6}return{h:a,s,l:o}}function Wg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Fj(e,t,n){var r,i,a;if(e=Br(e,360),t=Br(t,100),n=Br(n,100),t===0)i=n,a=n,r=n;else{var s=n<.5?n*(1+t):n+t-n*t,o=2*n-s;r=Wg(o,s,e+1/3),i=Wg(o,s,e),a=Wg(o,s,e-1/3)}return{r:r*255,g:i*255,b:a*255}}function V6(e,t,n){e=Br(e,255),t=Br(t,255),n=Br(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,s=r,o=r-i,u=r===0?0:o/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/o+(t<n?6:0);break;case t:a=(n-e)/o+2;break;case n:a=(e-t)/o+4;break}a/=6}return{h:a,s:u,v:s}}function Dj(e,t,n){e=Br(e,360)*6,t=Br(t,100),n=Br(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),s=n*(1-i*t),o=n*(1-(1-i)*t),u=r%6,c=[n,s,a,a,o,n][u],f=[o,n,n,s,a,a][u],h=[a,a,o,n,n,s][u];return{r:c*255,g:f*255,b:h*255}}function U6(e,t,n,r){var i=[O0(Math.round(e).toString(16)),O0(Math.round(t).toString(16)),O0(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Hj(e,t,n,r,i){var a=[O0(Math.round(e).toString(16)),O0(Math.round(t).toString(16)),O0(Math.round(n).toString(16)),O0(zj(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function zj(e){return Math.round(parseFloat(e)*255).toString(16)}function W6(e){return ki(e)/255}function ki(e){return parseInt(e,16)}function Vj(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var lm={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Uj(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,s=!1,o=!1;return typeof e=="string"&&(e=qj(e)),typeof e=="object"&&(ks(e.r)&&ks(e.g)&&ks(e.b)?(t=Rj(e.r,e.g,e.b),s=!0,o=String(e.r).substr(-1)==="%"?"prgb":"rgb"):ks(e.h)&&ks(e.s)&&ks(e.v)?(r=hh(e.s),i=hh(e.v),t=Dj(e.h,r,i),s=!0,o="hsv"):ks(e.h)&&ks(e.s)&&ks(e.l)&&(r=hh(e.s),a=hh(e.l),t=Fj(e.h,r,a),s=!0,o="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=O_(n),{ok:s,format:e.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var Wj="[-\\+]?\\d+%?",jj="[-\\+]?\\d*\\.\\d+%?",Po="(?:".concat(jj,")|(?:").concat(Wj,")"),jg="[\\s|\\(]+(".concat(Po,")[,|\\s]+(").concat(Po,")[,|\\s]+(").concat(Po,")\\s*\\)?"),qg="[\\s|\\(]+(".concat(Po,")[,|\\s]+(").concat(Po,")[,|\\s]+(").concat(Po,")[,|\\s]+(").concat(Po,")\\s*\\)?"),Ta={CSS_UNIT:new RegExp(Po),rgb:new RegExp("rgb"+jg),rgba:new RegExp("rgba"+qg),hsl:new RegExp("hsl"+jg),hsla:new RegExp("hsla"+qg),hsv:new RegExp("hsv"+jg),hsva:new RegExp("hsva"+qg),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function qj(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(lm[e])e=lm[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Ta.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Ta.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ta.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Ta.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ta.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Ta.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ta.hex8.exec(e),n?{r:ki(n[1]),g:ki(n[2]),b:ki(n[3]),a:W6(n[4]),format:t?"name":"hex8"}:(n=Ta.hex6.exec(e),n?{r:ki(n[1]),g:ki(n[2]),b:ki(n[3]),format:t?"name":"hex"}:(n=Ta.hex4.exec(e),n?{r:ki(n[1]+n[1]),g:ki(n[2]+n[2]),b:ki(n[3]+n[3]),a:W6(n[4]+n[4]),format:t?"name":"hex8"}:(n=Ta.hex3.exec(e),n?{r:ki(n[1]+n[1]),g:ki(n[2]+n[2]),b:ki(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function ks(e){return!!Ta.CSS_UNIT.exec(String(e))}var Kj=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=Vj(t)),this.originalInput=t;var i=Uj(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,i,a=t.r/255,s=t.g/255,o=t.b/255;return a<=.03928?n=a/12.92:n=Math.pow((a+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=O_(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=V6(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=V6(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=z6(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=z6(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),U6(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),Hj(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(Br(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(Br(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+U6(this.r,this.g,this.b,!1),n=0,r=Object.entries(lm);n<r.length;n++){var i=r[n],a=i[0],s=i[1];if(t===s)return a}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,i=this.a<1&&this.a>=0,a=!n&&i&&(t.startsWith("hex")||t==="name");return a?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=dh(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=dh(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=dh(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=dh(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),a=n/100,s={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return new e(s)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,a=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,a=n.v,s=[],o=1/t;t--;)s.push(new e({h:r,s:i,v:a})),a=(a+o)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),i=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],a=360/t,s=1;s<t;s++)i.push(new e({h:(r+s*a)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function bo(e,t=20){return e.mix("#141414",t).toString()}function Gj(e){const t=Ff(),n=_n("button");return fe(()=>{let r={};const i=e.color;if(i){const a=new Kj(i),s=e.dark?a.tint(20).toString():bo(a,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?bo(a,90):a.tint(90).toString(),"text-color":i,"border-color":e.dark?bo(a,50):a.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":s,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":s}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?bo(a,90):a.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?bo(a,50):a.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?bo(a,80):a.tint(80).toString());else{const o=e.dark?bo(a,30):a.tint(30).toString(),u=a.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":i,"text-color":u,"border-color":i,"hover-bg-color":o,"hover-text-color":u,"hover-border-color":o,"active-bg-color":s,"active-border-color":s}),t.value){const c=e.dark?bo(a,50):a.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=c,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=c}}}return r})}const Yj=pt({name:"ElButton"}),Xj=pt({...Yj,props:om,emits:Lj,setup(e,{expose:t,emit:n}){const r=e,i=Gj(r),a=_n("button"),{_ref:s,_size:o,_type:u,_disabled:c,_props:f,shouldAddSpace:h,handleClick:p}=Oj(r,n);return t({ref:s,size:o,type:u,disabled:c,shouldAddSpace:h}),(v,g)=>(ce(),Je(jr(v.tag),ra({ref_key:"_ref",ref:s},P(f),{class:[P(a).b(),P(a).m(P(u)),P(a).m(P(o)),P(a).is("disabled",P(c)),P(a).is("loading",v.loading),P(a).is("plain",v.plain),P(a).is("round",v.round),P(a).is("circle",v.circle),P(a).is("text",v.text),P(a).is("link",v.link),P(a).is("has-bg",v.bg)],style:P(i),onClick:P(p)}),{default:Re(()=>[v.loading?(ce(),je(qt,{key:0},[v.$slots.loading?Kt(v.$slots,"loading",{key:0}):(ce(),Je(P(_r),{key:1,class:We(P(a).is("loading"))},{default:Re(()=>[(ce(),Je(jr(v.loadingIcon)))]),_:1},8,["class"]))],64)):v.icon||v.$slots.icon?(ce(),Je(P(_r),{key:1},{default:Re(()=>[v.icon?(ce(),Je(jr(v.icon),{key:0})):Kt(v.$slots,"icon",{key:1})]),_:3})):st("v-if",!0),v.$slots.default?(ce(),je("span",{key:2,class:We({[P(a).em("text","expand")]:P(h)})},[Kt(v.$slots,"default")],2)):st("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Jj=mn(Xj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const Qj={size:om.size,type:om.type},Zj=pt({name:"ElButtonGroup"}),eq=pt({...Zj,props:Qj,setup(e){const t=e;$r(k_,xr({size:Wr(t,"size"),type:Wr(t,"type")}));const n=_n("button");return(r,i)=>(ce(),je("div",{class:We(`${P(n).b("group")}`)},[Kt(r.$slots,"default")],2))}});var N_=mn(eq,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const tq=yi(Jj,{ButtonGroup:N_});Z1(N_);const Mo=new Map;let j6;ni&&(document.addEventListener("mousedown",e=>j6=e),document.addEventListener("mouseup",e=>{for(const t of Mo.values())for(const{documentHandler:n}of t)n(e,j6)}));function q6(e,t){let n=[];return Array.isArray(t.arg)?n=t.arg:vf(t.arg)&&n.push(t.arg),function(r,i){const a=t.instance.popperRef,s=r.target,o=i==null?void 0:i.target,u=!t||!t.instance,c=!s||!o,f=e.contains(s)||e.contains(o),h=e===s,p=n.length&&n.some(g=>g==null?void 0:g.contains(s))||n.length&&n.includes(o),v=a&&(a.contains(s)||a.contains(o));u||c||f||h||p||v||t.value(r,i)}}const nq={beforeMount(e,t){Mo.has(e)||Mo.set(e,[]),Mo.get(e).push({documentHandler:q6(e,t),bindingFn:t.value})},updated(e,t){Mo.has(e)||Mo.set(e,[]);const n=Mo.get(e),r=n.findIndex(a=>a.bindingFn===t.oldValue),i={documentHandler:q6(e,t),bindingFn:t.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(e){Mo.delete(e)}},rq=100,iq=600,K6={beforeMount(e,t){const n=t.value,{interval:r=rq,delay:i=iq}=vt(n)?{}:n;let a,s;const o=()=>vt(n)?n():n.handler(),u=()=>{s&&(clearTimeout(s),s=void 0),a&&(clearInterval(a),a=void 0)};e.addEventListener("mousedown",c=>{c.button===0&&(u(),o(),document.addEventListener("mouseup",()=>u(),{once:!0}),s=setTimeout(()=>{a=setInterval(()=>{o()},r)},i))})}},I_=kn({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:k2,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),aq={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},sq=pt({name:"ElTag"}),oq=pt({...sq,props:I_,emits:aq,setup(e,{emit:t}){const n=e,r=J0(),i=_n("tag"),a=fe(()=>{const{type:u,hit:c,effect:f,closable:h,round:p}=n;return[i.b(),i.is("closable",h),i.m(u),i.m(r.value),i.m(f),i.is("hit",c),i.is("round",p)]}),s=u=>{t("close",u)},o=u=>{t("click",u)};return(u,c)=>u.disableTransitions?(ce(),je("span",{key:0,class:We(P(a)),style:Pn({backgroundColor:u.color}),onClick:o},[pe("span",{class:We(P(i).e("content"))},[Kt(u.$slots,"default")],2),u.closable?(ce(),Je(P(_r),{key:0,class:We(P(i).e("close")),onClick:Sr(s,["stop"])},{default:Re(()=>[Ae(P(am))]),_:1},8,["class","onClick"])):st("v-if",!0)],6)):(ce(),Je(ss,{key:1,name:`${P(i).namespace.value}-zoom-in-center`,appear:""},{default:Re(()=>[pe("span",{class:We(P(a)),style:Pn({backgroundColor:u.color}),onClick:o},[pe("span",{class:We(P(i).e("content"))},[Kt(u.$slots,"default")],2),u.closable?(ce(),Je(P(_r),{key:0,class:We(P(i).e("close")),onClick:Sr(s,["stop"])},{default:Re(()=>[Ae(P(am))]),_:1},8,["class","onClick"])):st("v-if",!0)],6)]),_:3},8,["name"]))}});var lq=mn(oq,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const cq=yi(lq),G6=e=>typeof Sn(e),uq=kn({accordion:Boolean,modelValue:{type:kt([Array,String,Number]),default:()=>r_([])}}),fq={[Fn]:G6,[Ba]:G6},L_=Symbol("collapseContextKey"),dq=(e,t)=>{const n=He(e6(e.modelValue)),r=a=>{n.value=a;const s=e.accordion?n.value[0]:n.value;t(Fn,s),t(Ba,s)},i=a=>{if(e.accordion)r([n.value[0]===a?"":a]);else{const s=[...n.value],o=s.indexOf(a);o>-1?s.splice(o,1):s.push(a),r(s)}};return Ze(()=>e.modelValue,()=>n.value=e6(e.modelValue),{deep:!0}),$r(L_,{activeNames:n,handleItemClick:i}),{activeNames:n,setActiveNames:r}},hq=()=>{const e=_n("collapse");return{rootKls:fe(()=>e.b())}},pq=pt({name:"ElCollapse"}),gq=pt({...pq,props:uq,emits:fq,setup(e,{expose:t,emit:n}){const r=e,{activeNames:i,setActiveNames:a}=dq(r,n),{rootKls:s}=hq();return t({activeNames:i,setActiveNames:a}),(o,u)=>(ce(),je("div",{class:We(P(s)),role:"tablist","aria-multiselectable":"true"},[Kt(o.$slots,"default")],2))}});var vq=mn(gq,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const mq=pt({name:"ElCollapseTransition"}),bq=pt({...mq,setup(e){const t=_n("collapse-transition"),n={beforeEnter(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0},enter(r){r.dataset.oldOverflow=r.style.overflow,r.scrollHeight!==0?(r.style.maxHeight=`${r.scrollHeight}px`,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom):(r.style.maxHeight=0,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom),r.style.overflow="hidden"},afterEnter(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow},beforeLeave(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.dataset.oldOverflow=r.style.overflow,r.style.maxHeight=`${r.scrollHeight}px`,r.style.overflow="hidden"},leave(r){r.scrollHeight!==0&&(r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0)},afterLeave(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom}};return(r,i)=>(ce(),Je(ss,ra({name:P(t).b()},g9(n)),{default:Re(()=>[Kt(r.$slots,"default")]),_:3},16,["name"]))}});var Fh=mn(bq,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);Fh.install=e=>{e.component(Fh.name,Fh)};const yq=Fh,wq=kn({title:{type:String,default:""},name:{type:kt([String,Number]),default:()=>n_()},disabled:Boolean}),_q=e=>{const t=on(L_),n=He(!1),r=He(!1),i=He(n_()),a=fe(()=>t==null?void 0:t.activeNames.value.includes(e.name));return{focusing:n,id:i,isActive:a,handleFocus:()=>{setTimeout(()=>{r.value?r.value=!1:n.value=!0},50)},handleHeaderClick:()=>{e.disabled||(t==null||t.handleItemClick(e.name),n.value=!1,r.value=!0)},handleEnterClick:()=>{t==null||t.handleItemClick(e.name)}}},xq=(e,{focusing:t,isActive:n,id:r})=>{const i=_n("collapse"),a=fe(()=>[i.b("item"),i.is("active",P(n)),i.is("disabled",e.disabled)]),s=fe(()=>[i.be("item","header"),i.is("active",P(n)),{focusing:P(t)&&!e.disabled}]),o=fe(()=>[i.be("item","arrow"),i.is("active",P(n))]),u=fe(()=>i.be("item","wrap")),c=fe(()=>i.be("item","content")),f=fe(()=>i.b(`content-${P(r)}`)),h=fe(()=>i.b(`head-${P(r)}`));return{arrowKls:o,headKls:s,rootKls:a,itemWrapperKls:u,itemContentKls:c,scopedContentId:f,scopedHeadId:h}},Mq=["aria-expanded","aria-controls","aria-describedby"],Cq=["id","tabindex"],Tq=["id","aria-hidden","aria-labelledby"],Eq=pt({name:"ElCollapseItem"}),Sq=pt({...Eq,props:wq,setup(e,{expose:t}){const n=e,{focusing:r,id:i,isActive:a,handleFocus:s,handleHeaderClick:o,handleEnterClick:u}=_q(n),{arrowKls:c,headKls:f,rootKls:h,itemWrapperKls:p,itemContentKls:v,scopedContentId:g,scopedHeadId:b}=xq(n,{focusing:r,isActive:a,id:i});return t({isActive:a}),(y,x)=>(ce(),je("div",{class:We(P(h))},[pe("div",{role:"tab","aria-expanded":P(a),"aria-controls":P(g),"aria-describedby":P(g)},[pe("div",{id:P(b),class:We(P(f)),role:"button",tabindex:y.disabled?-1:0,onClick:x[0]||(x[0]=(..._)=>P(o)&&P(o)(..._)),onKeypress:x[1]||(x[1]=Er(Sr((..._)=>P(u)&&P(u)(..._),["stop","prevent"]),["space","enter"])),onFocus:x[2]||(x[2]=(..._)=>P(s)&&P(s)(..._)),onBlur:x[3]||(x[3]=_=>r.value=!1)},[Kt(y.$slots,"title",{},()=>[gt(Rn(y.title),1)]),Ae(P(_r),{class:We(P(c))},{default:Re(()=>[Ae(P(HH))]),_:1},8,["class"])],42,Cq)],8,Mq),Ae(P(yq),null,{default:Re(()=>[gi(pe("div",{id:P(g),class:We(P(p)),role:"tabpanel","aria-hidden":!P(a),"aria-labelledby":P(b)},[pe("div",{class:We(P(v))},[Kt(y.$slots,"default")],2)],10,Tq),[[us,P(a)]])]),_:3})],2))}});var B_=mn(Sq,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const Pq=yi(vq,{CollapseItem:B_}),Aq=Z1(B_),kq=pt({inheritAttrs:!1});function Oq(e,t,n,r,i,a){return Kt(e.$slots,"default")}var Nq=mn(kq,[["render",Oq],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Iq=pt({name:"ElCollectionItem",inheritAttrs:!1});function Lq(e,t,n,r,i,a){return Kt(e.$slots,"default")}var Bq=mn(Iq,[["render",Lq],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const $q="data-el-collection-item",Rq=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),i=Symbol(n),a={...Nq,name:t,setup(){const o=He(null),u=new Map;$r(r,{itemMap:u,getItems:()=>{const f=P(o);if(!f)return[];const h=Array.from(f.querySelectorAll(`[${$q}]`));return[...u.values()].sort((v,g)=>h.indexOf(v.ref)-h.indexOf(g.ref))},collectionRef:o})}},s={...Bq,name:n,setup(o,{attrs:u}){const c=He(null),f=on(r,void 0);$r(i,{collectionItemRef:c}),Ln(()=>{const h=P(c);h&&f.itemMap.set(h,{ref:h,...u})}),Gr(()=>{const h=P(c);f.itemMap.delete(h)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:a,ElCollectionItem:s}},Kg=kn({trigger:_f.trigger,effect:{...Bi.effect,default:"light"},type:{type:kt(String)},placement:{type:kt(String),default:"bottom"},popperOptions:{type:kt(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:kt([Number,String]),default:0},maxHeight:{type:kt([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:kt(Object)},teleported:Bi.teleported});kn({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Ks}});kn({onKeydown:{type:kt(Function)}});Rq("Dropdown");const Fq=kn({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:wf,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Sn(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),Dq={[Ba]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[rs]:e=>Sn(e)||Vs(e),[Fn]:e=>Sn(e)||Vs(e)},Hq=["aria-label","onKeydown"],zq=["aria-label","onKeydown"],Vq=pt({name:"ElInputNumber"}),Uq=pt({...Vq,props:Fq,emits:Dq,setup(e,{expose:t,emit:n}){const r=e,{t:i}=Bf(),a=_n("input-number"),s=He(),o=xr({currentValue:r.modelValue,userInput:null}),{formItem:u}=_c(),c=fe(()=>Sn(r.modelValue)&&r.modelValue<=r.min),f=fe(()=>Sn(r.modelValue)&&r.modelValue>=r.max),h=fe(()=>{const R=x(r.step);return ku(r.precision)?Math.max(x(r.modelValue),R):(R>r.precision,r.precision)}),p=fe(()=>r.controls&&r.controlsPosition==="right"),v=J0(),g=Ff(),b=fe(()=>{if(o.userInput!==null)return o.userInput;let R=o.currentValue;if(Vs(R))return"";if(Sn(R)){if(Number.isNaN(R))return"";ku(r.precision)||(R=R.toFixed(r.precision))}return R}),y=(R,z)=>{if(ku(z)&&(z=h.value),z===0)return Math.round(R);let j=String(R);const I=j.indexOf(".");if(I===-1||!j.replace(".","").split("")[I+z])return R;const Y=j.length;return j.charAt(Y-1)==="5"&&(j=`${j.slice(0,Math.max(0,Y-1))}6`),Number.parseFloat(Number(j).toFixed(z))},x=R=>{if(Vs(R))return 0;const z=R.toString(),j=z.indexOf(".");let I=0;return j!==-1&&(I=z.length-j-1),I},_=(R,z=1)=>Sn(R)?y(R+r.step*z):o.currentValue,E=()=>{if(r.readonly||g.value||f.value)return;const R=Number(b.value)||0,z=_(R);T(z),n(rs,o.currentValue)},w=()=>{if(r.readonly||g.value||c.value)return;const R=Number(b.value)||0,z=_(R,-1);T(z),n(rs,o.currentValue)},M=(R,z)=>{const{max:j,min:I,step:N,precision:U,stepStrictly:Y,valueOnClear:Z}=r;let ge=Number(R);if(Vs(R)||Number.isNaN(ge))return null;if(R===""){if(Z===null)return null;ge=Gt(Z)?{min:I,max:j}[Z]:Z}return Y&&(ge=y(Math.round(ge/N)*N,U)),ku(U)||(ge=y(ge,U)),(ge>j||ge<I)&&(ge=ge>j?j:I,z&&n(Fn,ge)),ge},T=(R,z=!0)=>{var j;const I=o.currentValue,N=M(R);if(!z){n(Fn,N);return}I!==N&&(o.userInput=null,n(Fn,N),n(Ba,N,I),r.validateEvent&&((j=u==null?void 0:u.validate)==null||j.call(u,"change").catch(U=>void 0)),o.currentValue=N)},S=R=>{o.userInput=R;const z=R===""?null:Number(R);n(rs,z),T(z,!1)},k=R=>{const z=R!==""?Number(R):"";(Sn(z)&&!Number.isNaN(z)||R==="")&&T(z),o.userInput=null},L=()=>{var R,z;(z=(R=s.value)==null?void 0:R.focus)==null||z.call(R)},B=()=>{var R,z;(z=(R=s.value)==null?void 0:R.blur)==null||z.call(R)},H=R=>{n("focus",R)},D=R=>{var z;n("blur",R),r.validateEvent&&((z=u==null?void 0:u.validate)==null||z.call(u,"blur").catch(j=>void 0))};return Ze(()=>r.modelValue,R=>{const z=M(o.userInput),j=M(R,!0);!Sn(z)&&(!z||z!==j)&&(o.currentValue=j,o.userInput=null)},{immediate:!0}),Ln(()=>{var R;const{min:z,max:j,modelValue:I}=r,N=(R=s.value)==null?void 0:R.input;if(N.setAttribute("role","spinbutton"),Number.isFinite(j)?N.setAttribute("aria-valuemax",String(j)):N.removeAttribute("aria-valuemax"),Number.isFinite(z)?N.setAttribute("aria-valuemin",String(z)):N.removeAttribute("aria-valuemin"),N.setAttribute("aria-valuenow",String(o.currentValue)),N.setAttribute("aria-disabled",String(g.value)),!Sn(I)&&I!=null){let U=Number(I);Number.isNaN(U)&&(U=null),n(Fn,U)}}),vc(()=>{var R;const z=(R=s.value)==null?void 0:R.input;z==null||z.setAttribute("aria-valuenow",`${o.currentValue}`)}),t({focus:L,blur:B}),(R,z)=>(ce(),je("div",{class:We([P(a).b(),P(a).m(P(v)),P(a).is("disabled",P(g)),P(a).is("without-controls",!R.controls),P(a).is("controls-right",P(p))]),onDragstart:z[1]||(z[1]=Sr(()=>{},["prevent"]))},[R.controls?gi((ce(),je("span",{key:0,role:"button","aria-label":P(i)("el.inputNumber.decrease"),class:We([P(a).e("decrease"),P(a).is("disabled",P(c))]),onKeydown:Er(w,["enter"])},[Ae(P(_r),null,{default:Re(()=>[P(p)?(ce(),Je(P(Kw),{key:0})):(ce(),Je(P(Fz),{key:1}))]),_:1})],42,Hq)),[[P(K6),w]]):st("v-if",!0),R.controls?gi((ce(),je("span",{key:1,role:"button","aria-label":P(i)("el.inputNumber.increase"),class:We([P(a).e("increase"),P(a).is("disabled",P(f))]),onKeydown:Er(E,["enter"])},[Ae(P(_r),null,{default:Re(()=>[P(p)?(ce(),Je(P(qH),{key:0})):(ce(),Je(P(Wz),{key:1}))]),_:1})],42,zq)),[[P(K6),E]]):st("v-if",!0),Ae(P(U2),{id:R.id,ref_key:"input",ref:s,type:"number",step:R.step,"model-value":P(b),placeholder:R.placeholder,readonly:R.readonly,disabled:P(g),size:P(v),max:R.max,min:R.min,name:R.name,label:R.label,"validate-event":!1,onWheel:z[0]||(z[0]=Sr(()=>{},["prevent"])),onKeydown:[Er(Sr(E,["prevent"]),["up"]),Er(Sr(w,["prevent"]),["down"])],onBlur:D,onFocus:H,onInput:S,onChange:k},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var Wq=mn(Uq,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const $_=yi(Wq),R_=Symbol("ElSelectGroup"),np=Symbol("ElSelect");function jq(e,t){const n=on(np),r=on(R_,{disabled:!1}),i=fe(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),a=fe(()=>n.props.multiple?h(n.props.modelValue,e.value):p(e.value,n.props.modelValue)),s=fe(()=>{if(n.props.multiple){const b=n.props.modelValue||[];return!a.value&&b.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),o=fe(()=>e.label||(i.value?"":e.value)),u=fe(()=>e.value||e.label||""),c=fe(()=>e.disabled||t.groupDisabled||s.value),f=Yn(),h=(b=[],y)=>{if(i.value){const x=n.props.valueKey;return b&&b.some(_=>Ht(ea(_,x))===ea(y,x))}else return b&&b.includes(y)},p=(b,y)=>{if(i.value){const{valueKey:x}=n.props;return ea(b,x)===ea(y,x)}else return b===y},v=()=>{!e.disabled&&!r.disabled&&(n.hoverIndex=n.optionsArray.indexOf(f.proxy))};Ze(()=>o.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),Ze(()=>e.value,(b,y)=>{const{remote:x,valueKey:_}=n.props;if(Object.is(b,y)||(n.onOptionDestroy(y,f.proxy),n.onOptionCreate(f.proxy)),!e.created&&!x){if(_&&typeof b=="object"&&typeof y=="object"&&b[_]===y[_])return;n.setSelected()}}),Ze(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0});const{queryChange:g}=Ht(n);return Ze(g,b=>{const{query:y}=P(b),x=new RegExp(EH(y),"i");t.visible=x.test(o.value)||e.created,t.visible||n.filteredOptionsCount--},{immediate:!0}),{select:n,currentLabel:o,currentValue:u,itemSelected:a,isDisabled:c,hoverItem:v}}const qq=pt({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=_n("select"),n=xr({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:r,itemSelected:i,isDisabled:a,select:s,hoverItem:o}=jq(e,n),{visible:u,hover:c}=Fo(n),f=Yn().proxy;s.onOptionCreate(f),Gr(()=>{const p=f.value,{selected:v}=s,b=(s.props.multiple?v:[v]).some(y=>y.value===f.value);Qt(()=>{s.cachedOptions.get(p)===f&&!b&&s.cachedOptions.delete(p)}),s.onOptionDestroy(p,f)});function h(){e.disabled!==!0&&n.groupDisabled!==!0&&s.handleOptionSelect(f,!0)}return{ns:t,currentLabel:r,itemSelected:i,isDisabled:a,select:s,hoverItem:o,visible:u,hover:c,selectOptionClick:h,states:n}}});function Kq(e,t,n,r,i,a){return gi((ce(),je("li",{class:We([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:t[0]||(t[0]=(...s)=>e.hoverItem&&e.hoverItem(...s)),onClick:t[1]||(t[1]=Sr((...s)=>e.selectOptionClick&&e.selectOptionClick(...s),["stop"]))},[Kt(e.$slots,"default",{},()=>[pe("span",null,Rn(e.currentLabel),1)])],34)),[[us,e.visible]])}var Y2=mn(qq,[["render",Kq],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Gq=pt({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=on(np),t=_n("select"),n=fe(()=>e.props.popperClass),r=fe(()=>e.props.multiple),i=fe(()=>e.props.fitInputWidth),a=He("");function s(){var o;a.value=`${(o=e.selectWrapper)==null?void 0:o.offsetWidth}px`}return Ln(()=>{s(),G1(e.selectWrapper,s)}),{ns:t,minWidth:a,popperClass:n,isMultiple:r,isFitInputWidth:i}}});function Yq(e,t,n,r,i,a){return ce(),je("div",{class:We([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Pn({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[Kt(e.$slots,"default")],6)}var Xq=mn(Gq,[["render",Yq],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Jq(e){const{t}=Bf();return xr({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}const Qq=(e,t,n)=>{const{t:r}=Bf(),i=_n("select");O2({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},fe(()=>e.suffixTransition===!1));const a=He(null),s=He(null),o=He(null),u=He(null),c=He(null),f=He(null),h=He(null),p=He(-1),v=No({query:""}),g=No(""),b=He([]);let y=0;const{form:x,formItem:_}=_c(),E=fe(()=>!e.filterable||e.multiple||!t.visible),w=fe(()=>e.disabled||(x==null?void 0:x.disabled)),M=fe(()=>{const de=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!w.value&&t.inputHovering&&de}),T=fe(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),S=fe(()=>i.is("reverse",T.value&&t.visible&&e.suffixTransition)),k=fe(()=>e.remote?300:0),L=fe(()=>e.loading?e.loadingText||r("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||r("el.select.noMatch"):t.options.size===0?e.noDataText||r("el.select.noData"):null),B=fe(()=>{const de=Array.from(t.options.values()),Ne=[];return b.value.forEach(it=>{const _t=de.findIndex(tt=>tt.currentLabel===it);_t>-1&&Ne.push(de[_t])}),Ne.length?Ne:de}),H=fe(()=>Array.from(t.cachedOptions.values())),D=fe(()=>{const de=B.value.filter(Ne=>!Ne.created).some(Ne=>Ne.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!de}),R=J0(),z=fe(()=>["small"].includes(R.value)?"small":"default"),j=fe({get(){return t.visible&&L.value!==!1},set(de){t.visible=de}});Ze([()=>w.value,()=>R.value,()=>x==null?void 0:x.size],()=>{Qt(()=>{I()})}),Ze(()=>e.placeholder,de=>{t.cachedPlaceHolder=t.currentPlaceholder=de}),Ze(()=>e.modelValue,(de,Ne)=>{e.multiple&&(I(),de&&de.length>0||s.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",N(t.query))),Z(),e.filterable&&!e.multiple&&(t.inputLength=20),!p6(de,Ne)&&e.validateEvent&&(_==null||_.validate("change").catch(it=>void 0))},{flush:"post",deep:!0}),Ze(()=>t.visible,de=>{var Ne,it,_t,tt,J;de?((it=(Ne=u.value)==null?void 0:Ne.updatePopper)==null||it.call(Ne),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,(tt=(_t=o.value)==null?void 0:_t.focus)==null||tt.call(_t),e.multiple?(J=s.value)==null||J.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),N(t.query),!e.multiple&&!e.remote&&(v.value.query="",Rl(v),Rl(g)))):(e.filterable&&(vt(e.filterMethod)&&e.filterMethod(""),vt(e.remoteMethod)&&e.remoteMethod("")),s.value&&s.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,ie(),Qt(()=>{s.value&&s.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),n.emit("visible-change",de)}),Ze(()=>t.options.entries(),()=>{var de,Ne,it;if(!ni)return;(Ne=(de=u.value)==null?void 0:de.updatePopper)==null||Ne.call(de),e.multiple&&I();const _t=((it=f.value)==null?void 0:it.querySelectorAll("input"))||[];Array.from(_t).includes(document.activeElement)||Z(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&Y()},{flush:"post"}),Ze(()=>t.hoverIndex,de=>{Sn(de)&&de>-1?p.value=B.value[de]||{}:p.value={},B.value.forEach(Ne=>{Ne.hover=p.value===Ne})});const I=()=>{Qt(()=>{var de,Ne;if(!a.value)return;const it=a.value.$el.querySelector("input");y=y||(it.clientHeight>0?it.clientHeight+2:0);const _t=c.value,tt=dV(R.value||(x==null?void 0:x.size)),J=R.value||tt===y||y<=0?tt:y;!(it.offsetParent===null)&&(it.style.height=`${(t.selected.length===0?J:Math.max(_t?_t.clientHeight+(_t.clientHeight>J?6:0):0,J))-2}px`),t.tagInMultiLine=Number.parseFloat(it.style.height)>=J,t.visible&&L.value!==!1&&((Ne=(de=u.value)==null?void 0:de.updatePopper)==null||Ne.call(de))})},N=async de=>{if(!(t.previousQuery===de||t.isOnComposition)){if(t.previousQuery===null&&(vt(e.filterMethod)||vt(e.remoteMethod))){t.previousQuery=de;return}t.previousQuery=de,Qt(()=>{var Ne,it;t.visible&&((it=(Ne=u.value)==null?void 0:Ne.updatePopper)==null||it.call(Ne))}),t.hoverIndex=-1,e.multiple&&e.filterable&&Qt(()=>{const Ne=s.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,Ne):Ne,U(),I()}),e.remote&&vt(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(de)):vt(e.filterMethod)?(e.filterMethod(de),Rl(g)):(t.filteredOptionsCount=t.optionsCount,v.value.query=de,Rl(v),Rl(g)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await Qt(),Y())}},U=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=s.value.value?"":t.cachedPlaceHolder)},Y=()=>{const de=B.value.filter(_t=>_t.visible&&!_t.disabled&&!_t.states.groupDisabled),Ne=de.find(_t=>_t.created),it=de[0];t.hoverIndex=X(B.value,Ne||it)},Z=()=>{var de;if(e.multiple)t.selectedLabel="";else{const it=ge(e.modelValue);(de=it.props)!=null&&de.created?(t.createdLabel=it.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=it.currentLabel,t.selected=it,e.filterable&&(t.query=t.selectedLabel);return}const Ne=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(it=>{Ne.push(ge(it))}),t.selected=Ne,Qt(()=>{I()})},ge=de=>{let Ne;const it=Lh(de).toLowerCase()==="object",_t=Lh(de).toLowerCase()==="null",tt=Lh(de).toLowerCase()==="undefined";for(let he=t.cachedOptions.size-1;he>=0;he--){const we=H.value[he];if(it?ea(we.value,e.valueKey)===ea(de,e.valueKey):we.value===de){Ne={value:de,currentLabel:we.currentLabel,isDisabled:we.isDisabled};break}}if(Ne)return Ne;const J=it?de.label:!_t&&!tt?de:"",be={value:de,currentLabel:J};return e.multiple&&(be.hitState=!1),be},ie=()=>{setTimeout(()=>{const de=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(Ne=>B.value.findIndex(it=>ea(it,de)===ea(Ne,de)))):t.hoverIndex=-1:t.hoverIndex=B.value.findIndex(Ne=>Et(Ne)===Et(t.selected))},300)},me=()=>{var de,Ne;ve(),(Ne=(de=u.value)==null?void 0:de.updatePopper)==null||Ne.call(de),e.multiple&&I()},ve=()=>{var de;t.inputWidth=(de=a.value)==null?void 0:de.$el.offsetWidth},De=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,N(t.query))},Be=a1(()=>{De()},k.value),nt=a1(de=>{N(de.target.value)},k.value),Me=de=>{p6(e.modelValue,de)||n.emit(Ba,de)},at=de=>{if(de.code!==j0.delete){if(de.target.value.length<=0&&!Te()){const Ne=e.modelValue.slice();Ne.pop(),n.emit(Fn,Ne),Me(Ne)}de.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}},Ue=(de,Ne)=>{const it=t.selected.indexOf(Ne);if(it>-1&&!w.value){const _t=e.modelValue.slice();_t.splice(it,1),n.emit(Fn,_t),Me(_t),n.emit("remove-tag",Ne.value)}de.stopPropagation()},Xe=de=>{de.stopPropagation();const Ne=e.multiple?[]:"";if(!Gt(Ne))for(const it of t.selected)it.isDisabled&&Ne.push(it.value);n.emit(Fn,Ne),Me(Ne),t.hoverIndex=-1,t.visible=!1,n.emit("clear")},W=(de,Ne)=>{var it;if(e.multiple){const _t=(e.modelValue||[]).slice(),tt=X(_t,de.value);tt>-1?_t.splice(tt,1):(e.multipleLimit<=0||_t.length<e.multipleLimit)&&_t.push(de.value),n.emit(Fn,_t),Me(_t),de.created&&(t.query="",N(""),t.inputLength=20),e.filterable&&((it=s.value)==null||it.focus())}else n.emit(Fn,de.value),Me(de.value),t.visible=!1;t.isSilentBlur=Ne,ae(),!t.visible&&Qt(()=>{ee(de)})},X=(de=[],Ne)=>{if(!ln(Ne))return de.indexOf(Ne);const it=e.valueKey;let _t=-1;return de.some((tt,J)=>Ht(ea(tt,it))===ea(Ne,it)?(_t=J,!0):!1),_t},ae=()=>{t.softFocus=!0;const de=s.value||a.value;de&&(de==null||de.focus())},ee=de=>{var Ne,it,_t,tt,J;const be=Array.isArray(de)?de[0]:de;let he=null;if(be!=null&&be.value){const we=B.value.filter(Ce=>Ce.value===be.value);we.length>0&&(he=we[0].$el)}if(u.value&&he){const we=(tt=(_t=(it=(Ne=u.value)==null?void 0:Ne.popperRef)==null?void 0:it.contentRef)==null?void 0:_t.querySelector)==null?void 0:tt.call(_t,`.${i.be("dropdown","wrap")}`);we&&AH(we,he)}(J=h.value)==null||J.handleScroll()},xe=de=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(de.value,de),t.cachedOptions.set(de.value,de)},Se=(de,Ne)=>{t.options.get(de)===Ne&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(de))},Ve=de=>{de.code!==j0.backspace&&Te(!1),t.inputLength=s.value.value.length*15+20,I()},Te=de=>{if(!Array.isArray(t.selected))return;const Ne=t.selected[t.selected.length-1];if(Ne)return de===!0||de===!1?(Ne.hitState=de,de):(Ne.hitState=!Ne.hitState,Ne.hitState)},te=de=>{const Ne=de.target.value;if(de.type==="compositionend")t.isOnComposition=!1,Qt(()=>N(Ne));else{const it=Ne[Ne.length-1]||"";t.isOnComposition=!t_(it)}},se=()=>{Qt(()=>ee(t.selected))},ke=de=>{t.softFocus?t.softFocus=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),n.emit("focus",de))},Pe=()=>{var de,Ne,it;t.visible=!1,(de=a.value)==null||de.blur(),(it=(Ne=o.value)==null?void 0:Ne.blur)==null||it.call(Ne)},oe=de=>{Qt(()=>{t.isSilentBlur?t.isSilentBlur=!1:n.emit("blur",de)}),t.softFocus=!1},$e=de=>{Xe(de)},qe=()=>{t.visible=!1},et=de=>{t.visible&&(de.preventDefault(),de.stopPropagation(),t.visible=!1)},lt=de=>{var Ne;de&&!t.mouseEnter||w.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:(!u.value||!u.value.isFocusInsideContent())&&(t.visible=!t.visible),t.visible&&((Ne=s.value||a.value)==null||Ne.focus()))},wt=()=>{t.visible?B.value[t.hoverIndex]&&W(B.value[t.hoverIndex],void 0):lt()},Et=de=>ln(de.value)?ea(de.value,e.valueKey):de.value,Xt=fe(()=>B.value.filter(de=>de.visible).every(de=>de.disabled)),pn=fe(()=>t.selected.slice(0,e.maxCollapseTags)),Ft=fe(()=>t.selected.slice(e.maxCollapseTags)),Wt=de=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!Xt.value){de==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):de==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const Ne=B.value[t.hoverIndex];(Ne.disabled===!0||Ne.states.groupDisabled===!0||!Ne.visible)&&Wt(de),Qt(()=>ee(p.value))}};return{optionList:b,optionsArray:B,selectSize:R,handleResize:me,debouncedOnInputChange:Be,debouncedQueryChange:nt,deletePrevTag:at,deleteTag:Ue,deleteSelected:Xe,handleOptionSelect:W,scrollToOption:ee,readonly:E,resetInputHeight:I,showClose:M,iconComponent:T,iconReverse:S,showNewOption:D,collapseTagSize:z,setSelected:Z,managePlaceholder:U,selectDisabled:w,emptyText:L,toggleLastOptionHitState:Te,resetInputState:Ve,handleComposition:te,onOptionCreate:xe,onOptionDestroy:Se,handleMenuEnter:se,handleFocus:ke,blur:Pe,handleBlur:oe,handleClearClick:$e,handleClose:qe,handleKeydownEscape:et,toggleMenu:lt,selectOption:wt,getValueKey:Et,navigateOptions:Wt,dropMenuVisible:j,queryChange:v,groupQueryChange:g,showTagList:pn,collapseTagList:Ft,reference:a,input:s,iOSInput:o,tooltipRef:u,tags:c,selectWrapper:f,scrollbar:h,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var Zq=pt({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:n}){let r=[];function i(a,s){if(a.length!==s.length)return!1;for(const[o]of a.entries())if(a[o]!=s[o])return!1;return!0}return()=>{var a,s;const o=(a=t.default)==null?void 0:a.call(t),u=[];function c(f){Array.isArray(f)&&f.forEach(h=>{var p,v,g,b;const y=(p=(h==null?void 0:h.type)||{})==null?void 0:p.name;y==="ElOptionGroup"?c(!Gt(h.children)&&!Array.isArray(h.children)&&vt((v=h.children)==null?void 0:v.default)?(g=h.children)==null?void 0:g.default():h.children):y==="ElOption"?u.push((b=h.props)==null?void 0:b.label):Array.isArray(h.children)&&c(h.children)})}return o.length&&c((s=o[0])==null?void 0:s.children),i(u,r)||(r=u,n("update-options",u)),o}}});const Y6="ElSelect",eK=pt({name:Y6,componentName:Y6,components:{ElInput:U2,ElSelectMenu:Xq,ElOption:Y2,ElOptions:Zq,ElTag:cq,ElScrollbar:SW,ElTooltip:G2,ElIcon:_r},directives:{ClickOutside:nq},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:e_},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:Bi.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Ks,default:P2},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:Ks,default:Kw},tagType:{...I_.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:wc,default:"bottom-start"}},emits:[Fn,Ba,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const n=_n("select"),r=_n("input"),{t:i}=Bf(),a=Jq(e),{optionList:s,optionsArray:o,selectSize:u,readonly:c,handleResize:f,collapseTagSize:h,debouncedOnInputChange:p,debouncedQueryChange:v,deletePrevTag:g,deleteTag:b,deleteSelected:y,handleOptionSelect:x,scrollToOption:_,setSelected:E,resetInputHeight:w,managePlaceholder:M,showClose:T,selectDisabled:S,iconComponent:k,iconReverse:L,showNewOption:B,emptyText:H,toggleLastOptionHitState:D,resetInputState:R,handleComposition:z,onOptionCreate:j,onOptionDestroy:I,handleMenuEnter:N,handleFocus:U,blur:Y,handleBlur:Z,handleClearClick:ge,handleClose:ie,handleKeydownEscape:me,toggleMenu:ve,selectOption:De,getValueKey:Be,navigateOptions:nt,dropMenuVisible:Me,reference:at,input:Ue,iOSInput:Xe,tooltipRef:W,tags:X,selectWrapper:ae,scrollbar:ee,queryChange:xe,groupQueryChange:Se,handleMouseEnter:Ve,handleMouseLeave:Te,showTagList:te,collapseTagList:se}=Qq(e,a,t),{focus:ke}=vV(at),{inputWidth:Pe,selected:oe,inputLength:$e,filteredOptionsCount:qe,visible:et,softFocus:lt,selectedLabel:wt,hoverIndex:Et,query:Xt,inputHovering:pn,currentPlaceholder:Ft,menuVisibleOnFocus:Wt,isOnComposition:Ot,isSilentBlur:Bt,options:de,cachedOptions:Ne,optionsCount:it,prefixWidth:_t,tagInMultiLine:tt}=Fo(a),J=fe(()=>{const Ye=[n.b()],mt=P(u);return mt&&Ye.push(n.m(mt)),e.disabled&&Ye.push(n.m("disabled")),Ye}),be=fe(()=>({maxWidth:`${P(Pe)-32}px`,width:"100%"})),he=fe(()=>({maxWidth:`${P(Pe)>123?P(Pe)-123:P(Pe)-75}px`}));$r(np,xr({props:e,options:de,optionsArray:o,cachedOptions:Ne,optionsCount:it,filteredOptionsCount:qe,hoverIndex:Et,handleOptionSelect:x,onOptionCreate:j,onOptionDestroy:I,selectWrapper:ae,selected:oe,setSelected:E,queryChange:xe,groupQueryChange:Se})),Ln(()=>{a.cachedPlaceHolder=Ft.value=e.placeholder||(()=>i("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Ft.value=""),G1(ae,f),e.remote&&e.multiple&&w(),Qt(()=>{const Ye=at.value&&at.value.$el;if(Ye&&(Pe.value=Ye.getBoundingClientRect().width,t.slots.prefix)){const mt=Ye.querySelector(`.${r.e("prefix")}`);_t.value=Math.max(mt.getBoundingClientRect().width+5,30)}}),E()}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(Fn,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(Fn,"");const we=fe(()=>{var Ye,mt;return(mt=(Ye=W.value)==null?void 0:Ye.popperRef)==null?void 0:mt.contentRef});return{isIOS:Iw,onOptionsRendered:Ye=>{s.value=Ye},tagInMultiLine:tt,prefixWidth:_t,selectSize:u,readonly:c,handleResize:f,collapseTagSize:h,debouncedOnInputChange:p,debouncedQueryChange:v,deletePrevTag:g,deleteTag:b,deleteSelected:y,handleOptionSelect:x,scrollToOption:_,inputWidth:Pe,selected:oe,inputLength:$e,filteredOptionsCount:qe,visible:et,softFocus:lt,selectedLabel:wt,hoverIndex:Et,query:Xt,inputHovering:pn,currentPlaceholder:Ft,menuVisibleOnFocus:Wt,isOnComposition:Ot,isSilentBlur:Bt,options:de,resetInputHeight:w,managePlaceholder:M,showClose:T,selectDisabled:S,iconComponent:k,iconReverse:L,showNewOption:B,emptyText:H,toggleLastOptionHitState:D,resetInputState:R,handleComposition:z,handleMenuEnter:N,handleFocus:U,blur:Y,handleBlur:Z,handleClearClick:ge,handleClose:ie,handleKeydownEscape:me,toggleMenu:ve,selectOption:De,getValueKey:Be,navigateOptions:nt,dropMenuVisible:Me,focus:ke,reference:at,input:Ue,iOSInput:Xe,tooltipRef:W,popperPaneRef:we,tags:X,selectWrapper:ae,scrollbar:ee,wrapperKls:J,selectTagsStyle:be,nsSelect:n,tagTextStyle:he,handleMouseEnter:Ve,handleMouseLeave:Te,showTagList:te,collapseTagList:se}}}),tK=["disabled","autocomplete"],nK=["disabled"],rK={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function iK(e,t,n,r,i,a){const s=Ls("el-tag"),o=Ls("el-tooltip"),u=Ls("el-icon"),c=Ls("el-input"),f=Ls("el-option"),h=Ls("el-options"),p=Ls("el-scrollbar"),v=Ls("el-select-menu"),g=d9("click-outside");return gi((ce(),je("div",{ref:"selectWrapper",class:We(e.wrapperKls),onMouseenter:t[21]||(t[21]=(...b)=>e.handleMouseEnter&&e.handleMouseEnter(...b)),onMouseleave:t[22]||(t[22]=(...b)=>e.handleMouseLeave&&e.handleMouseLeave(...b)),onClick:t[23]||(t[23]=Sr((...b)=>e.toggleMenu&&e.toggleMenu(...b),["stop"]))},[Ae(o,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:Re(()=>[pe("div",{class:"select-trigger",onMouseenter:t[19]||(t[19]=b=>e.inputHovering=!0),onMouseleave:t[20]||(t[20]=b=>e.inputHovering=!1)},[e.multiple?(ce(),je("div",{key:0,ref:"tags",class:We([e.nsSelect.e("tags"),e.nsSelect.is("disabled",e.selectDisabled)]),style:Pn(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(ce(),Je(ss,{key:0,onAfterLeave:e.resetInputHeight},{default:Re(()=>[pe("span",{class:We([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(ce(!0),je(qt,null,di(e.showTagList,b=>(ce(),Je(s,{key:e.getValueKey(b),closable:!e.selectDisabled&&!b.isDisabled,size:e.collapseTagSize,hit:b.hitState,type:e.tagType,"disable-transitions":"",onClose:y=>e.deleteTag(y,b)},{default:Re(()=>[pe("span",{class:We(e.nsSelect.e("tags-text")),style:Pn(e.tagTextStyle)},Rn(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(ce(),Je(s,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:Re(()=>[e.collapseTagsTooltip?(ce(),Je(o,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:Re(()=>[pe("span",{class:We(e.nsSelect.e("tags-text"))},"+ "+Rn(e.selected.length-e.maxCollapseTags),3)]),content:Re(()=>[pe("div",{class:We(e.nsSelect.e("collapse-tags"))},[(ce(!0),je(qt,null,di(e.collapseTagList,b=>(ce(),je("div",{key:e.getValueKey(b),class:We(e.nsSelect.e("collapse-tag"))},[Ae(s,{class:"in-tooltip",closable:!e.selectDisabled&&!b.isDisabled,size:e.collapseTagSize,hit:b.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:y=>e.deleteTag(y,b)},{default:Re(()=>[pe("span",{class:We(e.nsSelect.e("tags-text")),style:Pn({maxWidth:e.inputWidth-75+"px"})},Rn(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(ce(),je("span",{key:1,class:We(e.nsSelect.e("tags-text"))},"+ "+Rn(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):st("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):st("v-if",!0),e.collapseTags?st("v-if",!0):(ce(),Je(ss,{key:1,onAfterLeave:e.resetInputHeight},{default:Re(()=>[pe("span",{class:We([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(ce(!0),je(qt,null,di(e.selected,b=>(ce(),Je(s,{key:e.getValueKey(b),closable:!e.selectDisabled&&!b.isDisabled,size:e.collapseTagSize,hit:b.hitState,type:e.tagType,"disable-transitions":"",onClose:y=>e.deleteTag(y,b)},{default:Re(()=>[pe("span",{class:We(e.nsSelect.e("tags-text")),style:Pn({maxWidth:e.inputWidth-75+"px"})},Rn(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),e.filterable?gi((ce(),je("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=b=>e.query=b),type:"text",class:We([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.is("disabled",e.selectDisabled)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Pn({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:t[1]||(t[1]=(...b)=>e.handleFocus&&e.handleFocus(...b)),onBlur:t[2]||(t[2]=(...b)=>e.handleBlur&&e.handleBlur(...b)),onKeyup:t[3]||(t[3]=(...b)=>e.managePlaceholder&&e.managePlaceholder(...b)),onKeydown:[t[4]||(t[4]=(...b)=>e.resetInputState&&e.resetInputState(...b)),t[5]||(t[5]=Er(Sr(b=>e.navigateOptions("next"),["prevent"]),["down"])),t[6]||(t[6]=Er(Sr(b=>e.navigateOptions("prev"),["prevent"]),["up"])),t[7]||(t[7]=Er((...b)=>e.handleKeydownEscape&&e.handleKeydownEscape(...b),["esc"])),t[8]||(t[8]=Er(Sr((...b)=>e.selectOption&&e.selectOption(...b),["stop","prevent"]),["enter"])),t[9]||(t[9]=Er((...b)=>e.deletePrevTag&&e.deletePrevTag(...b),["delete"])),t[10]||(t[10]=Er(b=>e.visible=!1,["tab"]))],onCompositionstart:t[11]||(t[11]=(...b)=>e.handleComposition&&e.handleComposition(...b)),onCompositionupdate:t[12]||(t[12]=(...b)=>e.handleComposition&&e.handleComposition(...b)),onCompositionend:t[13]||(t[13]=(...b)=>e.handleComposition&&e.handleComposition(...b)),onInput:t[14]||(t[14]=(...b)=>e.debouncedQueryChange&&e.debouncedQueryChange(...b))},null,46,tK)),[[df,e.query]]):st("v-if",!0)],6)):st("v-if",!0),st(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(ce(),je("input",{key:1,ref:"iOSInput",class:We([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.em("input","iOS")]),disabled:e.selectDisabled,type:"text"},null,10,nK)):st("v-if",!0),Ae(c,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[15]||(t[15]=b=>e.selectedLabel=b),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:We([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[16]||(t[16]=Er(Sr(b=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[17]||(t[17]=Er(Sr(b=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),Er(Sr(e.selectOption,["stop","prevent"]),["enter"]),Er(e.handleKeydownEscape,["esc"]),t[18]||(t[18]=Er(b=>e.visible=!1,["tab"]))]},h9({suffix:Re(()=>[e.iconComponent&&!e.showClose?(ce(),Je(u,{key:0,class:We([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:Re(()=>[(ce(),Je(jr(e.iconComponent)))]),_:1},8,["class"])):st("v-if",!0),e.showClose&&e.clearIcon?(ce(),Je(u,{key:1,class:We([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:Re(()=>[(ce(),Je(jr(e.clearIcon)))]),_:1},8,["class","onClick"])):st("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:Re(()=>[pe("div",rK,[Kt(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:Re(()=>[Ae(v,null,{default:Re(()=>[gi(Ae(p,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:We([e.nsSelect.is("empty",!e.allowCreate&&!!e.query&&e.filteredOptionsCount===0)])},{default:Re(()=>[e.showNewOption?(ce(),Je(f,{key:0,value:e.query,created:!0},null,8,["value"])):st("v-if",!0),Ae(h,{onUpdateOptions:e.onOptionsRendered},{default:Re(()=>[Kt(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[us,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(ce(),je(qt,{key:0},[e.$slots.empty?Kt(e.$slots,"empty",{key:0}):(ce(),je("p",{key:1,class:We(e.nsSelect.be("dropdown","empty"))},Rn(e.emptyText),3))],64)):st("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[g,e.handleClose,e.popperPaneRef]])}var aK=mn(eK,[["render",iK],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const sK=pt({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=_n("select"),n=He(!0),r=Yn(),i=He([]);$r(R_,xr({...Fo(e)}));const a=on(np);Ln(()=>{i.value=s(r.subTree)});const s=u=>{const c=[];return Array.isArray(u.children)&&u.children.forEach(f=>{var h;f.type&&f.type.name==="ElOption"&&f.component&&f.component.proxy?c.push(f.component.proxy):(h=f.children)!=null&&h.length&&c.push(...s(f))}),c},{groupQueryChange:o}=Ht(a);return Ze(o,()=>{n.value=i.value.some(u=>u.visible===!0)},{flush:"post"}),{visible:n,ns:t}}});function oK(e,t,n,r,i,a){return gi((ce(),je("ul",{class:We(e.ns.be("group","wrap"))},[pe("li",{class:We(e.ns.be("group","title"))},Rn(e.label),3),pe("li",null,[pe("ul",{class:We(e.ns.b("group"))},[Kt(e.$slots,"default")],2)])],2)),[[us,e.visible]])}var F_=mn(sK,[["render",oK],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const lK=yi(aK,{Option:Y2,OptionGroup:F_}),cK=Z1(Y2);Z1(F_);const uK=kn({trigger:_f.trigger,placement:Kg.placement,disabled:_f.disabled,visible:Bi.visible,transition:Bi.transition,popperOptions:Kg.popperOptions,tabindex:Kg.tabindex,content:Bi.content,popperStyle:Bi.popperStyle,popperClass:Bi.popperClass,enterable:{...Bi.enterable,default:!0},effect:{...Bi.effect,default:"light"},teleported:Bi.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),fK={"update:visible":e=>R0(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},dK="onUpdate:visible",hK=pt({name:"ElPopover"}),pK=pt({...hK,props:uK,emits:fK,setup(e,{expose:t,emit:n}){const r=e,i=fe(()=>r[dK]),a=_n("popover"),s=He(),o=fe(()=>{var y;return(y=P(s))==null?void 0:y.popperRef}),u=fe(()=>[{width:mf(r.width)},r.popperStyle]),c=fe(()=>[a.b(),r.popperClass,{[a.m("plain")]:!!r.content}]),f=fe(()=>r.transition===`${a.namespace.value}-fade-in-linear`),h=()=>{var y;(y=s.value)==null||y.hide()},p=()=>{n("before-enter")},v=()=>{n("before-leave")},g=()=>{n("after-enter")},b=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:o,hide:h}),(y,x)=>(ce(),Je(P(G2),ra({ref_key:"tooltipRef",ref:s},y.$attrs,{trigger:y.trigger,placement:y.placement,disabled:y.disabled,visible:y.visible,transition:y.transition,"popper-options":y.popperOptions,tabindex:y.tabindex,content:y.content,offset:y.offset,"show-after":y.showAfter,"hide-after":y.hideAfter,"auto-close":y.autoClose,"show-arrow":y.showArrow,"aria-label":y.title,effect:y.effect,enterable:y.enterable,"popper-class":P(c),"popper-style":P(u),teleported:y.teleported,persistent:y.persistent,"gpu-acceleration":P(f),"onUpdate:visible":P(i),onBeforeShow:p,onBeforeHide:v,onShow:g,onHide:b}),{content:Re(()=>[y.title?(ce(),je("div",{key:0,class:We(P(a).e("title")),role:"title"},Rn(y.title),3)):st("v-if",!0),Kt(y.$slots,"default",{},()=>[gt(Rn(y.content),1)])]),default:Re(()=>[y.$slots.reference?Kt(y.$slots,"reference",{key:0}):st("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var gK=mn(pK,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const X6=(e,t)=>{const n=t.arg||t.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=e)};var vK={mounted(e,t){X6(e,t)},updated(e,t){X6(e,t)}};const mK="popover",bK=uV(vK,mK),yK=yi(gK,{directive:bK}),D_=Symbol("sliderContextKey"),wK=kn({modelValue:{type:kt([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:wf,inputSize:wf,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:kt(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:kt(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:wc,default:"top"},marks:{type:kt(Object)},validateEvent:{type:Boolean,default:!0}}),Gg=e=>Sn(e)||ut(e)&&e.every(Sn),_K={[Fn]:Gg,[rs]:Gg,[Ba]:Gg},xK=(e,t,n)=>{const r=He();return Ln(async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),$0(window,"resize",n),await Qt(),n()}),{sliderWrapper:r}},MK=e=>fe(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),CK=(e,t,n)=>{const{form:r,formItem:i}=_c(),a=No(),s=He(),o=He(),u={firstButton:s,secondButton:o},c=fe(()=>e.disabled||(r==null?void 0:r.disabled)||!1),f=fe(()=>Math.min(t.firstValue,t.secondValue)),h=fe(()=>Math.max(t.firstValue,t.secondValue)),p=fe(()=>e.range?`${100*(h.value-f.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),v=fe(()=>e.range?`${100*(f.value-e.min)/(e.max-e.min)}%`:"0%"),g=fe(()=>e.vertical?{height:e.height}:{}),b=fe(()=>e.vertical?{height:p.value,bottom:v.value}:{width:p.value,left:v.value}),y=()=>{a.value&&(t.sliderSize=a.value[`client${e.vertical?"Height":"Width"}`])},x=H=>{const D=e.min+H*(e.max-e.min)/100;if(!e.range)return s;let R;return Math.abs(f.value-D)<Math.abs(h.value-D)?R=t.firstValue<t.secondValue?"firstButton":"secondButton":R=t.firstValue>t.secondValue?"firstButton":"secondButton",u[R]},_=H=>{const D=x(H);return D.value.setPosition(H),D},E=H=>{t.firstValue=H,M(e.range?[f.value,h.value]:H)},w=H=>{t.secondValue=H,e.range&&M([f.value,h.value])},M=H=>{n(Fn,H),n(rs,H)},T=async()=>{await Qt(),n(Ba,e.range?[f.value,h.value]:e.modelValue)},S=H=>{var D,R,z,j,I,N;if(c.value||t.dragging)return;y();let U=0;if(e.vertical){const Y=(z=(R=(D=H.touches)==null?void 0:D.item(0))==null?void 0:R.clientY)!=null?z:H.clientY;U=(a.value.getBoundingClientRect().bottom-Y)/t.sliderSize*100}else{const Y=(N=(I=(j=H.touches)==null?void 0:j.item(0))==null?void 0:I.clientX)!=null?N:H.clientX,Z=a.value.getBoundingClientRect().left;U=(Y-Z)/t.sliderSize*100}if(!(U<0||U>100))return _(U)};return{elFormItem:i,slider:a,firstButton:s,secondButton:o,sliderDisabled:c,minValue:f,maxValue:h,runwayStyle:g,barStyle:b,resetSize:y,setPosition:_,emitChange:T,onSliderWrapperPrevent:H=>{var D,R;((D=u.firstButton.value)!=null&&D.dragging||(R=u.secondButton.value)!=null&&R.dragging)&&H.preventDefault()},onSliderClick:H=>{S(H)&&T()},onSliderDown:async H=>{const D=S(H);D&&(await Qt(),D.value.onButtonDown(H))},setFirstValue:E,setSecondValue:w}},{left:TK,down:EK,right:SK,up:PK,home:AK,end:kK,pageUp:OK,pageDown:NK}=j0,IK=(e,t,n)=>{const r=He(),i=He(!1),a=fe(()=>t.value instanceof Function),s=fe(()=>a.value&&t.value(e.modelValue)||e.modelValue),o=a1(()=>{n.value&&(i.value=!0)},50),u=a1(()=>{n.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:s,displayTooltip:o,hideTooltip:u}},LK=(e,t,n)=>{const{disabled:r,min:i,max:a,step:s,showTooltip:o,precision:u,sliderSize:c,formatTooltip:f,emitChange:h,resetSize:p,updateDragging:v}=on(D_),{tooltip:g,tooltipVisible:b,formatValue:y,displayTooltip:x,hideTooltip:_}=IK(e,f,o),E=He(),w=fe(()=>`${(e.modelValue-i.value)/(a.value-i.value)*100}%`),M=fe(()=>e.vertical?{bottom:w.value}:{left:w.value}),T=()=>{t.hovering=!0,x()},S=()=>{t.hovering=!1,t.dragging||_()},k=ie=>{r.value||(ie.preventDefault(),U(ie),window.addEventListener("mousemove",Y),window.addEventListener("touchmove",Y),window.addEventListener("mouseup",Z),window.addEventListener("touchend",Z),window.addEventListener("contextmenu",Z),E.value.focus())},L=ie=>{r.value||(t.newPosition=Number.parseFloat(w.value)+ie/(a.value-i.value)*100,ge(t.newPosition),h())},B=()=>{L(-s.value)},H=()=>{L(s.value)},D=()=>{L(-s.value*4)},R=()=>{L(s.value*4)},z=()=>{r.value||(ge(0),h())},j=()=>{r.value||(ge(100),h())},I=ie=>{let me=!0;[TK,EK].includes(ie.key)?B():[SK,PK].includes(ie.key)?H():ie.key===AK?z():ie.key===kK?j():ie.key===NK?D():ie.key===OK?R():me=!1,me&&ie.preventDefault()},N=ie=>{let me,ve;return ie.type.startsWith("touch")?(ve=ie.touches[0].clientY,me=ie.touches[0].clientX):(ve=ie.clientY,me=ie.clientX),{clientX:me,clientY:ve}},U=ie=>{t.dragging=!0,t.isClick=!0;const{clientX:me,clientY:ve}=N(ie);e.vertical?t.startY=ve:t.startX=me,t.startPosition=Number.parseFloat(w.value),t.newPosition=t.startPosition},Y=ie=>{if(t.dragging){t.isClick=!1,x(),p();let me;const{clientX:ve,clientY:De}=N(ie);e.vertical?(t.currentY=De,me=(t.startY-t.currentY)/c.value*100):(t.currentX=ve,me=(t.currentX-t.startX)/c.value*100),t.newPosition=t.startPosition+me,ge(t.newPosition)}},Z=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||_(),t.isClick||ge(t.newPosition),h()},0),window.removeEventListener("mousemove",Y),window.removeEventListener("touchmove",Y),window.removeEventListener("mouseup",Z),window.removeEventListener("touchend",Z),window.removeEventListener("contextmenu",Z))},ge=async ie=>{if(ie===null||Number.isNaN(+ie))return;ie<0?ie=0:ie>100&&(ie=100);const me=100/((a.value-i.value)/s.value);let De=Math.round(ie/me)*me*(a.value-i.value)*.01+i.value;De=Number.parseFloat(De.toFixed(u.value)),De!==e.modelValue&&n(Fn,De),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Qt(),t.dragging&&x(),g.value.updatePopper()};return Ze(()=>t.dragging,ie=>{v(ie)}),{disabled:r,button:E,tooltip:g,tooltipVisible:b,showTooltip:o,wrapperStyle:M,formatValue:y,handleMouseEnter:T,handleMouseLeave:S,onButtonDown:k,onKeyDown:I,setPosition:ge}},BK=(e,t,n,r)=>({stops:fe(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const s=(e.max-e.min)/e.step,o=100*e.step/(e.max-e.min),u=Array.from({length:s-1}).map((c,f)=>(f+1)*o);return e.range?u.filter(c=>c<100*(n.value-e.min)/(e.max-e.min)||c>100*(r.value-e.min)/(e.max-e.min)):u.filter(c=>c>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:s=>e.vertical?{bottom:`${s}%`}:{left:`${s}%`}}),$K=(e,t,n,r,i,a)=>{const s=c=>{i(Fn,c),i(rs,c)},o=()=>e.range?![n.value,r.value].every((c,f)=>c===t.oldValue[f]):e.modelValue!==t.oldValue,u=()=>{var c,f;e.min>e.max&&S2("Slider","min should not be greater than max.");const h=e.modelValue;e.range&&Array.isArray(h)?h[1]<e.min?s([e.min,e.min]):h[0]>e.max?s([e.max,e.max]):h[0]<e.min?s([e.min,h[1]]):h[1]>e.max?s([h[0],e.max]):(t.firstValue=h[0],t.secondValue=h[1],o()&&(e.validateEvent&&((c=a==null?void 0:a.validate)==null||c.call(a,"change").catch(p=>void 0)),t.oldValue=h.slice())):!e.range&&typeof h=="number"&&!Number.isNaN(h)&&(h<e.min?s(e.min):h>e.max?s(e.max):(t.firstValue=h,o()&&(e.validateEvent&&((f=a==null?void 0:a.validate)==null||f.call(a,"change").catch(p=>void 0)),t.oldValue=h)))};u(),Ze(()=>t.dragging,c=>{c||u()}),Ze(()=>e.modelValue,(c,f)=>{t.dragging||Array.isArray(c)&&Array.isArray(f)&&c.every((h,p)=>h===f[p])&&t.firstValue===c[0]&&t.secondValue===c[1]||u()},{deep:!0}),Ze(()=>[e.min,e.max],()=>{u()})},RK=kn({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:wc,default:"top"}}),FK={[Fn]:e=>Sn(e)},DK=["tabindex"],HK=pt({name:"ElSliderButton"}),zK=pt({...HK,props:RK,emits:FK,setup(e,{expose:t,emit:n}){const r=e,i=_n("slider"),a=xr({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:s,button:o,tooltip:u,showTooltip:c,tooltipVisible:f,wrapperStyle:h,formatValue:p,handleMouseEnter:v,handleMouseLeave:g,onButtonDown:b,onKeyDown:y,setPosition:x}=LK(r,a,n),{hovering:_,dragging:E}=Fo(a);return t({onButtonDown:b,onKeyDown:y,setPosition:x,hovering:_,dragging:E}),(w,M)=>(ce(),je("div",{ref_key:"button",ref:o,class:We([P(i).e("button-wrapper"),{hover:P(_),dragging:P(E)}]),style:Pn(P(h)),tabindex:P(s)?-1:0,onMouseenter:M[0]||(M[0]=(...T)=>P(v)&&P(v)(...T)),onMouseleave:M[1]||(M[1]=(...T)=>P(g)&&P(g)(...T)),onMousedown:M[2]||(M[2]=(...T)=>P(b)&&P(b)(...T)),onTouchstart:M[3]||(M[3]=(...T)=>P(b)&&P(b)(...T)),onFocus:M[4]||(M[4]=(...T)=>P(v)&&P(v)(...T)),onBlur:M[5]||(M[5]=(...T)=>P(g)&&P(g)(...T)),onKeydown:M[6]||(M[6]=(...T)=>P(y)&&P(y)(...T))},[Ae(P(G2),{ref_key:"tooltip",ref:u,visible:P(f),placement:w.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":w.tooltipClass,disabled:!P(c),persistent:""},{content:Re(()=>[pe("span",null,Rn(P(p)),1)]),default:Re(()=>[pe("div",{class:We([P(i).e("button"),{hover:P(_),dragging:P(E)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,DK))}});var J6=mn(zK,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const VK=kn({mark:{type:kt([String,Object]),default:void 0}});var UK=pt({name:"ElSliderMarker",props:VK,setup(e){const t=_n("slider"),n=fe(()=>Gt(e.mark)?e.mark:e.mark.label),r=fe(()=>Gt(e.mark)?void 0:e.mark.style);return()=>j1("div",{class:t.e("marks-text"),style:r.value},n.value)}});const WK=["id","role","aria-label","aria-labelledby"],jK={key:1},qK=pt({name:"ElSlider"}),KK=pt({...qK,props:wK,emits:_K,setup(e,{expose:t,emit:n}){const r=e,i=_n("slider"),{t:a}=Bf(),s=xr({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:o,slider:u,firstButton:c,secondButton:f,sliderDisabled:h,minValue:p,maxValue:v,runwayStyle:g,barStyle:b,resetSize:y,emitChange:x,onSliderWrapperPrevent:_,onSliderClick:E,onSliderDown:w,setFirstValue:M,setSecondValue:T}=CK(r,s,n),{stops:S,getStopStyle:k}=BK(r,s,p,v),{inputId:L,isLabeledByFormItem:B}=V2(r,{formItemContext:o}),H=J0(),D=fe(()=>r.inputSize||H.value),R=fe(()=>r.label||a("el.slider.defaultLabel",{min:r.min,max:r.max})),z=fe(()=>r.range?r.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):R.value),j=fe(()=>r.formatValueText?r.formatValueText(ie.value):`${ie.value}`),I=fe(()=>r.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),N=fe(()=>r.formatValueText?r.formatValueText(me.value):`${me.value}`),U=fe(()=>[i.b(),i.m(H.value),i.is("vertical",r.vertical),{[i.m("with-input")]:r.showInput}]),Y=MK(r);$K(r,s,p,v,n,o);const Z=fe(()=>{const Be=[r.min,r.max,r.step].map(nt=>{const Me=`${nt}`.split(".")[1];return Me?Me.length:0});return Math.max.apply(null,Be)}),{sliderWrapper:ge}=xK(r,s,y),{firstValue:ie,secondValue:me,sliderSize:ve}=Fo(s),De=Be=>{s.dragging=Be};return $r(D_,{...Fo(r),sliderSize:ve,disabled:h,precision:Z,emitChange:x,resetSize:y,updateDragging:De}),t({onSliderClick:E}),(Be,nt)=>{var Me,at;return ce(),je("div",{id:Be.range?P(L):void 0,ref_key:"sliderWrapper",ref:ge,class:We(P(U)),role:Be.range?"group":void 0,"aria-label":Be.range&&!P(B)?P(R):void 0,"aria-labelledby":Be.range&&P(B)?(Me=P(o))==null?void 0:Me.labelId:void 0,onTouchstart:nt[2]||(nt[2]=(...Ue)=>P(_)&&P(_)(...Ue)),onTouchmove:nt[3]||(nt[3]=(...Ue)=>P(_)&&P(_)(...Ue))},[pe("div",{ref_key:"slider",ref:u,class:We([P(i).e("runway"),{"show-input":Be.showInput&&!Be.range},P(i).is("disabled",P(h))]),style:Pn(P(g)),onMousedown:nt[0]||(nt[0]=(...Ue)=>P(w)&&P(w)(...Ue)),onTouchstart:nt[1]||(nt[1]=(...Ue)=>P(w)&&P(w)(...Ue))},[pe("div",{class:We(P(i).e("bar")),style:Pn(P(b))},null,6),Ae(J6,{id:Be.range?void 0:P(L),ref_key:"firstButton",ref:c,"model-value":P(ie),vertical:Be.vertical,"tooltip-class":Be.tooltipClass,placement:Be.placement,role:"slider","aria-label":Be.range||!P(B)?P(z):void 0,"aria-labelledby":!Be.range&&P(B)?(at=P(o))==null?void 0:at.labelId:void 0,"aria-valuemin":Be.min,"aria-valuemax":Be.range?P(me):Be.max,"aria-valuenow":P(ie),"aria-valuetext":P(j),"aria-orientation":Be.vertical?"vertical":"horizontal","aria-disabled":P(h),"onUpdate:modelValue":P(M)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Be.range?(ce(),Je(J6,{key:0,ref_key:"secondButton",ref:f,"model-value":P(me),vertical:Be.vertical,"tooltip-class":Be.tooltipClass,placement:Be.placement,role:"slider","aria-label":P(I),"aria-valuemin":P(ie),"aria-valuemax":Be.max,"aria-valuenow":P(me),"aria-valuetext":P(N),"aria-orientation":Be.vertical?"vertical":"horizontal","aria-disabled":P(h),"onUpdate:modelValue":P(T)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):st("v-if",!0),Be.showStops?(ce(),je("div",jK,[(ce(!0),je(qt,null,di(P(S),(Ue,Xe)=>(ce(),je("div",{key:Xe,class:We(P(i).e("stop")),style:Pn(P(k)(Ue))},null,6))),128))])):st("v-if",!0),P(Y).length>0?(ce(),je(qt,{key:2},[pe("div",null,[(ce(!0),je(qt,null,di(P(Y),(Ue,Xe)=>(ce(),je("div",{key:Xe,style:Pn(P(k)(Ue.position)),class:We([P(i).e("stop"),P(i).e("marks-stop")])},null,6))),128))]),pe("div",{class:We(P(i).e("marks"))},[(ce(!0),je(qt,null,di(P(Y),(Ue,Xe)=>(ce(),Je(P(UK),{key:Xe,mark:Ue.mark,style:Pn(P(k)(Ue.position))},null,8,["mark","style"]))),128))],2)],64)):st("v-if",!0)],38),Be.showInput&&!Be.range?(ce(),Je(P($_),{key:0,ref:"input","model-value":P(ie),class:We(P(i).e("input")),step:Be.step,disabled:P(h),controls:Be.showInputControls,min:Be.min,max:Be.max,debounce:Be.debounce,size:P(D),"onUpdate:modelValue":P(M),onChange:P(x)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):st("v-if",!0)],42,WK)}}});var GK=mn(KK,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const YK=yi(GK),XK=kn({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:Ks},inactiveIcon:{type:Ks},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:kt(Function)},size:{type:String,validator:e_},tabindex:{type:[String,Number]}}),JK={[Fn]:e=>R0(e)||Gt(e)||Sn(e),[Ba]:e=>R0(e)||Gt(e)||Sn(e),[rs]:e=>R0(e)||Gt(e)||Sn(e)},QK=["onClick"],ZK=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],eG=["aria-hidden"],tG=["aria-hidden"],nG=["aria-hidden"],cm="ElSwitch",rG=pt({name:cm}),iG=pt({...rG,props:XK,emits:JK,setup(e,{expose:t,emit:n}){const r=e,i=Yn(),{formItem:a}=_c(),s=J0(),o=_n("switch");O2({from:'"value"',replacement:'"model-value" or "v-model"',scope:cm,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},fe(()=>{var M;return!!((M=i.vnode.props)!=null&&M.value)}));const{inputId:u}=V2(r,{formItemContext:a}),c=Ff(fe(()=>r.loading)),f=He(r.modelValue!==!1),h=He(),p=He(),v=fe(()=>[o.b(),o.m(s.value),o.is("disabled",c.value),o.is("checked",y.value)]),g=fe(()=>({width:mf(r.width)}));Ze(()=>r.modelValue,()=>{f.value=!0}),Ze(()=>r.value,()=>{f.value=!1});const b=fe(()=>f.value?r.modelValue:r.value),y=fe(()=>b.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(b.value)||(n(Fn,r.inactiveValue),n(Ba,r.inactiveValue),n(rs,r.inactiveValue)),Ze(y,M=>{var T;h.value.checked=M,r.validateEvent&&((T=a==null?void 0:a.validate)==null||T.call(a,"change").catch(S=>void 0))});const x=()=>{const M=y.value?r.inactiveValue:r.activeValue;n(Fn,M),n(Ba,M),n(rs,M),Qt(()=>{h.value.checked=y.value})},_=()=>{if(c.value)return;const{beforeChange:M}=r;if(!M){x();return}const T=M();[af(T),R0(T)].includes(!0)||S2(cm,"beforeChange must return type `Promise<boolean>` or `boolean`"),af(T)?T.then(k=>{k&&x()}).catch(k=>{}):T&&x()},E=fe(()=>o.cssVarBlock({...r.activeColor?{"on-color":r.activeColor}:null,...r.inactiveColor?{"off-color":r.inactiveColor}:null,...r.borderColor?{"border-color":r.borderColor}:null})),w=()=>{var M,T;(T=(M=h.value)==null?void 0:M.focus)==null||T.call(M)};return Ln(()=>{h.value.checked=y.value}),t({focus:w,checked:y}),(M,T)=>(ce(),je("div",{class:We(P(v)),style:Pn(P(E)),onClick:Sr(_,["prevent"])},[pe("input",{id:P(u),ref_key:"input",ref:h,class:We(P(o).e("input")),type:"checkbox",role:"switch","aria-checked":P(y),"aria-disabled":P(c),name:M.name,"true-value":M.activeValue,"false-value":M.inactiveValue,disabled:P(c),tabindex:M.tabindex,onChange:x,onKeydown:Er(_,["enter"])},null,42,ZK),!M.inlinePrompt&&(M.inactiveIcon||M.inactiveText)?(ce(),je("span",{key:0,class:We([P(o).e("label"),P(o).em("label","left"),P(o).is("active",!P(y))])},[M.inactiveIcon?(ce(),Je(P(_r),{key:0},{default:Re(()=>[(ce(),Je(jr(M.inactiveIcon)))]),_:1})):st("v-if",!0),!M.inactiveIcon&&M.inactiveText?(ce(),je("span",{key:1,"aria-hidden":P(y)},Rn(M.inactiveText),9,eG)):st("v-if",!0)],2)):st("v-if",!0),pe("span",{ref_key:"core",ref:p,class:We(P(o).e("core")),style:Pn(P(g))},[M.inlinePrompt?(ce(),je("div",{key:0,class:We(P(o).e("inner"))},[M.activeIcon||M.inactiveIcon?(ce(),Je(P(_r),{key:0,class:We(P(o).is("icon"))},{default:Re(()=>[(ce(),Je(jr(P(y)?M.activeIcon:M.inactiveIcon)))]),_:1},8,["class"])):M.activeText||M.inactiveText?(ce(),je("span",{key:1,class:We(P(o).is("text")),"aria-hidden":!P(y)},Rn(P(y)?M.activeText:M.inactiveText),11,tG)):st("v-if",!0)],2)):st("v-if",!0),pe("div",{class:We(P(o).e("action"))},[M.loading?(ce(),Je(P(_r),{key:0,class:We(P(o).is("loading"))},{default:Re(()=>[Ae(P(A2))]),_:1},8,["class"])):st("v-if",!0)],2)],6),!M.inlinePrompt&&(M.activeIcon||M.activeText)?(ce(),je("span",{key:1,class:We([P(o).e("label"),P(o).em("label","right"),P(o).is("active",P(y))])},[M.activeIcon?(ce(),Je(P(_r),{key:0},{default:Re(()=>[(ce(),Je(jr(M.activeIcon)))]),_:1})):st("v-if",!0),!M.activeIcon&&M.activeText?(ce(),je("span",{key:1,"aria-hidden":!P(y)},Rn(M.activeText),9,nG)):st("v-if",!0)],2)):st("v-if",!0)],14,QK))}});var aG=mn(iG,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const sG=yi(aG),oG=fs(e=>{e.vueApp.provide(m_,{prefix:1024,current:0})}),lG=fs({name:"nuxt:chunk-reload",setup(e){const t=_2(),n=Kv(),r=new Set;t.beforeEach(()=>{r.clear()}),e.hook("app:chunkError",({error:i})=>{r.add(i)}),t.onError((i,a)=>{if(r.has(i)){const o="href"in a&&a.href.startsWith("#")?n.app.baseURL+a.href:If(n.app.baseURL,a.fullPath);_$({path:o,persistState:!0})}})}});function cG(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(i){i(n)}),(r=e.get("*"))&&r.slice().map(function(i){i(t,n)})}}}const uG=fs(()=>{const e=cG();return{provide:{event:e.emit,listen:e.on}}});/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var fG="store";function xc(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function dG(e){return e!==null&&typeof e=="object"}function hG(e){return e&&typeof e.then=="function"}function pG(e,t){return function(){return e(t)}}function H_(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function z_(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;rp(e,n,[],e._modules.root,!0),X2(e,n,t)}function X2(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,a={};xc(i,function(s,o){a[o]=pG(s,e),Object.defineProperty(e.getters,o,{get:function(){return a[o]()},enumerable:!0})}),e._state=xr({data:t}),e.strict&&yG(e),r&&n&&e._withCommit(function(){r.data=null})}function rp(e,t,n,r,i){var a=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!a&&!i){var o=J2(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit(function(){o[u]=r.state})}var c=r.context=gG(e,s,n);r.forEachMutation(function(f,h){var p=s+h;vG(e,p,f,c)}),r.forEachAction(function(f,h){var p=f.root?h:s+h,v=f.handler||f;mG(e,p,v,c)}),r.forEachGetter(function(f,h){var p=s+h;bG(e,p,f,c)}),r.forEachChild(function(f,h){rp(e,t,n.concat(h),f,i)})}function gG(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(a,s,o){var u=c1(a,s,o),c=u.payload,f=u.options,h=u.type;return(!f||!f.root)&&(h=t+h),e.dispatch(h,c)},commit:r?e.commit:function(a,s,o){var u=c1(a,s,o),c=u.payload,f=u.options,h=u.type;(!f||!f.root)&&(h=t+h),e.commit(h,c,f)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return V_(e,t)}},state:{get:function(){return J2(e.state,n)}}}),i}function V_(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var a=i.slice(r);Object.defineProperty(n,a,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function vG(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(s){n.call(e,r.state,s)})}function mG(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(s){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},s);return hG(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch(function(u){throw e._devtoolHook.emit("vuex:error",u),u}):o})}function bG(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(a){return n(r.state,r.getters,a.state,a.getters)})}function yG(e){Ze(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function J2(e,t){return t.reduce(function(n,r){return n[r]},e)}function c1(e,t,n){return dG(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var wG="vuex bindings",Q6="vuex:mutations",Yg="vuex:actions",El="vuex",_G=0;function xG(e,t){hB({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[wG]},function(n){n.addTimelineLayer({id:Q6,label:"Vuex Mutations",color:Z6}),n.addTimelineLayer({id:Yg,label:"Vuex Actions",color:Z6}),n.addInspector({id:El,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===El)if(r.filter){var i=[];q_(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[j_(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===El){var i=r.nodeId;V_(t,i),r.state=TG(SG(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===El){var i=r.nodeId,a=r.path;i!=="root"&&(a=i.split("/").filter(Boolean).concat(a)),t._withCommit(function(){r.set(t._state.data,a,r.state.value)})}}),t.subscribe(function(r,i){var a={};r.payload&&(a.payload=r.payload),a.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(El),n.sendInspectorState(El),n.addTimelineEvent({layerId:Q6,event:{time:Date.now(),title:r.type,data:a}})}),t.subscribeAction({before:function(r,i){var a={};r.payload&&(a.payload=r.payload),r._id=_G++,r._time=Date.now(),a.state=i,n.addTimelineEvent({layerId:Yg,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:a}})},after:function(r,i){var a={},s=Date.now()-r._time;a.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(a.payload=r.payload),a.state=i,n.addTimelineEvent({layerId:Yg,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:a}})}})})}var Z6=8702998,MG=6710886,CG=16777215,U_={label:"namespaced",textColor:CG,backgroundColor:MG};function W_(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function j_(e,t){return{id:t||"root",label:W_(t),tags:e.namespaced?[U_]:[],children:Object.keys(e._children).map(function(n){return j_(e._children[n],t+n+"/")})}}function q_(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[U_]:[]}),Object.keys(t._children).forEach(function(i){q_(e,t._children[i],n,r+i+"/")})}function TG(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(s){return{key:s,editable:!0,value:e.state[s]}})};if(r.length){var a=EG(t);i.getters=Object.keys(a).map(function(s){return{key:s.endsWith("/")?W_(s):s,editable:!1,value:um(function(){return a[s]})}})}return i}function EG(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,a=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[a]=um(function(){return e[n]})}else t[n]=um(function(){return e[n]})}),t}function SG(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,a){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+t+'".');return a===n.length-1?s:s._children},t==="root"?e:e.root._children)}function um(e){try{return e()}catch(t){return t}}var Fa=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},K_={namespaced:{configurable:!0}};K_.namespaced.get=function(){return!!this._rawModule.namespaced};Fa.prototype.addChild=function(t,n){this._children[t]=n};Fa.prototype.removeChild=function(t){delete this._children[t]};Fa.prototype.getChild=function(t){return this._children[t]};Fa.prototype.hasChild=function(t){return t in this._children};Fa.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Fa.prototype.forEachChild=function(t){xc(this._children,t)};Fa.prototype.forEachGetter=function(t){this._rawModule.getters&&xc(this._rawModule.getters,t)};Fa.prototype.forEachAction=function(t){this._rawModule.actions&&xc(this._rawModule.actions,t)};Fa.prototype.forEachMutation=function(t){this._rawModule.mutations&&xc(this._rawModule.mutations,t)};Object.defineProperties(Fa.prototype,K_);var Q0=function(t){this.register([],t,!1)};Q0.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Q0.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Q0.prototype.update=function(t){G_([],this.root,t)};Q0.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var a=new Fa(n,r);if(t.length===0)this.root=a;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],a)}n.modules&&xc(n.modules,function(o,u){i.register(t.concat(u),o,r)})};Q0.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};Q0.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function G_(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;G_(e.concat(r),t.getChild(r),n.modules[r])}}function PG(e){return new wi(e)}var wi=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var a=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Q0(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=a;var s=this,o=this,u=o.dispatch,c=o.commit;this.dispatch=function(p,v){return u.call(s,p,v)},this.commit=function(p,v,g){return c.call(s,p,v,g)},this.strict=i;var f=this._modules.root.state;rp(this,f,[],this._modules.root),X2(this,f),r.forEach(function(h){return h(n)})},Q2={state:{configurable:!0}};wi.prototype.install=function(t,n){t.provide(n||fG,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&xG(t,this)};Q2.state.get=function(){return this._state.data};Q2.state.set=function(e){};wi.prototype.commit=function(t,n,r){var i=this,a=c1(t,n,r),s=a.type,o=a.payload,u={type:s,payload:o},c=this._mutations[s];c&&(this._withCommit(function(){c.forEach(function(h){h(o)})}),this._subscribers.slice().forEach(function(f){return f(u,i.state)}))};wi.prototype.dispatch=function(t,n){var r=this,i=c1(t,n),a=i.type,s=i.payload,o={type:a,payload:s},u=this._actions[a];if(u){try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(o,r.state)})}catch{}var c=u.length>1?Promise.all(u.map(function(f){return f(s)})):u[0](s);return new Promise(function(f,h){c.then(function(p){try{r._actionSubscribers.filter(function(v){return v.after}).forEach(function(v){return v.after(o,r.state)})}catch{}f(p)},function(p){try{r._actionSubscribers.filter(function(v){return v.error}).forEach(function(v){return v.error(o,r.state,p)})}catch{}h(p)})})}};wi.prototype.subscribe=function(t,n){return H_(t,this._subscribers,n)};wi.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return H_(r,this._actionSubscribers,n)};wi.prototype.watch=function(t,n,r){var i=this;return Ze(function(){return t(i.state,i.getters)},n,Object.assign({},r))};wi.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};wi.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),rp(this,this.state,t,this._modules.get(t),r.preserveState),X2(this,this.state)};wi.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=J2(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),z_(this)};wi.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};wi.prototype.hotUpdate=function(t){this._modules.update(t),z_(this,!0)};wi.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(wi.prototype,Q2);const AG=PG({state(){return{count:0}},mutations:{increment(e){e.count++}}}),kG=fs(e=>{e.vueApp.use(AG)}),OG=[x$,M$,C$,E$,S$,oG,lG,uG,kG],Y_=pt({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t,attrs:n}){const r=He(!1);return Ln(()=>{r.value=!0}),i=>{var u;if(r.value)return(u=t.default)==null?void 0:u.call(t);const a=t.fallback||t.placeholder;if(a)return a();const s=i.fallback||i.placeholder||"",o=i.fallbackTag||i.placeholderTag||"span";return je(o,n,s)}}});var u1={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */u1.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",o="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,f="__lodash_placeholder__",h=1,p=2,v=4,g=1,b=2,y=1,x=2,_=4,E=8,w=16,M=32,T=64,S=128,k=256,L=512,B=30,H="...",D=800,R=16,z=1,j=2,I=3,N=1/0,U=9007199254740991,Y=17976931348623157e292,Z=0/0,ge=4294967295,ie=ge-1,me=ge>>>1,ve=[["ary",S],["bind",y],["bindKey",x],["curry",E],["curryRight",w],["flip",L],["partial",M],["partialRight",T],["rearg",k]],De="[object Arguments]",Be="[object Array]",nt="[object AsyncFunction]",Me="[object Boolean]",at="[object Date]",Ue="[object DOMException]",Xe="[object Error]",W="[object Function]",X="[object GeneratorFunction]",ae="[object Map]",ee="[object Number]",xe="[object Null]",Se="[object Object]",Ve="[object Promise]",Te="[object Proxy]",te="[object RegExp]",se="[object Set]",ke="[object String]",Pe="[object Symbol]",oe="[object Undefined]",$e="[object WeakMap]",qe="[object WeakSet]",et="[object ArrayBuffer]",lt="[object DataView]",wt="[object Float32Array]",Et="[object Float64Array]",Xt="[object Int8Array]",pn="[object Int16Array]",Ft="[object Int32Array]",Wt="[object Uint8Array]",Ot="[object Uint8ClampedArray]",Bt="[object Uint16Array]",de="[object Uint32Array]",Ne=/\b__p \+= '';/g,it=/\b(__p \+=) '' \+/g,_t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,tt=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,be=RegExp(tt.source),he=RegExp(J.source),we=/<%-([\s\S]+?)%>/g,Ce=/<%([\s\S]+?)%>/g,Ye=/<%=([\s\S]+?)%>/g,mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zt=/^\w*$/,dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pt=/[\\^$.*+?()[\]{}|]/g,Zt=RegExp(Pt.source),Vt=/^\s+/,yt=/\s/,Nt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bn=/\{\n\/\* \[wrapped with (.+)\] \*/,Wn=/,? & /,ir=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bn=/[()=,{}\[\]\/\s]/,en=/\\(\\)?/g,Hi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vs=/\w*$/,to=/^[-+]0x[0-9a-f]+$/i,kc=/^0b[01]+$/i,Oc=/^\[object .+?Constructor\]$/,Nc=/^0o[0-7]+$/i,Ic=/^(?:0|[1-9]\d*)$/,Lc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,no=/($^)/,Bc=/['\n\r\u2028\u2029\\]/g,Ha="\\ud800-\\udfff",Xf="\\u0300-\\u036f",Jf="\\ufe20-\\ufe2f",$c="\\u20d0-\\u20ff",Qf=Xf+Jf+$c,Zf="\\u2700-\\u27bf",ed="a-z\\xdf-\\xf6\\xf8-\\xff",td="\\xac\\xb1\\xd7\\xf7",nd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Mp="\\u2000-\\u206f",rd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",il="A-Z\\xc0-\\xd6\\xd8-\\xde",Xo="\\ufe0e\\ufe0f",Jo=td+nd+Mp+rd,Rc="[']",Fc="["+Ha+"]",id="["+Jo+"]",al="["+Qf+"]",ad="\\d+",Qo="["+Zf+"]",sl="["+ed+"]",za="[^"+Ha+Jo+ad+Zf+ed+il+"]",Dc="\\ud83c[\\udffb-\\udfff]",Hc="(?:"+al+"|"+Dc+")",ol="[^"+Ha+"]",Zo="(?:\\ud83c[\\udde6-\\uddff]){2}",ro="[\\ud800-\\udbff][\\udc00-\\udfff]",pa="["+il+"]",zc="\\u200d",Vc="(?:"+sl+"|"+za+")",io="(?:"+pa+"|"+za+")",ms="(?:"+Rc+"(?:d|ll|m|re|s|t|ve))?",Uc="(?:"+Rc+"(?:D|LL|M|RE|S|T|VE))?",Wc=Hc+"?",Mn="["+Xo+"]?",On="(?:"+zc+"(?:"+[ol,Zo,ro].join("|")+")"+Mn+Wc+")*",Va="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ar=Mn+Wc+On,fr="(?:"+[Qo,Zo,ro].join("|")+")"+ar,Fr="(?:"+[ol+al+"?",al,Zo,ro,Fc].join("|")+")",e0=RegExp(Rc,"g"),ll=RegExp(al,"g"),jc=RegExp(Dc+"(?="+Dc+")|"+Fr+ar,"g"),ao=RegExp([pa+"?"+sl+"+"+ms+"(?="+[id,pa,"$"].join("|")+")",io+"+"+Uc+"(?="+[id,pa+Vc,"$"].join("|")+")",pa+"?"+Vc+"+"+ms,pa+"+"+Uc,vr,Va,ad,fr].join("|"),"g"),zi=RegExp("["+zc+Ha+Qf+Xo+"]"),Cp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Tp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ep=-1,Nn={};Nn[wt]=Nn[Et]=Nn[Xt]=Nn[pn]=Nn[Ft]=Nn[Wt]=Nn[Ot]=Nn[Bt]=Nn[de]=!0,Nn[De]=Nn[Be]=Nn[et]=Nn[Me]=Nn[lt]=Nn[at]=Nn[Xe]=Nn[W]=Nn[ae]=Nn[ee]=Nn[Se]=Nn[te]=Nn[se]=Nn[ke]=Nn[$e]=!1;var cn={};cn[De]=cn[Be]=cn[et]=cn[lt]=cn[Me]=cn[at]=cn[wt]=cn[Et]=cn[Xt]=cn[pn]=cn[Ft]=cn[ae]=cn[ee]=cn[Se]=cn[te]=cn[se]=cn[ke]=cn[Pe]=cn[Wt]=cn[Ot]=cn[Bt]=cn[de]=!0,cn[Xe]=cn[W]=cn[$e]=!1;var t0={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},n0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},so={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vi=parseFloat,Pp=parseInt,sd=typeof gu=="object"&&gu&&gu.Object===Object&&gu,od=typeof self=="object"&&self&&self.Object===Object&&self,dr=sd||od||Function("return this")(),bs=t&&!t.nodeType&&t,Mi=bs&&!0&&e&&!e.nodeType&&e,ld=Mi&&Mi.exports===bs,r0=ld&&sd.process,ii=function(){try{var re=Mi&&Mi.require&&Mi.require("util").types;return re||r0&&r0.binding&&r0.binding("util")}catch{}}(),Ua=ii&&ii.isArrayBuffer,ys=ii&&ii.isDate,i0=ii&&ii.isMap,qc=ii&&ii.isRegExp,cl=ii&&ii.isSet,Kc=ii&&ii.isTypedArray;function Pr(re,Ee,_e){switch(_e.length){case 0:return re.call(Ee);case 1:return re.call(Ee,_e[0]);case 2:return re.call(Ee,_e[0],_e[1]);case 3:return re.call(Ee,_e[0],_e[1],_e[2])}return re.apply(Ee,_e)}function cd(re,Ee,_e,ot){for(var At=-1,gn=re==null?0:re.length;++At<gn;){var mr=re[At];Ee(ot,mr,_e(mr),re)}return ot}function Xr(re,Ee){for(var _e=-1,ot=re==null?0:re.length;++_e<ot&&Ee(re[_e],_e,re)!==!1;);return re}function Ap(re,Ee){for(var _e=re==null?0:re.length;_e--&&Ee(re[_e],_e,re)!==!1;);return re}function Gc(re,Ee){for(var _e=-1,ot=re==null?0:re.length;++_e<ot;)if(!Ee(re[_e],_e,re))return!1;return!0}function ga(re,Ee){for(var _e=-1,ot=re==null?0:re.length,At=0,gn=[];++_e<ot;){var mr=re[_e];Ee(mr,_e,re)&&(gn[At++]=mr)}return gn}function va(re,Ee){var _e=re==null?0:re.length;return!!_e&&q(re,Ee,0)>-1}function oo(re,Ee,_e){for(var ot=-1,At=re==null?0:re.length;++ot<At;)if(_e(Ee,re[ot]))return!0;return!1}function $t(re,Ee){for(var _e=-1,ot=re==null?0:re.length,At=Array(ot);++_e<ot;)At[_e]=Ee(re[_e],_e,re);return At}function $n(re,Ee){for(var _e=-1,ot=Ee.length,At=re.length;++_e<ot;)re[At+_e]=Ee[_e];return re}function ul(re,Ee,_e,ot){var At=-1,gn=re==null?0:re.length;for(ot&&gn&&(_e=re[++At]);++At<gn;)_e=Ee(_e,re[At],At,re);return _e}function Yc(re,Ee,_e,ot){var At=re==null?0:re.length;for(ot&&At&&(_e=re[--At]);At--;)_e=Ee(_e,re[At],At,re);return _e}function ws(re,Ee){for(var _e=-1,ot=re==null?0:re.length;++_e<ot;)if(Ee(re[_e],_e,re))return!0;return!1}var kp=Fe("length");function Op(re){return re.split("")}function Xc(re){return re.match(ir)||[]}function A(re,Ee,_e){var ot;return _e(re,function(At,gn,mr){if(Ee(At,gn,mr))return ot=gn,!1}),ot}function $(re,Ee,_e,ot){for(var At=re.length,gn=_e+(ot?1:-1);ot?gn--:++gn<At;)if(Ee(re[gn],gn,re))return gn;return-1}function q(re,Ee,_e){return Ee===Ee?ya(re,Ee,_e):$(re,ne,_e)}function K(re,Ee,_e,ot){for(var At=_e-1,gn=re.length;++At<gn;)if(ot(re[At],Ee))return At;return-1}function ne(re){return re!==re}function ye(re,Ee){var _e=re==null?0:re.length;return _e?Ke(re,Ee)/_e:Z}function Fe(re){return function(Ee){return Ee==null?n:Ee[re]}}function Ge(re){return function(Ee){return re==null?n:re[Ee]}}function rt(re,Ee,_e,ot,At){return At(re,function(gn,mr,In){_e=ot?(ot=!1,gn):Ee(_e,gn,mr,In)}),_e}function bt(re,Ee){var _e=re.length;for(re.sort(Ee);_e--;)re[_e]=re[_e].value;return re}function Ke(re,Ee){for(var _e,ot=-1,At=re.length;++ot<At;){var gn=Ee(re[ot]);gn!==n&&(_e=_e===n?gn:_e+gn)}return _e}function ft(re,Ee){for(var _e=-1,ot=Array(re);++_e<re;)ot[_e]=Ee(_e);return ot}function Rt(re,Ee){return $t(Ee,function(_e){return[_e,re[_e]]})}function Vn(re){return re&&re.slice(0,X3(re)+1).replace(Vt,"")}function xt(re){return function(Ee){return re(Ee)}}function un(re,Ee){return $t(Ee,function(_e){return re[_e]})}function It(re,Ee){return re.has(Ee)}function fn(re,Ee){for(var _e=-1,ot=re.length;++_e<ot&&q(Ee,re[_e],0)>-1;);return _e}function jn(re,Ee){for(var _e=re.length;_e--&&q(Ee,re[_e],0)>-1;);return _e}function Dr(re,Ee){for(var _e=re.length,ot=0;_e--;)re[_e]===Ee&&++ot;return ot}var Cn=Ge(t0),Xn=Ge(n0);function Mr(re){return"\\"+Sp[re]}function qn(re,Ee){return re==null?n:re[Ee]}function Jn(re){return zi.test(re)}function Ci(re){return Cp.test(re)}function Wa(re){for(var Ee,_e=[];!(Ee=re.next()).done;)_e.push(Ee.value);return _e}function fl(re){var Ee=-1,_e=Array(re.size);return re.forEach(function(ot,At){_e[++Ee]=[At,ot]}),_e}function a0(re,Ee){return function(_e){return re(Ee(_e))}}function ma(re,Ee){for(var _e=-1,ot=re.length,At=0,gn=[];++_e<ot;){var mr=re[_e];(mr===Ee||mr===f)&&(re[_e]=f,gn[At++]=_e)}return gn}function ba(re){var Ee=-1,_e=Array(re.size);return re.forEach(function(ot){_e[++Ee]=ot}),_e}function Ti(re){var Ee=-1,_e=Array(re.size);return re.forEach(function(ot){_e[++Ee]=[ot,ot]}),_e}function ya(re,Ee,_e){for(var ot=_e-1,At=re.length;++ot<At;)if(re[ot]===Ee)return ot;return-1}function ud(re,Ee,_e){for(var ot=_e+1;ot--;)if(re[ot]===Ee)return ot;return ot}function Ui(re){return Jn(re)?XC(re):kp(re)}function ai(re){return Jn(re)?JC(re):Op(re)}function X3(re){for(var Ee=re.length;Ee--&&yt.test(re.charAt(Ee)););return Ee}var YC=Ge(so);function XC(re){for(var Ee=jc.lastIndex=0;jc.test(re);)++Ee;return Ee}function JC(re){return re.match(jc)||[]}function QC(re){return re.match(ao)||[]}var ZC=function re(Ee){Ee=Ee==null?dr:dl.defaults(dr.Object(),Ee,dl.pick(dr,Tp));var _e=Ee.Array,ot=Ee.Date,At=Ee.Error,gn=Ee.Function,mr=Ee.Math,In=Ee.Object,Np=Ee.RegExp,eT=Ee.String,Wi=Ee.TypeError,fd=_e.prototype,tT=gn.prototype,hl=In.prototype,dd=Ee["__core-js_shared__"],hd=tT.toString,xn=hl.hasOwnProperty,nT=0,J3=function(){var l=/[^.]+$/.exec(dd&&dd.keys&&dd.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),pd=hl.toString,rT=hd.call(In),iT=dr._,aT=Np("^"+hd.call(xn).replace(Pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gd=ld?Ee.Buffer:n,lo=Ee.Symbol,vd=Ee.Uint8Array,Q3=gd?gd.allocUnsafe:n,md=a0(In.getPrototypeOf,In),Z3=In.create,eb=hl.propertyIsEnumerable,bd=fd.splice,tb=lo?lo.isConcatSpreadable:n,Jc=lo?lo.iterator:n,s0=lo?lo.toStringTag:n,yd=function(){try{var l=f0(In,"defineProperty");return l({},"",{}),l}catch{}}(),sT=Ee.clearTimeout!==dr.clearTimeout&&Ee.clearTimeout,oT=ot&&ot.now!==dr.Date.now&&ot.now,lT=Ee.setTimeout!==dr.setTimeout&&Ee.setTimeout,wd=mr.ceil,_d=mr.floor,Ip=In.getOwnPropertySymbols,cT=gd?gd.isBuffer:n,nb=Ee.isFinite,uT=fd.join,fT=a0(In.keys,In),br=mr.max,Hr=mr.min,dT=ot.now,hT=Ee.parseInt,rb=mr.random,pT=fd.reverse,Lp=f0(Ee,"DataView"),Qc=f0(Ee,"Map"),Bp=f0(Ee,"Promise"),pl=f0(Ee,"Set"),Zc=f0(Ee,"WeakMap"),eu=f0(In,"create"),xd=Zc&&new Zc,gl={},gT=d0(Lp),vT=d0(Qc),mT=d0(Bp),bT=d0(pl),yT=d0(Zc),Md=lo?lo.prototype:n,tu=Md?Md.valueOf:n,ib=Md?Md.toString:n;function F(l){if(Qn(l)&&!Lt(l)&&!(l instanceof Jt)){if(l instanceof ji)return l;if(xn.call(l,"__wrapped__"))return a5(l)}return new ji(l)}var vl=function(){function l(){}return function(d){if(!Kn(d))return{};if(Z3)return Z3(d);l.prototype=d;var m=new l;return l.prototype=n,m}}();function Cd(){}function ji(l,d){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}F.templateSettings={escape:we,evaluate:Ce,interpolate:Ye,variable:"",imports:{_:F}},F.prototype=Cd.prototype,F.prototype.constructor=F,ji.prototype=vl(Cd.prototype),ji.prototype.constructor=ji;function Jt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ge,this.__views__=[]}function wT(){var l=new Jt(this.__wrapped__);return l.__actions__=si(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=si(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=si(this.__views__),l}function _T(){if(this.__filtered__){var l=new Jt(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function xT(){var l=this.__wrapped__.value(),d=this.__dir__,m=Lt(l),C=d<0,O=m?l.length:0,V=LE(0,O,this.__views__),G=V.start,Q=V.end,le=Q-G,Ie=C?Q:G-1,Le=this.__iteratees__,ze=Le.length,Qe=0,ht=Hr(le,this.__takeCount__);if(!m||!C&&O==le&&ht==le)return Pb(l,this.__actions__);var Ct=[];e:for(;le--&&Qe<ht;){Ie+=d;for(var Ut=-1,Tt=l[Ie];++Ut<ze;){var Yt=Le[Ut],tn=Yt.iteratee,Pi=Yt.type,Zr=tn(Tt);if(Pi==j)Tt=Zr;else if(!Zr){if(Pi==z)continue e;break e}}Ct[Qe++]=Tt}return Ct}Jt.prototype=vl(Cd.prototype),Jt.prototype.constructor=Jt;function o0(l){var d=-1,m=l==null?0:l.length;for(this.clear();++d<m;){var C=l[d];this.set(C[0],C[1])}}function MT(){this.__data__=eu?eu(null):{},this.size=0}function CT(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function TT(l){var d=this.__data__;if(eu){var m=d[l];return m===u?n:m}return xn.call(d,l)?d[l]:n}function ET(l){var d=this.__data__;return eu?d[l]!==n:xn.call(d,l)}function ST(l,d){var m=this.__data__;return this.size+=this.has(l)?0:1,m[l]=eu&&d===n?u:d,this}o0.prototype.clear=MT,o0.prototype.delete=CT,o0.prototype.get=TT,o0.prototype.has=ET,o0.prototype.set=ST;function _s(l){var d=-1,m=l==null?0:l.length;for(this.clear();++d<m;){var C=l[d];this.set(C[0],C[1])}}function PT(){this.__data__=[],this.size=0}function AT(l){var d=this.__data__,m=Td(d,l);if(m<0)return!1;var C=d.length-1;return m==C?d.pop():bd.call(d,m,1),--this.size,!0}function kT(l){var d=this.__data__,m=Td(d,l);return m<0?n:d[m][1]}function OT(l){return Td(this.__data__,l)>-1}function NT(l,d){var m=this.__data__,C=Td(m,l);return C<0?(++this.size,m.push([l,d])):m[C][1]=d,this}_s.prototype.clear=PT,_s.prototype.delete=AT,_s.prototype.get=kT,_s.prototype.has=OT,_s.prototype.set=NT;function xs(l){var d=-1,m=l==null?0:l.length;for(this.clear();++d<m;){var C=l[d];this.set(C[0],C[1])}}function IT(){this.size=0,this.__data__={hash:new o0,map:new(Qc||_s),string:new o0}}function LT(l){var d=Rd(this,l).delete(l);return this.size-=d?1:0,d}function BT(l){return Rd(this,l).get(l)}function $T(l){return Rd(this,l).has(l)}function RT(l,d){var m=Rd(this,l),C=m.size;return m.set(l,d),this.size+=m.size==C?0:1,this}xs.prototype.clear=IT,xs.prototype.delete=LT,xs.prototype.get=BT,xs.prototype.has=$T,xs.prototype.set=RT;function l0(l){var d=-1,m=l==null?0:l.length;for(this.__data__=new xs;++d<m;)this.add(l[d])}function FT(l){return this.__data__.set(l,u),this}function DT(l){return this.__data__.has(l)}l0.prototype.add=l0.prototype.push=FT,l0.prototype.has=DT;function wa(l){var d=this.__data__=new _s(l);this.size=d.size}function HT(){this.__data__=new _s,this.size=0}function zT(l){var d=this.__data__,m=d.delete(l);return this.size=d.size,m}function VT(l){return this.__data__.get(l)}function UT(l){return this.__data__.has(l)}function WT(l,d){var m=this.__data__;if(m instanceof _s){var C=m.__data__;if(!Qc||C.length<i-1)return C.push([l,d]),this.size=++m.size,this;m=this.__data__=new xs(C)}return m.set(l,d),this.size=m.size,this}wa.prototype.clear=HT,wa.prototype.delete=zT,wa.prototype.get=VT,wa.prototype.has=UT,wa.prototype.set=WT;function ab(l,d){var m=Lt(l),C=!m&&h0(l),O=!m&&!C&&po(l),V=!m&&!C&&!O&&wl(l),G=m||C||O||V,Q=G?ft(l.length,eT):[],le=Q.length;for(var Ie in l)(d||xn.call(l,Ie))&&!(G&&(Ie=="length"||O&&(Ie=="offset"||Ie=="parent")||V&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||Es(Ie,le)))&&Q.push(Ie);return Q}function sb(l){var d=l.length;return d?l[qp(0,d-1)]:n}function jT(l,d){return Fd(si(l),c0(d,0,l.length))}function qT(l){return Fd(si(l))}function $p(l,d,m){(m!==n&&!_a(l[d],m)||m===n&&!(d in l))&&Ms(l,d,m)}function nu(l,d,m){var C=l[d];(!(xn.call(l,d)&&_a(C,m))||m===n&&!(d in l))&&Ms(l,d,m)}function Td(l,d){for(var m=l.length;m--;)if(_a(l[m][0],d))return m;return-1}function KT(l,d,m,C){return co(l,function(O,V,G){d(C,O,m(O),G)}),C}function ob(l,d){return l&&qa(d,Cr(d),l)}function GT(l,d){return l&&qa(d,li(d),l)}function Ms(l,d,m){d=="__proto__"&&yd?yd(l,d,{configurable:!0,enumerable:!0,value:m,writable:!0}):l[d]=m}function Rp(l,d){for(var m=-1,C=d.length,O=_e(C),V=l==null;++m<C;)O[m]=V?n:mg(l,d[m]);return O}function c0(l,d,m){return l===l&&(m!==n&&(l=l<=m?l:m),d!==n&&(l=l>=d?l:d)),l}function qi(l,d,m,C,O,V){var G,Q=d&h,le=d&p,Ie=d&v;if(m&&(G=O?m(l,C,O,V):m(l)),G!==n)return G;if(!Kn(l))return l;var Le=Lt(l);if(Le){if(G=$E(l),!Q)return si(l,G)}else{var ze=zr(l),Qe=ze==W||ze==X;if(po(l))return Ob(l,Q);if(ze==Se||ze==De||Qe&&!O){if(G=le||Qe?{}:Xb(l),!Q)return le?TE(l,GT(G,l)):CE(l,ob(G,l))}else{if(!cn[ze])return O?l:{};G=RE(l,ze,Q)}}V||(V=new wa);var ht=V.get(l);if(ht)return ht;V.set(l,G),T5(l)?l.forEach(function(Tt){G.add(qi(Tt,d,m,Tt,l,V))}):M5(l)&&l.forEach(function(Tt,Yt){G.set(Yt,qi(Tt,d,m,Yt,l,V))});var Ct=Ie?le?rg:ng:le?li:Cr,Ut=Le?n:Ct(l);return Xr(Ut||l,function(Tt,Yt){Ut&&(Yt=Tt,Tt=l[Yt]),nu(G,Yt,qi(Tt,d,m,Yt,l,V))}),G}function YT(l){var d=Cr(l);return function(m){return lb(m,l,d)}}function lb(l,d,m){var C=m.length;if(l==null)return!C;for(l=In(l);C--;){var O=m[C],V=d[O],G=l[O];if(G===n&&!(O in l)||!V(G))return!1}return!0}function cb(l,d,m){if(typeof l!="function")throw new Wi(s);return cu(function(){l.apply(n,m)},d)}function ru(l,d,m,C){var O=-1,V=va,G=!0,Q=l.length,le=[],Ie=d.length;if(!Q)return le;m&&(d=$t(d,xt(m))),C?(V=oo,G=!1):d.length>=i&&(V=It,G=!1,d=new l0(d));e:for(;++O<Q;){var Le=l[O],ze=m==null?Le:m(Le);if(Le=C||Le!==0?Le:0,G&&ze===ze){for(var Qe=Ie;Qe--;)if(d[Qe]===ze)continue e;le.push(Le)}else V(d,ze,C)||le.push(Le)}return le}var co=$b(ja),ub=$b(Dp,!0);function XT(l,d){var m=!0;return co(l,function(C,O,V){return m=!!d(C,O,V),m}),m}function Ed(l,d,m){for(var C=-1,O=l.length;++C<O;){var V=l[C],G=d(V);if(G!=null&&(Q===n?G===G&&!Si(G):m(G,Q)))var Q=G,le=V}return le}function JT(l,d,m,C){var O=l.length;for(m=Dt(m),m<0&&(m=-m>O?0:O+m),C=C===n||C>O?O:Dt(C),C<0&&(C+=O),C=m>C?0:S5(C);m<C;)l[m++]=d;return l}function fb(l,d){var m=[];return co(l,function(C,O,V){d(C,O,V)&&m.push(C)}),m}function Ar(l,d,m,C,O){var V=-1,G=l.length;for(m||(m=DE),O||(O=[]);++V<G;){var Q=l[V];d>0&&m(Q)?d>1?Ar(Q,d-1,m,C,O):$n(O,Q):C||(O[O.length]=Q)}return O}var Fp=Rb(),db=Rb(!0);function ja(l,d){return l&&Fp(l,d,Cr)}function Dp(l,d){return l&&db(l,d,Cr)}function Sd(l,d){return ga(d,function(m){return Ss(l[m])})}function u0(l,d){d=fo(d,l);for(var m=0,C=d.length;l!=null&&m<C;)l=l[Ka(d[m++])];return m&&m==C?l:n}function hb(l,d,m){var C=d(l);return Lt(l)?C:$n(C,m(l))}function Jr(l){return l==null?l===n?oe:xe:s0&&s0 in In(l)?IE(l):qE(l)}function Hp(l,d){return l>d}function QT(l,d){return l!=null&&xn.call(l,d)}function ZT(l,d){return l!=null&&d in In(l)}function eE(l,d,m){return l>=Hr(d,m)&&l<br(d,m)}function zp(l,d,m){for(var C=m?oo:va,O=l[0].length,V=l.length,G=V,Q=_e(V),le=1/0,Ie=[];G--;){var Le=l[G];G&&d&&(Le=$t(Le,xt(d))),le=Hr(Le.length,le),Q[G]=!m&&(d||O>=120&&Le.length>=120)?new l0(G&&Le):n}Le=l[0];var ze=-1,Qe=Q[0];e:for(;++ze<O&&Ie.length<le;){var ht=Le[ze],Ct=d?d(ht):ht;if(ht=m||ht!==0?ht:0,!(Qe?It(Qe,Ct):C(Ie,Ct,m))){for(G=V;--G;){var Ut=Q[G];if(!(Ut?It(Ut,Ct):C(l[G],Ct,m)))continue e}Qe&&Qe.push(Ct),Ie.push(ht)}}return Ie}function tE(l,d,m,C){return ja(l,function(O,V,G){d(C,m(O),V,G)}),C}function iu(l,d,m){d=fo(d,l),l=e5(l,d);var C=l==null?l:l[Ka(Gi(d))];return C==null?n:Pr(C,l,m)}function pb(l){return Qn(l)&&Jr(l)==De}function nE(l){return Qn(l)&&Jr(l)==et}function rE(l){return Qn(l)&&Jr(l)==at}function au(l,d,m,C,O){return l===d?!0:l==null||d==null||!Qn(l)&&!Qn(d)?l!==l&&d!==d:iE(l,d,m,C,au,O)}function iE(l,d,m,C,O,V){var G=Lt(l),Q=Lt(d),le=G?Be:zr(l),Ie=Q?Be:zr(d);le=le==De?Se:le,Ie=Ie==De?Se:Ie;var Le=le==Se,ze=Ie==Se,Qe=le==Ie;if(Qe&&po(l)){if(!po(d))return!1;G=!0,Le=!1}if(Qe&&!Le)return V||(V=new wa),G||wl(l)?Kb(l,d,m,C,O,V):OE(l,d,le,m,C,O,V);if(!(m&g)){var ht=Le&&xn.call(l,"__wrapped__"),Ct=ze&&xn.call(d,"__wrapped__");if(ht||Ct){var Ut=ht?l.value():l,Tt=Ct?d.value():d;return V||(V=new wa),O(Ut,Tt,m,C,V)}}return Qe?(V||(V=new wa),NE(l,d,m,C,O,V)):!1}function aE(l){return Qn(l)&&zr(l)==ae}function Vp(l,d,m,C){var O=m.length,V=O,G=!C;if(l==null)return!V;for(l=In(l);O--;){var Q=m[O];if(G&&Q[2]?Q[1]!==l[Q[0]]:!(Q[0]in l))return!1}for(;++O<V;){Q=m[O];var le=Q[0],Ie=l[le],Le=Q[1];if(G&&Q[2]){if(Ie===n&&!(le in l))return!1}else{var ze=new wa;if(C)var Qe=C(Ie,Le,le,l,d,ze);if(!(Qe===n?au(Le,Ie,g|b,C,ze):Qe))return!1}}return!0}function gb(l){if(!Kn(l)||zE(l))return!1;var d=Ss(l)?aT:Oc;return d.test(d0(l))}function sE(l){return Qn(l)&&Jr(l)==te}function oE(l){return Qn(l)&&zr(l)==se}function lE(l){return Qn(l)&&Wd(l.length)&&!!Nn[Jr(l)]}function vb(l){return typeof l=="function"?l:l==null?ci:typeof l=="object"?Lt(l)?yb(l[0],l[1]):bb(l):F5(l)}function Up(l){if(!lu(l))return fT(l);var d=[];for(var m in In(l))xn.call(l,m)&&m!="constructor"&&d.push(m);return d}function cE(l){if(!Kn(l))return jE(l);var d=lu(l),m=[];for(var C in l)C=="constructor"&&(d||!xn.call(l,C))||m.push(C);return m}function Wp(l,d){return l<d}function mb(l,d){var m=-1,C=oi(l)?_e(l.length):[];return co(l,function(O,V,G){C[++m]=d(O,V,G)}),C}function bb(l){var d=ag(l);return d.length==1&&d[0][2]?Qb(d[0][0],d[0][1]):function(m){return m===l||Vp(m,l,d)}}function yb(l,d){return og(l)&&Jb(d)?Qb(Ka(l),d):function(m){var C=mg(m,l);return C===n&&C===d?bg(m,l):au(d,C,g|b)}}function Pd(l,d,m,C,O){l!==d&&Fp(d,function(V,G){if(O||(O=new wa),Kn(V))uE(l,d,G,m,Pd,C,O);else{var Q=C?C(cg(l,G),V,G+"",l,d,O):n;Q===n&&(Q=V),$p(l,G,Q)}},li)}function uE(l,d,m,C,O,V,G){var Q=cg(l,m),le=cg(d,m),Ie=G.get(le);if(Ie){$p(l,m,Ie);return}var Le=V?V(Q,le,m+"",l,d,G):n,ze=Le===n;if(ze){var Qe=Lt(le),ht=!Qe&&po(le),Ct=!Qe&&!ht&&wl(le);Le=le,Qe||ht||Ct?Lt(Q)?Le=Q:sr(Q)?Le=si(Q):ht?(ze=!1,Le=Ob(le,!0)):Ct?(ze=!1,Le=Nb(le,!0)):Le=[]:uu(le)||h0(le)?(Le=Q,h0(Q)?Le=P5(Q):(!Kn(Q)||Ss(Q))&&(Le=Xb(le))):ze=!1}ze&&(G.set(le,Le),O(Le,le,C,V,G),G.delete(le)),$p(l,m,Le)}function wb(l,d){var m=l.length;if(m)return d+=d<0?m:0,Es(d,m)?l[d]:n}function _b(l,d,m){d.length?d=$t(d,function(V){return Lt(V)?function(G){return u0(G,V.length===1?V[0]:V)}:V}):d=[ci];var C=-1;d=$t(d,xt(Mt()));var O=mb(l,function(V,G,Q){var le=$t(d,function(Ie){return Ie(V)});return{criteria:le,index:++C,value:V}});return bt(O,function(V,G){return ME(V,G,m)})}function fE(l,d){return xb(l,d,function(m,C){return bg(l,C)})}function xb(l,d,m){for(var C=-1,O=d.length,V={};++C<O;){var G=d[C],Q=u0(l,G);m(Q,G)&&su(V,fo(G,l),Q)}return V}function dE(l){return function(d){return u0(d,l)}}function jp(l,d,m,C){var O=C?K:q,V=-1,G=d.length,Q=l;for(l===d&&(d=si(d)),m&&(Q=$t(l,xt(m)));++V<G;)for(var le=0,Ie=d[V],Le=m?m(Ie):Ie;(le=O(Q,Le,le,C))>-1;)Q!==l&&bd.call(Q,le,1),bd.call(l,le,1);return l}function Mb(l,d){for(var m=l?d.length:0,C=m-1;m--;){var O=d[m];if(m==C||O!==V){var V=O;Es(O)?bd.call(l,O,1):Yp(l,O)}}return l}function qp(l,d){return l+_d(rb()*(d-l+1))}function hE(l,d,m,C){for(var O=-1,V=br(wd((d-l)/(m||1)),0),G=_e(V);V--;)G[C?V:++O]=l,l+=m;return G}function Kp(l,d){var m="";if(!l||d<1||d>U)return m;do d%2&&(m+=l),d=_d(d/2),d&&(l+=l);while(d);return m}function jt(l,d){return ug(Zb(l,d,ci),l+"")}function pE(l){return sb(_l(l))}function gE(l,d){var m=_l(l);return Fd(m,c0(d,0,m.length))}function su(l,d,m,C){if(!Kn(l))return l;d=fo(d,l);for(var O=-1,V=d.length,G=V-1,Q=l;Q!=null&&++O<V;){var le=Ka(d[O]),Ie=m;if(le==="__proto__"||le==="constructor"||le==="prototype")return l;if(O!=G){var Le=Q[le];Ie=C?C(Le,le,Q):n,Ie===n&&(Ie=Kn(Le)?Le:Es(d[O+1])?[]:{})}nu(Q,le,Ie),Q=Q[le]}return l}var Cb=xd?function(l,d){return xd.set(l,d),l}:ci,vE=yd?function(l,d){return yd(l,"toString",{configurable:!0,enumerable:!1,value:wg(d),writable:!0})}:ci;function mE(l){return Fd(_l(l))}function Ki(l,d,m){var C=-1,O=l.length;d<0&&(d=-d>O?0:O+d),m=m>O?O:m,m<0&&(m+=O),O=d>m?0:m-d>>>0,d>>>=0;for(var V=_e(O);++C<O;)V[C]=l[C+d];return V}function bE(l,d){var m;return co(l,function(C,O,V){return m=d(C,O,V),!m}),!!m}function Ad(l,d,m){var C=0,O=l==null?C:l.length;if(typeof d=="number"&&d===d&&O<=me){for(;C<O;){var V=C+O>>>1,G=l[V];G!==null&&!Si(G)&&(m?G<=d:G<d)?C=V+1:O=V}return O}return Gp(l,d,ci,m)}function Gp(l,d,m,C){var O=0,V=l==null?0:l.length;if(V===0)return 0;d=m(d);for(var G=d!==d,Q=d===null,le=Si(d),Ie=d===n;O<V;){var Le=_d((O+V)/2),ze=m(l[Le]),Qe=ze!==n,ht=ze===null,Ct=ze===ze,Ut=Si(ze);if(G)var Tt=C||Ct;else Ie?Tt=Ct&&(C||Qe):Q?Tt=Ct&&Qe&&(C||!ht):le?Tt=Ct&&Qe&&!ht&&(C||!Ut):ht||Ut?Tt=!1:Tt=C?ze<=d:ze<d;Tt?O=Le+1:V=Le}return Hr(V,ie)}function Tb(l,d){for(var m=-1,C=l.length,O=0,V=[];++m<C;){var G=l[m],Q=d?d(G):G;if(!m||!_a(Q,le)){var le=Q;V[O++]=G===0?0:G}}return V}function Eb(l){return typeof l=="number"?l:Si(l)?Z:+l}function Ei(l){if(typeof l=="string")return l;if(Lt(l))return $t(l,Ei)+"";if(Si(l))return ib?ib.call(l):"";var d=l+"";return d=="0"&&1/l==-N?"-0":d}function uo(l,d,m){var C=-1,O=va,V=l.length,G=!0,Q=[],le=Q;if(m)G=!1,O=oo;else if(V>=i){var Ie=d?null:AE(l);if(Ie)return ba(Ie);G=!1,O=It,le=new l0}else le=d?[]:Q;e:for(;++C<V;){var Le=l[C],ze=d?d(Le):Le;if(Le=m||Le!==0?Le:0,G&&ze===ze){for(var Qe=le.length;Qe--;)if(le[Qe]===ze)continue e;d&&le.push(ze),Q.push(Le)}else O(le,ze,m)||(le!==Q&&le.push(ze),Q.push(Le))}return Q}function Yp(l,d){return d=fo(d,l),l=e5(l,d),l==null||delete l[Ka(Gi(d))]}function Sb(l,d,m,C){return su(l,d,m(u0(l,d)),C)}function kd(l,d,m,C){for(var O=l.length,V=C?O:-1;(C?V--:++V<O)&&d(l[V],V,l););return m?Ki(l,C?0:V,C?V+1:O):Ki(l,C?V+1:0,C?O:V)}function Pb(l,d){var m=l;return m instanceof Jt&&(m=m.value()),ul(d,function(C,O){return O.func.apply(O.thisArg,$n([C],O.args))},m)}function Xp(l,d,m){var C=l.length;if(C<2)return C?uo(l[0]):[];for(var O=-1,V=_e(C);++O<C;)for(var G=l[O],Q=-1;++Q<C;)Q!=O&&(V[O]=ru(V[O]||G,l[Q],d,m));return uo(Ar(V,1),d,m)}function Ab(l,d,m){for(var C=-1,O=l.length,V=d.length,G={};++C<O;){var Q=C<V?d[C]:n;m(G,l[C],Q)}return G}function Jp(l){return sr(l)?l:[]}function Qp(l){return typeof l=="function"?l:ci}function fo(l,d){return Lt(l)?l:og(l,d)?[l]:i5(yn(l))}var yE=jt;function ho(l,d,m){var C=l.length;return m=m===n?C:m,!d&&m>=C?l:Ki(l,d,m)}var kb=sT||function(l){return dr.clearTimeout(l)};function Ob(l,d){if(d)return l.slice();var m=l.length,C=Q3?Q3(m):new l.constructor(m);return l.copy(C),C}function Zp(l){var d=new l.constructor(l.byteLength);return new vd(d).set(new vd(l)),d}function wE(l,d){var m=d?Zp(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.byteLength)}function _E(l){var d=new l.constructor(l.source,vs.exec(l));return d.lastIndex=l.lastIndex,d}function xE(l){return tu?In(tu.call(l)):{}}function Nb(l,d){var m=d?Zp(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.length)}function Ib(l,d){if(l!==d){var m=l!==n,C=l===null,O=l===l,V=Si(l),G=d!==n,Q=d===null,le=d===d,Ie=Si(d);if(!Q&&!Ie&&!V&&l>d||V&&G&&le&&!Q&&!Ie||C&&G&&le||!m&&le||!O)return 1;if(!C&&!V&&!Ie&&l<d||Ie&&m&&O&&!C&&!V||Q&&m&&O||!G&&O||!le)return-1}return 0}function ME(l,d,m){for(var C=-1,O=l.criteria,V=d.criteria,G=O.length,Q=m.length;++C<G;){var le=Ib(O[C],V[C]);if(le){if(C>=Q)return le;var Ie=m[C];return le*(Ie=="desc"?-1:1)}}return l.index-d.index}function Lb(l,d,m,C){for(var O=-1,V=l.length,G=m.length,Q=-1,le=d.length,Ie=br(V-G,0),Le=_e(le+Ie),ze=!C;++Q<le;)Le[Q]=d[Q];for(;++O<G;)(ze||O<V)&&(Le[m[O]]=l[O]);for(;Ie--;)Le[Q++]=l[O++];return Le}function Bb(l,d,m,C){for(var O=-1,V=l.length,G=-1,Q=m.length,le=-1,Ie=d.length,Le=br(V-Q,0),ze=_e(Le+Ie),Qe=!C;++O<Le;)ze[O]=l[O];for(var ht=O;++le<Ie;)ze[ht+le]=d[le];for(;++G<Q;)(Qe||O<V)&&(ze[ht+m[G]]=l[O++]);return ze}function si(l,d){var m=-1,C=l.length;for(d||(d=_e(C));++m<C;)d[m]=l[m];return d}function qa(l,d,m,C){var O=!m;m||(m={});for(var V=-1,G=d.length;++V<G;){var Q=d[V],le=C?C(m[Q],l[Q],Q,m,l):n;le===n&&(le=l[Q]),O?Ms(m,Q,le):nu(m,Q,le)}return m}function CE(l,d){return qa(l,sg(l),d)}function TE(l,d){return qa(l,Gb(l),d)}function Od(l,d){return function(m,C){var O=Lt(m)?cd:KT,V=d?d():{};return O(m,l,Mt(C,2),V)}}function ml(l){return jt(function(d,m){var C=-1,O=m.length,V=O>1?m[O-1]:n,G=O>2?m[2]:n;for(V=l.length>3&&typeof V=="function"?(O--,V):n,G&&Qr(m[0],m[1],G)&&(V=O<3?n:V,O=1),d=In(d);++C<O;){var Q=m[C];Q&&l(d,Q,C,V)}return d})}function $b(l,d){return function(m,C){if(m==null)return m;if(!oi(m))return l(m,C);for(var O=m.length,V=d?O:-1,G=In(m);(d?V--:++V<O)&&C(G[V],V,G)!==!1;);return m}}function Rb(l){return function(d,m,C){for(var O=-1,V=In(d),G=C(d),Q=G.length;Q--;){var le=G[l?Q:++O];if(m(V[le],le,V)===!1)break}return d}}function EE(l,d,m){var C=d&y,O=ou(l);function V(){var G=this&&this!==dr&&this instanceof V?O:l;return G.apply(C?m:this,arguments)}return V}function Fb(l){return function(d){d=yn(d);var m=Jn(d)?ai(d):n,C=m?m[0]:d.charAt(0),O=m?ho(m,1).join(""):d.slice(1);return C[l]()+O}}function bl(l){return function(d){return ul($5(B5(d).replace(e0,"")),l,"")}}function ou(l){return function(){var d=arguments;switch(d.length){case 0:return new l;case 1:return new l(d[0]);case 2:return new l(d[0],d[1]);case 3:return new l(d[0],d[1],d[2]);case 4:return new l(d[0],d[1],d[2],d[3]);case 5:return new l(d[0],d[1],d[2],d[3],d[4]);case 6:return new l(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new l(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var m=vl(l.prototype),C=l.apply(m,d);return Kn(C)?C:m}}function SE(l,d,m){var C=ou(l);function O(){for(var V=arguments.length,G=_e(V),Q=V,le=yl(O);Q--;)G[Q]=arguments[Q];var Ie=V<3&&G[0]!==le&&G[V-1]!==le?[]:ma(G,le);if(V-=Ie.length,V<m)return Ub(l,d,Nd,O.placeholder,n,G,Ie,n,n,m-V);var Le=this&&this!==dr&&this instanceof O?C:l;return Pr(Le,this,G)}return O}function Db(l){return function(d,m,C){var O=In(d);if(!oi(d)){var V=Mt(m,3);d=Cr(d),m=function(Q){return V(O[Q],Q,O)}}var G=l(d,m,C);return G>-1?O[V?d[G]:G]:n}}function Hb(l){return Ts(function(d){var m=d.length,C=m,O=ji.prototype.thru;for(l&&d.reverse();C--;){var V=d[C];if(typeof V!="function")throw new Wi(s);if(O&&!G&&$d(V)=="wrapper")var G=new ji([],!0)}for(C=G?C:m;++C<m;){V=d[C];var Q=$d(V),le=Q=="wrapper"?ig(V):n;le&&lg(le[0])&&le[1]==(S|E|M|k)&&!le[4].length&&le[9]==1?G=G[$d(le[0])].apply(G,le[3]):G=V.length==1&&lg(V)?G[Q]():G.thru(V)}return function(){var Ie=arguments,Le=Ie[0];if(G&&Ie.length==1&&Lt(Le))return G.plant(Le).value();for(var ze=0,Qe=m?d[ze].apply(this,Ie):Le;++ze<m;)Qe=d[ze].call(this,Qe);return Qe}})}function Nd(l,d,m,C,O,V,G,Q,le,Ie){var Le=d&S,ze=d&y,Qe=d&x,ht=d&(E|w),Ct=d&L,Ut=Qe?n:ou(l);function Tt(){for(var Yt=arguments.length,tn=_e(Yt),Pi=Yt;Pi--;)tn[Pi]=arguments[Pi];if(ht)var Zr=yl(Tt),Ai=Dr(tn,Zr);if(C&&(tn=Lb(tn,C,O,ht)),V&&(tn=Bb(tn,V,G,ht)),Yt-=Ai,ht&&Yt<Ie){var or=ma(tn,Zr);return Ub(l,d,Nd,Tt.placeholder,m,tn,or,Q,le,Ie-Yt)}var xa=ze?m:this,As=Qe?xa[l]:l;return Yt=tn.length,Q?tn=KE(tn,Q):Ct&&Yt>1&&tn.reverse(),Le&&le<Yt&&(tn.length=le),this&&this!==dr&&this instanceof Tt&&(As=Ut||ou(As)),As.apply(xa,tn)}return Tt}function zb(l,d){return function(m,C){return tE(m,l,d(C),{})}}function Id(l,d){return function(m,C){var O;if(m===n&&C===n)return d;if(m!==n&&(O=m),C!==n){if(O===n)return C;typeof m=="string"||typeof C=="string"?(m=Ei(m),C=Ei(C)):(m=Eb(m),C=Eb(C)),O=l(m,C)}return O}}function eg(l){return Ts(function(d){return d=$t(d,xt(Mt())),jt(function(m){var C=this;return l(d,function(O){return Pr(O,C,m)})})})}function Ld(l,d){d=d===n?" ":Ei(d);var m=d.length;if(m<2)return m?Kp(d,l):d;var C=Kp(d,wd(l/Ui(d)));return Jn(d)?ho(ai(C),0,l).join(""):C.slice(0,l)}function PE(l,d,m,C){var O=d&y,V=ou(l);function G(){for(var Q=-1,le=arguments.length,Ie=-1,Le=C.length,ze=_e(Le+le),Qe=this&&this!==dr&&this instanceof G?V:l;++Ie<Le;)ze[Ie]=C[Ie];for(;le--;)ze[Ie++]=arguments[++Q];return Pr(Qe,O?m:this,ze)}return G}function Vb(l){return function(d,m,C){return C&&typeof C!="number"&&Qr(d,m,C)&&(m=C=n),d=Ps(d),m===n?(m=d,d=0):m=Ps(m),C=C===n?d<m?1:-1:Ps(C),hE(d,m,C,l)}}function Bd(l){return function(d,m){return typeof d=="string"&&typeof m=="string"||(d=Yi(d),m=Yi(m)),l(d,m)}}function Ub(l,d,m,C,O,V,G,Q,le,Ie){var Le=d&E,ze=Le?G:n,Qe=Le?n:G,ht=Le?V:n,Ct=Le?n:V;d|=Le?M:T,d&=~(Le?T:M),d&_||(d&=~(y|x));var Ut=[l,d,O,ht,ze,Ct,Qe,Q,le,Ie],Tt=m.apply(n,Ut);return lg(l)&&t5(Tt,Ut),Tt.placeholder=C,n5(Tt,l,d)}function tg(l){var d=mr[l];return function(m,C){if(m=Yi(m),C=C==null?0:Hr(Dt(C),292),C&&nb(m)){var O=(yn(m)+"e").split("e"),V=d(O[0]+"e"+(+O[1]+C));return O=(yn(V)+"e").split("e"),+(O[0]+"e"+(+O[1]-C))}return d(m)}}var AE=pl&&1/ba(new pl([,-0]))[1]==N?function(l){return new pl(l)}:Mg;function Wb(l){return function(d){var m=zr(d);return m==ae?fl(d):m==se?Ti(d):Rt(d,l(d))}}function Cs(l,d,m,C,O,V,G,Q){var le=d&x;if(!le&&typeof l!="function")throw new Wi(s);var Ie=C?C.length:0;if(Ie||(d&=~(M|T),C=O=n),G=G===n?G:br(Dt(G),0),Q=Q===n?Q:Dt(Q),Ie-=O?O.length:0,d&T){var Le=C,ze=O;C=O=n}var Qe=le?n:ig(l),ht=[l,d,m,C,O,Le,ze,V,G,Q];if(Qe&&WE(ht,Qe),l=ht[0],d=ht[1],m=ht[2],C=ht[3],O=ht[4],Q=ht[9]=ht[9]===n?le?0:l.length:br(ht[9]-Ie,0),!Q&&d&(E|w)&&(d&=~(E|w)),!d||d==y)var Ct=EE(l,d,m);else d==E||d==w?Ct=SE(l,d,Q):(d==M||d==(y|M))&&!O.length?Ct=PE(l,d,m,C):Ct=Nd.apply(n,ht);var Ut=Qe?Cb:t5;return n5(Ut(Ct,ht),l,d)}function jb(l,d,m,C){return l===n||_a(l,hl[m])&&!xn.call(C,m)?d:l}function qb(l,d,m,C,O,V){return Kn(l)&&Kn(d)&&(V.set(d,l),Pd(l,d,n,qb,V),V.delete(d)),l}function kE(l){return uu(l)?n:l}function Kb(l,d,m,C,O,V){var G=m&g,Q=l.length,le=d.length;if(Q!=le&&!(G&&le>Q))return!1;var Ie=V.get(l),Le=V.get(d);if(Ie&&Le)return Ie==d&&Le==l;var ze=-1,Qe=!0,ht=m&b?new l0:n;for(V.set(l,d),V.set(d,l);++ze<Q;){var Ct=l[ze],Ut=d[ze];if(C)var Tt=G?C(Ut,Ct,ze,d,l,V):C(Ct,Ut,ze,l,d,V);if(Tt!==n){if(Tt)continue;Qe=!1;break}if(ht){if(!ws(d,function(Yt,tn){if(!It(ht,tn)&&(Ct===Yt||O(Ct,Yt,m,C,V)))return ht.push(tn)})){Qe=!1;break}}else if(!(Ct===Ut||O(Ct,Ut,m,C,V))){Qe=!1;break}}return V.delete(l),V.delete(d),Qe}function OE(l,d,m,C,O,V,G){switch(m){case lt:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case et:return!(l.byteLength!=d.byteLength||!V(new vd(l),new vd(d)));case Me:case at:case ee:return _a(+l,+d);case Xe:return l.name==d.name&&l.message==d.message;case te:case ke:return l==d+"";case ae:var Q=fl;case se:var le=C&g;if(Q||(Q=ba),l.size!=d.size&&!le)return!1;var Ie=G.get(l);if(Ie)return Ie==d;C|=b,G.set(l,d);var Le=Kb(Q(l),Q(d),C,O,V,G);return G.delete(l),Le;case Pe:if(tu)return tu.call(l)==tu.call(d)}return!1}function NE(l,d,m,C,O,V){var G=m&g,Q=ng(l),le=Q.length,Ie=ng(d),Le=Ie.length;if(le!=Le&&!G)return!1;for(var ze=le;ze--;){var Qe=Q[ze];if(!(G?Qe in d:xn.call(d,Qe)))return!1}var ht=V.get(l),Ct=V.get(d);if(ht&&Ct)return ht==d&&Ct==l;var Ut=!0;V.set(l,d),V.set(d,l);for(var Tt=G;++ze<le;){Qe=Q[ze];var Yt=l[Qe],tn=d[Qe];if(C)var Pi=G?C(tn,Yt,Qe,d,l,V):C(Yt,tn,Qe,l,d,V);if(!(Pi===n?Yt===tn||O(Yt,tn,m,C,V):Pi)){Ut=!1;break}Tt||(Tt=Qe=="constructor")}if(Ut&&!Tt){var Zr=l.constructor,Ai=d.constructor;Zr!=Ai&&"constructor"in l&&"constructor"in d&&!(typeof Zr=="function"&&Zr instanceof Zr&&typeof Ai=="function"&&Ai instanceof Ai)&&(Ut=!1)}return V.delete(l),V.delete(d),Ut}function Ts(l){return ug(Zb(l,n,l5),l+"")}function ng(l){return hb(l,Cr,sg)}function rg(l){return hb(l,li,Gb)}var ig=xd?function(l){return xd.get(l)}:Mg;function $d(l){for(var d=l.name+"",m=gl[d],C=xn.call(gl,d)?m.length:0;C--;){var O=m[C],V=O.func;if(V==null||V==l)return O.name}return d}function yl(l){var d=xn.call(F,"placeholder")?F:l;return d.placeholder}function Mt(){var l=F.iteratee||_g;return l=l===_g?vb:l,arguments.length?l(arguments[0],arguments[1]):l}function Rd(l,d){var m=l.__data__;return HE(d)?m[typeof d=="string"?"string":"hash"]:m.map}function ag(l){for(var d=Cr(l),m=d.length;m--;){var C=d[m],O=l[C];d[m]=[C,O,Jb(O)]}return d}function f0(l,d){var m=qn(l,d);return gb(m)?m:n}function IE(l){var d=xn.call(l,s0),m=l[s0];try{l[s0]=n;var C=!0}catch{}var O=pd.call(l);return C&&(d?l[s0]=m:delete l[s0]),O}var sg=Ip?function(l){return l==null?[]:(l=In(l),ga(Ip(l),function(d){return eb.call(l,d)}))}:Cg,Gb=Ip?function(l){for(var d=[];l;)$n(d,sg(l)),l=md(l);return d}:Cg,zr=Jr;(Lp&&zr(new Lp(new ArrayBuffer(1)))!=lt||Qc&&zr(new Qc)!=ae||Bp&&zr(Bp.resolve())!=Ve||pl&&zr(new pl)!=se||Zc&&zr(new Zc)!=$e)&&(zr=function(l){var d=Jr(l),m=d==Se?l.constructor:n,C=m?d0(m):"";if(C)switch(C){case gT:return lt;case vT:return ae;case mT:return Ve;case bT:return se;case yT:return $e}return d});function LE(l,d,m){for(var C=-1,O=m.length;++C<O;){var V=m[C],G=V.size;switch(V.type){case"drop":l+=G;break;case"dropRight":d-=G;break;case"take":d=Hr(d,l+G);break;case"takeRight":l=br(l,d-G);break}}return{start:l,end:d}}function BE(l){var d=l.match(bn);return d?d[1].split(Wn):[]}function Yb(l,d,m){d=fo(d,l);for(var C=-1,O=d.length,V=!1;++C<O;){var G=Ka(d[C]);if(!(V=l!=null&&m(l,G)))break;l=l[G]}return V||++C!=O?V:(O=l==null?0:l.length,!!O&&Wd(O)&&Es(G,O)&&(Lt(l)||h0(l)))}function $E(l){var d=l.length,m=new l.constructor(d);return d&&typeof l[0]=="string"&&xn.call(l,"index")&&(m.index=l.index,m.input=l.input),m}function Xb(l){return typeof l.constructor=="function"&&!lu(l)?vl(md(l)):{}}function RE(l,d,m){var C=l.constructor;switch(d){case et:return Zp(l);case Me:case at:return new C(+l);case lt:return wE(l,m);case wt:case Et:case Xt:case pn:case Ft:case Wt:case Ot:case Bt:case de:return Nb(l,m);case ae:return new C;case ee:case ke:return new C(l);case te:return _E(l);case se:return new C;case Pe:return xE(l)}}function FE(l,d){var m=d.length;if(!m)return l;var C=m-1;return d[C]=(m>1?"& ":"")+d[C],d=d.join(m>2?", ":" "),l.replace(Nt,`{
/* [wrapped with `+d+`] */
`)}function DE(l){return Lt(l)||h0(l)||!!(tb&&l&&l[tb])}function Es(l,d){var m=typeof l;return d=d??U,!!d&&(m=="number"||m!="symbol"&&Ic.test(l))&&l>-1&&l%1==0&&l<d}function Qr(l,d,m){if(!Kn(m))return!1;var C=typeof d;return(C=="number"?oi(m)&&Es(d,m.length):C=="string"&&d in m)?_a(m[d],l):!1}function og(l,d){if(Lt(l))return!1;var m=typeof l;return m=="number"||m=="symbol"||m=="boolean"||l==null||Si(l)?!0:zt.test(l)||!mt.test(l)||d!=null&&l in In(d)}function HE(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function lg(l){var d=$d(l),m=F[d];if(typeof m!="function"||!(d in Jt.prototype))return!1;if(l===m)return!0;var C=ig(m);return!!C&&l===C[0]}function zE(l){return!!J3&&J3 in l}var VE=dd?Ss:Tg;function lu(l){var d=l&&l.constructor,m=typeof d=="function"&&d.prototype||hl;return l===m}function Jb(l){return l===l&&!Kn(l)}function Qb(l,d){return function(m){return m==null?!1:m[l]===d&&(d!==n||l in In(m))}}function UE(l){var d=Vd(l,function(C){return m.size===c&&m.clear(),C}),m=d.cache;return d}function WE(l,d){var m=l[1],C=d[1],O=m|C,V=O<(y|x|S),G=C==S&&m==E||C==S&&m==k&&l[7].length<=d[8]||C==(S|k)&&d[7].length<=d[8]&&m==E;if(!(V||G))return l;C&y&&(l[2]=d[2],O|=m&y?0:_);var Q=d[3];if(Q){var le=l[3];l[3]=le?Lb(le,Q,d[4]):Q,l[4]=le?ma(l[3],f):d[4]}return Q=d[5],Q&&(le=l[5],l[5]=le?Bb(le,Q,d[6]):Q,l[6]=le?ma(l[5],f):d[6]),Q=d[7],Q&&(l[7]=Q),C&S&&(l[8]=l[8]==null?d[8]:Hr(l[8],d[8])),l[9]==null&&(l[9]=d[9]),l[0]=d[0],l[1]=O,l}function jE(l){var d=[];if(l!=null)for(var m in In(l))d.push(m);return d}function qE(l){return pd.call(l)}function Zb(l,d,m){return d=br(d===n?l.length-1:d,0),function(){for(var C=arguments,O=-1,V=br(C.length-d,0),G=_e(V);++O<V;)G[O]=C[d+O];O=-1;for(var Q=_e(d+1);++O<d;)Q[O]=C[O];return Q[d]=m(G),Pr(l,this,Q)}}function e5(l,d){return d.length<2?l:u0(l,Ki(d,0,-1))}function KE(l,d){for(var m=l.length,C=Hr(d.length,m),O=si(l);C--;){var V=d[C];l[C]=Es(V,m)?O[V]:n}return l}function cg(l,d){if(!(d==="constructor"&&typeof l[d]=="function")&&d!="__proto__")return l[d]}var t5=r5(Cb),cu=lT||function(l,d){return dr.setTimeout(l,d)},ug=r5(vE);function n5(l,d,m){var C=d+"";return ug(l,FE(C,GE(BE(C),m)))}function r5(l){var d=0,m=0;return function(){var C=dT(),O=R-(C-m);if(m=C,O>0){if(++d>=D)return arguments[0]}else d=0;return l.apply(n,arguments)}}function Fd(l,d){var m=-1,C=l.length,O=C-1;for(d=d===n?C:d;++m<d;){var V=qp(m,O),G=l[V];l[V]=l[m],l[m]=G}return l.length=d,l}var i5=UE(function(l){var d=[];return l.charCodeAt(0)===46&&d.push(""),l.replace(dt,function(m,C,O,V){d.push(O?V.replace(en,"$1"):C||m)}),d});function Ka(l){if(typeof l=="string"||Si(l))return l;var d=l+"";return d=="0"&&1/l==-N?"-0":d}function d0(l){if(l!=null){try{return hd.call(l)}catch{}try{return l+""}catch{}}return""}function GE(l,d){return Xr(ve,function(m){var C="_."+m[0];d&m[1]&&!va(l,C)&&l.push(C)}),l.sort()}function a5(l){if(l instanceof Jt)return l.clone();var d=new ji(l.__wrapped__,l.__chain__);return d.__actions__=si(l.__actions__),d.__index__=l.__index__,d.__values__=l.__values__,d}function YE(l,d,m){(m?Qr(l,d,m):d===n)?d=1:d=br(Dt(d),0);var C=l==null?0:l.length;if(!C||d<1)return[];for(var O=0,V=0,G=_e(wd(C/d));O<C;)G[V++]=Ki(l,O,O+=d);return G}function XE(l){for(var d=-1,m=l==null?0:l.length,C=0,O=[];++d<m;){var V=l[d];V&&(O[C++]=V)}return O}function JE(){var l=arguments.length;if(!l)return[];for(var d=_e(l-1),m=arguments[0],C=l;C--;)d[C-1]=arguments[C];return $n(Lt(m)?si(m):[m],Ar(d,1))}var QE=jt(function(l,d){return sr(l)?ru(l,Ar(d,1,sr,!0)):[]}),ZE=jt(function(l,d){var m=Gi(d);return sr(m)&&(m=n),sr(l)?ru(l,Ar(d,1,sr,!0),Mt(m,2)):[]}),eS=jt(function(l,d){var m=Gi(d);return sr(m)&&(m=n),sr(l)?ru(l,Ar(d,1,sr,!0),n,m):[]});function tS(l,d,m){var C=l==null?0:l.length;return C?(d=m||d===n?1:Dt(d),Ki(l,d<0?0:d,C)):[]}function nS(l,d,m){var C=l==null?0:l.length;return C?(d=m||d===n?1:Dt(d),d=C-d,Ki(l,0,d<0?0:d)):[]}function rS(l,d){return l&&l.length?kd(l,Mt(d,3),!0,!0):[]}function iS(l,d){return l&&l.length?kd(l,Mt(d,3),!0):[]}function aS(l,d,m,C){var O=l==null?0:l.length;return O?(m&&typeof m!="number"&&Qr(l,d,m)&&(m=0,C=O),JT(l,d,m,C)):[]}function s5(l,d,m){var C=l==null?0:l.length;if(!C)return-1;var O=m==null?0:Dt(m);return O<0&&(O=br(C+O,0)),$(l,Mt(d,3),O)}function o5(l,d,m){var C=l==null?0:l.length;if(!C)return-1;var O=C-1;return m!==n&&(O=Dt(m),O=m<0?br(C+O,0):Hr(O,C-1)),$(l,Mt(d,3),O,!0)}function l5(l){var d=l==null?0:l.length;return d?Ar(l,1):[]}function sS(l){var d=l==null?0:l.length;return d?Ar(l,N):[]}function oS(l,d){var m=l==null?0:l.length;return m?(d=d===n?1:Dt(d),Ar(l,d)):[]}function lS(l){for(var d=-1,m=l==null?0:l.length,C={};++d<m;){var O=l[d];C[O[0]]=O[1]}return C}function c5(l){return l&&l.length?l[0]:n}function cS(l,d,m){var C=l==null?0:l.length;if(!C)return-1;var O=m==null?0:Dt(m);return O<0&&(O=br(C+O,0)),q(l,d,O)}function uS(l){var d=l==null?0:l.length;return d?Ki(l,0,-1):[]}var fS=jt(function(l){var d=$t(l,Jp);return d.length&&d[0]===l[0]?zp(d):[]}),dS=jt(function(l){var d=Gi(l),m=$t(l,Jp);return d===Gi(m)?d=n:m.pop(),m.length&&m[0]===l[0]?zp(m,Mt(d,2)):[]}),hS=jt(function(l){var d=Gi(l),m=$t(l,Jp);return d=typeof d=="function"?d:n,d&&m.pop(),m.length&&m[0]===l[0]?zp(m,n,d):[]});function pS(l,d){return l==null?"":uT.call(l,d)}function Gi(l){var d=l==null?0:l.length;return d?l[d-1]:n}function gS(l,d,m){var C=l==null?0:l.length;if(!C)return-1;var O=C;return m!==n&&(O=Dt(m),O=O<0?br(C+O,0):Hr(O,C-1)),d===d?ud(l,d,O):$(l,ne,O,!0)}function vS(l,d){return l&&l.length?wb(l,Dt(d)):n}var mS=jt(u5);function u5(l,d){return l&&l.length&&d&&d.length?jp(l,d):l}function bS(l,d,m){return l&&l.length&&d&&d.length?jp(l,d,Mt(m,2)):l}function yS(l,d,m){return l&&l.length&&d&&d.length?jp(l,d,n,m):l}var wS=Ts(function(l,d){var m=l==null?0:l.length,C=Rp(l,d);return Mb(l,$t(d,function(O){return Es(O,m)?+O:O}).sort(Ib)),C});function _S(l,d){var m=[];if(!(l&&l.length))return m;var C=-1,O=[],V=l.length;for(d=Mt(d,3);++C<V;){var G=l[C];d(G,C,l)&&(m.push(G),O.push(C))}return Mb(l,O),m}function fg(l){return l==null?l:pT.call(l)}function xS(l,d,m){var C=l==null?0:l.length;return C?(m&&typeof m!="number"&&Qr(l,d,m)?(d=0,m=C):(d=d==null?0:Dt(d),m=m===n?C:Dt(m)),Ki(l,d,m)):[]}function MS(l,d){return Ad(l,d)}function CS(l,d,m){return Gp(l,d,Mt(m,2))}function TS(l,d){var m=l==null?0:l.length;if(m){var C=Ad(l,d);if(C<m&&_a(l[C],d))return C}return-1}function ES(l,d){return Ad(l,d,!0)}function SS(l,d,m){return Gp(l,d,Mt(m,2),!0)}function PS(l,d){var m=l==null?0:l.length;if(m){var C=Ad(l,d,!0)-1;if(_a(l[C],d))return C}return-1}function AS(l){return l&&l.length?Tb(l):[]}function kS(l,d){return l&&l.length?Tb(l,Mt(d,2)):[]}function OS(l){var d=l==null?0:l.length;return d?Ki(l,1,d):[]}function NS(l,d,m){return l&&l.length?(d=m||d===n?1:Dt(d),Ki(l,0,d<0?0:d)):[]}function IS(l,d,m){var C=l==null?0:l.length;return C?(d=m||d===n?1:Dt(d),d=C-d,Ki(l,d<0?0:d,C)):[]}function LS(l,d){return l&&l.length?kd(l,Mt(d,3),!1,!0):[]}function BS(l,d){return l&&l.length?kd(l,Mt(d,3)):[]}var $S=jt(function(l){return uo(Ar(l,1,sr,!0))}),RS=jt(function(l){var d=Gi(l);return sr(d)&&(d=n),uo(Ar(l,1,sr,!0),Mt(d,2))}),FS=jt(function(l){var d=Gi(l);return d=typeof d=="function"?d:n,uo(Ar(l,1,sr,!0),n,d)});function DS(l){return l&&l.length?uo(l):[]}function HS(l,d){return l&&l.length?uo(l,Mt(d,2)):[]}function zS(l,d){return d=typeof d=="function"?d:n,l&&l.length?uo(l,n,d):[]}function dg(l){if(!(l&&l.length))return[];var d=0;return l=ga(l,function(m){if(sr(m))return d=br(m.length,d),!0}),ft(d,function(m){return $t(l,Fe(m))})}function f5(l,d){if(!(l&&l.length))return[];var m=dg(l);return d==null?m:$t(m,function(C){return Pr(d,n,C)})}var VS=jt(function(l,d){return sr(l)?ru(l,d):[]}),US=jt(function(l){return Xp(ga(l,sr))}),WS=jt(function(l){var d=Gi(l);return sr(d)&&(d=n),Xp(ga(l,sr),Mt(d,2))}),jS=jt(function(l){var d=Gi(l);return d=typeof d=="function"?d:n,Xp(ga(l,sr),n,d)}),qS=jt(dg);function KS(l,d){return Ab(l||[],d||[],nu)}function GS(l,d){return Ab(l||[],d||[],su)}var YS=jt(function(l){var d=l.length,m=d>1?l[d-1]:n;return m=typeof m=="function"?(l.pop(),m):n,f5(l,m)});function d5(l){var d=F(l);return d.__chain__=!0,d}function XS(l,d){return d(l),l}function Dd(l,d){return d(l)}var JS=Ts(function(l){var d=l.length,m=d?l[0]:0,C=this.__wrapped__,O=function(V){return Rp(V,l)};return d>1||this.__actions__.length||!(C instanceof Jt)||!Es(m)?this.thru(O):(C=C.slice(m,+m+(d?1:0)),C.__actions__.push({func:Dd,args:[O],thisArg:n}),new ji(C,this.__chain__).thru(function(V){return d&&!V.length&&V.push(n),V}))});function QS(){return d5(this)}function ZS(){return new ji(this.value(),this.__chain__)}function eP(){this.__values__===n&&(this.__values__=E5(this.value()));var l=this.__index__>=this.__values__.length,d=l?n:this.__values__[this.__index__++];return{done:l,value:d}}function tP(){return this}function nP(l){for(var d,m=this;m instanceof Cd;){var C=a5(m);C.__index__=0,C.__values__=n,d?O.__wrapped__=C:d=C;var O=C;m=m.__wrapped__}return O.__wrapped__=l,d}function rP(){var l=this.__wrapped__;if(l instanceof Jt){var d=l;return this.__actions__.length&&(d=new Jt(this)),d=d.reverse(),d.__actions__.push({func:Dd,args:[fg],thisArg:n}),new ji(d,this.__chain__)}return this.thru(fg)}function iP(){return Pb(this.__wrapped__,this.__actions__)}var aP=Od(function(l,d,m){xn.call(l,m)?++l[m]:Ms(l,m,1)});function sP(l,d,m){var C=Lt(l)?Gc:XT;return m&&Qr(l,d,m)&&(d=n),C(l,Mt(d,3))}function oP(l,d){var m=Lt(l)?ga:fb;return m(l,Mt(d,3))}var lP=Db(s5),cP=Db(o5);function uP(l,d){return Ar(Hd(l,d),1)}function fP(l,d){return Ar(Hd(l,d),N)}function dP(l,d,m){return m=m===n?1:Dt(m),Ar(Hd(l,d),m)}function h5(l,d){var m=Lt(l)?Xr:co;return m(l,Mt(d,3))}function p5(l,d){var m=Lt(l)?Ap:ub;return m(l,Mt(d,3))}var hP=Od(function(l,d,m){xn.call(l,m)?l[m].push(d):Ms(l,m,[d])});function pP(l,d,m,C){l=oi(l)?l:_l(l),m=m&&!C?Dt(m):0;var O=l.length;return m<0&&(m=br(O+m,0)),jd(l)?m<=O&&l.indexOf(d,m)>-1:!!O&&q(l,d,m)>-1}var gP=jt(function(l,d,m){var C=-1,O=typeof d=="function",V=oi(l)?_e(l.length):[];return co(l,function(G){V[++C]=O?Pr(d,G,m):iu(G,d,m)}),V}),vP=Od(function(l,d,m){Ms(l,m,d)});function Hd(l,d){var m=Lt(l)?$t:mb;return m(l,Mt(d,3))}function mP(l,d,m,C){return l==null?[]:(Lt(d)||(d=d==null?[]:[d]),m=C?n:m,Lt(m)||(m=m==null?[]:[m]),_b(l,d,m))}var bP=Od(function(l,d,m){l[m?0:1].push(d)},function(){return[[],[]]});function yP(l,d,m){var C=Lt(l)?ul:rt,O=arguments.length<3;return C(l,Mt(d,4),m,O,co)}function wP(l,d,m){var C=Lt(l)?Yc:rt,O=arguments.length<3;return C(l,Mt(d,4),m,O,ub)}function _P(l,d){var m=Lt(l)?ga:fb;return m(l,Ud(Mt(d,3)))}function xP(l){var d=Lt(l)?sb:pE;return d(l)}function MP(l,d,m){(m?Qr(l,d,m):d===n)?d=1:d=Dt(d);var C=Lt(l)?jT:gE;return C(l,d)}function CP(l){var d=Lt(l)?qT:mE;return d(l)}function TP(l){if(l==null)return 0;if(oi(l))return jd(l)?Ui(l):l.length;var d=zr(l);return d==ae||d==se?l.size:Up(l).length}function EP(l,d,m){var C=Lt(l)?ws:bE;return m&&Qr(l,d,m)&&(d=n),C(l,Mt(d,3))}var SP=jt(function(l,d){if(l==null)return[];var m=d.length;return m>1&&Qr(l,d[0],d[1])?d=[]:m>2&&Qr(d[0],d[1],d[2])&&(d=[d[0]]),_b(l,Ar(d,1),[])}),zd=oT||function(){return dr.Date.now()};function PP(l,d){if(typeof d!="function")throw new Wi(s);return l=Dt(l),function(){if(--l<1)return d.apply(this,arguments)}}function g5(l,d,m){return d=m?n:d,d=l&&d==null?l.length:d,Cs(l,S,n,n,n,n,d)}function v5(l,d){var m;if(typeof d!="function")throw new Wi(s);return l=Dt(l),function(){return--l>0&&(m=d.apply(this,arguments)),l<=1&&(d=n),m}}var hg=jt(function(l,d,m){var C=y;if(m.length){var O=ma(m,yl(hg));C|=M}return Cs(l,C,d,m,O)}),m5=jt(function(l,d,m){var C=y|x;if(m.length){var O=ma(m,yl(m5));C|=M}return Cs(d,C,l,m,O)});function b5(l,d,m){d=m?n:d;var C=Cs(l,E,n,n,n,n,n,d);return C.placeholder=b5.placeholder,C}function y5(l,d,m){d=m?n:d;var C=Cs(l,w,n,n,n,n,n,d);return C.placeholder=y5.placeholder,C}function w5(l,d,m){var C,O,V,G,Q,le,Ie=0,Le=!1,ze=!1,Qe=!0;if(typeof l!="function")throw new Wi(s);d=Yi(d)||0,Kn(m)&&(Le=!!m.leading,ze="maxWait"in m,V=ze?br(Yi(m.maxWait)||0,d):V,Qe="trailing"in m?!!m.trailing:Qe);function ht(or){var xa=C,As=O;return C=O=n,Ie=or,G=l.apply(As,xa),G}function Ct(or){return Ie=or,Q=cu(Yt,d),Le?ht(or):G}function Ut(or){var xa=or-le,As=or-Ie,D5=d-xa;return ze?Hr(D5,V-As):D5}function Tt(or){var xa=or-le,As=or-Ie;return le===n||xa>=d||xa<0||ze&&As>=V}function Yt(){var or=zd();if(Tt(or))return tn(or);Q=cu(Yt,Ut(or))}function tn(or){return Q=n,Qe&&C?ht(or):(C=O=n,G)}function Pi(){Q!==n&&kb(Q),Ie=0,C=le=O=Q=n}function Zr(){return Q===n?G:tn(zd())}function Ai(){var or=zd(),xa=Tt(or);if(C=arguments,O=this,le=or,xa){if(Q===n)return Ct(le);if(ze)return kb(Q),Q=cu(Yt,d),ht(le)}return Q===n&&(Q=cu(Yt,d)),G}return Ai.cancel=Pi,Ai.flush=Zr,Ai}var AP=jt(function(l,d){return cb(l,1,d)}),kP=jt(function(l,d,m){return cb(l,Yi(d)||0,m)});function OP(l){return Cs(l,L)}function Vd(l,d){if(typeof l!="function"||d!=null&&typeof d!="function")throw new Wi(s);var m=function(){var C=arguments,O=d?d.apply(this,C):C[0],V=m.cache;if(V.has(O))return V.get(O);var G=l.apply(this,C);return m.cache=V.set(O,G)||V,G};return m.cache=new(Vd.Cache||xs),m}Vd.Cache=xs;function Ud(l){if(typeof l!="function")throw new Wi(s);return function(){var d=arguments;switch(d.length){case 0:return!l.call(this);case 1:return!l.call(this,d[0]);case 2:return!l.call(this,d[0],d[1]);case 3:return!l.call(this,d[0],d[1],d[2])}return!l.apply(this,d)}}function NP(l){return v5(2,l)}var IP=yE(function(l,d){d=d.length==1&&Lt(d[0])?$t(d[0],xt(Mt())):$t(Ar(d,1),xt(Mt()));var m=d.length;return jt(function(C){for(var O=-1,V=Hr(C.length,m);++O<V;)C[O]=d[O].call(this,C[O]);return Pr(l,this,C)})}),pg=jt(function(l,d){var m=ma(d,yl(pg));return Cs(l,M,n,d,m)}),_5=jt(function(l,d){var m=ma(d,yl(_5));return Cs(l,T,n,d,m)}),LP=Ts(function(l,d){return Cs(l,k,n,n,n,d)});function BP(l,d){if(typeof l!="function")throw new Wi(s);return d=d===n?d:Dt(d),jt(l,d)}function $P(l,d){if(typeof l!="function")throw new Wi(s);return d=d==null?0:br(Dt(d),0),jt(function(m){var C=m[d],O=ho(m,0,d);return C&&$n(O,C),Pr(l,this,O)})}function RP(l,d,m){var C=!0,O=!0;if(typeof l!="function")throw new Wi(s);return Kn(m)&&(C="leading"in m?!!m.leading:C,O="trailing"in m?!!m.trailing:O),w5(l,d,{leading:C,maxWait:d,trailing:O})}function FP(l){return g5(l,1)}function DP(l,d){return pg(Qp(d),l)}function HP(){if(!arguments.length)return[];var l=arguments[0];return Lt(l)?l:[l]}function zP(l){return qi(l,v)}function VP(l,d){return d=typeof d=="function"?d:n,qi(l,v,d)}function UP(l){return qi(l,h|v)}function WP(l,d){return d=typeof d=="function"?d:n,qi(l,h|v,d)}function jP(l,d){return d==null||lb(l,d,Cr(d))}function _a(l,d){return l===d||l!==l&&d!==d}var qP=Bd(Hp),KP=Bd(function(l,d){return l>=d}),h0=pb(function(){return arguments}())?pb:function(l){return Qn(l)&&xn.call(l,"callee")&&!eb.call(l,"callee")},Lt=_e.isArray,GP=Ua?xt(Ua):nE;function oi(l){return l!=null&&Wd(l.length)&&!Ss(l)}function sr(l){return Qn(l)&&oi(l)}function YP(l){return l===!0||l===!1||Qn(l)&&Jr(l)==Me}var po=cT||Tg,XP=ys?xt(ys):rE;function JP(l){return Qn(l)&&l.nodeType===1&&!uu(l)}function QP(l){if(l==null)return!0;if(oi(l)&&(Lt(l)||typeof l=="string"||typeof l.splice=="function"||po(l)||wl(l)||h0(l)))return!l.length;var d=zr(l);if(d==ae||d==se)return!l.size;if(lu(l))return!Up(l).length;for(var m in l)if(xn.call(l,m))return!1;return!0}function ZP(l,d){return au(l,d)}function eA(l,d,m){m=typeof m=="function"?m:n;var C=m?m(l,d):n;return C===n?au(l,d,n,m):!!C}function gg(l){if(!Qn(l))return!1;var d=Jr(l);return d==Xe||d==Ue||typeof l.message=="string"&&typeof l.name=="string"&&!uu(l)}function tA(l){return typeof l=="number"&&nb(l)}function Ss(l){if(!Kn(l))return!1;var d=Jr(l);return d==W||d==X||d==nt||d==Te}function x5(l){return typeof l=="number"&&l==Dt(l)}function Wd(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=U}function Kn(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function Qn(l){return l!=null&&typeof l=="object"}var M5=i0?xt(i0):aE;function nA(l,d){return l===d||Vp(l,d,ag(d))}function rA(l,d,m){return m=typeof m=="function"?m:n,Vp(l,d,ag(d),m)}function iA(l){return C5(l)&&l!=+l}function aA(l){if(VE(l))throw new At(a);return gb(l)}function sA(l){return l===null}function oA(l){return l==null}function C5(l){return typeof l=="number"||Qn(l)&&Jr(l)==ee}function uu(l){if(!Qn(l)||Jr(l)!=Se)return!1;var d=md(l);if(d===null)return!0;var m=xn.call(d,"constructor")&&d.constructor;return typeof m=="function"&&m instanceof m&&hd.call(m)==rT}var vg=qc?xt(qc):sE;function lA(l){return x5(l)&&l>=-U&&l<=U}var T5=cl?xt(cl):oE;function jd(l){return typeof l=="string"||!Lt(l)&&Qn(l)&&Jr(l)==ke}function Si(l){return typeof l=="symbol"||Qn(l)&&Jr(l)==Pe}var wl=Kc?xt(Kc):lE;function cA(l){return l===n}function uA(l){return Qn(l)&&zr(l)==$e}function fA(l){return Qn(l)&&Jr(l)==qe}var dA=Bd(Wp),hA=Bd(function(l,d){return l<=d});function E5(l){if(!l)return[];if(oi(l))return jd(l)?ai(l):si(l);if(Jc&&l[Jc])return Wa(l[Jc]());var d=zr(l),m=d==ae?fl:d==se?ba:_l;return m(l)}function Ps(l){if(!l)return l===0?l:0;if(l=Yi(l),l===N||l===-N){var d=l<0?-1:1;return d*Y}return l===l?l:0}function Dt(l){var d=Ps(l),m=d%1;return d===d?m?d-m:d:0}function S5(l){return l?c0(Dt(l),0,ge):0}function Yi(l){if(typeof l=="number")return l;if(Si(l))return Z;if(Kn(l)){var d=typeof l.valueOf=="function"?l.valueOf():l;l=Kn(d)?d+"":d}if(typeof l!="string")return l===0?l:+l;l=Vn(l);var m=kc.test(l);return m||Nc.test(l)?Pp(l.slice(2),m?2:8):to.test(l)?Z:+l}function P5(l){return qa(l,li(l))}function pA(l){return l?c0(Dt(l),-U,U):l===0?l:0}function yn(l){return l==null?"":Ei(l)}var gA=ml(function(l,d){if(lu(d)||oi(d)){qa(d,Cr(d),l);return}for(var m in d)xn.call(d,m)&&nu(l,m,d[m])}),A5=ml(function(l,d){qa(d,li(d),l)}),qd=ml(function(l,d,m,C){qa(d,li(d),l,C)}),vA=ml(function(l,d,m,C){qa(d,Cr(d),l,C)}),mA=Ts(Rp);function bA(l,d){var m=vl(l);return d==null?m:ob(m,d)}var yA=jt(function(l,d){l=In(l);var m=-1,C=d.length,O=C>2?d[2]:n;for(O&&Qr(d[0],d[1],O)&&(C=1);++m<C;)for(var V=d[m],G=li(V),Q=-1,le=G.length;++Q<le;){var Ie=G[Q],Le=l[Ie];(Le===n||_a(Le,hl[Ie])&&!xn.call(l,Ie))&&(l[Ie]=V[Ie])}return l}),wA=jt(function(l){return l.push(n,qb),Pr(k5,n,l)});function _A(l,d){return A(l,Mt(d,3),ja)}function xA(l,d){return A(l,Mt(d,3),Dp)}function MA(l,d){return l==null?l:Fp(l,Mt(d,3),li)}function CA(l,d){return l==null?l:db(l,Mt(d,3),li)}function TA(l,d){return l&&ja(l,Mt(d,3))}function EA(l,d){return l&&Dp(l,Mt(d,3))}function SA(l){return l==null?[]:Sd(l,Cr(l))}function PA(l){return l==null?[]:Sd(l,li(l))}function mg(l,d,m){var C=l==null?n:u0(l,d);return C===n?m:C}function AA(l,d){return l!=null&&Yb(l,d,QT)}function bg(l,d){return l!=null&&Yb(l,d,ZT)}var kA=zb(function(l,d,m){d!=null&&typeof d.toString!="function"&&(d=pd.call(d)),l[d]=m},wg(ci)),OA=zb(function(l,d,m){d!=null&&typeof d.toString!="function"&&(d=pd.call(d)),xn.call(l,d)?l[d].push(m):l[d]=[m]},Mt),NA=jt(iu);function Cr(l){return oi(l)?ab(l):Up(l)}function li(l){return oi(l)?ab(l,!0):cE(l)}function IA(l,d){var m={};return d=Mt(d,3),ja(l,function(C,O,V){Ms(m,d(C,O,V),C)}),m}function LA(l,d){var m={};return d=Mt(d,3),ja(l,function(C,O,V){Ms(m,O,d(C,O,V))}),m}var BA=ml(function(l,d,m){Pd(l,d,m)}),k5=ml(function(l,d,m,C){Pd(l,d,m,C)}),$A=Ts(function(l,d){var m={};if(l==null)return m;var C=!1;d=$t(d,function(V){return V=fo(V,l),C||(C=V.length>1),V}),qa(l,rg(l),m),C&&(m=qi(m,h|p|v,kE));for(var O=d.length;O--;)Yp(m,d[O]);return m});function RA(l,d){return O5(l,Ud(Mt(d)))}var FA=Ts(function(l,d){return l==null?{}:fE(l,d)});function O5(l,d){if(l==null)return{};var m=$t(rg(l),function(C){return[C]});return d=Mt(d),xb(l,m,function(C,O){return d(C,O[0])})}function DA(l,d,m){d=fo(d,l);var C=-1,O=d.length;for(O||(O=1,l=n);++C<O;){var V=l==null?n:l[Ka(d[C])];V===n&&(C=O,V=m),l=Ss(V)?V.call(l):V}return l}function HA(l,d,m){return l==null?l:su(l,d,m)}function zA(l,d,m,C){return C=typeof C=="function"?C:n,l==null?l:su(l,d,m,C)}var N5=Wb(Cr),I5=Wb(li);function VA(l,d,m){var C=Lt(l),O=C||po(l)||wl(l);if(d=Mt(d,4),m==null){var V=l&&l.constructor;O?m=C?new V:[]:Kn(l)?m=Ss(V)?vl(md(l)):{}:m={}}return(O?Xr:ja)(l,function(G,Q,le){return d(m,G,Q,le)}),m}function UA(l,d){return l==null?!0:Yp(l,d)}function WA(l,d,m){return l==null?l:Sb(l,d,Qp(m))}function jA(l,d,m,C){return C=typeof C=="function"?C:n,l==null?l:Sb(l,d,Qp(m),C)}function _l(l){return l==null?[]:un(l,Cr(l))}function qA(l){return l==null?[]:un(l,li(l))}function KA(l,d,m){return m===n&&(m=d,d=n),m!==n&&(m=Yi(m),m=m===m?m:0),d!==n&&(d=Yi(d),d=d===d?d:0),c0(Yi(l),d,m)}function GA(l,d,m){return d=Ps(d),m===n?(m=d,d=0):m=Ps(m),l=Yi(l),eE(l,d,m)}function YA(l,d,m){if(m&&typeof m!="boolean"&&Qr(l,d,m)&&(d=m=n),m===n&&(typeof d=="boolean"?(m=d,d=n):typeof l=="boolean"&&(m=l,l=n)),l===n&&d===n?(l=0,d=1):(l=Ps(l),d===n?(d=l,l=0):d=Ps(d)),l>d){var C=l;l=d,d=C}if(m||l%1||d%1){var O=rb();return Hr(l+O*(d-l+Vi("1e-"+((O+"").length-1))),d)}return qp(l,d)}var XA=bl(function(l,d,m){return d=d.toLowerCase(),l+(m?L5(d):d)});function L5(l){return yg(yn(l).toLowerCase())}function B5(l){return l=yn(l),l&&l.replace(Lc,Cn).replace(ll,"")}function JA(l,d,m){l=yn(l),d=Ei(d);var C=l.length;m=m===n?C:c0(Dt(m),0,C);var O=m;return m-=d.length,m>=0&&l.slice(m,O)==d}function QA(l){return l=yn(l),l&&he.test(l)?l.replace(J,Xn):l}function ZA(l){return l=yn(l),l&&Zt.test(l)?l.replace(Pt,"\\$&"):l}var ek=bl(function(l,d,m){return l+(m?"-":"")+d.toLowerCase()}),tk=bl(function(l,d,m){return l+(m?" ":"")+d.toLowerCase()}),nk=Fb("toLowerCase");function rk(l,d,m){l=yn(l),d=Dt(d);var C=d?Ui(l):0;if(!d||C>=d)return l;var O=(d-C)/2;return Ld(_d(O),m)+l+Ld(wd(O),m)}function ik(l,d,m){l=yn(l),d=Dt(d);var C=d?Ui(l):0;return d&&C<d?l+Ld(d-C,m):l}function ak(l,d,m){l=yn(l),d=Dt(d);var C=d?Ui(l):0;return d&&C<d?Ld(d-C,m)+l:l}function sk(l,d,m){return m||d==null?d=0:d&&(d=+d),hT(yn(l).replace(Vt,""),d||0)}function ok(l,d,m){return(m?Qr(l,d,m):d===n)?d=1:d=Dt(d),Kp(yn(l),d)}function lk(){var l=arguments,d=yn(l[0]);return l.length<3?d:d.replace(l[1],l[2])}var ck=bl(function(l,d,m){return l+(m?"_":"")+d.toLowerCase()});function uk(l,d,m){return m&&typeof m!="number"&&Qr(l,d,m)&&(d=m=n),m=m===n?ge:m>>>0,m?(l=yn(l),l&&(typeof d=="string"||d!=null&&!vg(d))&&(d=Ei(d),!d&&Jn(l))?ho(ai(l),0,m):l.split(d,m)):[]}var fk=bl(function(l,d,m){return l+(m?" ":"")+yg(d)});function dk(l,d,m){return l=yn(l),m=m==null?0:c0(Dt(m),0,l.length),d=Ei(d),l.slice(m,m+d.length)==d}function hk(l,d,m){var C=F.templateSettings;m&&Qr(l,d,m)&&(d=n),l=yn(l),d=qd({},d,C,jb);var O=qd({},d.imports,C.imports,jb),V=Cr(O),G=un(O,V),Q,le,Ie=0,Le=d.interpolate||no,ze="__p += '",Qe=Np((d.escape||no).source+"|"+Le.source+"|"+(Le===Ye?Hi:no).source+"|"+(d.evaluate||no).source+"|$","g"),ht="//# sourceURL="+(xn.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ep+"]")+`
`;l.replace(Qe,function(Tt,Yt,tn,Pi,Zr,Ai){return tn||(tn=Pi),ze+=l.slice(Ie,Ai).replace(Bc,Mr),Yt&&(Q=!0,ze+=`' +
__e(`+Yt+`) +
'`),Zr&&(le=!0,ze+=`';
`+Zr+`;
__p += '`),tn&&(ze+=`' +
((__t = (`+tn+`)) == null ? '' : __t) +
'`),Ie=Ai+Tt.length,Tt}),ze+=`';
`;var Ct=xn.call(d,"variable")&&d.variable;if(!Ct)ze=`with (obj) {
`+ze+`
}
`;else if(Bn.test(Ct))throw new At(o);ze=(le?ze.replace(Ne,""):ze).replace(it,"$1").replace(_t,"$1;"),ze="function("+(Ct||"obj")+`) {
`+(Ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Q?", __e = _.escape":"")+(le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ze+`return __p
}`;var Ut=R5(function(){return gn(V,ht+"return "+ze).apply(n,G)});if(Ut.source=ze,gg(Ut))throw Ut;return Ut}function pk(l){return yn(l).toLowerCase()}function gk(l){return yn(l).toUpperCase()}function vk(l,d,m){if(l=yn(l),l&&(m||d===n))return Vn(l);if(!l||!(d=Ei(d)))return l;var C=ai(l),O=ai(d),V=fn(C,O),G=jn(C,O)+1;return ho(C,V,G).join("")}function mk(l,d,m){if(l=yn(l),l&&(m||d===n))return l.slice(0,X3(l)+1);if(!l||!(d=Ei(d)))return l;var C=ai(l),O=jn(C,ai(d))+1;return ho(C,0,O).join("")}function bk(l,d,m){if(l=yn(l),l&&(m||d===n))return l.replace(Vt,"");if(!l||!(d=Ei(d)))return l;var C=ai(l),O=fn(C,ai(d));return ho(C,O).join("")}function yk(l,d){var m=B,C=H;if(Kn(d)){var O="separator"in d?d.separator:O;m="length"in d?Dt(d.length):m,C="omission"in d?Ei(d.omission):C}l=yn(l);var V=l.length;if(Jn(l)){var G=ai(l);V=G.length}if(m>=V)return l;var Q=m-Ui(C);if(Q<1)return C;var le=G?ho(G,0,Q).join(""):l.slice(0,Q);if(O===n)return le+C;if(G&&(Q+=le.length-Q),vg(O)){if(l.slice(Q).search(O)){var Ie,Le=le;for(O.global||(O=Np(O.source,yn(vs.exec(O))+"g")),O.lastIndex=0;Ie=O.exec(Le);)var ze=Ie.index;le=le.slice(0,ze===n?Q:ze)}}else if(l.indexOf(Ei(O),Q)!=Q){var Qe=le.lastIndexOf(O);Qe>-1&&(le=le.slice(0,Qe))}return le+C}function wk(l){return l=yn(l),l&&be.test(l)?l.replace(tt,YC):l}var _k=bl(function(l,d,m){return l+(m?" ":"")+d.toUpperCase()}),yg=Fb("toUpperCase");function $5(l,d,m){return l=yn(l),d=m?n:d,d===n?Ci(l)?QC(l):Xc(l):l.match(d)||[]}var R5=jt(function(l,d){try{return Pr(l,n,d)}catch(m){return gg(m)?m:new At(m)}}),xk=Ts(function(l,d){return Xr(d,function(m){m=Ka(m),Ms(l,m,hg(l[m],l))}),l});function Mk(l){var d=l==null?0:l.length,m=Mt();return l=d?$t(l,function(C){if(typeof C[1]!="function")throw new Wi(s);return[m(C[0]),C[1]]}):[],jt(function(C){for(var O=-1;++O<d;){var V=l[O];if(Pr(V[0],this,C))return Pr(V[1],this,C)}})}function Ck(l){return YT(qi(l,h))}function wg(l){return function(){return l}}function Tk(l,d){return l==null||l!==l?d:l}var Ek=Hb(),Sk=Hb(!0);function ci(l){return l}function _g(l){return vb(typeof l=="function"?l:qi(l,h))}function Pk(l){return bb(qi(l,h))}function Ak(l,d){return yb(l,qi(d,h))}var kk=jt(function(l,d){return function(m){return iu(m,l,d)}}),Ok=jt(function(l,d){return function(m){return iu(l,m,d)}});function xg(l,d,m){var C=Cr(d),O=Sd(d,C);m==null&&!(Kn(d)&&(O.length||!C.length))&&(m=d,d=l,l=this,O=Sd(d,Cr(d)));var V=!(Kn(m)&&"chain"in m)||!!m.chain,G=Ss(l);return Xr(O,function(Q){var le=d[Q];l[Q]=le,G&&(l.prototype[Q]=function(){var Ie=this.__chain__;if(V||Ie){var Le=l(this.__wrapped__),ze=Le.__actions__=si(this.__actions__);return ze.push({func:le,args:arguments,thisArg:l}),Le.__chain__=Ie,Le}return le.apply(l,$n([this.value()],arguments))})}),l}function Nk(){return dr._===this&&(dr._=iT),this}function Mg(){}function Ik(l){return l=Dt(l),jt(function(d){return wb(d,l)})}var Lk=eg($t),Bk=eg(Gc),$k=eg(ws);function F5(l){return og(l)?Fe(Ka(l)):dE(l)}function Rk(l){return function(d){return l==null?n:u0(l,d)}}var Fk=Vb(),Dk=Vb(!0);function Cg(){return[]}function Tg(){return!1}function Hk(){return{}}function zk(){return""}function Vk(){return!0}function Uk(l,d){if(l=Dt(l),l<1||l>U)return[];var m=ge,C=Hr(l,ge);d=Mt(d),l-=ge;for(var O=ft(C,d);++m<l;)d(m);return O}function Wk(l){return Lt(l)?$t(l,Ka):Si(l)?[l]:si(i5(yn(l)))}function jk(l){var d=++nT;return yn(l)+d}var qk=Id(function(l,d){return l+d},0),Kk=tg("ceil"),Gk=Id(function(l,d){return l/d},1),Yk=tg("floor");function Xk(l){return l&&l.length?Ed(l,ci,Hp):n}function Jk(l,d){return l&&l.length?Ed(l,Mt(d,2),Hp):n}function Qk(l){return ye(l,ci)}function Zk(l,d){return ye(l,Mt(d,2))}function eO(l){return l&&l.length?Ed(l,ci,Wp):n}function tO(l,d){return l&&l.length?Ed(l,Mt(d,2),Wp):n}var nO=Id(function(l,d){return l*d},1),rO=tg("round"),iO=Id(function(l,d){return l-d},0);function aO(l){return l&&l.length?Ke(l,ci):0}function sO(l,d){return l&&l.length?Ke(l,Mt(d,2)):0}return F.after=PP,F.ary=g5,F.assign=gA,F.assignIn=A5,F.assignInWith=qd,F.assignWith=vA,F.at=mA,F.before=v5,F.bind=hg,F.bindAll=xk,F.bindKey=m5,F.castArray=HP,F.chain=d5,F.chunk=YE,F.compact=XE,F.concat=JE,F.cond=Mk,F.conforms=Ck,F.constant=wg,F.countBy=aP,F.create=bA,F.curry=b5,F.curryRight=y5,F.debounce=w5,F.defaults=yA,F.defaultsDeep=wA,F.defer=AP,F.delay=kP,F.difference=QE,F.differenceBy=ZE,F.differenceWith=eS,F.drop=tS,F.dropRight=nS,F.dropRightWhile=rS,F.dropWhile=iS,F.fill=aS,F.filter=oP,F.flatMap=uP,F.flatMapDeep=fP,F.flatMapDepth=dP,F.flatten=l5,F.flattenDeep=sS,F.flattenDepth=oS,F.flip=OP,F.flow=Ek,F.flowRight=Sk,F.fromPairs=lS,F.functions=SA,F.functionsIn=PA,F.groupBy=hP,F.initial=uS,F.intersection=fS,F.intersectionBy=dS,F.intersectionWith=hS,F.invert=kA,F.invertBy=OA,F.invokeMap=gP,F.iteratee=_g,F.keyBy=vP,F.keys=Cr,F.keysIn=li,F.map=Hd,F.mapKeys=IA,F.mapValues=LA,F.matches=Pk,F.matchesProperty=Ak,F.memoize=Vd,F.merge=BA,F.mergeWith=k5,F.method=kk,F.methodOf=Ok,F.mixin=xg,F.negate=Ud,F.nthArg=Ik,F.omit=$A,F.omitBy=RA,F.once=NP,F.orderBy=mP,F.over=Lk,F.overArgs=IP,F.overEvery=Bk,F.overSome=$k,F.partial=pg,F.partialRight=_5,F.partition=bP,F.pick=FA,F.pickBy=O5,F.property=F5,F.propertyOf=Rk,F.pull=mS,F.pullAll=u5,F.pullAllBy=bS,F.pullAllWith=yS,F.pullAt=wS,F.range=Fk,F.rangeRight=Dk,F.rearg=LP,F.reject=_P,F.remove=_S,F.rest=BP,F.reverse=fg,F.sampleSize=MP,F.set=HA,F.setWith=zA,F.shuffle=CP,F.slice=xS,F.sortBy=SP,F.sortedUniq=AS,F.sortedUniqBy=kS,F.split=uk,F.spread=$P,F.tail=OS,F.take=NS,F.takeRight=IS,F.takeRightWhile=LS,F.takeWhile=BS,F.tap=XS,F.throttle=RP,F.thru=Dd,F.toArray=E5,F.toPairs=N5,F.toPairsIn=I5,F.toPath=Wk,F.toPlainObject=P5,F.transform=VA,F.unary=FP,F.union=$S,F.unionBy=RS,F.unionWith=FS,F.uniq=DS,F.uniqBy=HS,F.uniqWith=zS,F.unset=UA,F.unzip=dg,F.unzipWith=f5,F.update=WA,F.updateWith=jA,F.values=_l,F.valuesIn=qA,F.without=VS,F.words=$5,F.wrap=DP,F.xor=US,F.xorBy=WS,F.xorWith=jS,F.zip=qS,F.zipObject=KS,F.zipObjectDeep=GS,F.zipWith=YS,F.entries=N5,F.entriesIn=I5,F.extend=A5,F.extendWith=qd,xg(F,F),F.add=qk,F.attempt=R5,F.camelCase=XA,F.capitalize=L5,F.ceil=Kk,F.clamp=KA,F.clone=zP,F.cloneDeep=UP,F.cloneDeepWith=WP,F.cloneWith=VP,F.conformsTo=jP,F.deburr=B5,F.defaultTo=Tk,F.divide=Gk,F.endsWith=JA,F.eq=_a,F.escape=QA,F.escapeRegExp=ZA,F.every=sP,F.find=lP,F.findIndex=s5,F.findKey=_A,F.findLast=cP,F.findLastIndex=o5,F.findLastKey=xA,F.floor=Yk,F.forEach=h5,F.forEachRight=p5,F.forIn=MA,F.forInRight=CA,F.forOwn=TA,F.forOwnRight=EA,F.get=mg,F.gt=qP,F.gte=KP,F.has=AA,F.hasIn=bg,F.head=c5,F.identity=ci,F.includes=pP,F.indexOf=cS,F.inRange=GA,F.invoke=NA,F.isArguments=h0,F.isArray=Lt,F.isArrayBuffer=GP,F.isArrayLike=oi,F.isArrayLikeObject=sr,F.isBoolean=YP,F.isBuffer=po,F.isDate=XP,F.isElement=JP,F.isEmpty=QP,F.isEqual=ZP,F.isEqualWith=eA,F.isError=gg,F.isFinite=tA,F.isFunction=Ss,F.isInteger=x5,F.isLength=Wd,F.isMap=M5,F.isMatch=nA,F.isMatchWith=rA,F.isNaN=iA,F.isNative=aA,F.isNil=oA,F.isNull=sA,F.isNumber=C5,F.isObject=Kn,F.isObjectLike=Qn,F.isPlainObject=uu,F.isRegExp=vg,F.isSafeInteger=lA,F.isSet=T5,F.isString=jd,F.isSymbol=Si,F.isTypedArray=wl,F.isUndefined=cA,F.isWeakMap=uA,F.isWeakSet=fA,F.join=pS,F.kebabCase=ek,F.last=Gi,F.lastIndexOf=gS,F.lowerCase=tk,F.lowerFirst=nk,F.lt=dA,F.lte=hA,F.max=Xk,F.maxBy=Jk,F.mean=Qk,F.meanBy=Zk,F.min=eO,F.minBy=tO,F.stubArray=Cg,F.stubFalse=Tg,F.stubObject=Hk,F.stubString=zk,F.stubTrue=Vk,F.multiply=nO,F.nth=vS,F.noConflict=Nk,F.noop=Mg,F.now=zd,F.pad=rk,F.padEnd=ik,F.padStart=ak,F.parseInt=sk,F.random=YA,F.reduce=yP,F.reduceRight=wP,F.repeat=ok,F.replace=lk,F.result=DA,F.round=rO,F.runInContext=re,F.sample=xP,F.size=TP,F.snakeCase=ck,F.some=EP,F.sortedIndex=MS,F.sortedIndexBy=CS,F.sortedIndexOf=TS,F.sortedLastIndex=ES,F.sortedLastIndexBy=SS,F.sortedLastIndexOf=PS,F.startCase=fk,F.startsWith=dk,F.subtract=iO,F.sum=aO,F.sumBy=sO,F.template=hk,F.times=Uk,F.toFinite=Ps,F.toInteger=Dt,F.toLength=S5,F.toLower=pk,F.toNumber=Yi,F.toSafeInteger=pA,F.toString=yn,F.toUpper=gk,F.trim=vk,F.trimEnd=mk,F.trimStart=bk,F.truncate=yk,F.unescape=wk,F.uniqueId=jk,F.upperCase=_k,F.upperFirst=yg,F.each=h5,F.eachRight=p5,F.first=c5,xg(F,function(){var l={};return ja(F,function(d,m){xn.call(F.prototype,m)||(l[m]=d)}),l}(),{chain:!1}),F.VERSION=r,Xr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){F[l].placeholder=F}),Xr(["drop","take"],function(l,d){Jt.prototype[l]=function(m){m=m===n?1:br(Dt(m),0);var C=this.__filtered__&&!d?new Jt(this):this.clone();return C.__filtered__?C.__takeCount__=Hr(m,C.__takeCount__):C.__views__.push({size:Hr(m,ge),type:l+(C.__dir__<0?"Right":"")}),C},Jt.prototype[l+"Right"]=function(m){return this.reverse()[l](m).reverse()}}),Xr(["filter","map","takeWhile"],function(l,d){var m=d+1,C=m==z||m==I;Jt.prototype[l]=function(O){var V=this.clone();return V.__iteratees__.push({iteratee:Mt(O,3),type:m}),V.__filtered__=V.__filtered__||C,V}}),Xr(["head","last"],function(l,d){var m="take"+(d?"Right":"");Jt.prototype[l]=function(){return this[m](1).value()[0]}}),Xr(["initial","tail"],function(l,d){var m="drop"+(d?"":"Right");Jt.prototype[l]=function(){return this.__filtered__?new Jt(this):this[m](1)}}),Jt.prototype.compact=function(){return this.filter(ci)},Jt.prototype.find=function(l){return this.filter(l).head()},Jt.prototype.findLast=function(l){return this.reverse().find(l)},Jt.prototype.invokeMap=jt(function(l,d){return typeof l=="function"?new Jt(this):this.map(function(m){return iu(m,l,d)})}),Jt.prototype.reject=function(l){return this.filter(Ud(Mt(l)))},Jt.prototype.slice=function(l,d){l=Dt(l);var m=this;return m.__filtered__&&(l>0||d<0)?new Jt(m):(l<0?m=m.takeRight(-l):l&&(m=m.drop(l)),d!==n&&(d=Dt(d),m=d<0?m.dropRight(-d):m.take(d-l)),m)},Jt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Jt.prototype.toArray=function(){return this.take(ge)},ja(Jt.prototype,function(l,d){var m=/^(?:filter|find|map|reject)|While$/.test(d),C=/^(?:head|last)$/.test(d),O=F[C?"take"+(d=="last"?"Right":""):d],V=C||/^find/.test(d);O&&(F.prototype[d]=function(){var G=this.__wrapped__,Q=C?[1]:arguments,le=G instanceof Jt,Ie=Q[0],Le=le||Lt(G),ze=function(Yt){var tn=O.apply(F,$n([Yt],Q));return C&&Qe?tn[0]:tn};Le&&m&&typeof Ie=="function"&&Ie.length!=1&&(le=Le=!1);var Qe=this.__chain__,ht=!!this.__actions__.length,Ct=V&&!Qe,Ut=le&&!ht;if(!V&&Le){G=Ut?G:new Jt(this);var Tt=l.apply(G,Q);return Tt.__actions__.push({func:Dd,args:[ze],thisArg:n}),new ji(Tt,Qe)}return Ct&&Ut?l.apply(this,Q):(Tt=this.thru(ze),Ct?C?Tt.value()[0]:Tt.value():Tt)})}),Xr(["pop","push","shift","sort","splice","unshift"],function(l){var d=fd[l],m=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",C=/^(?:pop|shift)$/.test(l);F.prototype[l]=function(){var O=arguments;if(C&&!this.__chain__){var V=this.value();return d.apply(Lt(V)?V:[],O)}return this[m](function(G){return d.apply(Lt(G)?G:[],O)})}}),ja(Jt.prototype,function(l,d){var m=F[d];if(m){var C=m.name+"";xn.call(gl,C)||(gl[C]=[]),gl[C].push({name:d,func:m})}}),gl[Nd(n,x).name]=[{name:"wrapper",func:n}],Jt.prototype.clone=wT,Jt.prototype.reverse=_T,Jt.prototype.value=xT,F.prototype.at=JS,F.prototype.chain=QS,F.prototype.commit=ZS,F.prototype.next=eP,F.prototype.plant=nP,F.prototype.reverse=rP,F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=iP,F.prototype.first=F.prototype.head,Jc&&(F.prototype[Jc]=tP),F},dl=ZC();Mi?((Mi.exports=dl)._=dl,bs._=dl):dr._=dl}).call(gu)})(u1,u1.exports);var NG=u1.exports;const rn=yc(NG);var f1=(e,t)=>Array(Math.abs(t)+1).join(e);function X_(e,t,n){return function(...r){return console.warn(`${e} is deprecated. Use ${t}.`),n.apply(this,r)}}function J_(e){return e!==null&&typeof e=="object"&&typeof e.name=="string"}function Q_(e){return e!==null&&typeof e=="object"&&typeof e.step=="number"&&typeof e.alt=="number"}var Z_=[0,2,4,-1,1,3,5],ex=Z_.map(e=>Math.floor(e*7/12));function tx(e){const{step:t,alt:n,oct:r,dir:i=1}=e,a=Z_[t]+7*n;if(r===void 0)return[i*a];const s=r-ex[t]-4*n;return[i*a,i*s]}var IG=[3,0,4,1,5,2,6];function nx(e){const[t,n,r]=e,i=IG[LG(t)],a=Math.floor((t+1)/7);if(n===void 0)return{step:i,alt:a,dir:r};const s=n+4*a+ex[i];return{step:i,alt:a,oct:s,dir:r}}function LG(e){const t=(e+1)%7;return t<0?7+t:t}var rx={empty:!0,name:"",pc:"",acc:""},e4=new Map,BG=e=>"CDEFGAB".charAt(e),$G=e=>e<0?f1("b",-e):f1("#",e),RG=e=>e[0]==="b"?-e.length:e.length;function An(e){const t=JSON.stringify(e),n=e4.get(t);if(n)return n;const r=typeof e=="string"?zG(e):Q_(e)?An(VG(e)):J_(e)?An(e.name):rx;return e4.set(t,r),r}var FG=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function ix(e){const t=FG.exec(e);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}function DG(e){return An(nx(e))}var HG=(e,t)=>(e%t+t)%t,Xg=[0,2,4,5,7,9,11];function zG(e){const t=ix(e);if(t[0]===""||t[3]!=="")return rx;const n=t[0],r=t[1],i=t[2],a=(n.charCodeAt(0)+3)%7,s=RG(r),o=i.length?+i:void 0,u=tx({step:a,alt:s,oct:o}),c=n+r+i,f=n+r,h=(Xg[a]+s+120)%12,p=o===void 0?HG(Xg[a]+s,12)-12*99:Xg[a]+s+12*(o+1),v=p>=0&&p<=127?p:null,g=o===void 0?null:Math.pow(2,(p-69)/12)*440;return{empty:!1,acc:r,alt:s,chroma:h,coord:u,freq:g,height:p,letter:n,midi:v,name:c,oct:o,pc:f,step:a}}function VG(e){const{step:t,alt:n,oct:r}=e,i=BG(t);if(!i)return"";const a=i+$G(n);return r||r===0?a+r:a}var fm={empty:!0,name:"",acc:""},UG="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",WG="(AA|A|P|M|m|d|dd)([-+]?\\d+)",jG=new RegExp("^"+UG+"|"+WG+"$");function qG(e){const t=jG.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var t4={};function xf(e){return typeof e=="string"?t4[e]||(t4[e]=KG(e)):Q_(e)?xf(XG(e)):J_(e)?xf(e.name):fm}var n4=[0,2,4,5,7,9,11],ax="PMMPPMM";function KG(e){const t=qG(e);if(t[0]==="")return fm;const n=+t[0],r=t[1],i=(Math.abs(n)-1)%7,a=ax[i];if(a==="M"&&r==="P")return fm;const s=a==="M"?"majorable":"perfectable",o=""+n+r,u=n<0?-1:1,c=n===8||n===-8?n:u*(i+1),f=YG(s,r),h=Math.floor((Math.abs(n)-1)/7),p=u*(n4[i]+f+12*h),v=(u*(n4[i]+f)%12+12)%12,g=tx({step:i,alt:f,oct:h,dir:u});return{empty:!1,name:o,num:n,q:r,step:i,alt:f,dir:u,type:s,simple:c,semitones:p,chroma:v,coord:g,oct:h}}function GG(e,t){const[n,r=0]=e,i=n*7+r*12<0,a=t||i?[-n,-r,-1]:[n,r,1];return xf(nx(a))}function YG(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function XG(e){const{step:t,alt:n,oct:r=0,dir:i}=e;if(!i)return"";const a=t+1+7*r,s=a===0?t+1:a,o=i<0?"-":"",u=ax[t]==="M"?"majorable":"perfectable";return o+s+JG(u,n)}function JG(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?f1("A",t):f1("d",e==="perfectable"?t:t+1)}function Ys(e,t){const n=An(e),r=Array.isArray(t)?t:xf(t).coord;if(n.empty||!r||r.length<2)return"";const i=n.coord,a=i.length===1?[i[0]+r[0]]:[i[0]+r[0],i[1]+r[1]];return DG(a).name}function ip(e,t){const n=e.length;return r=>{if(!t)return"";const i=r<0?(n- -r%n)%n:r%n,a=Math.floor(r/n),s=Ys(t,[0,a]);return Ys(s,e[i])}}function sx(e,t){const n=An(e),r=An(t);if(n.empty||r.empty)return"";const i=n.coord,a=r.coord,s=a[0]-i[0],o=i.length===2&&a.length===2?a[1]-i[1]:-Math.floor(s*7/12),u=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return GG([s,o],u).name}var r4=(e,t)=>Array(t+1).join(e),QG=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function ox(e){const t=QG.exec(e);return t?[t[1],t[2],t[3]]:["","",""]}function d1(e){const[t,n,r]=ox(e);if(n==="")return"";let i=4;for(let s=0;s<r.length;s++)i+=r.charAt(s)===","?-1:1;const a=t[0]==="_"?t.replace(/_/g,"b"):t[0]==="^"?t.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+a+(i+1):n+a+i}function lx(e){const t=An(e);if(t.empty||!t.oct&&t.oct!==0)return"";const{letter:n,acc:r,oct:i}=t,a=r[0]==="b"?r.replace(/b/g,"_"):r.replace(/#/g,"^"),s=i>4?n.toLowerCase():n,o=i===5?"":i>4?r4("'",i-5):r4(",",4-i);return a+s+o}function ZG(e,t){return lx(Ys(d1(e),t))}function eY(e,t){return sx(d1(e),d1(t))}var tY={abcToScientificNotation:d1,scientificToAbcNotation:lx,tokenize:ox,transpose:ZG,distance:eY};function nY(e,t){const n=[];for(;t--;n[t]=t+e);return n}function rY(e,t){const n=[];for(;t--;n[t]=e-t);return n}function iY(e,t){return e<t?nY(e,t-e+1):rY(e,e-t+1)}function Df(e,t){const n=t.length,r=(e%n+n)%n;return t.slice(r,n).concat(t.slice(0,r))}function aY(e){return e.filter(t=>t===0||t)}var q0={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},cx=e=>Number(e).toString(2),i4=e=>parseInt(e,2),sY=/^[01]{12}$/;function Z2(e){return sY.test(e)}var oY=e=>typeof e=="number"&&e>=0&&e<=4095,lY=e=>e&&Z2(e.chroma),a4={[q0.chroma]:q0};function Wo(e){const t=Z2(e)?e:oY(e)?cx(e):Array.isArray(e)?pY(e):lY(e)?e.chroma:q0.chroma;return a4[t]=a4[t]||hY(t)}var cY=e=>Wo(e).chroma,uY=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function fY(e){const t=[];for(let n=0;n<12;n++)e.charAt(n)==="1"&&t.push(uY[n]);return t}function ux(e,t=!0){const r=Wo(e).chroma.split("");return aY(r.map((i,a)=>{const s=Df(a,r);return t&&s[0]==="0"?null:s.join("")}))}function e3(e){const t=Wo(e).setNum;return n=>{const r=Wo(n).setNum;return t&&t!==r&&(r&t)===r}}function t3(e){const t=Wo(e).setNum;return n=>{const r=Wo(n).setNum;return t&&t!==r&&(r|t)===r}}function dY(e){const t=e.split("");return t.map((n,r)=>Df(r,t).join(""))}function hY(e){const t=i4(e),n=dY(e).map(i4).filter(a=>a>=2048).sort()[0],r=cx(n),i=fY(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:r,intervals:i}}function pY(e){if(e.length===0)return q0.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++)t=An(e[r]),t.empty&&(t=xf(e[r])),t.empty||(n[t.chroma]=1);return n.join("")}var gY=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],vY=gY,mY={...q0,name:"",quality:"Unknown",intervals:[],aliases:[]},n3=[],qu={};function bY(e){return qu[e]||mY}function ap(){return n3.slice()}function yY(e,t,n){const r=_Y(e),i={...Wo(e),name:n||"",quality:r,intervals:e,aliases:t};n3.push(i),i.name&&(qu[i.name]=i),qu[i.setNum]=i,qu[i.chroma]=i,i.aliases.forEach(a=>wY(i,a))}function wY(e,t){qu[t]=e}function _Y(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}vY.forEach(([e,t,n])=>yY(e.split(" "),n.split(" "),t));n3.sort((e,t)=>e.setNum-t.setNum);var xY=e=>{const t=e.reduce((n,r)=>{const i=An(r).chroma;return i!==void 0&&(n[i]=n[i]||An(r).name),n},{});return n=>t[n]};function MY(e,t={}){const n=e.map(i=>An(i).pc).filter(i=>i);return An.length===0?[]:kY(n,1,t).filter(i=>i.weight).sort((i,a)=>a.weight-i.weight).map(i=>i.name)}var sp={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},op=e=>t=>!!(t&e),CY=op(sp.anyThirds),TY=op(sp.perfectFifth),EY=op(sp.anySeventh),SY=op(sp.nonPerfectFifths);function PY(e){const t=parseInt(e.chroma,2);return CY(t)&&TY(t)&&EY(t)}function AY(e){const t=parseInt(e,2);return SY(t)?e:(t|16).toString(2)}function kY(e,t,n){const r=e[0],i=An(r).chroma,a=xY(e),s=ux(e,!1),o=[];return s.forEach((u,c)=>{const f=n.assumePerfectFifth&&AY(u);ap().filter(p=>n.assumePerfectFifth&&PY(p)?p.chroma===f:p.chroma===u).forEach(p=>{const v=p.aliases[0],g=a(c);c!==i?o.push({weight:.5*t,name:`${g}${v}/${r}`}):o.push({weight:1*t,name:`${g}${v}`})})}),o}var OY=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],NY=OY,IY={...q0,intervals:[],aliases:[]},r3=[],Ku={};function LY(){return r3.map(e=>e.name)}function fx(e){return Ku[e]||IY}function lp(){return r3.slice()}function BY(e,t,n=[]){const r={...Wo(e),name:t,intervals:e,aliases:n};return r3.push(r),Ku[r.name]=r,Ku[r.setNum]=r,Ku[r.chroma]=r,r.aliases.forEach(i=>$Y(r,i)),r}function $Y(e,t){Ku[t]=e}NY.forEach(([e,t,...n])=>BY(e.split(" "),t,n));var dm={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]},RY=/^(6|64|7|9|11|13)$/;function i3(e){const[t,n,r,i]=ix(e);return t===""?["",e]:t==="A"&&i==="ug"?["","aug"]:!i&&(r==="4"||r==="5")?[t+n,r]:RY.test(r)?[t+n,r+i]:[t+n+r,i]}function Z0(e){if(e==="")return dm;if(Array.isArray(e)&&e.length===2)return Dh(e[1],e[0]);{const[t,n]=i3(e),r=Dh(n,t);return r.empty?Dh(e):r}}function Dh(e,t,n){const r=bY(e),i=An(t||""),a=An(n||"");if(r.empty||t&&i.empty||n&&a.empty)return dm;const s=sx(i.pc,a.pc),o=r.intervals.indexOf(s)+1;if(!a.empty&&!o)return dm;const u=Array.from(r.intervals);for(let p=1;p<o;p++){const v=u[0][0],g=u[0][1],b=parseInt(v,10)+7;u.push(`${b}${g}`),u.shift()}const c=i.empty?[]:u.map(p=>Ys(i,p));e=r.aliases.indexOf(e)!==-1?e:r.aliases[0];const f=`${i.empty?"":i.pc}${e}${a.empty||o<=1?"":"/"+a.pc}`,h=`${t?i.pc+" ":""}${r.name}${o>1&&n?" over "+a.pc:""}`;return{...r,name:h,symbol:f,type:r.name,root:a.name,intervals:u,rootDegree:o,tonic:i.name,notes:c}}var FY=X_("Chord.chord","Chord.get",Z0);function DY(e,t){const[n,r]=i3(e);return n?Ys(n,t)+r:e}function HY(e){const t=Z0(e),n=t3(t.chroma);return lp().filter(r=>n(r.chroma)).map(r=>r.name)}function zY(e){const t=Z0(e),n=t3(t.chroma);return ap().filter(r=>n(r.chroma)).map(r=>t.tonic+r.aliases[0])}function VY(e){const t=Z0(e),n=e3(t.chroma);return ap().filter(r=>n(r.chroma)).map(r=>t.tonic+r.aliases[0])}function UY(e){const{intervals:t,tonic:n}=Z0(e),r=ip(t,n);return i=>i?r(i>0?i-1:i):""}function WY(e){const{intervals:t,tonic:n}=Z0(e);return ip(t,n)}var s4={getChord:Dh,get:Z0,detect:MY,chordScales:HY,extended:zY,reduced:VY,tokenize:i3,transpose:DY,degrees:UY,steps:WY,chord:FY};function dx(e){return+e>=0&&+e<=127}function jY(e){if(dx(e))return+e;const t=An(e);return t.empty?null:t.midi}function qY(e,t=440){return Math.pow(2,(e-69)/12)*t}var KY=Math.log(2),GY=Math.log(440);function a3(e){const t=12*(Math.log(e)-GY)/KY+69;return Math.round(t*100)/100}var YY="C C# D D# E F F# G G# A A# B".split(" "),XY="C Db D Eb E F Gb G Ab A Bb B".split(" ");function el(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const r=(t.sharps===!0?YY:XY)[e%12];if(t.pitchClass)return r;const i=Math.floor(e/12)-1;return r+i}function s3(e){return e%12}function JY(e){return e.split("").reduce((t,n,r)=>(r<12&&n==="1"&&t.push(r),t),[])}function QY(e){return e.map(s3).sort((t,n)=>t-n).filter((t,n,r)=>n===0||t!==r[n-1])}function o3(e){return Array.isArray(e)?QY(e):JY(e)}function ZY(e){const t=o3(e);return n=>{const r=s3(n);for(let i=0;i<12;i++){if(t.includes(r+i))return n+i;if(t.includes(r-i))return n-i}}}function hx(e,t){const n=o3(e),r=n.length;return i=>{const a=i<0?(r- -i%r)%r:i%r,s=Math.floor(i/r);return n[a]+s*12+t}}function eX(e,t){const n=hx(e,t);return r=>{if(r!==0)return n(r>0?r-1:r)}}var tX={chroma:s3,freqToMidi:a3,isMidi:dx,midiToFreq:qY,midiToNoteName:el,pcsetNearest:ZY,pcset:o3,pcsetDegrees:eX,pcsetSteps:hx,toMidi:jY},nX=["C","D","E","F","G","A","B"],px=e=>e.name,gx=e=>e.map(An).filter(t=>!t.empty);function rX(e){return e===void 0?nX.slice():Array.isArray(e)?gx(e).map(px):[]}var $a=An,iX=e=>$a(e).name,aX=e=>$a(e).pc,sX=e=>$a(e).acc,oX=e=>$a(e).oct,lX=e=>$a(e).midi,cX=e=>$a(e).freq,uX=e=>$a(e).chroma;function vx(e){return el(e)}function fX(e){return el(a3(e))}function dX(e){return el(a3(e),{sharps:!0})}function hX(e){return el(e,{sharps:!0})}var Hf=Ys,pX=Ys,mx=e=>t=>Hf(t,e),gX=mx,bx=e=>t=>Hf(e,t),vX=bx;function yx(e,t){return Hf(e,[t,0])}var mX=yx;function bX(e,t){return Hf(e,[0,t])}var l3=(e,t)=>e.height-t.height,yX=(e,t)=>t.height-e.height;function wx(e,t){return t=t||l3,gx(e).sort(t).map(px)}function _x(e){return wx(e,l3).filter((t,n,r)=>n===0||t!==r[n-1])}var wX=e=>{const t=$a(e);return t.empty?"":el(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:t.midi===null})};function xx(e,t){const n=$a(e);if(n.empty)return"";const r=$a(t||el(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(n.oct===void 0)return r.pc;const i=n.chroma-n.alt,a=r.chroma-r.alt,s=i>11||a<0?-1:i<0||a>11?1:0,o=n.oct+s;return r.pc+o}var hm={names:rX,get:$a,name:iX,pitchClass:aX,accidentals:sX,octave:oX,midi:lX,ascending:l3,descending:yX,sortedNames:wx,sortedUniqNames:_x,fromMidi:vx,fromMidiSharps:hX,freq:cX,fromFreq:fX,fromFreqSharps:dX,chroma:uX,transpose:Hf,tr:pX,transposeBy:mx,trBy:gX,transposeFrom:bx,trFrom:vX,transposeFifths:yx,transposeOctaves:bX,trFifths:mX,simplify:wX,enharmonic:xx},c3=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],o4={...q0,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},_X=c3.map(xX),pm={};_X.forEach(e=>{pm[e.name]=e,e.aliases.forEach(t=>{pm[t]=e})});function Mx(e){return typeof e=="string"?pm[e.toLowerCase()]||o4:e&&e.name?Mx(e.name):o4}function xX(e){const[t,n,r,i,a,s,o]=e,u=o?[o]:[],c=Number(n).toString(2);return{empty:!1,intervals:fx(i).intervals,modeNum:t,chroma:c,normalized:c,name:i,setNum:n,alt:r,triad:a,seventh:s,aliases:u}}function Cx(e){return(t,n)=>{const r=Mx(t);if(r.empty)return[];const i=Df(r.modeNum,e),a=r.intervals.map(s=>Ys(n,s));return i.map((s,o)=>a[o]+s)}}Cx(c3.map(e=>e[4]));Cx(c3.map(e=>e[5]));var MX={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Tx(e){if(typeof e!="string")return["",""];const t=e.indexOf(" "),n=An(e.substring(0,t));if(n.empty){const i=An(e);return i.empty?["",e]:[i.name,""]}const r=e.substring(n.name.length+1);return[n.name,r.length?r:""]}var CX=LY;function ls(e){const t=Array.isArray(e)?e:Tx(e),n=An(t[0]).name,r=fx(t[1]);if(r.empty)return MX;const i=r.name,a=n?r.intervals.map(o=>Ys(n,o)):[],s=n?n+" "+i:i;return{...r,name:s,type:i,tonic:n,notes:a}}var TX=X_("Scale.scale","Scale.get",ls);function EX(e,t={}){const n=cY(e),r=An(t.tonic??e[0]??""),i=r.chroma;if(i===void 0)return[];const a=n.split("");a[i]="1";const s=Df(i,a).join(""),o=lp().find(c=>c.chroma===s),u=[];return o&&u.push(r.name+" "+o.name),t.match==="exact"||Ex(s).forEach(c=>{u.push(r.name+" "+c)}),u}function SX(e){const t=ls(e),n=e3(t.chroma);return ap().filter(r=>n(r.chroma)).map(r=>r.aliases[0])}function Ex(e){const t=Z2(e)?e:ls(e).chroma,n=t3(t);return lp().filter(r=>n(r.chroma)).map(r=>r.name)}function PX(e){const t=e3(ls(e).chroma);return lp().filter(n=>t(n.chroma)).map(n=>n.name)}function Sx(e){const t=e.map(i=>An(i).pc).filter(i=>i),n=t[0],r=_x(t);return Df(r.indexOf(n),r)}function AX(e){const t=ls(e);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return ux(t.chroma).map((r,i)=>{const a=ls(r).name;return a?[n[i],a]:["",""]}).filter(r=>r[0])}function kX(e){const t=Array.isArray(e)?Sx(e):ls(e).notes,n=t.map(r=>An(r).chroma);return r=>{const i=An(typeof r=="number"?vx(r):r),a=i.height;if(a===void 0)return;const s=a%12,o=n.indexOf(s);if(o!==-1)return xx(i.name,t[o])}}function OX(e){const t=kX(e);return(n,r)=>{const i=An(n).height,a=An(r).height;return i===void 0||a===void 0?[]:iY(i,a).map(t).filter(s=>s)}}function NX(e){const{intervals:t,tonic:n}=ls(e),r=ip(t,n);return i=>i?r(i>0?i-1:i):""}function IX(e){const{intervals:t,tonic:n}=ls(e);return ip(t,n)}var LX={degrees:NX,detect:EX,extended:Ex,get:ls,modeNames:AX,names:CX,rangeOf:OX,reduced:PX,scaleChords:SX,scaleNotes:Sx,steps:IX,tokenize:Tx,scale:TX};let h1=[],gm=[],ph,as;function BX(e){ph=h1.find(t=>t.name===e),ph&&(h1.forEach(t=>t.onmidimessage=null),ph.onmidimessage=FX,console.log("listening on ",ph.name))}function $X(e){as=gm.find(t=>t.name===e),console.log("midiOutput",as)}function RX(e){return{command:e.data[0]>>4,channel:e.data[0]&15,note:e.data[1],velocity:e.data[2]}}function l4(e,t){t>0&&this.$bus.$emit("trigger-in",{noteValue:e,velocity:t})}function FX(e){const{command:t,channel:n,note:r,velocity:i}=RX(e);t===8?n===0&&l4(r,-i):t===9&&n===0&&l4(r,i)}function DX(){return window.navigator.requestMIDIAccess().then(e=>(e.inputs.forEach(t=>h1.push(t)),e.outputs.forEach(t=>gm.push(t)),{inputs:h1.map(t=>t.name),outputs:gm.map(t=>t.name)}))}function HX(e,t,n){const r=144+e-1;if(!as)throw"error playing sequence: no MIDI output configured";console.log("status",r),console.log("velocity",n),console.log("channel",e),console.log("note",t),as&&as.send([r,t,n])}function zX(e,t,n){const r=128+e-1;as&&as.send([r,t,n])}function VX(e,t,n){if(typeof e!="number"){console.error("channel not specified");return}if(typeof t!="number"){console.error("controllerNumber not specified");return}if(typeof n!="number"){console.error("controllerValue not specified");return}if(!as){console.error("midi output not specified");return}console.log("controllerNumber",t),as&&as.send([176+e-1,t,n])}const p1={getPortNames:DX,setInput:BX,setOutput:$X,noteOn:HX,noteOff:zX,sendControlChange:VX};var UX={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]};function WX(e,t,n){return e*(1-n)+t*n}var jX=WX,c4=UX,gh=jX,qX=KX;function KX(e){var t,n,r,i,a,s,o,u,p,c,f;if(e||(e={}),u=(e.nshades||72)-1,o=e.format||"hex",s=e.colormap,s||(s="jet"),typeof s=="string"){if(s=s.toLowerCase(),!c4[s])throw Error(s+" not a supported colorscale");a=c4[s]}else if(Array.isArray(s))a=s.slice();else throw Error("unsupported colormap option",s);if(a.length>u+1)throw new Error(s+" map requires nshades to be at least size "+a.length);Array.isArray(e.alpha)?e.alpha.length!==2?c=[1,1]:c=e.alpha.slice():typeof e.alpha=="number"?c=[e.alpha,e.alpha]:c=[1,1],t=a.map(function(b){return Math.round(b.index*u)}),c[0]=Math.min(Math.max(c[0],0),1),c[1]=Math.min(Math.max(c[1],0),1);var h=a.map(function(b,y){var x=a[y].index,_=a[y].rgb.slice();return _.length===4&&_[3]>=0&&_[3]<=1||(_[3]=c[0]+(c[1]-c[0])*x),_}),p=[];for(f=0;f<t.length-1;++f){i=t[f+1]-t[f],n=h[f],r=h[f+1];for(var v=0;v<i;v++){var g=v/i;p.push([Math.round(gh(n[0],r[0],g)),Math.round(gh(n[1],r[1],g)),Math.round(gh(n[2],r[2],g)),gh(n[3],r[3],g)])}}return p.push(a[a.length-1].rgb.concat(c[1])),o==="hex"?p=p.map(YX):o==="rgbaString"?p=p.map(XX):o==="float"&&(p=p.map(GX)),p}function GX(e){return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function YX(e){for(var t,n="#",r=0;r<3;++r)t=e[r],t=t.toString(16),n+=("00"+t).substr(t.length);return n}function XX(e){return"rgba("+e.join(",")+")"}const JX=yc(qX);var QX=function(t,n){if(n===void 0&&(n=440),typeof t!="number")throw new TypeError("'mtof' expects its first argument to be a number.");if(typeof n!="number")throw new TypeError("'mtof' expects its second argument to be a number.");return Math.pow(2,(t-69)/12)*n};const ZX=yc(QX);class eJ{constructor(t){xl(this,"numberOfVoices");xl(this,"voices");xl(this,"hasStarted");xl(this,"audioCtx");xl(this,"reverbNode");this.numberOfVoices=t}async construct(){const t=new AudioContext,n=t.destination,r="sine";console.log("destination",n),this.audioCtx=t,this.hasStarted=!1,this.reverbNode=this.audioCtx.createConvolver(),this.reverbNode.connect(t.destination),await this.configureReverb(),this.voices=rn.times(this.numberOfVoices).map(()=>({ctx:t,oscillatorNode:t.createOscillator(),gainNode:t.createGain(),panNode:t.createStereoPanner()})),this.voices.forEach((i,a)=>{i.gainNode.gain.setValueAtTime(0,0),i.oscillatorNode.connect(i.gainNode),i.gainNode.connect(i.panNode),i.panNode.connect(t.destination);try{i.panNode.connect(this.reverbNode)}catch(s){throw console.log("voice index",a),console.log("this.audioCtx",this.audioCtx),console.log("error",s),Error(s)}i.oscillatorNode.type=r,i.panNode.pan.setValueAtTime(-1+a*(2/(this.numberOfVoices-1)),0)})}async configureReverb(){let n=await(await fetch("/weaving/Swede Plate 3.0s.wav")).arrayBuffer();this.reverbNode.buffer=await this.audioCtx.decodeAudioData(n)}playNote(t,n,r){var c,f;const i=this.voices[t];console.log("note",n);let a=ZX(n);const s=r*.5,o=r-s,u=this.audioCtx.currentTime;(f=(c=i==null?void 0:i.oscillatorNode)==null?void 0:c.frequency)==null||f.setValueAtTime(a,u),i.gainNode.gain.linearRampToValueAtTime(.3,u+s/1e3),i.gainNode.gain.linearRampToValueAtTime(0,u+s/1e3+o/1e3)}async start(){this.hasStarted||(console.log("hitting start"),await this.construct(),this.audioCtx.resume(),this.voices.forEach(t=>{t.oscillatorNode.start()}),this.hasStarted=!0)}}var u4="C C# Db D D# Eb E F F# Gb G G# Ab A A# Bb B".split(" "),Px=function(e){return typeof e!="string"?u4.slice():u4.filter(function(t){var n=t[1]||" ";return e.indexOf(n)!==-1})};Px(" #");Px(" b");var tJ=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Ax(e){typeof e!="string"&&(e="");var t=tJ.exec(e);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}var nJ=Object.freeze({pc:null,name:null,step:null,alt:null,oct:null,octStr:null,chroma:null,midi:null,freq:null}),f4=[0,2,4,5,7,9,11],rJ=function(e){var t=Ax(e);if(t[0]===""||t[3]!=="")return nJ;var n=t[0],r=t[1],i=t[2],a={letter:n,acc:r,octStr:i,pc:n+r,name:n+r+i,step:(n.charCodeAt(0)+3)%7,alt:r[0]==="b"?-r.length:r.length,oct:i.length?+i:null,chroma:0,midi:null,freq:null};return a.chroma=(f4[a.step]+a.alt+120)%12,a.midi=a.oct!==null?f4[a.step]+a.alt+12*(a.oct+1):null,a.freq=aJ(a.midi),Object.freeze(a)},iJ=function(e,t){return t===void 0&&(t={}),function(n){return t[n]||(t[n]=e(n))}},u3=iJ(rJ),aJ=function(e,t){return t===void 0&&(t=440),typeof e=="number"?Math.pow(2,(e-69)/12)*t:null},sJ=function(e){return u3(e).chroma},oJ="CDEFGAB",lJ=function(e){return oJ[e]},d4=function(e,t){return Array(t+1).join(e)},cJ=function(e,t){return typeof e!="number"?"":t(e)},uJ=function(e){return cJ(e,function(t){return t<0?d4("b",-t):d4("#",t)})},fJ=function(e,t){e===void 0&&(e={}),t===void 0&&(t=null);var n=t?Object.assign({},u3(t),e):e,r=n.step,i=n.alt,a=n.oct;if(typeof r!="number")return null;var s=lJ(r);if(!s)return null;var o=s+uJ(i);return a||a===0?o+a:o},dJ=fJ,hJ="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",pJ="(AA|A|P|M|m|d|dd)([-+]?\\d+)",gJ=new RegExp("^"+hJ+"|"+pJ+"$"),h4=[0,2,4,5,7,9,11],vJ="PMMPPMM",mJ=function(e){var t=gJ.exec(""+e);return t===null?null:t[1]?[t[1],t[2]]:[t[4],t[3]]},vm=Object.freeze({name:null,num:null,q:null,step:null,alt:null,dir:null,type:null,simple:null,semitones:null,chroma:null,oct:null}),bJ=function(e,t){return t==="M"&&e==="M"||t==="P"&&e==="P"?0:t==="m"&&e==="M"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?e==="P"?-t.length:-t.length-1:null},yJ=function(e){return(Math.abs(e)-1)%7},wJ=function(e){var t=mJ(e);if(t===null)return vm;var n={num:0,q:"d",name:"",type:"M",step:0,dir:-1,simple:1,alt:0,oct:0,semitones:0,chroma:0,ic:0};return n.num=+t[0],n.q=t[1],n.step=yJ(n.num),n.type=vJ[n.step],n.type==="M"&&n.q==="P"?vm:(n.name=""+n.num+n.q,n.dir=n.num<0?-1:1,n.simple=n.num===8||n.num===-8?n.num:n.dir*(n.step+1),n.alt=bJ(n.type,n.q),n.oct=Math.floor((Math.abs(n.num)-1)/7),n.semitones=n.dir*(h4[n.step]+n.alt+12*n.oct),n.chroma=(n.dir*(h4[n.step]+n.alt)%12+12)%12,Object.freeze(n))},p4={};function kx(e){return typeof e!="string"?vm:p4[e]||(p4[e]=wJ(e))}var _J=function(e){return kx(e).chroma},Ox=[0,2,4,-1,1,3,5],xJ=function(e){return Math.floor(e*7/12)},Nx=Ox.map(xJ),MJ=function(e){var t=e.step,n=e.alt,r=e.oct,i=e.dir;i===void 0&&(i=1);var a=Ox[t]+7*n;if(r===null)return[i*a];var s=r-Nx[t]-4*n;return[i*a,i*s]},CJ=[3,0,4,1,5,2,6];function TJ(e){var t=(e+1)%7;return t<0?7+t:t}var EJ=function(e,t,n){var r=CJ[TJ(e)],i=Math.floor((e+1)/7);if(t===void 0)return{step:r,alt:i,dir:n};var a=t+4*i+Nx[r];return{step:r,alt:i,oct:a,dir:n}},SJ=function(e,t){return t===void 0&&(t={}),function(n){return t[n]||(t[n]=e(n))}},Ix=function(e){return SJ(function(t){var n=e(t);return n.name===null?null:MJ(n)})},PJ=Ix(u3),AJ=Ix(kx);function mm(e,t){if(arguments.length===1)return function(a){return mm(e,a)};var n=PJ(e),r=AJ(t);if(n===null||r===null)return null;var i=n.length===1?[n[0]+r[0]]:[n[0]+r[0],n[1]+r[1]];return dJ(EJ(i[0],i[1]))}const kJ=["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M"],OJ=["1P 2M 3M 4A 5P 6M 7M"],NJ=["1P 2M 3M 4P 5P 6M 7M",["ionian"]],IJ=["1P 2M 3M 4P 5P 6M 7m",["dominant"]],LJ=["1P 2M 3m 4P 5P 6M 7m"],BJ=["1P 2M 3m 4P 5P 6m 7m",["minor"]],$J=["1P 2m 3m 4P 5P 6m 7m"],RJ=["1P 2m 3m 4P 5d 6m 7m"],FJ=["1P 2m 3m 3M 5d 6m 7m",["super locrian","diminished whole tone","pomeroy"]],DJ=["1P 2M 3m 4P 5d 6m 6M 7M",["whole-half diminished"]],HJ=["1P 2m 4P 5d 7m"],zJ=["1P 2M 3m 5P 6m"],VJ=["1P 2m 4P 5P 6m"],UJ=["1P 2m 3m 5P 6m"],WJ=["1P 2M 3M 4A 6M 7m"],jJ=["1P 2M 4P 5P 6M"],qJ=["1P 2m 3M 5P 6M"],KJ=["1P 2M 4P 5P 6M 7m"],GJ=["1P 2A 3M 5P 5A 7M"],YJ=["1P 2m 3m 4P 5P 6m 7M"],XJ=["1P 2M 4P 5P 7m"],JJ=["1P 2m 3M 4P 5d 6M 7m"],QJ=["1P 2m 3m 3M 4A 5P 7m"],ZJ=["1P 2m 3m 4P 5P 6m 7M"],eQ=["1P 2m 3M 4P 5d 6m 7M"],tQ=["1P 2M 3M 4P 5P 6M 7m 7M"],nQ=["1P 2m 3M 5d 6m 7m 7M"],rQ=["1P 2M 3M 4P 5d 5P 6M 7M"],iQ={chromatic:kJ,lydian:OJ,major:NJ,mixolydian:IJ,dorian:LJ,aeolian:BJ,phrygian:$J,locrian:RJ,"melodic minor":["1P 2M 3m 4P 5P 6M 7M"],"melodic minor second mode":["1P 2m 3m 4P 5P 6M 7m"],"lydian augmented":["1P 2M 3M 4A 5A 6M 7M"],"lydian dominant":["1P 2M 3M 4A 5P 6M 7m",["lydian b7"]],"melodic minor fifth mode":["1P 2M 3M 4P 5P 6m 7m",["hindu","mixolydian b6M"]],"locrian #2":["1P 2M 3m 4P 5d 6m 7m",["half-diminished"]],altered:FJ,"harmonic minor":["1P 2M 3m 4P 5P 6m 7M"],"phrygian dominant":["1P 2m 3M 4P 5P 6m 7m",["spanish","phrygian major"]],"half-whole diminished":["1P 2m 3m 3M 4A 5P 6M 7m",["dominant diminished"]],diminished:DJ,"major pentatonic":["1P 2M 3M 5P 6M",["pentatonic"]],"lydian pentatonic":["1P 3M 4A 5P 7M",["chinese"]],"mixolydian pentatonic":["1P 3M 4P 5P 7m",["indian"]],"locrian pentatonic":["1P 3m 4P 5d 7m",["minor seven flat five pentatonic"]],"minor pentatonic":["1P 3m 4P 5P 7m"],"minor six pentatonic":["1P 3m 4P 5P 6M"],"minor hexatonic":["1P 2M 3m 4P 5P 7M"],"flat three pentatonic":["1P 2M 3m 5P 6M",["kumoi"]],"flat six pentatonic":["1P 2M 3M 5P 6m"],"major flat two pentatonic":["1P 2m 3M 5P 6M"],"whole tone pentatonic":["1P 3M 5d 6m 7m"],"ionian pentatonic":["1P 3M 4P 5P 7M"],"lydian #5P pentatonic":["1P 3M 4A 5A 7M"],"lydian dominant pentatonic":["1P 3M 4A 5P 7m"],"minor #7M pentatonic":["1P 3m 4P 5P 7M"],"super locrian pentatonic":["1P 3m 4d 5d 7m"],"in-sen":["1P 2m 4P 5P 7m"],iwato:HJ,hirajoshi:zJ,kumoijoshi:VJ,pelog:UJ,"vietnamese 1":["1P 3m 4P 5P 6m"],"vietnamese 2":["1P 3m 4P 5P 7m"],prometheus:WJ,"prometheus neopolitan":["1P 2m 3M 4A 6M 7m"],ritusen:jJ,scriabin:qJ,piongio:KJ,"major blues":["1P 2M 3m 3M 5P 6M"],"minor blues":["1P 3m 4P 5d 5P 7m",["blues"]],"composite blues":["1P 2M 3m 3M 4P 5d 5P 6M 7m"],augmented:GJ,"augmented heptatonic":["1P 2A 3M 4P 5P 5A 7M"],"dorian #4":["1P 2M 3m 4A 5P 6M 7m"],"lydian diminished":["1P 2M 3m 4A 5P 6M 7M"],"whole tone":["1P 2M 3M 4A 5A 7m"],"leading whole tone":["1P 2M 3M 4A 5A 7m 7M"],"lydian minor":["1P 2M 3M 4A 5P 6m 7m"],"locrian major":["1P 2M 3M 4P 5d 6m 7m",["arabian"]],neopolitan:YJ,"neopolitan minor":["1P 2m 3m 4P 5P 6m 7M"],"neopolitan major":["1P 2m 3m 4P 5P 6M 7M",["dorian b2"]],"neopolitan major pentatonic":["1P 3M 4P 5d 7m"],"romanian minor":["1P 2M 3m 5d 5P 6M 7m"],"double harmonic lydian":["1P 2m 3M 4A 5P 6m 7M"],"harmonic major":["1P 2M 3M 4P 5P 6m 7M"],"double harmonic major":["1P 2m 3M 4P 5P 6m 7M",["gypsy"]],egyptian:XJ,"hungarian minor":["1P 2M 3m 4A 5P 6m 7M"],"hungarian major":["1P 2A 3M 4A 5P 6M 7m"],oriental:JJ,"spanish heptatonic":["1P 2m 3m 3M 4P 5P 6m 7m"],flamenco:QJ,balinese:ZJ,"todi raga":["1P 2m 3m 4A 5P 6m 7M"],"malkos raga":["1P 3m 4P 6m 7m"],"kafi raga":["1P 3m 3M 4P 5P 6M 7m 7M"],"purvi raga":["1P 2m 3M 4P 4A 5P 6m 7M"],persian:eQ,bebop:tQ,"bebop dominant":["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop minor":["1P 2M 3m 3M 4P 5P 6M 7m"],"bebop major":["1P 2M 3M 4P 5P 5A 6M 7M"],"bebop locrian":["1P 2m 3m 4P 5d 5P 6m 7m"],"minor bebop":["1P 2M 3m 4P 5P 6m 7m 7M"],"mystery #1":["1P 2m 3M 5d 6m 7m"],enigmatic:nQ,"minor six diminished":["1P 2M 3m 4P 5P 6m 6M 7M"],"ionian augmented":["1P 2M 3M 4P 5A 6M 7M"],"lydian #9":["1P 2m 3M 4A 5P 6M 7M"],ichikosucho:rQ,"six tone symmetric":["1P 2m 3M 4P 5A 6M"]},aQ=["1P 3M 5P",["Major",""]],sQ=["1P 3M 5P 7M 9M 13M",["maj13","Maj13"]],oQ=["1P 3M 5P 13M",["6"]],lQ=["1P 3M 5P 6M 9M",["69"]],cQ=["1P 3M 5P 6M 7M 9M"],uQ=["1P 3M 5d 7M"],fQ=["1P 3M 6m 7M"],dQ=["1P 3M 5P 7M 9m"],hQ=["1P 4P 5P 7M"],pQ=["1P 3M 5P 7M 9M",["maj9","Maj9"]],gQ=["1P 3M 5d 7M 9M"],vQ=["1P 4P 5P 7M 9M"],mQ=["1P 3M 5P 9M",["2","add9","add2"]],bQ=["1P 3M 5P 7M",["maj7","M7"]],yQ=["1P 3M 5d"],wQ=["1P 3M 13m"],_Q=["1P 2M 5P",["add9no3","sus2"]],xQ=["1P 4P 5P",["sus","sus4"]],MQ=["1P 3M 5P 9m"],CQ=["1P 3m 5P"],TQ=["1P 3m 5P 7m 9M 11P",["_11"]],EQ=["1P 3m 7m 12d 2M 4P",["h11","_11b5"]],SQ=["1P 3m 5P 7m 9M 11P 13M",["_13"]],PQ=["1P 3m 4P 5P 13M",["_6"]],AQ=["1P 3m 5P 6M 9M",["_69"]],kQ=["1P 3m 5P 7m",["minor7","_","_7"]],OQ=["1P 3m 5P 7m 11P",["m7add4"]],NQ=["1P 3m 5d 7m",["half-diminished","h7","_7b5"]],IQ=["1P 3m 5P 7m 9M",["_9"]],LQ=["1P 3m 7m 12d 2M",["h9","-9b5"]],BQ=["1P 3m 5P 7M",["mM7","_M7"]],$Q=["1P 3m 5P 6m 7M",["mM7b6"]],RQ=["1P 3m 5P 7M 9M",["mMaj9","-M9"]],FQ=["1P 3m 5P 6m 7M 9M",["mMaj9b6"]],DQ=["1P 3m 6m 7M"],HQ=["1P 3m 6m 9m"],zQ=["1P 3m 5d",["mb5","dim"]],VQ=["1P 3m 5d 13M",["diminished","m6b5","dim7"]],UQ=["1P 3m 5d 6M 7M"],WQ=["1P 3m 5d 7M"],jQ=["1P 2M 4P 5P",["sus4add9"]],qQ=["1P 3m 4P 5P"],KQ=["1P 3m 5P 9M"],GQ={4:["1P 4P 7m 10m",["quartal"]],5:["1P 5P"],7:["1P 3M 5P 7m",["Dominant","Dom"]],9:["1P 3M 5P 7m 9M",["79"]],11:["1P 5P 7m 9M 11P"],13:["1P 3M 5P 7m 9M 13M",["13_"]],64:["5P 8P 10M"],M:aQ,"M#5":["1P 3M 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1P 3M 5A 9M",["+add9"]],M13:sQ,"M13#11":["1P 3M 5P 7M 9M 11A 13M",["maj13#11","Maj13#11","M13+4","M13#4"]],M6:oQ,"M6#11":["1P 3M 5P 6M 11A",["M6b5","6#11","6b5"]],M69:lQ,"M69#11":["1P 3M 5P 6M 9M 11A"],"M7#11":["1P 3M 5P 7M 11A",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1P 3M 5A 7M",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1P 4P 5A 7M"],"M7#9#11":["1P 3M 5P 7M 9A 11A"],M7add13:cQ,M7b5:uQ,M7b6:fQ,M7b9:dQ,M7sus4:hQ,M9:pQ,"M9#11":["1P 3M 5P 7M 9M 11A",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1P 3M 5A 7M 9M",["Maj9#5"]],"M9#5sus4":["1P 4P 5A 7M 9M"],M9b5:gQ,M9sus4:vQ,Madd9:mQ,Maj7:bQ,Mb5:yQ,Mb6:wQ,Msus2:_Q,Msus4:xQ,Maddb9:MQ,"11b9":["1P 5P 7m 9m 11P"],"13#11":["1P 3M 5P 7m 9M 11A 13M",["13+4","13#4"]],"13#9":["1P 3M 5P 7m 9A 13M",["13#9_"]],"13#9#11":["1P 3M 5P 7m 9A 11A 13M"],"13b5":["1P 3M 5d 6M 7m 9M"],"13b9":["1P 3M 5P 7m 9m 13M"],"13b9#11":["1P 3M 5P 7m 9m 11A 13M"],"13no5":["1P 3M 7m 9M 13M"],"13sus4":["1P 4P 5P 7m 9M 13M",["13sus"]],"69#11":["1P 3M 5P 6M 9M 11A"],"7#11":["1P 3M 5P 7m 11A",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1P 3M 5P 7m 11A 13m",["7b5b13"]],"7#5":["1P 3M 5A 7m",["+7","7aug","aug7"]],"7#5#9":["1P 3M 5A 7m 9A",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1P 3M 5A 7m 9m"],"7#5b9#11":["1P 3M 5A 7m 9m 11A"],"7#5sus4":["1P 4P 5A 7m"],"7#9":["1P 3M 5P 7m 9A",["7#9_"]],"7#9#11":["1P 3M 5P 7m 9A 11A",["7b5#9"]],"7#9#11b13":["1P 3M 5P 7m 9A 11A 13m"],"7#9b13":["1P 3M 5P 7m 9A 13m"],"7add6":["1P 3M 5P 7m 13M",["67","7add13"]],"7b13":["1P 3M 7m 13m"],"7b5":["1P 3M 5d 7m"],"7b6":["1P 3M 5P 6m 7m"],"7b9":["1P 3M 5P 7m 9m"],"7b9#11":["1P 3M 5P 7m 9m 11A",["7b5b9"]],"7b9#9":["1P 3M 5P 7m 9m 9A"],"7b9b13":["1P 3M 5P 7m 9m 13m"],"7b9b13#11":["1P 3M 5P 7m 9m 11A 13m",["7b9#11b13","7b5b9b13"]],"7no5":["1P 3M 7m"],"7sus4":["1P 4P 5P 7m",["7sus"]],"7sus4b9":["1P 4P 5P 7m 9m",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1P 4P 5P 7m 9m 13m",["7b9b13sus4"]],"9#11":["1P 3M 5P 7m 9M 11A",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1P 3M 5P 7m 9M 11A 13m",["9b5b13"]],"9#5":["1P 3M 5A 7m 9M",["9+"]],"9#5#11":["1P 3M 5A 7m 9M 11A"],"9b13":["1P 3M 7m 9M 13m"],"9b5":["1P 3M 5d 7m 9M"],"9no5":["1P 3M 7m 9M"],"9sus4":["1P 4P 5P 7m 9M",["9sus"]],m:CQ,"m#5":["1P 3m 5A",["m+","mb6"]],m11:TQ,"m11A 5":["1P 3m 6m 7m 9M 11P"],m11b5:EQ,m13:SQ,m6:PQ,m69:AQ,m7:kQ,"m7#5":["1P 3m 6m 7m"],m7add11:OQ,m7b5:NQ,m9:IQ,"m9#5":["1P 3m 6m 7m 9M"],m9b5:LQ,mMaj7:BQ,mMaj7b6:$Q,mM9:RQ,mM9b6:FQ,mb6M7:DQ,mb6b9:HQ,o:zQ,o7:VQ,o7M7:UQ,oM7:WQ,sus24:jQ,"+add#9":["1P 3M 5A 9A"],madd4:qQ,madd9:KQ};var YQ=function(e){return sJ(e)||_J(e)||0};function Lx(e){if(JQ(e))return e;if(!Array.isArray(e))return"";var t=[0,0,0,0,0,0,0,0,0,0,0,0];return e.map(YQ).forEach(function(n){t[n]=1}),t.join("")}var XQ=/^[01]{12}$/;function JQ(e){return XQ.test(e)}var Bx=function(e){var t=Object.keys(e).sort(),n=[],r=[],i=function(o,u,c){n[o]=u,r[c]=r[c]||[],r[c].push(o)};t.forEach(function(o){var u=e[o][0].split(" "),c=e[o][1],f=Lx(u);i(o,u,f),c&&c.forEach(function(h){return i(h,u,f)})});var a=Object.keys(n).sort(),s=function(o){return n[o]};return s.names=function(o){return typeof o=="string"?(r[o]||[]).slice():(o===!0?a:t).slice()},s};Bx(iQ);var bm=Bx(GQ),QQ=bm.names,ZQ=Object.freeze({name:null,names:[],intervals:[],chroma:null,setnum:null}),eZ=function(e){var t=bm(e);if(!t)return ZQ;var n={intervals:t,name:e};return n.chroma=Lx(t),n.setnum=parseInt(n.chroma,2),n.names=bm.names(n.chroma),n},tZ=function(e,t){return t===void 0&&(t={}),function(n){return t[n]||(t[n]=e(n))}},g4=tZ(eZ);function nZ(e,t){if(t)return g4(t).intervals.map(mm(e));var n=iZ(e),r=n[0],i=n[1];return g4(i).intervals.map(mm(r))}var rZ=/^(6|64|7|9|11|13)$/;function iZ(e){var t=Ax(e);return t[0]===""?["",e]:t[0]==="A"&&t[3]==="ug"?["","aug"]:rZ.test(t[2])?[t[0]+t[1],t[2]+t[3]]:[t[0]+t[1]+t[2],t[3]]}const aZ=["Ab","A","Bb","B","C","C#","Db","D","Eb","E","F","F#","G","G#"];function sZ(e,t,n,r){let i=nZ(`${t}${e}`);if(!i.length)throw new Error("no notes defined for selected chord");let a=[];return r=Math.max(r,0),r===0?[hm.midi(`${i[0]}${n}`)]:(rn.times(r,s=>{const o=i.map(u=>hm.midi(`${u}${n+s}`));a.push(o)}),a=rn.flattenDeep(a),a)}function oZ(e,t){const n=e[0],r=rn.max(e)-rn.min(e),i=n+t*r;return e.reduce((s,o)=>Math.abs(o-i)<Math.abs(s-i)?o:s,n)}const $x={names:LX.names(),tonics:aZ,noteSet:sZ,determineNote:oZ},Qa=y2("weave-settings",{state:()=>({patternOptions:["weave","euclidean"],patternType:"weave",swatchWidth:16,swatchDepth:8,weaveX:1,weaveY:4,euclideanCount:4}),getters:{},actions:{}}),Sa=y2("music-settings",{state:()=>({rootNote:"C",noteScale:"Maj7",chordSizeFilter:4,rangeMin:1,rangeMax:3,sequenceType:"random",sequenceTypeOptions:["random","sine"],sineHarmonics:1,stackTypeOptions:["octave","canon"],stackType:"octave"}),getters:{chordOptions:e=>QQ(),tonicOptions:()=>hm.names(),noteOptions:e=>{const t=e.rootNote,n=Math.max(e.rangeMax-e.rangeMin,0),r=-1;return $x.noteSet(e.noteScale,t,e.rangeMin+r,n)||[]},upperRegisterMax:e=>{const{swatchDepth:t}=Qa();if(e.stackType==="canon")return 10;if(e.stackType==="octave")return 10-t+1},waveformFn:e=>t=>{let n=0;return rn.range(-8,9).forEach(r=>{let i=1/(1+Math.abs(r-e.sineHarmonics));n+=Math.pow(i,2)*Math.sin(r*t)}),n}},actions:{handleRandomize(){const e=zf();e.generateRandomSequence(!0),e.calculateRandomNotes()}}}),lZ={1:{bpm:120,noteHoldCount:4,sequenceType:"random",noteScale:"Maj7",stackType:"canon",rangeMin:4,rangeMax:6,patternType:"weave",swatchDepth:8,swatchWidth:16,weaveX:2,weaveY:4},2:{bpm:630,noteHoldCount:1,sequenceType:"sine",sineHarmonics:4.9,noteScale:"madd4",stackType:"octave",rangeMin:2,rangeMax:3,patternType:"euclidean",swatchDepth:8,swatchWidth:32,euclideanCount:17},3:{bpm:550,noteHoldCount:4,sequenceType:"sine",sineHarmonics:3.3,noteScale:"madd4",stackType:"canon",rangeMin:8,rangeMax:9,patternType:"weave",swatchDepth:4,swatchWidth:16,weaveX:4,weaveY:4}},zf=y2("main",{state:()=>({useWebAudio:!0,midiInputPort:null,midiOutputPort:null,midiInputPorts:[],midiOutputPorts:[],isOn:!1,bpm:400,noteHoldCount:1,count:0,showConfigurationEdit:!0,webAudioSynth:null,warpNotes:[],notes:[],swatchWeave:[],gridItemsKey:Date.now(),errorMsg:"",randomSequence:[]}),getters:{bpmInterval:e=>60*(1e3/parseInt(e.bpm,10)),noteLength:e=>Math.max(10,e.noteHoldCount*e.bpmInterval*.95),gridItems:e=>{const{swatchWeave:t}=e;return rn.reduce(t,(n,r)=>rn.concat(n,r),[])},noteMin:e=>e.swatchNotes.reduce((t,n)=>rn.min([t,rn.min(n)]),1/0)||0,noteMax:e=>e.swatchNotes.reduce((t,n)=>rn.max([t,rn.max(n)]),-1/0)||0,noteColors:e=>{const t=Math.max(2,e.noteMax-e.noteMin+1);return JX({colormap:"bluered",nshades:t,format:"hex",alpha:1})},swatchNotes:e=>{const{swatchDepth:t}=Qa(),{stackType:n,rangeMin:r,rangeMax:i}=Sa();function a(o){const u=o.pop();return o.unshift(u),o}function s(o){return o.map(u=>u+12)}return rn.times(t).map(o=>{let u=rn.clone(e.notes);if(n==="canon")for(let c=0;c<o;c++)u=a(u);else if(n==="octave")for(let c=0;c<o;c++)u=s(u);return u})},swatchNoteColors:e=>{const{rangeMin:t}=Sa();return e.swatchNotes.map(r=>r.map(i=>{const a=i-t*12;return e.noteColors[a]}))},warpNoteColors:e=>{const t=Sa();return e.notes.map(n=>{const r=n-12-t.rangeMin*12;return e.noteColors[r]})},numberOfVoices:()=>Qa().swatchDepth,notesAsNames:e=>e.notes.map(t=>tX.midiToNoteName(t))},actions:{generateRandomSequence(e=!1){const{swatchWidth:t}=Qa();if(e)this.randomSequence=rn.times(t,Math.random);else for(;this.randomSequence.length!==t;)this.randomSequence.length>t?this.randomSequence.pop():this.randomSequence.push(Math.random())},applyPreset(e){const t=lZ[e],n=Sa(),r=Qa();this.isOn=!1,rn.forEach(t,(i,a)=>{this[a]?this[a]=i:n[a]?n[a]=i:r[a]&&(r[a]=i)}),this.generateRandomSequence(!0),this.initNotes(),this.isOn=!0},getMidiOutputs(){p1.getPortNames().then(({inputs:e,outputs:t})=>{this.midiInputPorts=e,this.midiOutputPorts=t;const[n]=t;console.log("outputs",t),n&&(this.midiOutputPort=n)})},updateGridItemsKey(){this.gridItemsKey=Date.now()},calculateRandomNotes(){const{noteOptions:e}=Sa(),{swatchWidth:t}=Qa();this.notes=[],rn.times(t,n=>{const r=this.randomSequence[n],i=rn.max(e),a=rn.min(e),s=i-a,o=e.reduce((u,c)=>{const f=(c-a)/s;return Math.abs(f-r)<Math.abs(u-r)?f:u},0)*s+a;this.notes.push(o)})},initNotes(){const{sequenceType:e,noteOptions:t,waveformFn:n}=Sa(),{swatchWidth:r}=Qa();if(e==="random")this.calculateRandomNotes();else if(e==="sine"){const i=rn.range(0,2*Math.PI,.1),a=rn.times(i.length).map(u=>n(u)),o=1/Math.max(...a);this.notes=rn.times(r,u=>{const c=2*Math.PI*u/r,f=n(c)*o,h=rn.min(t),v=rn.max(t)-h,g=(f+1)/2,b=h+g*v;return rn.reduce(t,(x,_)=>Math.abs(b-_)<Math.abs(b-x)?_:x,t[0])})}},increment(){this.count++},initializeWebAudioSynth(){this.webAudioSynth=new eJ(this.numberOfVoices)},startSynth(){var e;(e=this.webAudioSynth)==null||e.start()}}});const f3=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},cZ=e=>(e2("data-v-53fdfcf0"),e=e(),t2(),e),uZ={class:"top-nav"},fZ=cZ(()=>pe("h1",null,"Weaving Music",-1)),dZ={class:"switches"},hZ={__name:"TopNav",setup(e){const t=zf(),{useWebAudio:n,isOn:r,errorMsg:i}=ia(t);return(a,s)=>{const o=sG,u=tW;return ce(),je("nav",uZ,[fZ,pe("div",dZ,[Ae(o,{"active-text":"start","inactive-text":"stop",modelValue:P(r),"onUpdate:modelValue":s[0]||(s[0]=c=>St(r)?r.value=c:null)},null,8,["modelValue"]),Ae(o,{modelValue:P(n),"onUpdate:modelValue":s[1]||(s[1]=c=>St(n)?n.value=c:null),"active-text":"Use Web Audio","inactive-text":"Use External MIDI"},null,8,["modelValue"])]),P(i)?(ce(),Je(u,{key:0,title:P(i),type:"error","show-icon":""},null,8,["title"])):st("",!0)])}}},pZ=f3(hZ,[["__scopeId","data-v-53fdfcf0"]]);function gZ(e){return typeof e=="number"}function vZ(e){return typeof e=="string"}function mZ(e){return typeof e<"u"}function bZ(e,t){return Math.pow(2,(e-69)/12)*(t||440)}var yZ=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,wZ=[0,2,4,5,7,9,11];function _Z(e,t,n){if(typeof e!="string")return null;var r=yZ.exec(e);if(!r||!t&&r[4])return null;var i={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};i.pc=i.letter+i.acc,i.step=(i.letter.charCodeAt(0)+3)%7,i.alt=i.acc[0]==="b"?-i.acc.length:i.acc.length;var a=wZ[i.step]+i.alt;return i.chroma=a<0?12+a:a%12,r[3]&&(i.oct=+r[3],i.midi=a+12*(i.oct+1),i.freq=bZ(i.midi,n)),t&&(i.tonicOf=r[4]),i}function xZ(e){if((gZ(e)||vZ(e))&&e>=0&&e<128)return+e;var t=_Z(e);return t&&mZ(t.midi)?t.midi:null}function MZ(e){return Array.isArray(e)&&e.length===2?e[0]*7+e[1]*12+12:xZ(e)}var CZ="C Db D Eb E F Gb G Ab A Bb B".split(" "),TZ="C C# D D# E F F# G G# A A# B".split(" ");function Rx(e,t){if(e===!0||e===!1)return function(a){return Rx(a,e)};e=Math.round(e);var n=t===!0?TZ:CZ,r=n[e%12],i=Math.floor(e/12)-1;return r+i}const EZ=Object.freeze(Object.defineProperty({__proto__:null,note:Rx,toMidi:MZ},Symbol.toStringTag,{value:"Module"})),SZ=T2(EZ);var v4=SZ,hn={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function ym(e){return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function wm(){wm=function(i,a){return new n(i,void 0,a)};var e=RegExp.prototype,t=new WeakMap;function n(i,a,s){var o=new RegExp(i,a);return t.set(o,s||t.get(i)),g1(o,n.prototype)}function r(i,a){var s=t.get(a);return Object.keys(s).reduce(function(o,u){return o[u]=i[s[u]],o},Object.create(null))}return PZ(n,RegExp),n.prototype.exec=function(i){var a=e.exec.call(this,i);return a&&(a.groups=r(a,this)),a},n.prototype[Symbol.replace]=function(i,a){if(typeof a=="string"){var s=t.get(this);return e[Symbol.replace].call(this,i,a.replace(/\$<([^>]+)>/g,function(u,c){return"$"+s[c]}))}if(typeof a=="function"){var o=this;return e[Symbol.replace].call(this,i,function(){var u=arguments;return typeof u[u.length-1]!="object"&&(u=[].slice.call(u)).push(r(u,o)),a.apply(this,u)})}return e[Symbol.replace].call(this,i,a)},wm.apply(this,arguments)}function nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e,t,n){return t&&m4(e.prototype,t),n&&m4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function PZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g1(e,t)}function g1(e,t){return g1=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},g1(e,t)}var ct=function(){function e(){nr(this,e)}return rr(e,null,[{key:"version",value:function(){return hn.VERSION}},{key:"stringToBytes",value:function(n){return n.split("").map(function(r){return r.charCodeAt()})}},{key:"isNumeric",value:function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},{key:"getPitch",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-v4.toMidi(r)+v4.toMidi(n)}},{key:"numberToVariableLength",value:function(n){n=Math.round(n);for(var r=n&127;n=n>>7;)r<<=8,r|=n&127|128;for(var i=[];i.push(r&255),r&128;)r>>=8;return i}},{key:"stringByteCount",value:function(n){return encodeURI(n).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(n){var r="",i;return n.forEach(function(a){i=a.toString(16),i.length==1&&(i="0"+i),r+=i}),parseInt(r,16)}},{key:"numberToBytes",value:function(n,r){r=r||1;var i=n.toString(16);i.length&1&&(i="0"+i);var a=i.match(/.{2}/g);if(a=a.map(function(s){return parseInt(s,16)}),a.length<r)for(;r-a.length>0;)a.unshift(0);return a}},{key:"toArray",value:function(n){return Array.isArray(n)?n:[n]}},{key:"convertVelocity",value:function(n){return n=n>100?100:n,Math.round(n/100*127)}},{key:"getTickDuration",value:function(n){if(Array.isArray(n))return n.map(function(s){return e.getTickDuration(s)}).reduce(function(s,o){return s+o},0);if(n=n.toString(),n.toLowerCase().charAt(0)==="t"){var r=parseInt(n.substring(1));if(isNaN(r)||r<0)throw new Error(n+" is not a valid duration.");return r}var i=e.numberFromBytes(hn.HEADER_CHUNK_DIVISION),a=i*e.getDurationMultiplier(n);return e.getRoundedIfClose(a)}},{key:"getRoundedIfClose",value:function(n){var r=Math.round(n);return Math.abs(r-n)<1e-6?r:n}},{key:"getPrecisionLoss",value:function(n){var r=Math.round(n);return r-n}},{key:"getDurationMultiplier",value:function(n){if(n==="0")return 0;var r=n.match(wm(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(r){var i=Number(r.groups.base),a=i===1||(i&i-1)===0;if(a){var s=i/4,o=1/s,u=r.groups,c=u.dotted,f=u.tuplet;if(c){var h=c.length,p=Math.pow(2,h);o=o+o*((p-1)/p)}if(typeof f=="string"){var v=o*2,g=Number(f||"3");o=v/g}return o}}throw new Error(n+" is not a valid duration.")}}]),e}(),Fx=rr(function e(t){nr(this,e),t=Object.assign({delta:0},t),this.type="controller",this.data=ct.numberToVariableLength(t.delta).concat(hn.CONTROLLER_CHANGE_STATUS,t.controllerNumber,t.controllerValue)}),Dx=rr(function e(t){nr(this,e),t=Object.assign({delta:0},t),this.type="cue-point";var n=ct.stringToBytes(t.text);this.data=ct.numberToVariableLength(t.delta).concat(hn.META_EVENT_ID,hn.META_CUE_POINT,ct.numberToVariableLength(n.length),n)}),Hh=rr(function e(t){nr(this,e),t=Object.assign({delta:0},t),this.type="end-track",this.data=ct.numberToVariableLength(t.delta).concat(hn.META_EVENT_ID,hn.META_END_OF_TRACK_ID)}),Hx=rr(function e(t){nr(this,e),t=Object.assign({delta:0},t),this.type="instrument-name";var n=ct.stringToBytes(t.text);this.data=ct.numberToVariableLength(t.delta).concat(hn.META_EVENT_ID,hn.META_INSTRUMENT_NAME_ID,ct.numberToVariableLength(n.length),n)}),zx=rr(function e(t,n){nr(this,e),this.type="key-signature";var r=n||0;if(t=t||0,typeof n>"u"){var i=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],a=t.length,s=t||"C";if(t[0]===t[0].toLowerCase()&&(r=1),a>1)switch(t.charAt(a-1)){case"m":r=1,s=t.charAt(0).toLowerCase(),s=s.concat(t.substring(1,a-1));break;case"-":r=1,s=t.charAt(0).toLowerCase(),s=s.concat(t.substring(1,a-1));break;case"M":r=0,s=t.charAt(0).toUpperCase(),s=s.concat(t.substring(1,a-1));break;case"+":r=0,s=t.charAt(0).toUpperCase(),s=s.concat(t.substring(1,a-1));break}var o=i[r].indexOf(s);t=o===-1?0:o-7}this.data=ct.numberToVariableLength(0).concat(hn.META_EVENT_ID,hn.META_KEY_SIGNATURE_ID,[2],ct.numberToBytes(t,1),ct.numberToBytes(r,1))}),Vx=rr(function e(t){nr(this,e),t=Object.assign({delta:0},t),this.type="lyric";var n=ct.stringToBytes(t.text);this.data=ct.numberToVariableLength(t.delta).concat(hn.META_EVENT_ID,hn.META_LYRIC_ID,ct.numberToVariableLength(n.length),n)}),Ux=rr(function e(t){nr(this,e),t=Object.assign({delta:0},t),this.type="marker";var n=ct.stringToBytes(t.text);this.data=ct.numberToVariableLength(t.delta).concat(hn.META_EVENT_ID,hn.META_MARKER_ID,ct.numberToVariableLength(n.length),n)}),Gl=function(){function e(t){nr(this,e),t=Object.assign({channel:1,startTick:null,velocity:50,wait:0},t),this.type="note-on",this.channel=t.channel,this.pitch=t.pitch,this.wait=t.wait,this.velocity=t.velocity,this.startTick=t.startTick,this.tick=null,this.delta=null,this.data=t.data}return rr(e,[{key:"buildData",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=ct.getRoundedIfClose(this.startTick),n.tickPointer==0&&(this.delta=this.tick)):(this.delta=ct.getTickDuration(this.wait),this.tick=ct.getRoundedIfClose(n.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=ct.getRoundedIfClose(this.delta-r),this.data=ct.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),ct.getPitch(this.pitch,i.middleC),ct.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),e}(),Gu=function(){function e(t){nr(this,e),t=Object.assign({channel:1,velocity:50,tick:null},t),this.type="note-off",this.channel=t.channel,this.pitch=t.pitch,this.duration=t.duration,this.velocity=t.velocity,this.tick=t.tick,this.delta=ct.getTickDuration(this.duration),this.data=t.data}return rr(e,[{key:"buildData",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=ct.getRoundedIfClose(this.delta+n.tickPointer)),this.deltaWithPrecisionCorrection=ct.getRoundedIfClose(this.delta-r),this.data=ct.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),ct.getPitch(this.pitch,i.middleC),ct.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),e}(),v1=function(){function e(t){nr(this,e),t=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},t),this.data=[],this.type="note",this.pitch=ct.toArray(t.pitch),this.channel=t.channel,this.duration=t.duration,this.grace=t.grace,this.repeat=t.repeat,this.sequential=t.sequential,this.startTick=t.startTick,this.velocity=t.velocity,this.wait=t.wait,this.tickDuration=ct.getTickDuration(this.duration),this.restDuration=ct.getTickDuration(this.wait),this.events=[]}return rr(e,[{key:"buildData",value:function(){var n=this;if(this.data=[],this.grace){var r=1;this.grace=ct.toArray(this.grace),this.grace.forEach(function(){var s=new e({pitch:n.grace,duration:"T"+r});n.data=n.data.concat(s.data)})}if(this.sequential)for(var a=0;a<this.repeat;a++)this.pitch.forEach(function(s,o){var u=new Gl({channel:n.channel,wait:o>0?0:n.wait,velocity:n.velocity,pitch:s,startTick:n.startTick}),c=new Gu({channel:n.channel,duration:n.duration,velocity:n.velocity,pitch:s});n.events.push(u,c)});else for(var i=0;i<this.repeat;i++)this.pitch.forEach(function(s,o){var u;o==0?u=new Gl({channel:n.channel,wait:n.wait,velocity:n.velocity,pitch:s,startTick:n.startTick}):u=new Gl({channel:n.channel,wait:0,velocity:n.velocity,pitch:s,startTick:n.startTick}),n.events.push(u)}),this.pitch.forEach(function(s,o){var u;o==0?u=new Gu({channel:n.channel,duration:n.duration,velocity:n.velocity,pitch:s,tick:n.startTick!==null?ct.getTickDuration(n.duration)+n.startTick:null}):u=new Gu({channel:n.channel,duration:0,velocity:n.velocity,pitch:s,tick:n.startTick!==null?ct.getTickDuration(n.duration)+n.startTick:null}),n.events.push(u)});return this}}]),e}(),AZ=function(t){return t<=0?Math.floor(16384*(t+1)/2):Math.floor(16383*(t+1)/2)},Wx=rr(function e(t){nr(this,e),t=Object.assign({delta:0},t),this.type="pitch-bend";var n=AZ(t.bend),r=t.channel||0,i=n&127,a=n>>7&127;this.data=ct.numberToVariableLength(t.delta).concat(hn.PITCH_BEND_STATUS|r,i,a)}),kZ=function(){function e(t){nr(this,e),this.fields=Object.assign({channel:1,delta:0},t),this.type="program",this.data=ct.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return rr(e,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),e}(),_m=rr(function e(t){nr(this,e),t=Object.assign({delta:0},t),this.type="tempo",this.tick=t.tick;var n=Math.round(6e7/t.bpm);this.data=ct.numberToVariableLength(t.delta).concat(hn.META_EVENT_ID,hn.META_TEMPO_ID,[3],ct.numberToBytes(n,3))}),jx=rr(function e(t){nr(this,e),t=Object.assign({delta:0},t),this.type="text";var n=ct.stringToBytes(t.text);this.data=ct.numberToVariableLength(t.delta).concat(hn.META_EVENT_ID,hn.META_TEXT_ID,ct.numberToVariableLength(n.length),n)}),qx=rr(function e(t,n,r,i){nr(this,e),this.type="time-signature",this.data=ct.numberToVariableLength(0).concat(hn.META_EVENT_ID,hn.META_TIME_SIGNATURE_ID,[4],ct.numberToBytes(t,1),ct.numberToBytes(Math.log2(n),1),ct.numberToBytes(r||24,1),ct.numberToBytes(i||8,1))}),OZ=rr(function e(t){nr(this,e),t=Object.assign({delta:0},t),this.type="copyright";var n=ct.stringToBytes(t.text);this.data=ct.numberToVariableLength(t.delta).concat(hn.META_EVENT_ID,hn.META_COPYRIGHT_ID,ct.numberToVariableLength(n.length),n)}),Kx=rr(function e(t){nr(this,e),t=Object.assign({delta:0},t),this.type="track-name";var n=ct.stringToBytes(t.text);this.data=ct.numberToVariableLength(t.delta).concat(hn.META_EVENT_ID,hn.META_TRACK_NAME_ID,ct.numberToVariableLength(n.length),n)}),Gx=function(){function e(){nr(this,e),this.type=hn.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return rr(e,[{key:"addEvent",value:function(n,r){var i=this;return ct.toArray(n).forEach(function(a,s){if(a instanceof v1){if(typeof r=="function"){var o=r(s,a);if(ym(o)==="object")for(var u in o)switch(u){case"channel":a.channel=o[u];break;case"duration":a.duration=o[u];break;case"sequential":a.sequential=o[u];break;case"velocity":a.velocity=ct.convertVelocity(o[u]);break}}a.startTick!==null?i.explicitTickEvents.push(a):a.buildData().events.forEach(function(c){return i.events.push(c)})}else a instanceof Hh&&i.removeEventsByType("end-track"),i.events.push(a)}),this}},{key:"buildData",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof Hh))&&this.addEvent(new Hh),this.data=[],this.size=[],this.tickPointer=0;var i=0;return this.events.forEach(function(a){if(a instanceof Gl||a instanceof Gu){var s=a.buildData(n,i,r);i=ct.getPrecisionLoss(a.deltaWithPrecisionCorrection||0),n.data=n.data.concat(s.data),n.tickPointer=ct.getRoundedIfClose(a.tick)}else a instanceof _m&&(n.tickPointer=ct.getRoundedIfClose(a.tick)),n.data=n.data.concat(a.data)}),this.mergeExplicitTickEvents(),this.size=ct.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var n=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(r,i){return r.startTick-i.startTick}),this.explicitTickEvents.forEach(function(r){r.buildData().events.forEach(function(i){return i.buildData(n)}),r.events.forEach(function(i){return n.mergeSingleEvent(i)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(n){var r=this;this.buildData(),n.buildData().events.forEach(function(i){return r.mergeSingleEvent(i)})}},{key:"mergeSingleEvent",value:function(n){if(!this.events.length){this.addEvent(n);return}for(var r,i=0;i<this.events.length&&!(this.events[i].tick>n.tick);i++)r=i;var a=r+1;n.delta=n.tick-this.events[r].tick,this.events.splice(a,0,n);for(var s=a+1;s<this.events.length;s++)this.events[s].delta=this.events[s].tick-this.events[s-1].tick}},{key:"removeEventsByType",value:function(n){var r=this;return this.events.forEach(function(i,a){i.type===n&&r.events.splice(a,1)}),this}},{key:"setTempo",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new _m({bpm:n,tick:r}))}},{key:"setTimeSignature",value:function(n,r,i,a){return this.addEvent(new qx(n,r,i,a))}},{key:"setKeySignature",value:function(n,r){return this.addEvent(new zx(n,r))}},{key:"addText",value:function(n){return this.addEvent(new jx({text:n}))}},{key:"addCopyright",value:function(n){return this.addEvent(new OZ({text:n}))}},{key:"addTrackName",value:function(n){return this.addEvent(new Kx({text:n}))}},{key:"addInstrumentName",value:function(n){return this.addEvent(new Hx({text:n}))}},{key:"addMarker",value:function(n){return this.addEvent(new Ux({text:n}))}},{key:"addCuePoint",value:function(n){return this.addEvent(new Dx({text:n}))}},{key:"addLyric",value:function(n){return this.addEvent(new Vx({text:n}))}},{key:"polyModeOn",value:function(){var n=new Gl({data:[0,176,126,0]});return this.addEvent(n)}},{key:"setPitchBend",value:function(n){return this.addEvent(new Wx({bend:n}))}},{key:"controllerChange",value:function(n,r){return this.addEvent(new Fx({controllerNumber:n,controllerValue:r}))}}]),e}(),NZ=function(){function e(){nr(this,e)}return rr(e,[{key:"trackFromVoice",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},a=new Gx,s=[];return n.tickables.forEach(function(o){o.noteType==="n"?(a.addEvent(new v1({pitch:o.keys.map(function(u,c){return r.convertPitch(u,c,o,i.addRenderedAccidentals)}),duration:r.convertDuration(o),wait:s})),s=[]):o.noteType==="r"&&s.push(r.convertDuration(o))}),s.length>0&&a.addEvent(new v1({pitch:"[c4]",duration:"0",wait:s,velocity:"0"})),a}},{key:"convertPitch",value:function(n,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=n.split("/"),o=s[0].substring(1).replace("n","");if(a){var u;(u=i.getAccidentals())===null||u===void 0||u.forEach(function(c){c.index===r&&(c.type==="n"?o="":o+=c.type)})}return s[0][0]+o+s[1]}},{key:"convertDuration",value:function(n){return"d".repeat(n.dots)+this.convertBaseDuration(n.duration)+(n.tuplet?"t"+n.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(n){switch(n){case"w":return"1";case"h":return"2";case"q":return"4";default:return n}}}]),e}(),IZ=rr(function e(t){nr(this,e),this.type=hn.HEADER_CHUNK_TYPE;var n=t>1?hn.HEADER_CHUNK_FORMAT1:hn.HEADER_CHUNK_FORMAT0;this.data=n.concat(ct.numberToBytes(t,2),hn.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),LZ=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};nr(this,e),this.tracks=ct.toArray(t),this.options=n}return rr(e,[{key:"buildData",value:function(){var n=this,r=[];return r.push(new IZ(this.tracks.length)),this.tracks.forEach(function(i){r.push(i.buildData(n.options))}),r}},{key:"buildFile",value:function(){var n=[];return this.buildData().forEach(function(r){return n=n.concat(r.type,r.size,r.data)}),new Uint8Array(n)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(n,r){return this.options[n]=r,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),e}(),BZ={Constants:hn,ControllerChangeEvent:Fx,CuePointEvent:Dx,EndTrackEvent:Hh,InstrumentNameEvent:Hx,KeySignatureEvent:zx,LyricEvent:Vx,MarkerEvent:Ux,NoteOnEvent:Gl,NoteOffEvent:Gu,NoteEvent:v1,PitchBendEvent:Wx,ProgramChangeEvent:kZ,TempoEvent:_m,TextEvent:jx,TimeSignatureEvent:qx,Track:Gx,TrackNameEvent:Kx,Utils:ct,VexFlow:NZ,Writer:LZ},$Z=BZ;const mu=yc($Z);const RZ={class:"midi-download"},FZ=pe("p",null,"You can download a MIDI file for your swatch in two formats:",-1),DZ=["href","download"],HZ=["href","download"],zZ={__name:"MidiDownload",setup(e){const t=zf(),n=Qa(),r=Sa(),{swatchNotes:i,swatchWeave:a,bpm:s}=ia(t),{swatchWidth:o}=ia(n),{noteScale:u,rootNote:c}=ia(r),f=fe({get:()=>v(!1)}),h=fe({get:()=>v(!0)}),p=fe({get:()=>`${c==null?void 0:c.value} - ${u==null?void 0:u.value}`});function v(g=!1){const b=[];if(g){const w=new mu.Track,M=1,T=o.value;w.setTempo(s.value),w.addTrackName(`weaving-row-${M}`);const S=Math.round(128/T*o.value);rn.times(o.value,k=>{const L=[];let B=0;if(i.value.forEach((H,D)=>{a.value[D]&&a.value[D][k]&&L.push(H[k])}),L.length){const H=new mu.NoteEvent({pitch:L,wait:`T${B*S}`,duration:`T${S}`});w.addEvent(H),B=0}else B++}),b.push(w)}else i.value.forEach((w,M)=>{const T=new mu.Track,S=M+1,k=a.value[M];let L=0;const B=16;T.setTempo(s.value),T.addTrackName(`weaving-row-${S}`);const H=Math.round(128/B*w.length);w.forEach((D,R)=>{if(!k[R]){L++;return}const z=new mu.NoteEvent({pitch:D,wait:`T${L*H}`,duration:`T${H}`});L=0,T.addEvent(z)}),b.push(T)});const x=new mu.Writer(b).buildFile(),_=new Blob([x],{type:"text/plain"});return URL.createObjectURL(_)}return(g,b)=>(ce(),je("div",RZ,[FZ,pe("ul",null,[pe("li",null,[pe("a",{href:P(f),download:`swatch - ${P(p)}.mid`},"Download MIDI file",8,DZ),gt(" (with each row as a separate track) ")]),pe("li",null,[pe("a",{href:P(h),download:`swatch - ${P(p)}_combined.mid`},"Download MIDI file",8,HZ),gt(" (with all rows combined onto a single track) ")])])]))}};function m1(e,t,n,r){if(e===-1)t.unshift(!1);else if(e===-2)t.unshift(!0);else{if(!n)return;for(let i=0;i<n[e];i++)m1(e-1,t,n,r);r[e]!=0&&m1(e-2,t,n,r)}}function VZ(e,t){let n=e-t;const r=[t],i=new Array;let a=0;do i[a]=Math.floor(n/r[a]),r[a+1]=n%r[a],n=r[a],a+=1;while(r[a]>1);i[a]=n;const s=[];return m1(a,s,i,r),s}const UZ={generateEuclideanSequence:VZ,buildString:m1};function WZ(e,t,n,r){t>127&&(console.error("note exceeded MIDI limit of 127"),t=t%127),r?r.playNote(e,t,n):(e=1,p1.noteOn(e,t,127),n&&setTimeout(()=>{p1.noteOff(e,t,127)},n))}const jZ={playNote:WZ};const qZ={class:"swatch"},KZ=pe("header",null,"Weaving Swatch",-1),GZ={class:"swatch-display"},YZ={__name:"Swatch",setup(e){const n=zf(),r=Qa(),i=Sa(),{useWebAudio:a,webAudioSynth:s,warpNoteColors:o,gridItems:u,gridItemsKey:c,errorMsg:f,swatchNoteColors:h}=ia(n),{swatchWidth:p,swatchDepth:v,patternType:g,weaveX:b,weaveY:y,euclideanCount:x}=ia(r),{stackType:_,noteScale:E,rangeMin:w,rangeMax:M}=ia(i),T=He();He(),He($x.names),He({});let S=He(-1);He(!1),He(-1),He(!1),He(-1),He(0),He(0),He("Maj7");let k=setTimeout(()=>{},0);const{$listen:L}=Fi();Ze(g,()=>{z()}),Ze(x,()=>{z()}),Ze(p,()=>{n.generateRandomSequence(),D()}),Ze(v,()=>{R()}),Ze(b,()=>{B()}),Ze(y,()=>{B()}),Ze(()=>E.value,()=>{n.initNotes()}),Ze(()=>w.value,()=>{n.initNotes()}),Ze(()=>M.value,()=>{n.initNotes()});function B(){const Z=[b.value,y.value],ge=Z.reduce((ie,me)=>ie+=me);n.swatchWeave=[],rn.times(v.value,ie=>{const me=[];rn.times(p.value,ve=>{me.push((ie+p.value-ve)%ge<Z[0])}),n.swatchWeave.push(me)})}function H(Z,ge){if(S.value++,Z==="external"){const ie=S.value%p.value;T.updateNoteAtIndex(ge,ie)}N(),clearTimeout(k),k=setTimeout(()=>{Y()},1e4)}function D(){z(),S.value=0,n.initNotes(),n.initializeWebAudioSynth(),n.webAudioSynth.start()}function R(){z(),n.initializeWebAudioSynth(),n.webAudioSynth.start()}function z(){if(g.value==="euclidean")return j();B()}function j(){let Z=UZ.generateEuclideanSequence(p.value,x.value),ge=(ie,me)=>rn.clone(ie).map((De,Be)=>{const nt=(Be+ie.length-me)%ie.length;return ie[nt]});n.swatchWeave=[],rn.times(v.value,ie=>{const me=ge(Z,ie);n.swatchWeave.push(me)})}function I(Z,ge){try{jZ.playNote(Z,ge,n.noteLength,a.value&&s.value)}catch(ie){console.error(ie),console.log("store.notes.value",n.notes.value)}}function N(){let Z,ge=S.value%p.value;if(!T){console.log("warp not found");return}const ie=v.value;rn.times(ie,me=>{const ve=n.swatchWeave[me][ge];Z=parseInt(n.swatchNotes[me][ge]),ve&&I(me,Z)})}function U(Z){return S.value%p.value===Z%p.value}function Y(){S.value=-1}return Ln(()=>{n.generateRandomSequence(),n.initNotes(),z(),L("tick",()=>H("internal")),L("clock-off",Y),L("trigger-in",({noteValue:Z,velocity:ge})=>H("external",Z/127))}),(Z,ge)=>(ce(),je("section",qZ,[KZ,Ae(P(zZ)),pe("div",GZ,[pe("div",{class:"swatch-grid",style:Pn({gridTemplateColumns:"repeat("+P(p)+", 1fr)"})},[(ce(!0),je(qt,null,di(P(u),(ie,me)=>(ce(),je("div",{class:We(["swatch-grid-note",{hide:!ie,active:U(me)}]),style:Pn({"background-color":ie?P(h)[Math.floor(me/P(p))][me%P(p)]:"transparent"}),key:`${P(c)}_${me}`},null,6))),128))],4)])]))}},XZ={class:"settings-pane"},vh={__name:"_SettingsPane",props:{title:String},setup(e){const t=e;return(n,r)=>(ce(),je("div",XZ,[pe("header",null,Rn(t.title),1),Kt(n.$slots,"default")]))}},JZ=!0,gr="u-",QZ="uplot",ZZ=gr+"hz",eee=gr+"vt",tee=gr+"title",nee=gr+"wrap",ree=gr+"under",iee=gr+"over",aee=gr+"axis",P0=gr+"off",see=gr+"select",oee=gr+"cursor-x",lee=gr+"cursor-y",cee=gr+"cursor-pt",uee=gr+"legend",fee=gr+"live",dee=gr+"inline",hee=gr+"thead",pee=gr+"series",gee=gr+"marker",b4=gr+"label",vee=gr+"value",Ou="width",Nu="height",bu="top",y4="bottom",Sl="left",Jg="right",d3="#000",w4=d3+"0",_4="mousemove",x4="mousedown",Qg="mouseup",M4="mouseenter",C4="mouseleave",T4="dblclick",mee="resize",bee="scroll",E4="change",b1="dppxchange",h3="--",Mc=typeof window<"u",xm=Mc?document:null,Yl=Mc?window:null,yee=Mc?navigator:null;let dn,mh;function Mm(){let e=devicePixelRatio;dn!=e&&(dn=e,mh&&Tm(E4,mh,Mm),mh=matchMedia(`(min-resolution: ${dn-.001}dppx) and (max-resolution: ${dn+.001}dppx)`),Ao(E4,mh,Mm),Yl.dispatchEvent(new CustomEvent(b1)))}function Ni(e,t){if(t!=null){let n=e.classList;!n.contains(t)&&n.add(t)}}function Cm(e,t){let n=e.classList;n.contains(t)&&n.remove(t)}function Un(e,t,n){e.style[t]=n+"px"}function $s(e,t,n,r){let i=xm.createElement(e);return t!=null&&Ni(i,t),n!=null&&n.insertBefore(i,r),i}function Zi(e,t){return $s("div",e,t)}const S4=new WeakMap;function Pl(e,t,n,r,i){let a="translate("+t+"px,"+n+"px)",s=S4.get(e);a!=s&&(e.style.transform=a,S4.set(e,a),t<0||n<0||t>r||n>i?Ni(e,P0):Cm(e,P0))}const P4=new WeakMap;function wee(e,t,n){let r=t+n,i=P4.get(e);r!=i&&(P4.set(e,r),e.style.background=t,e.style.borderColor=n)}const A4=new WeakMap;function _ee(e,t,n,r){let i=t+""+n,a=A4.get(e);i!=a&&(A4.set(e,i),e.style.height=n+"px",e.style.width=t+"px",e.style.marginLeft=r?-t/2+"px":0,e.style.marginTop=r?-n/2+"px":0)}const p3={passive:!0},Yx={...p3,capture:!0};function Ao(e,t,n,r){t.addEventListener(e,n,r?Yx:p3)}function Tm(e,t,n,r){t.removeEventListener(e,n,r?Yx:p3)}Mc&&Mm();function Co(e,t,n,r){let i;n=n||0,r=r||t.length-1;let a=r<=2147483647;for(;r-n>1;)i=a?n+r>>1:sa((n+r)/2),t[i]<e?n=i:r=i;return e-t[n]<=t[r]-e?n:r}function lc(e,t,n,r){for(let i=r==1?t:n;i>=t&&i<=n;i+=r)if(e[i]!=null)return i;return-1}function xee(e,t,n,r){let i=sn,a=-sn;if(r==1)i=e[t],a=e[n];else if(r==-1)i=e[n],a=e[t];else for(let s=t;s<=n;s++)e[s]!=null&&(i=ti(i,e[s]),a=yr(a,e[s]));return[i,a]}function Mee(e,t,n){let r=sn,i=-sn;for(let a=t;a<=n;a++)e[a]>0&&(r=ti(r,e[a]),i=yr(i,e[a]));return[r==sn?1:r,i==-sn?10:i]}function cp(e,t,n,r){let i=N4(e),a=N4(t),s=n==10?Us:Xx;e==t&&(i==-1?(e*=n,t/=n):(e/=n,t*=n));let o=i==1?sa:w1,u=a==1?w1:sa,c=o(s(Vr(e))),f=u(s(Vr(t))),h=cc(n,c),p=cc(n,f);return n==10&&(c<0&&(h=En(h,-c)),f<0&&(p=En(p,-f))),r||n==2?(e=h*i,t=p*a):(e=Qx(e,h),t=fc(t,p)),[e,t]}function g3(e,t,n,r){let i=cp(e,t,n,r);return e==0&&(i[0]=0),t==0&&(i[1]=0),i}const v3=.1,k4={mode:3,pad:v3},Yu={pad:0,soft:null,mode:0},Cee={min:Yu,max:Yu};function y1(e,t,n,r){return fp(n)?O4(e,t,n):(Yu.pad=n,Yu.soft=r?0:null,Yu.mode=r?3:0,O4(e,t,Cee))}function vn(e,t){return e??t}function Tee(e,t,n){for(t=vn(t,0),n=vn(n,e.length-1);t<=n;){if(e[t]!=null)return!0;t++}return!1}function O4(e,t,n){let r=n.min,i=n.max,a=vn(r.pad,0),s=vn(i.pad,0),o=vn(r.hard,-sn),u=vn(i.hard,sn),c=vn(r.soft,sn),f=vn(i.soft,-sn),h=vn(r.mode,0),p=vn(i.mode,0),v=t-e,g=Us(v),b=yr(Vr(e),Vr(t)),y=Us(b),x=Vr(y-g);(v<1e-9||x>10)&&(v=0,(e==0||t==0)&&(v=1e-9,h==2&&c!=sn&&(a=0),p==2&&f!=-sn&&(s=0)));let _=v||b||1e3,E=Us(_),w=cc(10,sa(E)),M=_*(v==0?e==0?.1:1:a),T=En(Qx(e-M,w/10),9),S=e>=c&&(h==1||h==3&&T<=c||h==2&&T>=c)?c:sn,k=yr(o,T<S&&e>=S?S:ti(S,T)),L=_*(v==0?t==0?.1:1:s),B=En(fc(t+L,w/10),9),H=t<=f&&(p==1||p==3&&B>=f||p==2&&B<=f)?f:-sn,D=ti(u,B>H&&t<=H?H:yr(H,B));return k==D&&k==0&&(D=100),[k,D]}const Eee=new Intl.NumberFormat(Mc?yee.language:"en-US"),m3=e=>Eee.format(e),Di=Math,zh=Di.PI,Vr=Di.abs,sa=Di.floor,kr=Di.round,w1=Di.ceil,ti=Di.min,yr=Di.max,cc=Di.pow,N4=Di.sign,Us=Di.log10,Xx=Di.log2,See=(e,t=1)=>Di.sinh(e)*t,Zg=(e,t=1)=>Di.asinh(e/t),sn=1/0;function I4(e){return(Us((e^e>>31)-(e>>31))|0)+1}function L4(e,t,n){return ti(yr(e,t),n)}function nn(e){return typeof e=="function"?e:()=>e}const Pee=()=>{},Aee=e=>e,Jx=(e,t)=>t,kee=e=>null,B4=e=>!0,$4=(e,t)=>e==t,uc=e=>En(e,14);function C0(e,t){return uc(En(uc(e/t))*t)}function fc(e,t){return uc(w1(uc(e/t))*t)}function Qx(e,t){return uc(sa(uc(e/t))*t)}function En(e,t=0){if(Nee(e))return e;let n=10**t,r=e*n*(1+Number.EPSILON);return kr(r)/n}const up=new Map;function Oee(e){return((""+e).split(".")[1]||"").length}function Mf(e,t,n,r){let i=[],a=r.map(Oee);for(let s=t;s<n;s++){let o=Vr(s),u=En(cc(e,s),o);for(let c=0;c<r.length;c++){let f=r[c]*u,h=(f>=0&&s>=0?0:o)+(s>=a[c]?0:a[c]),p=En(f,h);i.push(p),up.set(p,h)}}return i}const Xu={},Zx=[],dc=[null,null],A0=Array.isArray,Nee=Number.isInteger,Iee=e=>e===void 0;function R4(e){return typeof e=="string"}function fp(e){let t=!1;if(e!=null){let n=e.constructor;t=n==null||n==Object}return t}function F4(e){return e!=null&&typeof e=="object"}const Lee=Object.getPrototypeOf(Uint8Array);function D0(e,t=fp){let n;if(A0(e)){let r=e.find(i=>i!=null);if(A0(r)||t(r)){n=Array(e.length);for(let i=0;i<e.length;i++)n[i]=D0(e[i],t)}else n=e.slice()}else if(e instanceof Lee)n=e.slice();else if(t(e)){n={};for(let r in e)n[r]=D0(e[r],t)}else n=e;return n}function hr(e){let t=arguments;for(let n=1;n<t.length;n++){let r=t[n];for(let i in r)fp(e[i])?hr(e[i],D0(r[i])):e[i]=D0(r[i])}return e}const Bee=0,$ee=1,Ree=2;function Fee(e,t,n){for(let r=0,i,a=-1;r<t.length;r++){let s=t[r];if(s>a){for(i=s-1;i>=0&&e[i]==null;)e[i--]=null;for(i=s+1;i<n&&e[i]==null;)e[a=i++]=null}}}function Dee(e,t){let n=new Set;for(let s=0;s<e.length;s++){let u=e[s][0],c=u.length;for(let f=0;f<c;f++)n.add(u[f])}let r=[Array.from(n).sort((s,o)=>s-o)],i=r[0].length,a=new Map;for(let s=0;s<i;s++)a.set(r[0][s],s);for(let s=0;s<e.length;s++){let o=e[s],u=o[0];for(let c=1;c<o.length;c++){let f=o[c],h=Array(i).fill(void 0),p=t?t[s][c]:$ee,v=[];for(let g=0;g<f.length;g++){let b=f[g],y=a.get(u[g]);b===null?p!=Bee&&(h[y]=b,p==Ree&&v.push(y)):h[y]=b}Fee(h,v,i),r.push(h)}}return r}const Hee=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask,eM=["January","February","March","April","May","June","July","August","September","October","November","December"],tM=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function nM(e){return e.slice(0,3)}const zee=tM.map(nM),Vee=eM.map(nM),Uee={MMMM:eM,MMM:Vee,WWWW:tM,WWW:zee};function yu(e){return(e<10?"0":"")+e}function Wee(e){return(e<10?"00":e<100?"0":"")+e}const jee={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>yu(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>yu(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>yu(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return t==0?12:t>12?t-12:t},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>yu(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>yu(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>Wee(e.getMilliseconds())};function b3(e,t){t=t||Uee;let n=[],r=/\{([a-z]+)\}|[^{]+/gi,i;for(;i=r.exec(e);)n.push(i[0][0]=="{"?jee[i[1]]:i[0]);return a=>{let s="";for(let o=0;o<n.length;o++)s+=typeof n[o]=="string"?n[o]:n[o](a,t);return s}}const qee=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Kee(e,t){let n;return t=="UTC"||t=="Etc/UTC"?n=new Date(+e+e.getTimezoneOffset()*6e4):t==qee?n=e:(n=new Date(e.toLocaleString("en-US",{timeZone:t})),n.setMilliseconds(e.getMilliseconds())),n}const rM=e=>e%1==0,_1=[1,2,2.5,5],Gee=Mf(10,-16,0,_1),iM=Mf(10,0,16,_1),Yee=iM.filter(rM),Xee=Gee.concat(iM),y3=`
`,aM="{YYYY}",D4=y3+aM,sM="{M}/{D}",Iu=y3+sM,bh=Iu+"/{YY}",oM="{aa}",Jee="{h}:{mm}",Hl=Jee+oM,H4=y3+Hl,z4=":{ss}",wn=null;function lM(e){let t=e*1e3,n=t*60,r=n*60,i=r*24,a=i*30,s=i*365,u=(e==1?Mf(10,0,3,_1).filter(rM):Mf(10,-3,0,_1)).concat([t,t*5,t*10,t*15,t*30,n,n*5,n*10,n*15,n*30,r,r*2,r*3,r*4,r*6,r*8,r*12,i,i*2,i*3,i*4,i*5,i*6,i*7,i*8,i*9,i*10,i*15,a,a*2,a*3,a*4,a*6,s,s*2,s*5,s*10,s*25,s*50,s*100]);const c=[[s,aM,wn,wn,wn,wn,wn,wn,1],[i*28,"{MMM}",D4,wn,wn,wn,wn,wn,1],[i,sM,D4,wn,wn,wn,wn,wn,1],[r,"{h}"+oM,bh,wn,Iu,wn,wn,wn,1],[n,Hl,bh,wn,Iu,wn,wn,wn,1],[t,z4,bh+" "+Hl,wn,Iu+" "+Hl,wn,H4,wn,1],[e,z4+".{fff}",bh+" "+Hl,wn,Iu+" "+Hl,wn,H4,wn,1]];function f(h){return(p,v,g,b,y,x)=>{let _=[],E=y>=s,w=y>=a&&y<s,M=h(g),T=En(M*e,3),S=ev(M.getFullYear(),E?0:M.getMonth(),w||E?1:M.getDate()),k=En(S*e,3);if(w||E){let L=w?y/a:0,B=E?y/s:0,H=T==k?T:En(ev(S.getFullYear()+B,S.getMonth()+L,1)*e,3),D=new Date(kr(H/e)),R=D.getFullYear(),z=D.getMonth();for(let j=0;H<=b;j++){let I=ev(R+B*j,z+L*j,1),N=I-h(En(I*e,3));H=En((+I+N)*e,3),H<=b&&_.push(H)}}else{let L=y>=i?i:y,B=sa(g)-sa(T),H=k+B+fc(T-k,L);_.push(H);let D=h(H),R=D.getHours()+D.getMinutes()/n+D.getSeconds()/r,z=y/r,j=p.axes[v]._space,I=x/j;for(;H=En(H+y,e==1?0:3),!(H>b);)if(z>1){let N=sa(En(R+z,6))%24,Z=h(H).getHours()-N;Z>1&&(Z=-1),H-=Z*r,R=(R+z)%24;let ge=_[_.length-1];En((H-ge)/y,3)*I>=.7&&_.push(H)}else _.push(H)}return _}}return[u,c,f]}const[Qee,Zee,ete]=lM(1),[tte,nte,rte]=lM(.001);Mf(2,-53,53,[1]);function V4(e,t){return e.map(n=>n.map((r,i)=>i==0||i==8||r==null?r:t(i==1||n[8]==0?r:n[1]+r)))}function U4(e,t){return(n,r,i,a,s)=>{let o=t.find(g=>s>=g[0])||t[t.length-1],u,c,f,h,p,v;return r.map(g=>{let b=e(g),y=b.getFullYear(),x=b.getMonth(),_=b.getDate(),E=b.getHours(),w=b.getMinutes(),M=b.getSeconds(),T=y!=u&&o[2]||x!=c&&o[3]||_!=f&&o[4]||E!=h&&o[5]||w!=p&&o[6]||M!=v&&o[7]||o[1];return u=y,c=x,f=_,h=E,p=w,v=M,T(b)})}}function ite(e,t){let n=b3(t);return(r,i,a,s,o)=>i.map(u=>n(e(u)))}function ev(e,t,n){return new Date(e,t,n)}function W4(e,t){return t(e)}const ate="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function j4(e,t){return(n,r,i,a)=>a==null?h3:t(e(r))}function ste(e,t){let n=e.series[t];return n.width?n.stroke(e,t):n.points.width?n.points.stroke(e,t):null}function ote(e,t){return e.series[t].fill(e,t)}const lte={show:!0,live:!0,isolate:!1,mount:Pee,markers:{show:!0,width:2,stroke:ste,fill:ote,dash:"solid"},idx:null,idxs:null,values:[]};function cte(e,t){let n=e.cursor.points,r=Zi(),i=n.size(e,t);Un(r,Ou,i),Un(r,Nu,i);let a=i/-2;Un(r,"marginLeft",a),Un(r,"marginTop",a);let s=n.width(e,t,i);return s&&Un(r,"borderWidth",s),r}function ute(e,t){let n=e.series[t].points;return n._fill||n._stroke}function fte(e,t){let n=e.series[t].points;return n._stroke||n._fill}function dte(e,t){return e.series[t].points.size}function hte(e,t,n){return n}const tv=[0,0];function pte(e,t,n){return tv[0]=t,tv[1]=n,tv}function yh(e,t,n){return r=>{r.button==0&&n(r)}}function nv(e,t,n){return n}const gte={show:!0,x:!0,y:!0,lock:!1,move:pte,points:{show:cte,size:dte,width:0,stroke:fte,fill:ute},bind:{mousedown:yh,mouseup:yh,click:yh,dblclick:yh,mousemove:nv,mouseleave:nv,mouseenter:nv},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{prox:-1,bias:0},left:-10,top:-10,idx:null,dataIdx:hte,idxs:null},cM={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},w3=hr({},cM,{filter:Jx}),uM=hr({},w3,{size:10}),fM=hr({},cM,{show:!1}),_3='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',dM="bold "+_3,vte=1.5,q4={show:!0,scale:"x",stroke:d3,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:dM,side:2,grid:w3,ticks:uM,border:fM,font:_3,rotate:0},mte="Value",bte="Time",K4={show:!0,scale:"x",auto:!1,sorted:1,min:sn,max:-sn,idxs:[]};function yte(e,t,n,r,i){return t.map(a=>a==null?"":m3(a))}function wte(e,t,n,r,i,a,s){let o=[],u=up.get(i)||0;n=s?n:En(fc(n,i),u);for(let c=n;c<=r;c=En(c+i,u))o.push(Object.is(c,-0)?0:c);return o}function Em(e,t,n,r,i,a,s){const o=[],u=e.scales[e.axes[t].scale].log,c=u==10?Us:Xx,f=sa(c(n));i=cc(u,f),u==10&&f<0&&(i=En(i,-f));let h=n;do o.push(h),h=h+i,u==10&&(h=En(h,up.get(i))),h>=i*u&&(i=h);while(h<=r);return o}function _te(e,t,n,r,i,a,s){let u=e.scales[e.axes[t].scale].asinh,c=r>u?Em(e,t,yr(u,n),r,i):[u],f=r>=0&&n<=0?[0]:[];return(n<-u?Em(e,t,yr(u,-r),-n,i):[u]).reverse().map(p=>-p).concat(f,c)}const xte=/./,Mte=/[12357]/,Cte=/[125]/,Tte=/1/;function Ete(e,t,n,r,i){let a=e.axes[n],s=a.scale,o=e.scales[s];if(o.distr==3&&o.log==2)return t;let u=e.valToPos,c=a._space,f=u(10,s),h=u(9,s)-f>=c?xte:u(7,s)-f>=c?Mte:u(5,s)-f>=c?Cte:Tte;return t.map(p=>o.distr==4&&p==0||h.test(p)?p:null)}function Ste(e,t,n,r){return r==null?h3:t==null?"":m3(t)}const G4={show:!0,scale:"y",stroke:d3,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:dM,side:3,grid:w3,ticks:uM,border:fM,font:_3,rotate:0};function Pte(e,t){let n=3+(e||1)*2;return En(n*t,3)}function Ate(e,t){let{scale:n,idxs:r}=e.series[0],i=e._data[0],a=e.valToPos(i[r[0]],n,!0),s=e.valToPos(i[r[1]],n,!0),o=Vr(s-a),u=e.series[t],c=o/(u.points.space*dn);return r[1]-r[0]<=c}const Y4={scale:null,auto:!0,sorted:0,min:sn,max:-sn},hM=(e,t,n,r,i)=>i,X4={show:!0,auto:!0,sorted:0,gaps:hM,alpha:1,facets:[hr({},Y4,{scale:"x"}),hr({},Y4,{scale:"y"})]},J4={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:hM,alpha:1,points:{show:Ate,filter:null},values:null,min:sn,max:-sn,idxs:[],path:null,clip:null};function kte(e,t,n,r,i){return n/10}const pM={time:JZ,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Ote=hr({},pM,{time:!1,ori:1}),Q4={};function gM(e,t){let n=Q4[e];return n||(n={key:e,plots:[],sub(r){n.plots.push(r)},unsub(r){n.plots=n.plots.filter(i=>i!=r)},pub(r,i,a,s,o,u,c){for(let f=0;f<n.plots.length;f++)n.plots[f]!=i&&n.plots[f].pub(r,i,a,s,o,u,c)}},e!=null&&(Q4[e]=n)),n}const K0=1<<0,x1=1<<1;function tl(e,t,n){const r=e.mode,i=e.series[t],a=r==2?e._data[t]:e._data,s=e.scales,o=e.bbox;let u=a[0],c=r==2?a[1]:a[t],f=r==2?s[i.facets[0].scale]:s[e.series[0].scale],h=r==2?s[i.facets[1].scale]:s[i.scale],p=o.left,v=o.top,g=o.width,b=o.height,y=e.valToPosH,x=e.valToPosV;return f.ori==0?n(i,u,c,f,h,y,x,p,v,g,b,pp,Cc,vp,mM,yM):n(i,u,c,f,h,x,y,v,p,b,g,gp,Tc,M3,bM,wM)}function dp(e,t){let n=0,r=0,i=vn(e.bands,Zx);for(let a=0;a<i.length;a++){let s=i[a];s.series[0]==t?n=s.dir:s.series[1]==t&&(s.dir==1?r|=1:r|=2)}return[n,r==1?-1:r==2?1:r==3?2:0]}function Nte(e,t,n,r,i){let a=e.mode,s=e.series[t],o=a==2?s.facets[1].scale:s.scale,u=e.scales[o];return i==-1?u.min:i==1?u.max:u.distr==3?u.dir==1?u.min:u.max:0}function Ws(e,t,n,r,i,a){return tl(e,t,(s,o,u,c,f,h,p,v,g,b,y)=>{let x=s.pxRound;const _=c.dir*(c.ori==0?1:-1),E=c.ori==0?Cc:Tc;let w,M;_==1?(w=n,M=r):(w=r,M=n);let T=x(h(o[w],c,b,v)),S=x(p(u[w],f,y,g)),k=x(h(o[M],c,b,v)),L=x(p(a==1?f.max:f.min,f,y,g)),B=new Path2D(i);return E(B,k,L),E(B,T,L),E(B,T,S),B})}function hp(e,t,n,r,i,a){let s=null;if(e.length>0){s=new Path2D;const o=t==0?vp:M3;let u=n;for(let f=0;f<e.length;f++){let h=e[f];if(h[1]>h[0]){let p=h[0]-u;p>0&&o(s,u,r,p,r+a),u=h[1]}}let c=n+i-u;c>0&&o(s,u,r,c,r+a)}return s}function Ite(e,t,n){let r=e[e.length-1];r&&r[0]==t?r[1]=n:e.push([t,n])}function x3(e,t,n,r,i,a,s){let o=[],u=e.length;for(let c=i==1?n:r;c>=n&&c<=r;c+=i)if(t[c]===null){let h=c,p=c;if(i==1)for(;++c<=r&&t[c]===null;)p=c;else for(;--c>=n&&t[c]===null;)p=c;let v=a(e[h]),g=p==h?v:a(e[p]),b=h-i;v=s<=0&&b>=0&&b<u?a(e[b]):v;let x=p+i;g=s>=0&&x>=0&&x<u?a(e[x]):g,g>=v&&o.push([v,g])}return o}function Z4(e){return e==0?Aee:e==1?kr:t=>C0(t,e)}function vM(e){let t=e==0?pp:gp,n=e==0?(i,a,s,o,u,c)=>{i.arcTo(a,s,o,u,c)}:(i,a,s,o,u,c)=>{i.arcTo(s,a,u,o,c)},r=e==0?(i,a,s,o,u)=>{i.rect(a,s,o,u)}:(i,a,s,o,u)=>{i.rect(s,a,u,o)};return(i,a,s,o,u,c=0,f=0)=>{c==0&&f==0?r(i,a,s,o,u):(c=ti(c,o/2,u/2),f=ti(f,o/2,u/2),t(i,a+c,s),n(i,a+o,s,a+o,s+u,c),n(i,a+o,s+u,a,s+u,f),n(i,a,s+u,a,s,f),n(i,a,s,a+o,s,c),i.closePath())}}const pp=(e,t,n)=>{e.moveTo(t,n)},gp=(e,t,n)=>{e.moveTo(n,t)},Cc=(e,t,n)=>{e.lineTo(t,n)},Tc=(e,t,n)=>{e.lineTo(n,t)},vp=vM(0),M3=vM(1),mM=(e,t,n,r,i,a)=>{e.arc(t,n,r,i,a)},bM=(e,t,n,r,i,a)=>{e.arc(n,t,r,i,a)},yM=(e,t,n,r,i,a,s)=>{e.bezierCurveTo(t,n,r,i,a,s)},wM=(e,t,n,r,i,a,s)=>{e.bezierCurveTo(n,t,i,r,s,a)};function _M(e){return(t,n,r,i,a)=>tl(t,n,(s,o,u,c,f,h,p,v,g,b,y)=>{let{pxRound:x,points:_}=s,E,w;c.ori==0?(E=pp,w=mM):(E=gp,w=bM);const M=En(_.width*dn,3);let T=(_.size-_.width)/2*dn,S=En(T*2,3),k=new Path2D,L=new Path2D,{left:B,top:H,width:D,height:R}=t.bbox;vp(L,B-S,H-S,D+S*2,R+S*2);const z=j=>{if(u[j]!=null){let I=x(h(o[j],c,b,v)),N=x(p(u[j],f,y,g));E(k,I+T,N),w(k,I,N,T,0,zh*2)}};if(a)a.forEach(z);else for(let j=r;j<=i;j++)z(j);return{stroke:M>0?k:null,fill:k,clip:L,flags:K0|x1}})}function xM(e){return(t,n,r,i,a,s)=>{r!=i&&(a!=r&&s!=r&&e(t,n,r),a!=i&&s!=i&&e(t,n,i),e(t,n,s))}}const Lte=xM(Cc),Bte=xM(Tc);function MM(e){const t=vn(e==null?void 0:e.alignGaps,0);return(n,r,i,a)=>tl(n,r,(s,o,u,c,f,h,p,v,g,b,y)=>{let x=s.pxRound,_=ie=>x(h(ie,c,b,v)),E=ie=>x(p(ie,f,y,g)),w,M;c.ori==0?(w=Cc,M=Lte):(w=Tc,M=Bte);const T=c.dir*(c.ori==0?1:-1),S={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:K0},k=S.stroke;let L=sn,B=-sn,H,D,R,z=_(o[T==1?i:a]),j=lc(u,i,a,1*T),I=lc(u,i,a,-1*T),N=_(o[j]),U=_(o[I]),Y=!1;for(let ie=T==1?i:a;ie>=i&&ie<=a;ie+=T){let me=_(o[ie]),ve=u[ie];me==z?ve!=null?(D=E(ve),L==sn&&(w(k,me,D),H=D),L=ti(D,L),B=yr(D,B)):ve===null&&(Y=!0):(L!=sn&&(M(k,z,L,B,H,D),R=z),ve!=null?(D=E(ve),w(k,me,D),L=B=H=D):(L=sn,B=-sn,ve===null&&(Y=!0)),z=me)}L!=sn&&L!=B&&R!=z&&M(k,z,L,B,H,D);let[Z,ge]=dp(n,r);if(s.fill!=null||Z!=0){let ie=S.fill=new Path2D(k),me=s.fillTo(n,r,s.min,s.max,Z),ve=E(me);w(ie,U,ve),w(ie,N,ve)}if(!s.spanGaps){let ie=[];Y&&ie.push(...x3(o,u,i,a,T,_,t)),S.gaps=ie=s.gaps(n,r,i,a,ie),S.clip=hp(ie,c.ori,v,g,b,y)}return ge!=0&&(S.band=ge==2?[Ws(n,r,i,a,k,-1),Ws(n,r,i,a,k,1)]:Ws(n,r,i,a,k,ge)),S})}function $te(e){const t=vn(e.align,1),n=vn(e.ascDesc,!1),r=vn(e.alignGaps,0),i=vn(e.extend,!1);return(a,s,o,u)=>tl(a,s,(c,f,h,p,v,g,b,y,x,_,E)=>{let w=c.pxRound,{left:M,width:T}=a.bbox,S=Z=>w(g(Z,p,_,y)),k=Z=>w(b(Z,v,E,x)),L=p.ori==0?Cc:Tc;const B={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:K0},H=B.stroke,D=p.dir*(p.ori==0?1:-1);o=lc(h,o,u,1),u=lc(h,o,u,-1);let R=k(h[D==1?o:u]),z=S(f[D==1?o:u]),j=z,I=z;i&&t==-1&&(I=M,L(H,I,R)),L(H,z,R);for(let Z=D==1?o:u;Z>=o&&Z<=u;Z+=D){let ge=h[Z];if(ge==null)continue;let ie=S(f[Z]),me=k(ge);t==1?L(H,ie,R):L(H,j,me),L(H,ie,me),R=me,j=ie}let N=j;i&&t==1&&(N=M+T,L(H,N,R));let[U,Y]=dp(a,s);if(c.fill!=null||U!=0){let Z=B.fill=new Path2D(H),ge=c.fillTo(a,s,c.min,c.max,U),ie=k(ge);L(Z,N,ie),L(Z,I,ie)}if(!c.spanGaps){let Z=[];Z.push(...x3(f,h,o,u,D,S,r));let ge=c.width*dn/2,ie=n||t==1?ge:-ge,me=n||t==-1?-ge:ge;Z.forEach(ve=>{ve[0]+=ie,ve[1]+=me}),B.gaps=Z=c.gaps(a,s,o,u,Z),B.clip=hp(Z,p.ori,y,x,_,E)}return Y!=0&&(B.band=Y==2?[Ws(a,s,o,u,H,-1),Ws(a,s,o,u,H,1)]:Ws(a,s,o,u,H,Y)),B})}function Rte(e){e=e||Xu;const t=vn(e.size,[.6,sn,1]),n=e.align||0,r=(e.gap||0)*dn;let i=e.radius;i=i==null?[0,0]:typeof i=="number"?[i,0]:i;const a=nn(i),s=1-t[0],o=vn(t[1],sn)*dn,u=vn(t[2],1)*dn,c=vn(e.disp,Xu),f=vn(e.each,v=>{}),{fill:h,stroke:p}=c;return(v,g,b,y)=>tl(v,g,(x,_,E,w,M,T,S,k,L,B,H)=>{let D=x.pxRound,R,z;w.ori==0?[R,z]=a(v,g):[z,R]=a(v,g);const j=w.dir*(w.ori==0?1:-1),I=M.dir*(M.ori==1?1:-1);let N=w.ori==0?vp:M3,U=w.ori==0?f:(ke,Pe,oe,$e,qe,et,lt)=>{f(ke,Pe,oe,qe,$e,lt,et)},[Y,Z]=dp(v,g),ge=M.distr==3?Y==1?M.max:M.min:0,ie=S(ge,M,H,L),me,ve,De=D(x.width*dn),Be=!1,nt=null,Me=null,at=null,Ue=null;h!=null&&(De==0||p!=null)&&(Be=!0,nt=h.values(v,g,b,y),Me=new Map,new Set(nt).forEach(ke=>{ke!=null&&Me.set(ke,new Path2D)}),De>0&&(at=p.values(v,g,b,y),Ue=new Map,new Set(at).forEach(ke=>{ke!=null&&Ue.set(ke,new Path2D)})));let{x0:Xe,size:W}=c;if(Xe!=null&&W!=null){_=Xe.values(v,g,b,y),Xe.unit==2&&(_=_.map(Pe=>v.posToVal(k+Pe*B,w.key,!0)));let ke=W.values(v,g,b,y);W.unit==2?ve=ke[0]*B:ve=T(ke[0],w,B,k)-T(0,w,B,k),ve=D(ve-De),me=j==1?-De/2:ve+De/2}else{let ke=B;if(_.length>1){let oe=null;for(let $e=0,qe=1/0;$e<_.length;$e++)if(E[$e]!==void 0){if(oe!=null){let et=Vr(_[$e]-_[oe]);et<qe&&(qe=et,ke=Vr(T(_[$e],w,B,k)-T(_[oe],w,B,k)))}oe=$e}}let Pe=ke*s;ve=D(ti(o,yr(u,ke-Pe))-De-r),me=(n==0?ve/2:n==j?0:ve)-n*j*r/2}const X={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:K0|x1};let ae;Z!=0&&(X.band=new Path2D,ae=D(S(Z==1?M.max:M.min,M,H,L)));const ee=Be?null:new Path2D,xe=X.band;let{y0:Se,y1:Ve}=c,Te=null;Se!=null&&Ve!=null&&(E=Ve.values(v,g,b,y),Te=Se.values(v,g,b,y));let te=R*ve,se=z*ve;for(let ke=j==1?b:y;ke>=b&&ke<=y;ke+=j){let Pe=E[ke];if(Pe===void 0)continue;let oe=w.distr!=2||c!=null?_[ke]:ke,$e=T(oe,w,B,k),qe=S(vn(Pe,ge),M,H,L);Te!=null&&Pe!=null&&(ie=S(Te[ke],M,H,L));let et=D($e-me),lt=D(yr(qe,ie)),wt=D(ti(qe,ie)),Et=lt-wt;if(Pe!=null){let Xt=Pe<0?se:te,pn=Pe<0?te:se;Be?(De>0&&at[ke]!=null&&N(Ue.get(at[ke]),et,wt+sa(De/2),ve,yr(0,Et-De),Xt,pn),nt[ke]!=null&&N(Me.get(nt[ke]),et,wt+sa(De/2),ve,yr(0,Et-De),Xt,pn)):N(ee,et,wt+sa(De/2),ve,yr(0,Et-De),Xt,pn),U(v,g,ke,et-De/2,wt,ve+De,Et)}Z!=0&&(I*Z==1?(lt=wt,wt=ae):(wt=lt,lt=ae),Et=lt-wt,N(xe,et-De/2,wt,ve+De,yr(0,Et),0,0))}return De>0&&(X.stroke=Be?Ue:ee),X.fill=Be?Me:ee,X})}function Fte(e,t){const n=vn(t==null?void 0:t.alignGaps,0);return(r,i,a,s)=>tl(r,i,(o,u,c,f,h,p,v,g,b,y,x)=>{let _=o.pxRound,E=N=>_(p(N,f,y,g)),w=N=>_(v(N,h,x,b)),M,T,S;f.ori==0?(M=pp,S=Cc,T=yM):(M=gp,S=Tc,T=wM);const k=f.dir*(f.ori==0?1:-1);a=lc(c,a,s,1),s=lc(c,a,s,-1);let L=E(u[k==1?a:s]),B=L,H=[],D=[];for(let N=k==1?a:s;N>=a&&N<=s;N+=k)if(c[N]!=null){let Y=u[N],Z=E(Y);H.push(B=Z),D.push(w(c[N]))}const R={stroke:e(H,D,M,S,T,_),fill:null,clip:null,band:null,gaps:null,flags:K0},z=R.stroke;let[j,I]=dp(r,i);if(o.fill!=null||j!=0){let N=R.fill=new Path2D(z),U=o.fillTo(r,i,o.min,o.max,j),Y=w(U);S(N,B,Y),S(N,L,Y)}if(!o.spanGaps){let N=[];N.push(...x3(u,c,a,s,k,E,n)),R.gaps=N=o.gaps(r,i,a,s,N),R.clip=hp(N,f.ori,g,b,y,x)}return I!=0&&(R.band=I==2?[Ws(r,i,a,s,z,-1),Ws(r,i,a,s,z,1)]:Ws(r,i,a,s,z,I)),R})}function Dte(e){return Fte(Hte,e)}function Hte(e,t,n,r,i,a){const s=e.length;if(s<2)return null;const o=new Path2D;if(n(o,e[0],t[0]),s==2)r(o,e[1],t[1]);else{let u=Array(s),c=Array(s-1),f=Array(s-1),h=Array(s-1);for(let p=0;p<s-1;p++)f[p]=t[p+1]-t[p],h[p]=e[p+1]-e[p],c[p]=f[p]/h[p];u[0]=c[0];for(let p=1;p<s-1;p++)c[p]===0||c[p-1]===0||c[p-1]>0!=c[p]>0?u[p]=0:(u[p]=3*(h[p-1]+h[p])/((2*h[p]+h[p-1])/c[p-1]+(h[p]+2*h[p-1])/c[p]),isFinite(u[p])||(u[p]=0));u[s-1]=c[s-2];for(let p=0;p<s-1;p++)i(o,e[p]+h[p]/3,t[p]+u[p]*h[p]/3,e[p+1]-h[p]/3,t[p+1]-u[p+1]*h[p]/3,e[p+1],t[p+1])}return o}const Sm=new Set;function e8(){for(let e of Sm)e.syncRect(!0)}Mc&&(Ao(mee,Yl,e8),Ao(bee,Yl,e8,!0),Ao(b1,Yl,()=>{Kr.pxRatio=dn}));const zte=MM(),Vte=_M();function t8(e,t,n,r){return(r?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((a,s)=>Pm(a,s,t,n))}function Ute(e,t){return e.map((n,r)=>r==0?null:hr({},t,n))}function Pm(e,t,n,r){return hr({},t==0?n:r,e)}function CM(e,t,n){return t==null?dc:[t,n]}const Wte=CM;function jte(e,t,n){return t==null?dc:y1(t,n,v3,!0)}function TM(e,t,n,r){return t==null?dc:cp(t,n,e.scales[r].log,!1)}const qte=TM;function EM(e,t,n,r){return t==null?dc:g3(t,n,e.scales[r].log,!1)}const Kte=EM;function Gte(e,t,n,r,i){let a=yr(I4(e),I4(t)),s=t-e,o=Co(i/r*s,n);do{let u=n[o],c=r*u/s;if(c>=i&&a+(u<5?up.get(u):0)<=17)return[u,c]}while(++o<n.length);return[0,0]}function n8(e){let t,n;return e=e.replace(/(\d+)px/,(r,i)=>(t=kr((n=+i)*dn))+"px"),[e,t,n]}function Yte(e){e.show&&[e.font,e.labelFont].forEach(t=>{let n=En(t[2]*dn,1);t[0]=t[0].replace(/[0-9.]+px/,n+"px"),t[1]=n})}function Kr(e,t,n){const r={mode:vn(e.mode,1)},i=r.mode;function a(A,$){return(($.distr==3?Us(A>0?A:$.clamp(r,A,$.min,$.max,$.key)):$.distr==4?Zg(A,$.asinh):A)-$._min)/($._max-$._min)}function s(A,$,q,K){let ne=a(A,$);return K+q*($.dir==-1?1-ne:ne)}function o(A,$,q,K){let ne=a(A,$);return K+q*($.dir==-1?ne:1-ne)}function u(A,$,q,K){return $.ori==0?s(A,$,q,K):o(A,$,q,K)}r.valToPosH=s,r.valToPosV=o;let c=!1;r.status=0;const f=r.root=Zi(QZ);if(e.id!=null&&(f.id=e.id),Ni(f,e.class),e.title){let A=Zi(tee,f);A.textContent=e.title}const h=$s("canvas"),p=r.ctx=h.getContext("2d"),v=Zi(nee,f);Ao("click",v,A=>{(Mn!=io||On!=ms)&&vr.click(r,A)},!0);const g=r.under=Zi(ree,v);v.appendChild(h);const b=r.over=Zi(iee,v);e=D0(e);const y=+vn(e.pxAlign,1),x=Z4(y);(e.plugins||[]).forEach(A=>{A.opts&&(e=A.opts(r,e)||e)});const _=e.ms||.001,E=r.series=i==1?t8(e.series||[],K4,J4,!1):Ute(e.series||[null],X4),w=r.axes=t8(e.axes||[],q4,G4,!0),M=r.scales={},T=r.bands=e.bands||[];T.forEach(A=>{A.fill=nn(A.fill||null),A.dir=vn(A.dir,-1)});const S=i==2?E[1].facets[0].scale:E[0].scale,k={axes:ad,series:ed},L=(e.drawOrder||["axes","series"]).map(A=>k[A]);function B(A){let $=M[A];if($==null){let q=(e.scales||Xu)[A]||Xu;if(q.from!=null)B(q.from),M[A]=hr({},M[q.from],q,{key:A});else{$=M[A]=hr({},A==S?pM:Ote,q),$.key=A;let K=$.time,ne=$.range,ye=A0(ne);if((A!=S||i==2&&!K)&&(ye&&(ne[0]==null||ne[1]==null)&&(ne={min:ne[0]==null?k4:{mode:1,hard:ne[0],soft:ne[0]},max:ne[1]==null?k4:{mode:1,hard:ne[1],soft:ne[1]}},ye=!1),!ye&&fp(ne))){let Fe=ne;ne=(Ge,rt,bt)=>rt==null?dc:y1(rt,bt,Fe)}$.range=nn(ne||(K?Wte:A==S?$.distr==3?qte:$.distr==4?Kte:CM:$.distr==3?TM:$.distr==4?EM:jte)),$.auto=nn(ye?!1:$.auto),$.clamp=nn($.clamp||kte),$._min=$._max=null}}}B("x"),B("y"),i==1&&E.forEach(A=>{B(A.scale)}),w.forEach(A=>{B(A.scale)});for(let A in e.scales)B(A);const H=M[S],D=H.distr;let R,z;H.ori==0?(Ni(f,ZZ),R=s,z=o):(Ni(f,eee),R=o,z=s);const j={};for(let A in M){let $=M[A];($.min!=null||$.max!=null)&&(j[A]={min:$.min,max:$.max},$.min=$.max=null)}const I=e.tzDate||(A=>new Date(kr(A/_))),N=e.fmtDate||b3,U=_==1?ete(I):rte(I),Y=U4(I,V4(_==1?Zee:nte,N)),Z=j4(I,W4(ate,N)),ge=[],ie=r.legend=hr({},lte,e.legend),me=ie.show,ve=ie.markers;ie.idxs=ge,ve.width=nn(ve.width),ve.dash=nn(ve.dash),ve.stroke=nn(ve.stroke),ve.fill=nn(ve.fill);let De,Be=[],nt=[],Me,at=!1,Ue={};if(ie.live){const A=E[1]?E[1].values:null;at=A!=null,Me=at?A(r,1,0):{_:0};for(let $ in Me)Ue[$]=h3}if(me)if(De=$s("table",uee,f),ie.mount(r,De),at){let A=$s("tr",hee,De);$s("th",null,A);for(var Xe in Me)$s("th",b4,A).textContent=Xe}else Ni(De,dee),ie.live&&Ni(De,fee);const W={show:!0},X={show:!1};function ae(A,$){if($==0&&(at||!ie.live||i==2))return dc;let q=[],K=$s("tr",pee,De,De.childNodes[$]);Ni(K,A.class),A.show||Ni(K,P0);let ne=$s("th",null,K);if(ve.show){let Ge=Zi(gee,ne);if($>0){let rt=ve.width(r,$);rt&&(Ge.style.border=rt+"px "+ve.dash(r,$)+" "+ve.stroke(r,$)),Ge.style.background=ve.fill(r,$)}}let ye=Zi(b4,ne);ye.textContent=A.label,$>0&&(ve.show||(ye.style.color=A.width>0?ve.stroke(r,$):ve.fill(r,$)),xe("click",ne,Ge=>{if(tt._lock)return;let rt=E.indexOf(A);if((Ge.ctrlKey||Ge.metaKey)!=ie.isolate){let bt=E.some((Ke,ft)=>ft>0&&ft!=rt&&Ke.show);E.forEach((Ke,ft)=>{ft>0&&zi(ft,bt?ft==rt?W:X:W,!0,$n.setSeries)})}else zi(rt,{show:!A.show},!0,$n.setSeries)}),be&&xe(M4,ne,Ge=>{tt._lock||zi(E.indexOf(A),so,!0,$n.setSeries)}));for(var Fe in Me){let Ge=$s("td",vee,K);Ge.textContent="--",q.push(Ge)}return[K,q]}const ee=new Map;function xe(A,$,q){const K=ee.get($)||{},ne=tt.bind[A](r,$,q);ne&&(Ao(A,$,K[A]=ne),ee.set($,K))}function Se(A,$,q){const K=ee.get($)||{};for(let ne in K)(A==null||ne==A)&&(Tm(ne,$,K[ne]),delete K[ne]);A==null&&ee.delete($)}let Ve=0,Te=0,te=0,se=0,ke=0,Pe=0,oe=0,$e=0,qe=0,et=0;r.bbox={};let lt=!1,wt=!1,Et=!1,Xt=!1,pn=!1,Ft=!1;function Wt(A,$,q){(q||A!=r.width||$!=r.height)&&Ot(A,$),Qo(!1),Et=!0,wt=!0,tt.left>=0&&(Xt=Ft=!0),za()}function Ot(A,$){r.width=Ve=te=A,r.height=Te=se=$,ke=Pe=0,it(),_t();let q=r.bbox;oe=q.left=C0(ke*dn,.5),$e=q.top=C0(Pe*dn,.5),qe=q.width=C0(te*dn,.5),et=q.height=C0(se*dn,.5)}const Bt=3;function de(){let A=!1,$=0;for(;!A;){$++;let q=id($),K=al($);A=$==Bt||q&&K,A||(Ot(r.width,r.height),wt=!0)}}function Ne({width:A,height:$}){Wt(A,$)}r.setSize=Ne;function it(){let A=!1,$=!1,q=!1,K=!1;w.forEach((ne,ye)=>{if(ne.show&&ne._show){let{side:Fe,_size:Ge}=ne,rt=Fe%2,bt=ne.label!=null?ne.labelSize:0,Ke=Ge+bt;Ke>0&&(rt?(te-=Ke,Fe==3?(ke+=Ke,K=!0):q=!0):(se-=Ke,Fe==0?(Pe+=Ke,A=!0):$=!0))}}),zt[0]=A,zt[1]=q,zt[2]=$,zt[3]=K,te-=Vt[1]+Vt[3],ke+=Vt[3],se-=Vt[2]+Vt[0],Pe+=Vt[0]}function _t(){let A=ke+te,$=Pe+se,q=ke,K=Pe;function ne(ye,Fe){switch(ye){case 1:return A+=Fe,A-Fe;case 2:return $+=Fe,$-Fe;case 3:return q-=Fe,q+Fe;case 0:return K-=Fe,K+Fe}}w.forEach((ye,Fe)=>{if(ye.show&&ye._show){let Ge=ye.side;ye._pos=ne(Ge,ye._size),ye.label!=null&&(ye._lpos=ne(Ge,ye.labelSize))}})}const tt=r.cursor=hr({},gte,{drag:{y:i==2}},e.cursor);{tt.idxs=ge,tt._lock=!1;let A=tt.points;A.show=nn(A.show),A.size=nn(A.size),A.stroke=nn(A.stroke),A.width=nn(A.width),A.fill=nn(A.fill)}const J=r.focus=hr({},e.focus||{alpha:.3},tt.focus);J.bias!=0&&(J.prox=1e5);const be=J.prox>=0;let he=[null];function we(A,$){if($>0){let q=tt.points.show(r,$);if(q)return Ni(q,cee),Ni(q,A.class),Pl(q,-10,-10,te,se),b.insertBefore(q,he[$]),q}}function Ce(A,$){if(i==1||$>0){let q=i==1&&M[A.scale].time,K=A.value;A.value=q?R4(K)?j4(I,W4(K,N)):K||Z:K||Ste,A.label=A.label||(q?bte:mte)}if($>0){A.width=A.width==null?1:A.width,A.paths=A.paths||zte||kee,A.fillTo=nn(A.fillTo||Nte),A.pxAlign=+vn(A.pxAlign,y),A.pxRound=Z4(A.pxAlign),A.stroke=nn(A.stroke||null),A.fill=nn(A.fill||null),A._stroke=A._fill=A._paths=A._focus=null;let q=Pte(yr(1,A.width),1),K=A.points=hr({},{size:q,width:yr(1,q*.2),stroke:A.stroke,space:q*2,paths:Vte,_stroke:null,_fill:null},A.points);K.show=nn(K.show),K.filter=nn(K.filter),K.fill=nn(K.fill),K.stroke=nn(K.stroke),K.paths=nn(K.paths),K.pxAlign=A.pxAlign}if(me){let q=ae(A,$);Be.splice($,0,q[0]),nt.splice($,0,q[1]),ie.values.push(null)}if(tt.show){ge.splice($,0,null);let q=we(A,$);q&&he.splice($,0,q)}$t("addSeries",$)}function Ye(A,$){$=$??E.length,A=i==1?Pm(A,$,K4,J4):Pm(A,$,null,X4),E.splice($,0,A),Ce(E[$],$)}r.addSeries=Ye;function mt(A){if(E.splice(A,1),me){ie.values.splice(A,1),nt.splice(A,1);let $=Be.splice(A,1)[0];Se(null,$.firstChild),$.remove()}tt.show&&(ge.splice(A,1),he.length>1&&he.splice(A,1)[0].remove()),$t("delSeries",A)}r.delSeries=mt;const zt=[!1,!1,!1,!1];function dt(A,$){if(A._show=A.show,A.show){let q=A.side%2,K=M[A.scale];K==null&&(A.scale=q?E[1].scale:S,K=M[A.scale]);let ne=K.time;A.size=nn(A.size),A.space=nn(A.space),A.rotate=nn(A.rotate),A.incrs=nn(A.incrs||(K.distr==2?Yee:ne?_==1?Qee:tte:Xee)),A.splits=nn(A.splits||(ne&&K.distr==1?U:K.distr==3?Em:K.distr==4?_te:wte)),A.stroke=nn(A.stroke),A.grid.stroke=nn(A.grid.stroke),A.ticks.stroke=nn(A.ticks.stroke),A.border.stroke=nn(A.border.stroke);let ye=A.values;A.values=A0(ye)&&!A0(ye[0])?nn(ye):ne?A0(ye)?U4(I,V4(ye,N)):R4(ye)?ite(I,ye):ye||Y:ye||yte,A.filter=nn(A.filter||(K.distr>=3&&K.log==10?Ete:Jx)),A.font=n8(A.font),A.labelFont=n8(A.labelFont),A._size=A.size(r,null,$,0),A._space=A._rotate=A._incrs=A._found=A._splits=A._values=null,A._size>0&&(zt[$]=!0,A._el=Zi(aee,v))}}function Pt(A,$,q,K){let[ne,ye,Fe,Ge]=q,rt=$%2,bt=0;return rt==0&&(Ge||ye)&&(bt=$==0&&!ne||$==2&&!Fe?kr(q4.size/3):0),rt==1&&(ne||Fe)&&(bt=$==1&&!ye||$==3&&!Ge?kr(G4.size/2):0),bt}const Zt=r.padding=(e.padding||[Pt,Pt,Pt,Pt]).map(A=>nn(vn(A,Pt))),Vt=r._padding=Zt.map((A,$)=>A(r,$,zt,0));let yt,Nt=null,bn=null;const Wn=i==1?E[0].idxs:null;let ir=null,Bn=!1;function en(A,$){if(t=A==null?[]:D0(A,F4),i==2){yt=0;for(let q=1;q<E.length;q++)yt+=t[q][0].length;r.data=t=A}else if(t[0]==null&&(t[0]=[]),r.data=t.slice(),ir=t[0],yt=ir.length,D==2){t[0]=Array(yt);for(let q=0;q<yt;q++)t[0][q]=q}if(r._data=t,Qo(!0),$t("setData"),D==2&&(Et=!0),$!==!1){let q=H;q.auto(r,Bn)?Hi():ao(S,q.min,q.max),Xt=tt.left>=0,Ft=!0,za()}}r.setData=en;function Hi(){Bn=!0;let A,$;i==1&&(yt>0?(Nt=Wn[0]=0,bn=Wn[1]=yt-1,A=t[0][Nt],$=t[0][bn],D==2?(A=Nt,$=bn):yt==1&&(D==3?[A,$]=cp(A,A,H.log,!1):D==4?[A,$]=g3(A,A,H.log,!1):H.time?$=A+kr(86400/_):[A,$]=y1(A,$,v3,!0))):(Nt=Wn[0]=A=null,bn=Wn[1]=$=null)),ao(S,A,$)}let vs,to,kc,Oc,Nc,Ic,Lc,no,Bc,Ha;function Xf(A,$,q,K,ne,ye){A??(A=w4),q??(q=Zx),K??(K="butt"),ne??(ne=w4),ye??(ye="round"),A!=vs&&(p.strokeStyle=vs=A),ne!=to&&(p.fillStyle=to=ne),$!=kc&&(p.lineWidth=kc=$),ye!=Nc&&(p.lineJoin=Nc=ye),K!=Ic&&(p.lineCap=Ic=K),q!=Oc&&p.setLineDash(Oc=q)}function Jf(A,$,q,K){$!=to&&(p.fillStyle=to=$),A!=Lc&&(p.font=Lc=A),q!=no&&(p.textAlign=no=q),K!=Bc&&(p.textBaseline=Bc=K)}function $c(A,$,q,K,ne=0){if(K.length>0&&A.auto(r,Bn)&&($==null||$.min==null)){let ye=vn(Nt,0),Fe=vn(bn,K.length-1),Ge=q.min==null?A.distr==3?Mee(K,ye,Fe):xee(K,ye,Fe,ne):[q.min,q.max];A.min=ti(A.min,q.min=Ge[0]),A.max=yr(A.max,q.max=Ge[1])}}function Qf(){let A=D0(M,F4);for(let K in A){let ne=A[K],ye=j[K];if(ye!=null&&ye.min!=null)hr(ne,ye),K==S&&Qo(!0);else if(K!=S||i==2)if(yt==0&&ne.from==null){let Fe=ne.range(r,null,null,K);ne.min=Fe[0],ne.max=Fe[1]}else ne.min=sn,ne.max=-sn}if(yt>0){E.forEach((K,ne)=>{if(i==1){let ye=K.scale,Fe=A[ye],Ge=j[ye];if(ne==0){let rt=Fe.range(r,Fe.min,Fe.max,ye);Fe.min=rt[0],Fe.max=rt[1],Nt=Co(Fe.min,t[0]),bn=Co(Fe.max,t[0]),bn-Nt>1&&(t[0][Nt]<Fe.min&&Nt++,t[0][bn]>Fe.max&&bn--),K.min=ir[Nt],K.max=ir[bn]}else K.show&&K.auto&&$c(Fe,Ge,K,t[ne],K.sorted);K.idxs[0]=Nt,K.idxs[1]=bn}else if(ne>0&&K.show&&K.auto){let[ye,Fe]=K.facets,Ge=ye.scale,rt=Fe.scale,[bt,Ke]=t[ne];$c(A[Ge],j[Ge],ye,bt,ye.sorted),$c(A[rt],j[rt],Fe,Ke,Fe.sorted),K.min=Fe.min,K.max=Fe.max}});for(let K in A){let ne=A[K],ye=j[K];if(ne.from==null&&(ye==null||ye.min==null)){let Fe=ne.range(r,ne.min==sn?null:ne.min,ne.max==-sn?null:ne.max,K);ne.min=Fe[0],ne.max=Fe[1]}}}for(let K in A){let ne=A[K];if(ne.from!=null){let ye=A[ne.from];if(ye.min==null)ne.min=ne.max=null;else{let Fe=ne.range(r,ye.min,ye.max,K);ne.min=Fe[0],ne.max=Fe[1]}}}let $={},q=!1;for(let K in A){let ne=A[K],ye=M[K];if(ye.min!=ne.min||ye.max!=ne.max){ye.min=ne.min,ye.max=ne.max;let Fe=ye.distr;ye._min=Fe==3?Us(ye.min):Fe==4?Zg(ye.min,ye.asinh):ye.min,ye._max=Fe==3?Us(ye.max):Fe==4?Zg(ye.max,ye.asinh):ye.max,$[K]=q=!0}}if(q){E.forEach((K,ne)=>{i==2?ne>0&&$.y&&(K._paths=null):$[K.scale]&&(K._paths=null)});for(let K in $)Et=!0,$t("setScale",K);tt.show&&tt.left>=0&&(Xt=Ft=!0)}for(let K in j)j[K]=null}function Zf(A){let $=L4(Nt-1,0,yt-1),q=L4(bn+1,0,yt-1);for(;A[$]==null&&$>0;)$--;for(;A[q]==null&&q<yt-1;)q++;return[$,q]}function ed(){yt>0&&(E.forEach((A,$)=>{if($>0&&A.show&&A._paths==null){let q=i==2?[0,t[$][0].length-1]:Zf(t[$]);A._paths=A.paths(r,$,q[0],q[1])}}),E.forEach((A,$)=>{if($>0&&A.show){Ha!=A.alpha&&(p.globalAlpha=Ha=A.alpha),td($,!1),A._paths&&nd($,!1);{td($,!0);let q=A._paths?A._paths.gaps:null,K=A.points.show(r,$,Nt,bn,q),ne=A.points.filter(r,$,K,q);(K||ne)&&(A.points._paths=A.points.paths(r,$,Nt,bn,ne),nd($,!0))}Ha!=1&&(p.globalAlpha=Ha=1),$t("drawSeries",$)}}))}function td(A,$){let q=$?E[A].points:E[A];q._stroke=q.stroke(r,A),q._fill=q.fill(r,A)}function nd(A,$){let q=$?E[A].points:E[A],K=q._stroke,ne=q._fill,{stroke:ye,fill:Fe,clip:Ge,flags:rt}=q._paths,bt=null,Ke=En(q.width*dn,3),ft=Ke%2/2;$&&ne==null&&(ne=Ke>0?"#fff":K);let Rt=q.pxAlign==1;if(Rt&&p.translate(ft,ft),!$){let Vn=oe,xt=$e,un=qe,It=et,fn=Ke*dn/2;q.min==0&&(It+=fn),q.max==0&&(xt-=fn,It+=fn),bt=new Path2D,bt.rect(Vn,xt,un,It)}$?il(K,Ke,q.dash,q.cap,ne,ye,Fe,rt,Ge):Mp(A,K,Ke,q.dash,q.cap,ne,ye,Fe,rt,bt,Ge),Rt&&p.translate(-ft,-ft)}function Mp(A,$,q,K,ne,ye,Fe,Ge,rt,bt,Ke){let ft=!1;T.forEach((Rt,Vn)=>{if(Rt.series[0]==A){let xt=E[Rt.series[1]],un=t[Rt.series[1]],It=(xt._paths||Xu).band;A0(It)&&(It=Rt.dir==1?It[0]:It[1]);let fn,jn=null;xt.show&&It&&Tee(un,Nt,bn)?(jn=Rt.fill(r,Vn)||ye,fn=xt._paths.clip):It=null,il($,q,K,ne,jn,Fe,Ge,rt,bt,Ke,fn,It),ft=!0}}),ft||il($,q,K,ne,ye,Fe,Ge,rt,bt,Ke)}const rd=K0|x1;function il(A,$,q,K,ne,ye,Fe,Ge,rt,bt,Ke,ft){Xf(A,$,q,K,ne),(rt||bt||ft)&&(p.save(),rt&&p.clip(rt),bt&&p.clip(bt)),ft?(Ge&rd)==rd?(p.clip(ft),Ke&&p.clip(Ke),Jo(ne,Fe),Xo(A,ye,$)):Ge&x1?(Jo(ne,Fe),p.clip(ft),Xo(A,ye,$)):Ge&K0&&(p.save(),p.clip(ft),Ke&&p.clip(Ke),Jo(ne,Fe),p.restore(),Xo(A,ye,$)):(Jo(ne,Fe),Xo(A,ye,$)),(rt||bt||ft)&&p.restore()}function Xo(A,$,q){q>0&&($ instanceof Map?$.forEach((K,ne)=>{p.strokeStyle=vs=ne,p.stroke(K)}):$!=null&&A&&p.stroke($))}function Jo(A,$){$ instanceof Map?$.forEach((q,K)=>{p.fillStyle=to=K,p.fill(q)}):$!=null&&A&&p.fill($)}function Rc(A,$,q,K){let ne=w[A],ye;if(K<=0)ye=[0,0];else{let Fe=ne._space=ne.space(r,A,$,q,K),Ge=ne._incrs=ne.incrs(r,A,$,q,K,Fe);ye=Gte($,q,Ge,K,Fe)}return ne._found=ye}function Fc(A,$,q,K,ne,ye,Fe,Ge,rt,bt){let Ke=Fe%2/2;y==1&&p.translate(Ke,Ke),Xf(Ge,Fe,rt,bt,Ge),p.beginPath();let ft,Rt,Vn,xt,un=ne+(K==0||K==3?-ye:ye);q==0?(Rt=ne,xt=un):(ft=ne,Vn=un);for(let It=0;It<A.length;It++)$[It]!=null&&(q==0?ft=Vn=A[It]:Rt=xt=A[It],p.moveTo(ft,Rt),p.lineTo(Vn,xt));p.stroke(),y==1&&p.translate(-Ke,-Ke)}function id(A){let $=!0;return w.forEach((q,K)=>{if(!q.show)return;let ne=M[q.scale];if(ne.min==null){q._show&&($=!1,q._show=!1,Qo(!1));return}else q._show||($=!1,q._show=!0,Qo(!1));let ye=q.side,Fe=ye%2,{min:Ge,max:rt}=ne,[bt,Ke]=Rc(K,Ge,rt,Fe==0?te:se);if(Ke==0)return;let ft=ne.distr==2,Rt=q._splits=q.splits(r,K,Ge,rt,bt,Ke,ft),Vn=ne.distr==2?Rt.map(fn=>ir[fn]):Rt,xt=ne.distr==2?ir[Rt[1]]-ir[Rt[0]]:bt,un=q._values=q.values(r,q.filter(r,Vn,K,Ke,xt),K,Ke,xt);q._rotate=ye==2?q.rotate(r,un,K,Ke):0;let It=q._size;q._size=w1(q.size(r,un,K,A)),It!=null&&q._size!=It&&($=!1)}),$}function al(A){let $=!0;return Zt.forEach((q,K)=>{let ne=q(r,K,zt,A);ne!=Vt[K]&&($=!1),Vt[K]=ne}),$}function ad(){for(let A=0;A<w.length;A++){let $=w[A];if(!$.show||!$._show)continue;let q=$.side,K=q%2,ne,ye,Fe=$.stroke(r,A),Ge=q==0||q==3?-1:1;if($.label){let Ti=$.labelGap*Ge,ya=kr(($._lpos+Ti)*dn);Jf($.labelFont[0],Fe,"center",q==2?bu:y4),p.save(),K==1?(ne=ye=0,p.translate(ya,kr($e+et/2)),p.rotate((q==3?-zh:zh)/2)):(ne=kr(oe+qe/2),ye=ya),p.fillText($.label,ne,ye),p.restore()}let[rt,bt]=$._found;if(bt==0)continue;let Ke=M[$.scale],ft=K==0?qe:et,Rt=K==0?oe:$e,Vn=kr($.gap*dn),xt=$._splits,un=Ke.distr==2?xt.map(Ti=>ir[Ti]):xt,It=Ke.distr==2?ir[xt[1]]-ir[xt[0]]:rt,fn=$.ticks,jn=$.border,Dr=fn.show?kr(fn.size*dn):0,Cn=$._rotate*-zh/180,Xn=x($._pos*dn),Mr=(Dr+Vn)*Ge,qn=Xn+Mr;ye=K==0?qn:0,ne=K==1?qn:0;let Jn=$.font[0],Ci=$.align==1?Sl:$.align==2?Jg:Cn>0?Sl:Cn<0?Jg:K==0?"center":q==3?Jg:Sl,Wa=Cn||K==1?"middle":q==2?bu:y4;Jf(Jn,Fe,Ci,Wa);let fl=$.font[1]*vte,a0=xt.map(Ti=>x(u(Ti,Ke,ft,Rt))),ma=$._values;for(let Ti=0;Ti<ma.length;Ti++){let ya=ma[Ti];if(ya!=null){K==0?ne=a0[Ti]:ye=a0[Ti],ya=""+ya;let ud=ya.indexOf(`
`)==-1?[ya]:ya.split(/\n/gm);for(let Ui=0;Ui<ud.length;Ui++){let ai=ud[Ui];Cn?(p.save(),p.translate(ne,ye+Ui*fl),p.rotate(Cn),p.fillText(ai,0,0),p.restore()):p.fillText(ai,ne,ye+Ui*fl)}}}fn.show&&Fc(a0,fn.filter(r,un,A,bt,It),K,q,Xn,Dr,En(fn.width*dn,3),fn.stroke(r,A),fn.dash,fn.cap);let ba=$.grid;ba.show&&Fc(a0,ba.filter(r,un,A,bt,It),K,K==0?2:1,K==0?$e:oe,K==0?et:qe,En(ba.width*dn,3),ba.stroke(r,A),ba.dash,ba.cap),jn.show&&Fc([Xn],[1],K==0?1:0,K==0?1:2,K==1?$e:oe,K==1?et:qe,En(jn.width*dn,3),jn.stroke(r,A),jn.dash,jn.cap)}$t("drawAxes")}function Qo(A){E.forEach(($,q)=>{q>0&&($._paths=null,A&&(i==1?($.min=null,$.max=null):$.facets.forEach(K=>{K.min=null,K.max=null})))})}let sl=!1;function za(){sl||(Hee(Dc),sl=!0)}function Dc(){lt&&(Qf(),lt=!1),Et&&(de(),Et=!1),wt&&(Un(g,Sl,ke),Un(g,bu,Pe),Un(g,Ou,te),Un(g,Nu,se),Un(b,Sl,ke),Un(b,bu,Pe),Un(b,Ou,te),Un(b,Nu,se),Un(v,Ou,Ve),Un(v,Nu,Te),h.width=kr(Ve*dn),h.height=kr(Te*dn),w.forEach(({_el:A,_show:$,_size:q,_pos:K,side:ne})=>{if(A!=null)if($){let ye=ne===3||ne===0?q:0,Fe=ne%2==1;Un(A,Fe?"left":"top",K-ye),Un(A,Fe?"width":"height",q),Un(A,Fe?"top":"left",Fe?Pe:ke),Un(A,Fe?"height":"width",Fe?se:te),Cm(A,P0)}else Ni(A,P0)}),vs=to=kc=Nc=Ic=Lc=no=Bc=Oc=null,Ha=1,i0(!0),$t("setSize"),wt=!1),Ve>0&&Te>0&&(p.clearRect(0,0,h.width,h.height),$t("drawClear"),L.forEach(A=>A()),$t("draw")),Fr.show&&pn&&(ll(Fr),pn=!1),tt.show&&Xt&&(Ua(null,!0,!1),Xt=!1),ie.show&&ie.live&&Ft&&(r0(),Ft=!1),c||(c=!0,r.status=1,$t("ready")),Bn=!1,sl=!1}r.redraw=(A,$)=>{Et=$||!1,A!==!1?ao(S,H.min,H.max):za()};function Hc(A,$){let q=M[A];if(q.from==null){if(yt==0){let K=q.range(r,$.min,$.max,A);$.min=K[0],$.max=K[1]}if($.min>$.max){let K=$.min;$.min=$.max,$.max=K}if(yt>1&&$.min!=null&&$.max!=null&&$.max-$.min<1e-16)return;A==S&&q.distr==2&&yt>0&&($.min=Co($.min,t[0]),$.max=Co($.max,t[0]),$.min==$.max&&$.max++),j[A]=$,lt=!0,za()}}r.setScale=Hc;let ol,Zo,ro,pa,zc,Vc,io,ms,Uc,Wc,Mn,On,Va=!1;const vr=tt.drag;let ar=vr.x,fr=vr.y;tt.show&&(tt.x&&(ol=Zi(oee,b)),tt.y&&(Zo=Zi(lee,b)),H.ori==0?(ro=ol,pa=Zo):(ro=Zo,pa=ol),Mn=tt.left,On=tt.top);const Fr=r.select=hr({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),e0=Fr.show?Zi(see,Fr.over?b:g):null;function ll(A,$){if(Fr.show){for(let q in A)Fr[q]=A[q],q in Kc&&Un(e0,q,A[q]);$!==!1&&$t("setSelect")}}r.setSelect=ll;function jc(A,$){let q=E[A],K=me?Be[A]:null;q.show?K&&Cm(K,P0):(K&&Ni(K,P0),he.length>1&&Pl(he[A],-10,-10,te,se))}function ao(A,$,q){Hc(A,{min:$,max:q})}function zi(A,$,q,K){$.focus!=null&&Sp(A),$.show!=null&&E.forEach((ne,ye)=>{ye>0&&(A==ye||A==null)&&(ne.show=$.show,jc(ye,$.show),ao(i==2?ne.facets[1].scale:ne.scale,null,null),za())}),q!==!1&&$t("setSeries",A,$),K&&ws("setSeries",r,A,$)}r.setSeries=zi;function Cp(A,$){hr(T[A],$)}function Tp(A,$){A.fill=nn(A.fill||null),A.dir=vn(A.dir,-1),$=$??T.length,T.splice($,0,A)}function Ep(A){A==null?T.length=0:T.splice(A,1)}r.addBand=Tp,r.setBand=Cp,r.delBand=Ep;function Nn(A,$){E[A].alpha=$,tt.show&&he[A]&&(he[A].style.opacity=$),me&&Be[A]&&(Be[A].style.opacity=$)}let cn,t0,n0;const so={focus:!0};function Sp(A){if(A!=n0){let $=A==null,q=J.alpha!=1;E.forEach((K,ne)=>{let ye=$||ne==0||ne==A;K._focus=$?null:ye,q&&Nn(ne,ye?1:J.alpha)}),n0=A,q&&za()}}me&&be&&Ao(C4,De,A=>{tt._lock||n0!=null&&zi(null,so,!0,$n.setSeries)});function Vi(A,$,q){let K=M[$];q&&(A=A/dn-(K.ori==1?Pe:ke));let ne=te;K.ori==1&&(ne=se,A=ne-A),K.dir==-1&&(A=ne-A);let ye=K._min,Fe=K._max,Ge=A/ne,rt=ye+(Fe-ye)*Ge,bt=K.distr;return bt==3?cc(10,rt):bt==4?See(rt,K.asinh):rt}function Pp(A,$){let q=Vi(A,S,$);return Co(q,t[0],Nt,bn)}r.valToIdx=A=>Co(A,t[0]),r.posToIdx=Pp,r.posToVal=Vi,r.valToPos=(A,$,q)=>M[$].ori==0?s(A,M[$],q?qe:te,q?oe:0):o(A,M[$],q?et:se,q?$e:0);function sd(A){A(r),za()}r.batch=sd,r.setCursor=(A,$,q)=>{Mn=A.left,On=A.top,Ua(null,$,q)};function od(A,$){Un(e0,Sl,Fr.left=A),Un(e0,Ou,Fr.width=$)}function dr(A,$){Un(e0,bu,Fr.top=A),Un(e0,Nu,Fr.height=$)}let bs=H.ori==0?od:dr,Mi=H.ori==1?od:dr;function ld(){if(me&&ie.live)for(let A=i==2?1:0;A<E.length;A++){if(A==0&&at)continue;let $=ie.values[A],q=0;for(let K in $)nt[A][q++].firstChild.nodeValue=$[K]}}function r0(A,$){A!=null&&(A.idxs?A.idxs.forEach((q,K)=>{ge[K]=q}):Iee(A.idx)||ge.fill(A.idx),ie.idx=ge[0]);for(let q=0;q<E.length;q++)(q>0||i==1&&!at)&&ii(q,ge[q]);me&&ie.live&&ld(),Ft=!1,$!==!1&&$t("setLegend")}r.setLegend=r0;function ii(A,$){let q=E[A],K=A==0&&D==2?ir:t[A],ne;at?ne=q.values(r,A,$)??Ue:(ne=q.value(r,$==null?null:K[$],A,$),ne=ne==null?Ue:{_:ne}),ie.values[A]=ne}function Ua(A,$,q){Uc=Mn,Wc=On,[Mn,On]=tt.move(r,Mn,On),tt.show&&(ro&&Pl(ro,kr(Mn),0,te,se),pa&&Pl(pa,0,kr(On),te,se));let K,ne=Nt>bn;cn=sn;let ye=H.ori==0?te:se,Fe=H.ori==1?te:se;if(Mn<0||yt==0||ne){K=null;for(let Ge=0;Ge<E.length;Ge++)Ge>0&&he.length>1&&Pl(he[Ge],-10,-10,te,se);be&&zi(null,so,!0,A==null&&$n.setSeries),ie.live&&(ge.fill(K),Ft=!0)}else{let Ge,rt,bt;i==1&&(Ge=H.ori==0?Mn:On,rt=Vi(Ge,S),K=Co(rt,t[0],Nt,bn),bt=R(t[0][K],H,ye,0));for(let Ke=i==2?1:0;Ke<E.length;Ke++){let ft=E[Ke],Rt=ge[Ke],Vn=i==1?t[Ke][Rt]:t[Ke][1][Rt],xt=tt.dataIdx(r,Ke,K,rt),un=i==1?t[Ke][xt]:t[Ke][1][xt];Ft=Ft||un!=Vn||xt!=Rt,ge[Ke]=xt;let It=fc(xt==K?bt:R(i==1?t[0][xt]:t[Ke][0][xt],H,ye,0),1);if(Ke>0&&ft.show){let fn=un==null?-10:fc(z(un,i==1?M[ft.scale]:M[ft.facets[1].scale],Fe,0),1);if(be&&fn>=0&&i==1){let Cn=Vr(fn-On),Xn=J.bias;if(Xn!=0){let Mr=H.ori==1?Mn:On,qn=Vi(Mr,ft.scale),Jn=un>=0?1:-1,Ci=qn>=0?1:-1;Ci==Jn&&Cn<cn&&(Ci==1?Xn==1?un>=qn:un<=qn:Xn==1?un<=qn:un>=qn)&&(cn=Cn,t0=Ke)}else Cn<cn&&(cn=Cn,t0=Ke)}let jn,Dr;if(H.ori==0?(jn=It,Dr=fn):(jn=fn,Dr=It),Ft&&he.length>1){wee(he[Ke],tt.points.fill(r,Ke),tt.points.stroke(r,Ke));let Cn,Xn,Mr,qn,Jn=!0,Ci=tt.points.bbox;if(Ci!=null){Jn=!1;let Wa=Ci(r,Ke);Mr=Wa.left,qn=Wa.top,Cn=Wa.width,Xn=Wa.height}else Mr=jn,qn=Dr,Cn=Xn=tt.points.size(r,Ke);_ee(he[Ke],Cn,Xn,Jn),Pl(he[Ke],Mr,qn,te,se)}}}}if(tt.idx=K,tt.left=Mn,tt.top=On,Ft&&(ie.idx=K,r0()),Fr.show&&Va)if(A!=null){let[Ge,rt]=$n.scales,[bt,Ke]=$n.match,[ft,Rt]=A.cursor.sync.scales,Vn=A.cursor.drag;if(ar=Vn._x,fr=Vn._y,ar||fr){let{left:xt,top:un,width:It,height:fn}=A.select,jn=A.scales[Ge].ori,Dr=A.posToVal,Cn,Xn,Mr,qn,Jn,Ci=Ge!=null&&bt(Ge,ft),Wa=rt!=null&&Ke(rt,Rt);Ci&&ar?(jn==0?(Cn=xt,Xn=It):(Cn=un,Xn=fn),Mr=M[Ge],qn=R(Dr(Cn,ft),Mr,ye,0),Jn=R(Dr(Cn+Xn,ft),Mr,ye,0),bs(ti(qn,Jn),Vr(Jn-qn))):bs(0,ye),Wa&&fr?(jn==1?(Cn=xt,Xn=It):(Cn=un,Xn=fn),Mr=M[rt],qn=z(Dr(Cn,Rt),Mr,Fe,0),Jn=z(Dr(Cn+Xn,Rt),Mr,Fe,0),Mi(ti(qn,Jn),Vr(Jn-qn))):Mi(0,Fe)}else Pr()}else{let Ge=Vr(Uc-zc),rt=Vr(Wc-Vc);if(H.ori==1){let Rt=Ge;Ge=rt,rt=Rt}ar=vr.x&&Ge>=vr.dist,fr=vr.y&&rt>=vr.dist;let bt=vr.uni;bt!=null?ar&&fr&&(ar=Ge>=bt,fr=rt>=bt,!ar&&!fr&&(rt>Ge?fr=!0:ar=!0)):vr.x&&vr.y&&(ar||fr)&&(ar=fr=!0);let Ke,ft;ar&&(H.ori==0?(Ke=io,ft=Mn):(Ke=ms,ft=On),bs(ti(Ke,ft),Vr(ft-Ke)),fr||Mi(0,Fe)),fr&&(H.ori==1?(Ke=io,ft=Mn):(Ke=ms,ft=On),Mi(ti(Ke,ft),Vr(ft-Ke)),ar||bs(0,ye)),!ar&&!fr&&(bs(0,0),Mi(0,0))}if(vr._x=ar,vr._y=fr,A==null){if(q){if(ul!=null){let[Ge,rt]=$n.scales;$n.values[0]=Ge!=null?Vi(H.ori==0?Mn:On,Ge):null,$n.values[1]=rt!=null?Vi(H.ori==1?Mn:On,rt):null}ws(_4,r,Mn,On,te,se,K)}if(be){let Ge=q&&$n.setSeries,rt=J.prox;n0==null?cn<=rt&&zi(t0,so,!0,Ge):cn>rt?zi(null,so,!0,Ge):t0!=n0&&zi(t0,so,!0,Ge)}}$!==!1&&$t("setCursor")}let ys=null;function i0(A){A===!0?ys=null:(ys=b.getBoundingClientRect(),$t("syncRect",ys))}function qc(A,$,q,K,ne,ye,Fe){tt._lock||Va&&A!=null&&A.movementX==0&&A.movementY==0||(cl(A,$,q,K,ne,ye,Fe,!1,A!=null),A!=null?Ua(null,!0,!0):Ua($,!0,!1))}function cl(A,$,q,K,ne,ye,Fe,Ge,rt){if(ys==null&&i0(!1),A!=null)q=A.clientX-ys.left,K=A.clientY-ys.top;else{if(q<0||K<0){Mn=-10,On=-10;return}let[bt,Ke]=$n.scales,ft=$.cursor.sync,[Rt,Vn]=ft.values,[xt,un]=ft.scales,[It,fn]=$n.match,jn=$.axes[0].side%2==1,Dr=H.ori==0?te:se,Cn=H.ori==1?te:se,Xn=jn?ye:ne,Mr=jn?ne:ye,qn=jn?K:q,Jn=jn?q:K;if(xt!=null?q=It(bt,xt)?u(Rt,M[bt],Dr,0):-10:q=Dr*(qn/Xn),un!=null?K=fn(Ke,un)?u(Vn,M[Ke],Cn,0):-10:K=Cn*(Jn/Mr),H.ori==1){let Ci=q;q=K,K=Ci}}rt&&((q<=1||q>=te-1)&&(q=C0(q,te)),(K<=1||K>=se-1)&&(K=C0(K,se))),Ge?(zc=q,Vc=K,[io,ms]=tt.move(r,q,K)):(Mn=q,On=K)}const Kc={width:0,height:0,left:0,top:0};function Pr(){ll(Kc,!1)}function cd(A,$,q,K,ne,ye,Fe){Va=!0,ar=fr=vr._x=vr._y=!1,cl(A,$,q,K,ne,ye,Fe,!0,!1),A!=null&&(xe(Qg,xm,Xr),ws(x4,r,io,ms,te,se,null))}function Xr(A,$,q,K,ne,ye,Fe){Va=vr._x=vr._y=!1,cl(A,$,q,K,ne,ye,Fe,!1,!0);let{left:Ge,top:rt,width:bt,height:Ke}=Fr,ft=bt>0||Ke>0;if(ft&&ll(Fr),vr.setScale&&ft){let Rt=Ge,Vn=bt,xt=rt,un=Ke;if(H.ori==1&&(Rt=rt,Vn=Ke,xt=Ge,un=bt),ar&&ao(S,Vi(Rt,S),Vi(Rt+Vn,S)),fr)for(let It in M){let fn=M[It];It!=S&&fn.from==null&&fn.min!=sn&&ao(It,Vi(xt+un,It),Vi(xt,It))}Pr()}else tt.lock&&(tt._lock=!tt._lock,tt._lock||Ua(null,!0,!1));A!=null&&(Se(Qg,xm),ws(Qg,r,Mn,On,te,se,null))}function Ap(A,$,q,K,ne,ye,Fe){if(!tt._lock){let Ge=Va;if(Va){let rt=!0,bt=!0,Ke=10,ft,Rt;H.ori==0?(ft=ar,Rt=fr):(ft=fr,Rt=ar),ft&&Rt&&(rt=Mn<=Ke||Mn>=te-Ke,bt=On<=Ke||On>=se-Ke),ft&&rt&&(Mn=Mn<io?0:te),Rt&&bt&&(On=On<ms?0:se),Ua(null,!0,!0),Va=!1}Mn=-10,On=-10,Ua(null,!0,!0),Ge&&(Va=Ge)}}function Gc(A,$,q,K,ne,ye,Fe){Hi(),Pr(),A!=null&&ws(T4,r,Mn,On,te,se,null)}function ga(){w.forEach(Yte),Wt(r.width,r.height,!0)}Ao(b1,Yl,ga);const va={};va.mousedown=cd,va.mousemove=qc,va.mouseup=Xr,va.dblclick=Gc,va.setSeries=(A,$,q,K)=>{zi(q,K,!0,!1)},tt.show&&(xe(x4,b,cd),xe(_4,b,qc),xe(M4,b,i0),xe(C4,b,Ap),xe(T4,b,Gc),Sm.add(r),r.syncRect=i0);const oo=r.hooks=e.hooks||{};function $t(A,$,q){A in oo&&oo[A].forEach(K=>{K.call(null,r,$,q)})}(e.plugins||[]).forEach(A=>{for(let $ in A.hooks)oo[$]=(oo[$]||[]).concat(A.hooks[$])});const $n=hr({key:null,setSeries:!1,filters:{pub:B4,sub:B4},scales:[S,E[1]?E[1].scale:null],match:[$4,$4],values:[null,null]},tt.sync);tt.sync=$n;const ul=$n.key,Yc=gM(ul);function ws(A,$,q,K,ne,ye,Fe){$n.filters.pub(A,$,q,K,ne,ye,Fe)&&Yc.pub(A,$,q,K,ne,ye,Fe)}Yc.sub(r);function kp(A,$,q,K,ne,ye,Fe){$n.filters.sub(A,$,q,K,ne,ye,Fe)&&va[A](null,$,q,K,ne,ye,Fe)}r.pub=kp;function Op(){Yc.unsub(r),Sm.delete(r),ee.clear(),Tm(b1,Yl,ga),f.remove(),De==null||De.remove(),$t("destroy")}r.destroy=Op;function Xc(){$t("init",e,t),en(t||e.data,!1),j[S]?Hc(S,j[S]):Hi(),pn=Fr.show,Xt=Ft=!0,Wt(e.width,e.height)}return E.forEach(Ce),w.forEach(dt),n?n instanceof HTMLElement?(n.appendChild(f),Xc()):n(r,Xc):Xc(),r}Kr.assign=hr;Kr.fmtNum=m3;Kr.rangeNum=y1;Kr.rangeLog=cp;Kr.rangeAsinh=g3;Kr.orient=tl;Kr.pxRatio=dn;Kr.join=Dee;Kr.fmtDate=b3,Kr.tzDate=Kee;Kr.sync=gM;{Kr.addGap=Ite,Kr.clipGaps=hp;let e=Kr.paths={points:_M};e.linear=MM,e.stepped=$te,e.bars=Rte,e.spline=Dte}const Xte=Object.freeze(Object.defineProperty({__proto__:null,default:Kr},Symbol.toStringTag,{value:"Module"}));var SM={exports:{}};const Jte=T2(rL),Qte=T2(Xte);(function(e,t){(function(r,i){e.exports=i(Jte,Qte)})(self,(n,r)=>(()=>{var i={"./common/index.ts":(u,c,f)=>{f.r(c),f.d(c,{dataMatch:()=>v,optionsUpdateState:()=>p});var h=function(g,b){var y={};for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&b.indexOf(x)<0&&(y[x]=g[x]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,x=Object.getOwnPropertySymbols(g);_<x.length;_++)b.indexOf(x[_])<0&&Object.prototype.propertyIsEnumerable.call(g,x[_])&&(y[x[_]]=g[x[_]]);return y};Object.is||Object.defineProperty(Object,"is",{value:function(b,y){return b===y&&(b!==0||1/b===1/y)||b!==b&&y!==y}});var p=function(b,y){var x=b.width,_=b.height,E=h(b,["width","height"]),w=y.width,M=y.height,T=h(y,["width","height"]),S="keep";if((_!==M||x!==w)&&(S="update"),Object.keys(E).length!==Object.keys(T).length)return"create";for(var k=0,L=Object.keys(E);k<L.length;k++){var B=L[k];if(!Object.is(E[B],T[B])){S="create";break}}return S},v=function(b,y){return b.length!==y.length?!1:b.every(function(x,_){var E=y[_];return x.length!==E.length?!1:x.every(function(w,M){return w===E[M]})})}},uplot:u=>{u.exports=r},vue:u=>{u.exports=n}},a={};function s(u){var c=a[u];if(c!==void 0)return c.exports;var f=a[u]={exports:{}};return i[u](f,f.exports,s),f.exports}s.n=u=>{var c=u&&u.__esModule?()=>u.default:()=>u;return s.d(c,{a:c}),c},s.d=(u,c)=>{for(var f in c)s.o(c,f)&&!s.o(u,f)&&Object.defineProperty(u,f,{enumerable:!0,get:c[f]})},s.o=(u,c)=>Object.prototype.hasOwnProperty.call(u,c),s.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var o={};return(()=>{/*!**************************!*\
  !*** ./vue/uplot-vue.js ***!
  \**************************/s.r(o),s.d(o,{default:()=>p});var u=s("vue"),c=s("uplot"),f=s.n(c),h=s("./common/index.ts");const p=(u.defineComponent?u.defineComponent:function(v){return v})({name:"UplotVue",props:{options:{type:Object,required:!0},data:{type:Array,required:!0},target:{validator:function(g){return g==null||g instanceof HTMLElement||typeof g=="function"},default:void 0,required:!1},resetScales:{type:Boolean,required:!1,default:!0}},data:function(){return{_chart:null}},watch:{options:function(g,b){var y=(0,h.optionsUpdateState)(b,g);!this._chart||y==="create"?(this._destroy(),this._create()):y==="update"&&this._chart.setSize({width:g.width,height:g.height})},target:function(){this._destroy(),this._create()},data:function(g,b){this._chart?(0,h.dataMatch)(b,g)||(this.$props.resetScales?this._chart.setData(g):(this._chart.setData(g,!1),this._chart.redraw())):this._create()}},mounted:function(){this._create()},beforeUnmount:function(){this._destroy()},beforeDestroy:function(){this._destroy()},methods:{_destroy:function(){this._chart&&(this.$emit("delete",this._chart),this._chart.destroy(),this._chart=null)},_create:function(){this._chart=new(f())(this.$props.options,this.$props.data,this.$props.target||this.$refs.targetRef),this.$emit("create",this._chart)}},render:function(g){return this.$props.target?null:(u.createVNode?u.createVNode:g)("div",{ref:"targetRef"})}})})(),o=o.default,o})())})(SM);var Zte=SM.exports;const ene=yc(Zte);const tne={class:"waveform"},nne={__name:"Waveform",setup(e){const t=Sa(),{waveformFn:n}=ia(t);let r={title:"Waveform",width:300,height:200,series:[{label:"x",show:!1},{label:"first",stroke:"blue"}],scales:{x:{time:!1}},axes:[{grid:{show:!0},values:(a,s)=>s.map(o=>"")},{values:[],grid:{show:!1}}]};const i=fe({get:()=>{const a=rn.range(0,2*Math.PI,.05),s=rn.times(a.length).map(o=>n.value(a[o]));return[a,s]}});return(a,s)=>{const o=Y_;return ce(),je("div",tne,[Ae(o,null,{default:Re(()=>[Ae(P(ene),{data:P(i),options:P(r)},null,8,["data","options"])]),_:1})])}}};var rne="6.2.2",ine=rne,ane=function(e,t){var n=this;if(t||(t={}),n.qpm=t.qpm?parseInt(t.qpm,10):null,!n.qpm){var r=e.metaText?e.metaText.tempo:null;n.qpm=e.getBpm(r)}n.extraMeasuresAtBeginning=t.extraMeasuresAtBeginning?parseInt(t.extraMeasuresAtBeginning,10):0,n.beatCallback=t.beatCallback,n.eventCallback=t.eventCallback,n.lineEndCallback=t.lineEndCallback,n.lineEndAnticipation=t.lineEndAnticipation?parseInt(t.lineEndAnticipation,10):0,n.beatSubdivisions=t.beatSubdivisions?parseInt(t.beatSubdivisions,10):1,n.joggerTimer=null,n.replaceTarget=function(a){n.noteTimings=a.setTiming(n.qpm,n.extraMeasuresAtBeginning),a.noteTimings.length===0&&(n.noteTimings=a.setTiming(0,0)),n.lineEndCallback&&(n.lineEndTimings=sne(a.noteTimings,n.lineEndAnticipation)),n.startTime=null,n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.currentTime=0,n.isPaused=!1,n.isRunning=!1,n.pausedPercent=null,n.justUnpaused=!1,n.newSeekPercent=0,n.lastTimestamp=0,n.noteTimings.length!==0&&(n.millisecondsPerBeat=1e3/(n.qpm/60)/n.beatSubdivisions,n.lastMoment=n.noteTimings[n.noteTimings.length-1].milliseconds,n.totalBeats=Math.round(n.lastMoment/n.millisecondsPerBeat))},n.replaceTarget(e),n.doTiming=function(a){if(n.lastTimestamp!==a&&(n.lastTimestamp=a,n.startTime||(n.startTime=a),!n.isPaused&&n.isRunning)){for(n.currentTime=a-n.startTime,n.currentTime+=16;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<n.currentTime;){if(n.eventCallback&&n.noteTimings[n.currentEvent].type==="event"){var s=n.startTime;n.eventCallback(n.noteTimings[n.currentEvent]),s!==n.startTime&&(n.currentTime=a-n.startTime)}n.currentEvent++}if(n.lineEndCallback&&n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds<n.currentTime&&n.currentEvent<n.noteTimings.length){var o=n.noteTimings[n.currentEvent].milliseconds===n.currentTime?n.noteTimings[n.currentEvent]:n.noteTimings[n.currentEvent-1];n.lineEndCallback(n.lineEndTimings[n.currentLine],o,{line:n.currentLine,endTimings:n.lineEndTimings,currentTime:n.currentTime}),n.currentLine++}if(n.currentTime<n.lastMoment){if(requestAnimationFrame(n.doTiming),n.currentBeat*n.millisecondsPerBeat<n.currentTime){var u=n.doBeatCallback(a);u!==null&&(n.currentTime=u)}}else if(n.currentBeat<=n.totalBeats&&n.beatCallback){var c=n.doBeatCallback(a);c!==null&&(n.currentTime=c),requestAnimationFrame(n.doTiming)}if(n.currentTime>=n.lastMoment)if(n.eventCallback){var f=n.eventCallback(null);n.shouldStop(f).then(function(h){h&&n.stop()})}else n.stop()}},n.shouldStop=function(a){return new Promise(function(s){if(!a)return s(!0);if(a==="continue")return s(!1);a.then&&a.then(function(o){s(o!=="continue")})})},n.doBeatCallback=function(a){if(n.beatCallback){for(var s=n.currentEvent;s<n.noteTimings.length&&n.noteTimings[s].left===null;)s++;var o,u;if(s<n.noteTimings.length){for(o=n.noteTimings[s].milliseconds,s=Math.max(0,n.currentEvent-1);s>=0&&n.noteTimings[s].left===null;)s--;u=n.noteTimings[s]}var c={},f={};if(u){c.top=u.top,c.height=u.height;var h=Math.max(0,a-n.startTime-u.milliseconds),p=o-u.milliseconds,v=u.endX-u.left,g=p?h*v/p:0;c.left=u.left+g,n.currentEvent===0&&u.milliseconds>a-n.startTime&&(c.left=void 0),f={timestamp:a,startTime:n.startTime,ev:u,endMs:o,offMs:h,offPx:g,gapMs:p,gapPx:v}}else f={timestamp:a,startTime:n.startTime};var b=n.startTime;if(n.beatCallback(n.currentBeat/n.beatSubdivisions,n.totalBeats/n.beatSubdivisions,n.lastMoment,c,f),b!==n.startTime)return a-n.startTime;n.currentBeat++}return null};var i=60;n.animationJogger=function(){n.isRunning&&(n.doTiming(performance.now()),n.joggerTimer=setTimeout(n.animationJogger,i))},n.start=function(a,s){if(n.isRunning=!0,n.isPaused&&(n.isPaused=!1,a===void 0&&(n.justUnpaused=!0)),a)n.setProgress(a,s);else if(a===0)n.reset();else if(n.pausedPercent!==null){var o=performance.now();n.currentTime=n.lastMoment*n.pausedPercent,n.startTime=o-n.currentTime,n.pausedPercent=null,n.reportNext=!0}requestAnimationFrame(n.doTiming),n.joggerTimer=setTimeout(n.animationJogger,i)},n.pause=function(){n.isPaused=!0;var a=performance.now();n.pausedPercent=(a-n.startTime)/n.lastMoment,n.isRunning=!1,n.joggerTimer&&(clearTimeout(n.joggerTimer),n.joggerTimer=null)},n.currentMillisecond=function(){return n.currentTime},n.reset=function(){n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.startTime=null,n.pausedPercent=null},n.stop=function(){n.pause(),n.reset()},n.setProgress=function(a,s){var o;switch(s){case"seconds":n.currentTime=a*1e3,n.currentTime<0&&(n.currentTime=0),n.currentTime>n.lastMoment&&(n.currentTime=n.lastMoment),o=n.currentTime/n.lastMoment;break;case"beats":n.currentTime=a*n.millisecondsPerBeat*n.beatSubdivisions,n.currentTime<0&&(n.currentTime=0),n.currentTime>n.lastMoment&&(n.currentTime=n.lastMoment),o=n.currentTime/n.lastMoment;break;default:o=a,o<0&&(o=0),o>1&&(o=1),n.currentTime=n.lastMoment*o;break}n.isRunning||(n.pausedPercent=o);var u=performance.now();for(n.startTime=u-n.currentTime,n.currentEvent,n.currentEvent=0;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<n.currentTime;)n.currentEvent++;if(n.lineEndCallback)for(n.currentLine=0;n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds+n.lineEndAnticipation<n.currentTime;)n.currentLine++;var c=n.currentBeat;n.currentBeat=Math.floor(n.currentTime/n.millisecondsPerBeat),n.beatCallback&&c!==n.currentBeat&&n.doBeatCallback(n.startTime+n.currentTime),n.eventCallback&&n.currentEvent>=0&&n.noteTimings[n.currentEvent].type==="event"&&n.eventCallback(n.noteTimings[n.currentEvent]),n.lineEndCallback&&n.lineEndCallback(n.lineEndTimings[n.currentLine],n.noteTimings[n.currentEvent],{line:n.currentLine,endTimings:n.lineEndTimings}),n.joggerTimer=setTimeout(n.animationJogger,i)}};function sne(e,t){for(var n=[],r=null,i=0;i<e.length;i++){var a=e[i];a.type!=="end"&&a.top!==r&&(n.push({measureNumber:a.measureNumber,milliseconds:a.milliseconds-t,top:a.top,bottom:a.top+a.height}),r=a.top)}return n}var C3=ane,one=C3,Vh={};(function(){var e,t;Vh.startAnimation=function(n,r,i){e&&(e.stop(),e=void 0),i.showCursor&&(t=n.querySelector(".abcjs-cursor"),t||(t=document.createElement("DIV"),t.className="abcjs-cursor cursor",t.style.position="absolute",n.appendChild(t),n.style.position="relative"));function a(p){for(var v=0;v<p.length;v++){var g=p[v];g.classList.contains("abcjs-bar")||(g.style.display="none")}}var s;function o(p){if(s){var v=n.querySelectorAll(s);a(v)}s=p}function u(p){var v=n.querySelectorAll(p);a(v)}function c(p){i.hideCurrentMeasure?u(p):i.hideFinishedMeasures&&o(p)}function f(p){return".abcjs-l"+p.line+".abcjs-m"+p.measureNumber}function h(p){if(p){if(p.measureStart){var v=f(p);v&&c(v)}t&&(t.style.left=p.left+"px",t.style.top=p.top+"px",t.style.width=p.width+"px",t.style.height=p.height+"px")}else e.stop(),e=void 0}e=new one(r,{qpm:i.bpm,eventCallback:h}),e.start()},Vh.pauseAnimation=function(n){e&&(n?e.pause():e.start())},Vh.stopAnimation=function(){e&&(e.stop(),e=void 0)}})();var lne=Vh,ca={};ca.clone=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};ca.cloneArray=function(e){for(var t=[],n=0;n<e.length;n++)t.push(ca.clone(e[n]));return t};ca.cloneHashOfHash=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=ca.clone(e[n]));return t};ca.cloneHashOfArrayOfHash=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=ca.cloneArray(e[n]));return t};ca.strip=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")};ca.startsWith=function(e,t){return e.indexOf(t)===0};ca.endsWith=function(e,t){var n=e.length-t.length;return n>=0&&e.lastIndexOf(t)===n};ca.last=function(e){return e.length===0?null:e[e.length-1]};var _i=ca,r8=_i,T0={};(function(){var e,t,n,r,i;T0.initialize=function(I,N,U,Y,Z){e=I,t=N,n=U,r=Y,i=Z,a()};function a(){n.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},n.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},n.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},n.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},n.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},r.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},r.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},r.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},r.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},r.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},r.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},r.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},r.formatting.annotationfont=n.annotationfont,r.formatting.gchordfont=n.gchordfont,r.formatting.historyfont=n.historyfont,r.formatting.infofont=n.infofont,r.formatting.measurefont=n.measurefont,r.formatting.partsfont=n.partsfont,r.formatting.repeatfont=n.repeatfont,r.formatting.textfont=n.textfont,r.formatting.tripletfont=n.tripletfont,r.formatting.vocalfont=n.vocalfont,r.formatting.wordsfont=n.wordsfont}var s={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},o=function(I){switch(I){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},u=function(I,N,U,Y,Z){function ge(){var ae=parseInt(I[0].token);return I.shift(),N?I.length===0?{face:N.face,weight:N.weight,style:N.style,decoration:N.decoration,size:ae}:I.length===1&&I[0].token==="box"&&s[Z]?{face:N.face,weight:N.weight,style:N.style,decoration:N.decoration,size:ae,box:!0}:(t("Extra parameters in font definition.",U,Y),{face:N.face,weight:N.weight,style:N.style,decoration:N.decoration,size:ae}):(t("Can't set just the size of the font since there is no default value.",U,Y),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:ae})}if(I[0].token==="*"){if(I.shift(),I[0].type==="number")return ge();t("Expected font size number after *.",U,Y)}if(I[0].type==="number")return ge();for(var ie=[],me,ve="normal",De="normal",Be="none",nt=!1,Me="face",at=!1;I.length;){var Ue=I.shift(),Xe=Ue.token.toLowerCase();switch(Me){case"face":at||Xe!=="utf"&&Ue.type!=="number"&&Xe!=="bold"&&Xe!=="italic"&&Xe!=="underline"&&Xe!=="box"?ie.length>0&&Ue.token==="-"?(at=!0,ie[ie.length-1]=ie[ie.length-1]+Ue.token):at?(at=!1,ie[ie.length-1]=ie[ie.length-1]+Ue.token):ie.push(Ue.token):Ue.type==="number"?(me?t("Font size specified twice in font definition.",U,Y):me=Ue.token,Me="modifier"):Xe==="bold"?ve="bold":Xe==="italic"?De="italic":Xe==="underline"?Be="underline":Xe==="box"?(s[Z]?nt=!0:t(`This font style doesn't support "box"`,U,Y),Me="finished"):Xe==="utf"?(Ue=I.shift(),Me="size"):t("Unknown parameter "+Ue.token+" in font definition.",U,Y);break;case"size":Ue.type==="number"?me?t("Font size specified twice in font definition.",U,Y):me=Ue.token:t("Expected font size in font definition.",U,Y),Me="modifier";break;case"modifier":Xe==="bold"?ve="bold":Xe==="italic"?De="italic":Xe==="underline"?Be="underline":Xe==="box"?(s[Z]?nt=!0:t(`This font style doesn't support "box"`,U,Y),Me="finished"):t("Unknown parameter "+Ue.token+" in font definition.",U,Y);break;case"finished":t('Extra characters found after "box" in font definition.',U,Y);break}}me===void 0?N?me=N.size:(t("Must specify the size of the font since there is no default value.",U,Y),me=12):me=parseFloat(me),ie=ie.join(" "),ie===""&&(N?ie=N.face:(t("Must specify the name of the font since there is no default value.",U,Y),ie="sans-serif"));var W=o(ie),X={};return W?(X.face=W.face,X.weight=W.weight,X.style=W.style,X.decoration=W.decoration,X.size=me,nt&&(X.box=!0),X):(X.face=ie,X.weight=ve,X.style=De,X.decoration=Be,X.size=me,nt&&(X.box=!0),X)},c=function(I,N,U){return N.length===0?'Directive "'+I+'" requires a font as a parameter.':(n[I]=u(N,n[I],U,0,I),n.is_in_header&&(r.formatting[I]=n[I]),null)},f=function(I,N,U){return N.length===0?'Directive "'+I+'" requires a font as a parameter.':(r.formatting[I]=u(N,r.formatting[I],U,0,I),null)},h=function(I,N){var U="";N.forEach(function(Z){U+=Z.token});var Y=parseFloat(U);if(isNaN(Y)||Y===0)return'Directive "'+I+'" requires a number as a parameter.';r.formatting.scale=Y},p=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],v=function(I){var N=I.split(/\s+/);if(N.length!==2&&N.length!==3)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var U=N[0],Y=parseInt(N[1],10);if((isNaN(Y)||Y<35||Y>81)&&N[1]&&(Y=p.indexOf(N[1].toLowerCase())+35),isNaN(Y)||Y<35||Y>81)return{error:'Expected drum name, received "'+N[1]+'"'};var Z={sound:Y};return N.length===3&&(Z.noteHead=N[2]),{key:U,value:Z}},g=function(I,N){var U=e.getMeasurement(N);return U.used===0||N.length!==0?{error:'Directive "'+I+'" requires a measurement as a parameter.'}:U.value},b=function(I,N){var U=e.getMeasurement(N);return U.used===0||N.length!==0?'Directive "'+I+'" requires a measurement as a parameter.':(r.formatting[I]=U.value,null)},y=function(I,N,U,Y,Z){if(U.length!==1||U[0].type!=="number")return'Directive "'+N+'" requires a number as a parameter.';var ge=U[0].intt;return Y!==void 0&&ge<Y?'Directive "'+N+'" requires a number greater than or equal to '+Y+" as a parameter.":Z!==void 0&&ge>Z?'Directive "'+N+'" requires a number less than or equal to '+Z+" as a parameter.":(n[I]=ge,null)},x=function(I,N,U){if(U.length===1&&(U[0].token==="true"||U[0].token==="false"))return n[I]=U[0].token==="true",null;var Y=y(I,N,U,0,1);return Y!==null?Y:(n[I]=n[I]===1,null)},_=function(I,N,U,Y){if(U.length!==1)return'Directive "'+N+'" requires one of [ '+Y.join(", ")+" ] as a parameter.";for(var Z=U[0].token,ge=!1,ie=0;!ge&&ie<Y.length;ie++)Y[ie]===Z&&(ge=!0);return ge?(n[I]=Z,null):'Directive "'+N+'" requires one of [ '+Y.join(", ")+" ] as a parameter."},E=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],w=["gchord","ptstress","beatstring"],M=["bassvol","chordvol","bassprog","chordprog","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc"],T=["program"],S=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],k=["beat"],L=["drone"],B=["portamento"],H=["expand","grace","trim"],D=["drum","chordname"],R=function(I,N,U){var Y=I.shift().token,Z=[];if(E.indexOf(Y)>=0)I.length!==0&&t("Unexpected parameter in MIDI "+Y,U,0);else if(w.indexOf(Y)>=0)I.length!==1?t("Expected one parameter in MIDI "+Y,U,0):Z.push(I[0].token);else if(M.indexOf(Y)>=0)I.length!==1?t("Expected one parameter in MIDI "+Y,U,0):I[0].type!=="number"?t("Expected one integer parameter in MIDI "+Y,U,0):Z.push(I[0].intt);else if(T.indexOf(Y)>=0)I.length!==1&&I.length!==2?t("Expected one or two parameters in MIDI "+Y,U,0):I[0].type!=="number"||I.length===2&&I[1].type!=="number"?t("Expected integer parameter in MIDI "+Y,U,0):(Z.push(I[0].intt),I.length===2&&Z.push(I[1].intt));else if(S.indexOf(Y)>=0)I.length!==2?t("Expected two parameters in MIDI "+Y,U,0):I[0].type!=="number"||I[1].type!=="number"?t("Expected two integer parameters in MIDI "+Y,U,0):(Z.push(I[0].intt),Z.push(I[1].intt));else if(B.indexOf(Y)>=0)I.length!==2?t("Expected two parameters in MIDI "+Y,U,0):I[0].type!=="alpha"||I[1].type!=="number"?t("Expected one string and one integer parameters in MIDI "+Y,U,0):(Z.push(I[0].token),Z.push(I[1].intt));else if(Y==="drummap")I.length===2&&I[0].type==="alpha"&&I[1].type==="number"?(N.formatting||(N.formatting={}),N.formatting.midi||(N.formatting.midi={}),N.formatting.midi.drummap||(N.formatting.midi.drummap={}),N.formatting.midi.drummap[I[0].token]=I[1].intt,Z=N.formatting.midi.drummap):I.length===3&&I[0].type==="punct"&&I[1].type==="alpha"&&I[2].type==="number"?(N.formatting||(N.formatting={}),N.formatting.midi||(N.formatting.midi={}),N.formatting.midi.drummap||(N.formatting.midi.drummap={}),N.formatting.midi.drummap[I[0].token+I[1].token]=I[2].intt,Z=N.formatting.midi.drummap):t("Expected one note name and one integer parameter in MIDI "+Y,U,0);else if(H.indexOf(Y)>=0)I.length!==3||I[0].type!=="number"||I[1].token!=="/"||I[2].type!=="number"?t("Expected fraction parameter in MIDI "+Y,U,0):(Z.push(I[0].intt),Z.push(I[2].intt));else if(k.indexOf(Y)>=0)I.length!==4?t("Expected four parameters in MIDI "+Y,U,0):I[0].type!=="number"||I[1].type!=="number"||I[2].type!=="number"||I[3].type!=="number"?t("Expected four integer parameters in MIDI "+Y,U,0):(Z.push(I[0].intt),Z.push(I[1].intt),Z.push(I[2].intt),Z.push(I[3].intt));else if(L.indexOf(Y)>=0)I.length!==5?t("Expected five parameters in MIDI "+Y,U,0):I[0].type!=="number"||I[1].type!=="number"||I[2].type!=="number"||I[3].type!=="number"||I[4].type!=="number"?t("Expected five integer parameters in MIDI "+Y,U,0):(Z.push(I[0].intt),Z.push(I[1].intt),Z.push(I[2].intt),Z.push(I[3].intt),Z.push(I[4].intt));else if(T.indexOf(Y)>=0)I.length!==1||I.length!==4?t("Expected one or two parameters in MIDI "+Y,U,0):I[0].type!=="number"?t("Expected integer parameter in MIDI "+Y,U,0):I.length===4?(I[1].token!=="octave"&&t("Expected octave parameter in MIDI "+Y,U,0),I[2].token!=="="&&t("Expected octave parameter in MIDI "+Y,U,0),I[3].type!=="number"&&t("Expected integer parameter for octave in MIDI "+Y,U,0)):(Z.push(I[0].intt),I.length===4&&Z.push(I[3].intt));else if(D.indexOf(Y)>=0)if(I.length<2)t("Expected string parameter and at least one integer parameter in MIDI "+Y,U,0);else if(I[0].type!=="alpha")t("Expected string parameter and at least one integer parameter in MIDI "+Y,U,0);else{var ge=I.shift();for(Z.push(ge.token);I.length>0;)ge=I.shift(),ge.type!=="number"&&t("Expected integer parameter in MIDI "+Y,U,0),Z.push(ge.intt)}i.hasBeginMusic()?i.appendElement("midi",-1,-1,{cmd:Y,params:Z}):(N.formatting.midi===void 0&&(N.formatting.midi={}),N.formatting.midi[Y]=Z)};T0.parseFontChangeLine=function(I){var N=I.split("$");if(N.length>1&&n.setfont){for(var U=[{text:N[0]}],Y=1;Y<N.length;Y++)N[Y][0]==="0"?U.push({text:N[Y].substring(1)}):N[Y][0]==="1"&&n.setfont[1]?U.push({font:n.setfont[1],text:N[Y].substring(1)}):N[Y][0]==="2"&&n.setfont[2]?U.push({font:n.setfont[2],text:N[Y].substring(1)}):N[Y][0]==="3"&&n.setfont[3]?U.push({font:n.setfont[3],text:N[Y].substring(1)}):N[Y][0]==="4"&&n.setfont[4]?U.push({font:n.setfont[4],text:N[Y].substring(1)}):U[U.length-1].text+="$"+N[Y];if(U.length>1)return U}return I};var z=["auto","above","below","hidden"];T0.addDirective=function(I){var N=e.tokenize(I,0,I.length);if(N.length===0||N[0].type!=="alpha")return null;var U=I.substring(I.indexOf(N[0].token)+N[0].token.length);U=e.stripComment(U);var Y=N.shift().token.toLowerCase(),Z="",ge;switch(Y){case"bagpipes":r.formatting.bagpipes=!0;break;case"flatbeams":r.formatting.flatbeams=!0;break;case"jazzchords":r.formatting.jazzchords=!0;break;case"germanAlphabet":r.formatting.germanAlphabet=!0;break;case"landscape":n.landscape=!0;break;case"papersize":n.papersize=U;break;case"graceslurs":if(N.length!==1)return"Directive graceslurs requires one parameter: 0 or 1";if(N[0].token==="0"||N[0].token==="false")r.formatting.graceSlurs=!1;else if(N[0].token==="1"||N[0].token==="true")r.formatting.graceSlurs=!0;else return"Directive graceslurs requires one parameter: 0 or 1 (received "+N[0].token+")";break;case"lineThickness":var ie=j(N);if(ie.value!==void 0&&(r.formatting.lineThickness=ie.value),ie.error)return ie.error;break;case"stretchlast":var me=j(N);if(me.value!==void 0&&(r.formatting.stretchlast=me.value),me.error)return me.error;break;case"titlecaps":n.titlecaps=!0;break;case"titleleft":r.formatting.titleleft=!0;break;case"measurebox":r.formatting.measurebox=!0;break;case"vocal":return _("vocalPosition",Y,N,z);case"dynamic":return _("dynamicPosition",Y,N,z);case"gchord":return _("chordPosition",Y,N,z);case"ornament":return _("ornamentPosition",Y,N,z);case"volume":return _("volumePosition",Y,N,z);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return b(Y,N);case"voicescale":if(N.length!==1||N[0].type!=="number")return"voicescale requires one float as a parameter";var ve=N.shift();return n.currentVoice&&(n.currentVoice.scale=ve.floatt,i.changeVoiceScale(n.currentVoice.scale)),null;case"voicecolor":if(N.length!==1)return"voicecolor requires one string as a parameter";var De=N.shift();return n.currentVoice&&(n.currentVoice.color=De.token,i.changeVoiceColor(n.currentVoice.color)),null;case"vskip":var Be=Math.round(g(Y,N));return Be.error?Be.error:(i.addSpacing(Be),null);case"scale":h(Y,N);break;case"sep":if(N.length===0)i.addSeparator(14,14,85,{startChar:n.iChar,endChar:n.iChar+5});else{var nt=e.getMeasurement(N);if(nt.used===0)return'Directive "'+Y+'" requires 3 numbers: space above, space below, length of line';var Me=nt.value;if(nt=e.getMeasurement(N),nt.used===0)return'Directive "'+Y+'" requires 3 numbers: space above, space below, length of line';var at=nt.value;if(nt=e.getMeasurement(N),nt.used===0||N.length!==0)return'Directive "'+Y+'" requires 3 numbers: space above, space below, length of line';var Ue=nt.value;i.addSeparator(Me,at,Ue,{startChar:n.iChar,endChar:n.iChar+U.length})}break;case"barsperstaff":if(Z=y("barsperstaff",Y,N),Z!==null)return Z;break;case"staffnonote":if(N.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(N[0].token==="0")n.staffnonote=!0;else if(N[0].token==="1")n.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+N[0].token+")";break;case"printtempo":if(Z=x("printTempo",Y,N),Z!==null)return Z;break;case"partsbox":if(Z=x("partsBox",Y,N),Z!==null)return Z;n.partsfont.box=n.partsBox;break;case"freegchord":if(Z=x("freegchord",Y,N),Z!==null)return Z;break;case"measurenb":case"barnumbers":if(Z=y("barNumbers",Y,N),Z!==null)return Z;break;case"setbarnb":if(N.length!==1||N[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";n.currBarNumber=i.setBarNumberImmediate(N[0].intt);break;case"begintext":var Xe="";for(ge=e.nextLine();ge&&ge.indexOf("%%endtext")!==0;)r8.startsWith(ge,"%%")?Xe+=ge.substring(2)+`
`:Xe+=ge+`
`,ge=e.nextLine();i.addText(Xe,{startChar:n.iChar,endChar:n.iChar+Xe.length+7});break;case"continueall":n.continueall=!0;break;case"beginps":for(ge=e.nextLine();ge&&ge.indexOf("%%endps")!==0;)e.nextLine();t("Postscript ignored",I,0);break;case"deco":U.length>0&&n.ignoredDecorations.push(U.substring(0,U.indexOf(" "))),t("Decoration redefinition ignored",I,0);break;case"text":var W=e.translateString(U);i.addText(T0.parseFontChangeLine(W),{startChar:n.iChar,endChar:n.iChar+U.length+7});break;case"center":var X=e.translateString(U);i.addCentered(T0.parseFontChangeLine(X));break;case"font":break;case"setfont":var ae=e.tokenize(U,0,U.length);if(ae.length>=4&&ae[0].token==="-"&&ae[1].type==="number"){var ee=parseInt(ae[1].token);ee>=1&&ee<=4&&(n.setfont||(n.setfont=[]),ae.shift(),ae.shift(),n.setfont[ee]=u(ae,n.setfont[ee],I,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return c(Y,N,I);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return f(Y,N,I);case"barlabelfont":case"barnumberfont":case"barnumfont":return c("measurefont",N,I);case"staves":case"score":n.score_is_present=!0;for(var xe=function(it,_t,tt,J,be){(_t||n.staves.length===0)&&n.staves.push({index:n.staves.length,numVoices:0});var he=r8.last(n.staves);tt!==void 0&&he.bracket===void 0&&(he.bracket=tt),J!==void 0&&he.brace===void 0&&(he.brace=J),be&&(he.connectBarLines="end"),n.voices[it]===void 0&&(n.voices[it]={staffNum:he.index,index:he.numVoices},he.numVoices++)},Se=!1,Ve=!1,Te=!1,te=!1,se=!1,ke=!1,Pe=!1,oe,$e=function(){if(Pe=!0,oe){var it="start";oe.staffNum>0&&(n.staves[oe.staffNum-1].connectBarLines==="start"||n.staves[oe.staffNum-1].connectBarLines==="continue")&&(it="continue"),n.staves[oe.staffNum].connectBarLines=it}};N.length;){var qe=N.shift();switch(qe.token){case"(":Se?t("Can't nest parenthesis in %%score",I,qe.start):(Se=!0,te=!0);break;case")":!Se||te?t("Unexpected close parenthesis in %%score",I,qe.start):Se=!1;break;case"[":Ve?t("Can't nest brackets in %%score",I,qe.start):(Ve=!0,se=!0);break;case"]":!Ve||se?t("Unexpected close bracket in %%score",I,qe.start):(Ve=!1,n.staves[oe.staffNum].bracket="end");break;case"{":Te?t("Can't nest braces in %%score",I,qe.start):(Te=!0,ke=!0);break;case"}":!Te||ke?t("Unexpected close brace in %%score",I,qe.start):(Te=!1,n.staves[oe.staffNum].brace="end");break;case"|":$e();break;default:for(var et="";(qe.type==="alpha"||qe.type==="number")&&(et+=qe.token,qe.continueId);)qe=N.shift();var lt=!Se||te,wt=se?"start":Ve?"continue":void 0,Et=ke?"start":Te?"continue":void 0;xe(et,lt,wt,Et,Pe),te=!1,se=!1,ke=!1,Pe=!1,oe=n.voices[et],Y==="staves"&&$e();break}}break;case"newpage":var Xt=e.getInt(U);i.addNewPage(Xt.digits===0?-1:Xt.value);break;case"abc":var pn=U.split(" ");switch(pn[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var Ft=pn.shift();i.addMetaText(Y+Ft,pn.join(" "),{startChar:n.iChar,endChar:n.iChar+U.length+5});break;default:return"Unknown directive: "+Y+pn[0]}break;case"header":case"footer":var Wt=e.getMeat(U,0,U.length);Wt=U.substring(Wt.start,Wt.end),Wt[0]==='"'&&Wt[Wt.length-1]==='"'&&(Wt=Wt.substring(1,Wt.length-1));var Ot=Wt.split("	"),Bt={};Ot.length===1?Bt={left:"",center:Ot[0],right:""}:Ot.length===2?Bt={left:Ot[0],center:Ot[1],right:""}:Bt={left:Ot[0],center:Ot[1],right:Ot[2]},Ot.length>3&&t("Too many tabs in "+Y+": "+Ot.length+" found.",U,0),i.addMetaTextObj(Y,Bt,{startChar:n.iChar,endChar:n.iChar+I.length});break;case"midi":var de=e.tokenize(U,0,U.length,!0);de.length>0&&de[0].token==="="&&de.shift(),de.length===0?t("Expected midi command",U,0):R(de,r,U);break;case"percmap":var Ne=v(U);Ne.error?t(Ne.error,I,8):(r.formatting.percmap||(r.formatting.percmap={}),r.formatting.percmap[Ne.key]=Ne.value);break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":r.formatting[Y]=U;break;default:return"Unknown directive: "+Y}return null},T0.globalFormatting=function(I){for(var N in I)if(I.hasOwnProperty(N)){var U=""+I[N],Y=e.tokenize(U,0,U.length),Z;switch(N){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":c(N,Y,U);break;case"scale":h(N,Y);break;case"partsbox":Z=x("partsBox",N,Y),Z!==null&&t(Z),n.partsfont.box=n.partsBox;break;case"freegchord":Z=x("freegchord",N,Y),Z!==null&&t(Z);break;case"fontboxpadding":(Y.length!==1||Y[0].type!=="number")&&t('Directive "'+N+'" requires a number as a parameter.'),r.formatting.fontboxpadding=Y[0].floatt;break;case"stretchlast":var ge=j(Y);if(ge.value!==void 0&&(r.formatting.stretchlast=ge.value),ge.error)return ge.error;break;default:t("Formatting directive unrecognized: ",N,0)}}};function j(I){if(I.length===0)return{value:1};if(I.length===1)if(I[0].type==="number"){if(I[0].floatt>=0||I[0].floatt<=1)return{value:I[0].floatt}}else{if(I[0].token==="false")return{value:0};if(I[0].token==="true")return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+I[0].token+")"}}})();var T3=T0,E3={};const PM=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];E3.pitchIndex=function(e){return PM.indexOf(e)};E3.noteName=function(e){return PM[e]};var cne=E3,wh=["C","C","D","D","E","F","F","G","G","A","A","B"],_h=["C","D","D","E","E","F","G","G","A","A","B","B"],xh=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Mh=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function une(e,t,n,r){if(!t||t%12===0)return e;for(;t<0;)t+=12;t>11&&(t=t%12);var i=e.match(/^([A-G][b#]?)([^\/]+)?\/?([A-G][b#]?)?(.+)?/);if(!i)return e;var a=i[1],s=i[2],o=i[3],u=i[4],c=wh.indexOf(a);if(c<0&&(c=_h.indexOf(a)),c<0&&(c=xh.indexOf(a)),c<0&&(c=Mh.indexOf(a)),c<0)return e;if(c+=t,c=c%12,n?r?e=Mh[c]:e=_h[c]:r?e=xh[c]:e=wh[c],s&&(e+=s),o){var c=wh.indexOf(o);c<0&&(c=_h.indexOf(o)),c<0&&(c=xh.indexOf(o)),c<0&&(c=Mh.indexOf(o)),e+="/",c>=0?(c+=t,c=c%12,n?r?e+=Mh[c]:e+=_h[c]:r?e+=xh[c]:e+=wh[c]):e+=o}return u&&(e+=u),e}var AM=une,N0={C:{modes:["CMaj","Amin","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","Bbmin","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","Bmin","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","Cmin","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","C#min","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","Dmin","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","Ebmin","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","Emin","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","Fmin","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","F#min","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","Gmin","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","G#min","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","A#min","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","D#min","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","Abmin","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},Ju=null;function fne(){Ju={};for(var e=Object.keys(N0),t=0;t<e.length;t++){var n=N0[e[t]];Ju[e[t].toLowerCase()]=e[t];for(var r=0;r<n.modes.length;r++){var i=n.modes[r].toLowerCase();Ju[i]=e[t]}}}function dne(e){Ju||fne();var t=e.toLowerCase().match(/([a-g][b#]?)(maj|min|mix|dor|phr|lyd|loc|m)?/);if(!t||!t[2])return e;t=t[1]+t[2];var n=Ju[t];return n||e}function hne(e,t){var n=N0[e];if(!n||t==="")return e;var r=t.toLowerCase().match(/^(maj|min|mix|dor|phr|lyd|loc|m)/);if(!r)return e;for(var i=r[1],a=0;a<n.modes.length;a++){var s=n.modes[a],o=s.toLowerCase().indexOf(i);if(o!==-1&&o===s.length-i.length)return s.substring(0,s.length-i.length)}return e}function pne(e,t){var n=N0[e];if(!n)return e;for(;t<0;)t+=12;for(var r=(n.stepsFromC+t)%12,i=0;i<Object.keys(N0).length;i++){var a=Object.keys(N0)[i];if(N0[a].stepsFromC===r)return a}return e}var kM={relativeMajor:dne,relativeMode:hne,transposeKey:pne},{relativeMajor:gne}=kM,m0={acc:"sharp",note:"f"},Al={acc:"sharp",note:"c"},wu={acc:"sharp",note:"g"},Ch={acc:"sharp",note:"d"},rv={acc:"sharp",note:"A"},i8={acc:"sharp",note:"e"},vne={acc:"sharp",note:"B"},Ji={acc:"flat",note:"B"},Ga={acc:"flat",note:"e"},yo={acc:"flat",note:"A"},_u={acc:"flat",note:"d"},iv={acc:"flat",note:"G"},a8={acc:"flat",note:"c"},mne={acc:"flat",note:"F"},bne={"C#":[m0,Al,wu,Ch,rv,i8,vne],"F#":[m0,Al,wu,Ch,rv,i8],B:[m0,Al,wu,Ch,rv],E:[m0,Al,wu,Ch],A:[m0,Al,wu],D:[m0,Al],G:[m0],C:[],F:[Ji],Bb:[Ji,Ga],Eb:[Ji,Ga,yo],Cm:[Ji,Ga,yo],Ab:[Ji,Ga,yo,_u],Db:[Ji,Ga,yo,_u,iv],Gb:[Ji,Ga,yo,_u,iv,a8],Cb:[Ji,Ga,yo,_u,iv,a8,mne],"A#":[Ji,Ga],"B#":[],"D#":[Ji,Ga,yo],"E#":[Ji],"G#":[Ji,Ga,yo,_u],none:[]};function yne(e){var t=bne[gne(e)];return t?JSON.parse(JSON.stringify(t)):null}var OM=yne,s8=cne,wne=AM,av=OM,mp={},_ne={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},xne=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],Mne=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];mp.keySignature=function(e,t,n,r,i){if(e.clef.type==="perc"||e.clef.type==="none")return{accidentals:av(t),root:n,acc:r};i||(i=0),e.localTransposeVerticalMovement=0,e.localTransposePreferFlats=!1;var a=av(t);if(!a)return e.key;if(e.localTranspose=(e.globalTranspose?e.globalTranspose:0)+i,!e.localTranspose)return{accidentals:a,root:n,acc:r};if(e.globalTransposeOrigKeySig=a,e.localTranspose%12===0)return e.localTransposeVerticalMovement=e.localTranspose/12*7,{accidentals:a,root:n,acc:r};var s=t[0];t[1]==="b"||t[1]==="#"?(s+=t[1],t=t.substr(2)):t=t.substr(1);var o=_ne[s],u=o!==void 0;u||(o=0,s="C",t="");for(var c=o+e.localTranspose;c<0;)c+=12;c>11&&(c=c%12);var f=t[0]==="m"?Mne[c]:xne[c],h=f+t,p=av(h);p.length>0&&p[0].acc==="flat"&&(e.localTransposePreferFlats=!0);var v=h.charCodeAt(0)-s.charCodeAt(0);return e.localTranspose>0?(v<0||v===0&&(s[1]==="#"||h[1]==="b"))&&(v+=7):e.localTranspose<0&&(v>0||v===0&&(s[1]==="b"||h[1]==="#"))&&(v-=7),e.localTranspose>0?e.localTransposeVerticalMovement=v+Math.floor(e.localTranspose/12)*7:e.localTransposeVerticalMovement=v+Math.ceil(e.localTranspose/12)*7,u?{accidentals:p,root:f[0],acc:f.length>1?f[1]:""}:{accidentals:[],root:n,acc:r}};mp.chordName=function(e,t){return wne(t,e.localTranspose,e.localTransposePreferFlats,e.freegchord)};var o8=["c","d","e","f","g","a","b"];function Cne(e,t,n,r,i){for(var a=o8[(e+49)%7],s=0,o=0;o<r.length;o++)r[o].note.toLowerCase()===a&&(s=sv[r[o].acc]);for(var u=sv[n],c=u-s,f=o8[(t+49)%7],h=0,p=0;p<i.accidentals.length;p++)i.accidentals[p].note.toLowerCase()===f&&(h=sv[i.accidentals[p].acc]);var v=c+h;return v<-2&&(t--,v+=f==="c"||f==="f"?1:2),v>2&&(t++,v-=f==="b"||f==="e"?1:2),[t,v]}var sv={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},Tne={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},Ene={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};mp.note=function(e,t){if(!(!e.localTranspose||e.clef.type==="perc")){var n=t.pitch;if(e.localTransposeVerticalMovement&&(t.pitch=t.pitch+e.localTransposeVerticalMovement,t.name)){var r=t.accidental?t.name.substring(1):t.name,i=t.accidental?t.name[0]:"",a=s8.pitchIndex(r);t.name=i+s8.noteName(a+e.localTransposeVerticalMovement)}if(t.accidental){var s=Cne(n,t.pitch,t.accidental,e.globalTransposeOrigKeySig,e.targetKey);t.pitch=s[0],t.accidental=Tne[s[1]],t.name&&(t.name=Ene[s[1]]+t.name.replace(/[_^=]/g,""))}}};var NM=mp,l8=_i,c8=T3,Sne=NM,ui={};(function(){var e,t,n,r;ui.initialize=function(f,h,p,v,g){e=f,t=h,n=p,r=g},ui.standardKey=function(f,h,p,v){return Sne.keySignature(n,f,h,p,v)};var i={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},a=function(f,h){var p=i[f],v=p?p.mid:0;return v+h};ui.fixClef=function(f){var h=i[f.type];h&&(f.clefPos=h.pitch,f.type=h.clef)},ui.deepCopyKey=function(f){var h={accidentals:[],root:f.root,acc:f.acc,mode:f.mode};return f.accidentals.forEach(function(p){h.accidentals.push(l8.clone(p))}),h};var s={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};ui.addPosToKey=function(f,h){var p=f.verticalPos;h.accidentals.forEach(function(v){var g=s[v.note];g=g-p,v.verticalPos=g}),h.impliedNaturals&&h.impliedNaturals.forEach(function(v){var g=s[v.note];g=g-p,v.verticalPos=g}),p<-10?(h.accidentals.forEach(function(v){v.verticalPos-=7,(v.verticalPos>=11||v.verticalPos===10&&v.acc==="flat")&&(v.verticalPos-=7),v.note==="A"&&v.acc==="sharp"&&(v.verticalPos-=7),(v.note==="G"||v.note==="F")&&v.acc==="flat"&&(v.verticalPos-=7)}),h.impliedNaturals&&h.impliedNaturals.forEach(function(v){v.verticalPos-=7,(v.verticalPos>=11||v.verticalPos===10&&v.acc==="flat")&&(v.verticalPos-=7),v.note==="A"&&v.acc==="sharp"&&(v.verticalPos-=7),(v.note==="G"||v.note==="F")&&v.acc==="flat"&&(v.verticalPos-=7)})):p<-4?(h.accidentals.forEach(function(v){v.verticalPos-=7,p===-8&&(v.note==="f"||v.note==="g")&&v.acc==="sharp"&&(v.verticalPos-=7)}),h.impliedNaturals&&h.impliedNaturals.forEach(function(v){v.verticalPos-=7,p===-8&&(v.note==="f"||v.note==="g")&&v.acc==="sharp"&&(v.verticalPos-=7)})):p>=7&&(h.accidentals.forEach(function(v){v.verticalPos+=7}),h.impliedNaturals&&h.impliedNaturals.forEach(function(v){v.verticalPos+=7}))},ui.fixKey=function(f,h){var p=l8.clone(h);return ui.addPosToKey(f,p),p};var o=function(f){var h=0,p=f[h++];(p==="^"||p==="_")&&(p=f[h++]);var v=s[p];for(v===void 0&&(v=6);h<f.length;h++)if(f[h]===",")v-=7;else if(f[h]==="'")v+=7;else break;return{mid:v-6,str:f.substring(h)}},u=function(f){for(var h=0;h<f.length;h++)f[h].note==="b"?f[h].note="B":f[h].note==="a"?f[h].note="A":f[h].note==="F"?f[h].note="f":f[h].note==="E"?f[h].note="e":f[h].note==="D"?f[h].note="d":f[h].note==="C"?f[h].note="c":f[h].note==="G"&&f[h].acc==="sharp"?f[h].note="g":f[h].note==="g"&&f[h].acc==="flat"&&(f[h].note="G")};ui.parseKey=function(f,h){f.length===0&&(f="none");var p=e.tokenize(f,0,f.length),v={};if(p.length===0)return t("Must pass in key signature.",f,0),v;switch(p[0].token){case"HP":c8.addDirective("bagpipes"),n.key={root:"HP",accidentals:[],acc:"",mode:""},v.foundKey=!0,p.shift();break;case"Hp":c8.addDirective("bagpipes"),n.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},v.foundKey=!0,p.shift();break;case"none":n.key={root:"none",accidentals:[],acc:"",mode:""},v.foundKey=!0,p.shift();break;default:var g=e.getKeyPitch(p[0].token);if(g.len>0){v.foundKey=!0;var b="",y="";p[0].token.length>1?p[0].token=p[0].token.substring(1):p.shift();var x=g.token;if(p.length>0){var _=e.getSharpFlat(p[0].token);if(_.len>0&&(p[0].token.length>1?p[0].token=p[0].token.substring(1):p.shift(),x+=_.token,b=_.token),p.length>0){var E=e.getMode(p[0].token);E.len>0&&(p.shift(),x+=E.token,y=E.token)}if(ui.standardKey(x,g.token,b,0)===void 0)return t("Unsupported key signature: "+x,f,0),v}var w=ui.deepCopyKey(n.key),M=!h&&n.globalTranspose?-n.globalTranspose:0,T;if(h&&(T=n.globalTransposeOrigKeySig),n.key=ui.deepCopyKey(ui.standardKey(x,g.token,b,M)),h&&(n.globalTransposeOrigKeySig=T),n.key.mode=y,w){for(var S,k=0;k<n.key.accidentals.length;k++)for(S=0;S<w.accidentals.length;S++)w.accidentals[S].note&&n.key.accidentals[k].note.toLowerCase()===w.accidentals[S].note.toLowerCase()&&(w.accidentals[S].note=null);for(S=0;S<w.accidentals.length;S++)w.accidentals[S].note&&(n.key.impliedNaturals||(n.key.impliedNaturals=[]),n.key.impliedNaturals.push({acc:"natural",note:w.accidentals[S].note}))}}break}if(p.length===0||(p[0].token==="exp"&&p.shift(),p.length===0)||(p[0].token==="oct"&&p.shift(),p.length===0))return v;var L=e.getKeyAccidentals2(p);if(L.warn&&t(L.warn,f,0),L.accs){v.foundKey||(v.foundKey=!0,n.key={root:"none",acc:"",mode:"",accidentals:[]}),u(L.accs);for(var B=0;B<L.accs.length;B++){for(var H=!1,D=0;D<n.key.accidentals.length&&!H;D++)n.key.accidentals[D].note===L.accs[B].note&&(H=!0,n.key.accidentals[D].acc!==L.accs[B].acc&&(n.key.accidentals[D].acc=L.accs[B].acc,n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(L.accs[B])));if(!H&&(n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(L.accs[B]),n.key.accidentals.push(L.accs[B]),n.key.impliedNaturals))for(var R=0;R<n.key.impliedNaturals.length;R++)n.key.impliedNaturals[R].note===L.accs[B].note&&n.key.impliedNaturals.splice(R,1)}}for(var z;p.length>0;)switch(p[0].token){case"m":case"middle":if(p.shift(),p.length===0)return t("Expected = after middle",f,0),v;if(z=p.shift(),z.token!=="="){t("Expected = after middle",f,z.start);break}if(p.length===0)return t("Expected parameter after middle=",f,0),v;var j=e.getPitchFromTokens(p);j.warn&&t(j.warn,f,0),j.position&&(n.clef.verticalPos=j.position-6);break;case"transpose":if(p.shift(),p.length===0)return t("Expected = after transpose",f,0),v;if(z=p.shift(),z.token!=="="){t("Expected = after transpose",f,z.start);break}if(p.length===0)return t("Expected parameter after transpose=",f,0),v;if(p[0].type!=="number"){t("Expected number after transpose",f,p[0].start);break}n.clef.transpose=p[0].intt,p.shift();break;case"stafflines":if(p.shift(),p.length===0)return t("Expected = after stafflines",f,0),v;if(z=p.shift(),z.token!=="="){t("Expected = after stafflines",f,z.start);break}if(p.length===0)return t("Expected parameter after stafflines=",f,0),v;if(p[0].type!=="number"){t("Expected number after stafflines",f,p[0].start);break}n.clef.stafflines=p[0].intt,p.shift();break;case"staffscale":if(p.shift(),p.length===0)return t("Expected = after staffscale",f,0),v;if(z=p.shift(),z.token!=="="){t("Expected = after staffscale",f,z.start);break}if(p.length===0)return t("Expected parameter after staffscale=",f,0),v;if(p[0].type!=="number"){t("Expected number after staffscale",f,p[0].start);break}n.clef.staffscale=p[0].floatt,p.shift();break;case"octave":if(p.shift(),p.length===0)return t("Expected = after octave",f,0),v;if(z=p.shift(),z.token!=="="){t("Expected = after octave",f,z.start);break}if(p.length===0)return t("Expected parameter after octave=",f,0),v;if(p[0].type!=="number"){t("Expected number after octave",f,p[0].start);break}n.octave=p[0].intt,p.shift();break;case"style":if(p.shift(),p.length===0)return t("Expected = after style",f,0),v;if(z=p.shift(),z.token!=="="){t("Expected = after style",f,z.start);break}if(p.length===0)return t("Expected parameter after style=",f,0),v;switch(p[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":n.style=p[0].token,p.shift();break;default:t("error parsing style element: "+p[0].token,f,p[0].start);break}break;case"clef":if(p.shift(),p.length===0)return t("Expected = after clef",f,0),v;if(z=p.shift(),z.token!=="="){t("Expected = after clef",f,z.start);break}if(p.length===0)return t("Expected parameter after clef=",f,0),v;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var I=p.shift();switch(I.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":I.token="alto";break;case"F":I.token="bass";break;case"G":I.token="treble";break;case"c":I.token="alto";break;case"f":I.token="bass";break;case"g":I.token="treble";break;default:t("Expected clef name. Found "+I.token,f,I.start);break}p.length>0&&p[0].type==="number"&&(I.token+=p[0].token,p.shift()),p.length>1&&(p[0].token==="-"||p[0].token==="+"||p[0].token==="^"||p[0].token==="_")&&p[1].token==="8"&&(I.token+=p[0].token+p[1].token,p.shift(),p.shift()),n.clef={type:I.token,verticalPos:a(I.token,0)},n.currentVoice&&n.currentVoice.transpose!==void 0&&(n.clef.transpose=n.currentVoice.transpose),v.foundClef=!0;break;default:t("Unknown parameter: "+p[0].token,f,p[0].start),p.shift()}return v};var c=function(f){n.currentVoice=n.voices[f],r.setCurrentVoice(n.currentVoice.staffNum,n.currentVoice.index)};ui.parseVoice=function(f,h,p){var v=e.getMeat(f,h,p),g=v.start,b=v.end,y=e.getToken(f,g,b);if(y.length===0){t("Expected a voice id",f,g);return}var x=!1;n.voices[y]===void 0&&(n.voices[y]={},x=!0,n.score_is_present&&t("Can't have an unknown V: id when the %score directive is present",f,g)),g+=y.length,g+=e.eatWhiteSpace(f,g);for(var _={startStaff:x},E=function(j){var I=e.getVoiceToken(f,g,b);I.warn!==void 0?t("Expected value for "+j+" in voice: "+I.warn,f,g):I.err!==void 0?t("Expected value for "+j+" in voice: "+I.err,f,g):I.token.length===0&&f[g]!=='"'?t("Expected value for "+j+" in voice",f,g):_[j]=I.token,g+=I.len},w=function(j,I,N){var U=e.getVoiceToken(f,g,b);U.warn!==void 0?t("Expected value for "+I+" in voice: "+U.warn,f,g):U.err!==void 0?t("Expected value for "+I+" in voice: "+U.err,f,g):U.token.length===0&&f[g]!=='"'?t("Expected value for "+I+" in voice",f,g):(N==="number"&&(U.token=parseFloat(U.token)),n.voices[j][I]=U.token),g+=U.len},M=function(j,I){var N=e.getVoiceToken(f,g,b);if(N.warn!==void 0)t("Expected value for "+j+" in voice: "+N.warn,f,g);else if(N.err!==void 0)t("Expected value for "+j+" in voice: "+N.err,f,g);else if(N.token.length===0&&f[g]!=='"')t("Expected value for "+j+" in voice",f,g);else return I==="number"&&(N.token=parseFloat(N.token)),N.token;g+=N.len},T=function(j,I){var N={_B:2,_E:9,_b:-10,_e:-3},U=e.getVoiceToken(f,g,b);if(U.warn!==void 0)t("Expected one of (_B, _E, _b, _e) for "+I+" in voice: "+U.warn,f,g);else if(U.token.length===0&&f[g]!=='"')t("Expected one of (_B, _E, _b, _e) for "+I+" in voice",f,g);else{var Y=N[U.token];Y?n.voices[j][I]=Y:t("Expected one of (_B, _E, _b, _e) for "+I+" in voice",f,g)}g+=U.len};g<b;){var S=e.getVoiceToken(f,g,b);if(g+=S.len,S.warn)t("Error parsing voice: "+S.warn,f,g);else{var k=null;switch(S.token){case"clef":case"cl":E("clef");var L=0;_.clef!==void 0&&(_.clef=_.clef.replace(/[',]/g,""),_.clef.indexOf("+16")!==-1&&(L+=14,_.clef=_.clef.replace("+16","")),_.verticalPos=a(_.clef,L));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":var B=0;_.clef=S.token.replace(/[',]/g,""),_.verticalPos=a(_.clef,B),n.voices[y].clef=S.token;break;case"staves":case"stave":case"stv":E("staves");break;case"brace":case"brc":E("brace");break;case"bracket":case"brk":E("bracket");break;case"name":case"nm":E("name");break;case"subname":case"sname":case"snm":E("subname");break;case"merge":_.startStaff=!1;break;case"stem":case"stems":k=e.getVoiceToken(f,g,b),k.warn!==void 0?t("Expected value for stems in voice: "+k.warn,f,g):k.err!==void 0?t("Expected value for stems in voice: "+k.err,f,g):k.token==="up"||k.token==="down"?n.voices[y].stem=k.token:t("Expected up or down for voice stem",f,g),g+=k.len;break;case"up":case"down":n.voices[y].stem=S.token;break;case"middle":case"m":E("verticalPos"),_.verticalPos=o(_.verticalPos).mid;break;case"gchords":case"gch":n.voices[y].suppressChords=!0,k=e.getVoiceToken(f,g,b),k.token==="0"&&(g=g+k.len);break;case"space":case"spc":E("spacing");break;case"scale":w(y,"scale","number");break;case"score":T(y,"scoreTranspose");break;case"transpose":w(y,"transpose","number");break;case"stafflines":w(y,"stafflines","number");break;case"staffscale":w(y,"staffscale","number");break;case"octave":w(y,"octave","number");break;case"volume":w(y,"volume","number");break;case"cue":var H=M("cue","string");H==="on"?n.voices[y].scale=.6:n.voices[y].scale=1;break;case"style":k=e.getVoiceToken(f,g,b),k.warn!==void 0?t("Expected value for style in voice: "+k.warn,f,g):k.err!==void 0?t("Expected value for style in voice: "+k.err,f,g):k.token==="normal"||k.token==="harmonic"||k.token==="rhythm"||k.token==="x"||k.token==="triangle"?n.voices[y].style=k.token:t("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",f,g),g+=k.len;break}}g+=e.eatWhiteSpace(f,g)}if((_.startStaff||n.staves.length===0)&&(n.staves.push({index:n.staves.length,meter:n.origMeter}),n.score_is_present||(n.staves[n.staves.length-1].numVoices=0)),n.voices[y].staffNum===void 0){n.voices[y].staffNum=n.staves.length-1;var D=0;for(var R in n.voices)n.voices.hasOwnProperty(R)&&n.voices[R].staffNum===n.voices[y].staffNum&&D++;n.voices[y].index=D-1}var z=n.staves[n.voices[y].staffNum];n.score_is_present||z.numVoices++,_.clef&&(z.clef={type:_.clef,verticalPos:_.verticalPos}),_.spacing&&(z.spacing_below_offset=_.spacing),_.verticalPos&&(z.verticalPos=_.verticalPos),_.name&&(z.name?z.name.push(_.name):z.name=[_.name]),_.subname&&(z.subname?z.subname.push(_.subname):z.subname=[_.subname]),c(y)}})();var S3=ui,Th=_i,Eh=T3,Ya=S3,Pne=function(e,t,n,r,i){this.reset=function(o,u,c,f){Ya.initialize(o,u,c,f,i),Eh.initialize(o,u,c,f,i)},this.reset(e,t,n,r),this.setTitle=function(o){if(n.hasMainTitle)i.addSubtitle(e.translateString(e.stripComment(o)),{startChar:n.iChar,endChar:n.iChar+o.length+2});else{var u=e.translateString(e.theReverser(e.stripComment(o)));n.titlecaps&&(u=u.toUpperCase()),i.addMetaText("title",u,{startChar:n.iChar,endChar:n.iChar+o.length+2}),n.hasMainTitle=!0}},this.setMeter=function(o){if(o=e.stripComment(o),o==="C")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"common_time"};if(o==="C|")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"cut_time"};if(o==="o")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum"};if(o==="c")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum"};if(o==="o.")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(o==="c.")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(o.length===0||o.toLowerCase()==="none")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),null;var u=e.tokenize(o,0,o.length);try{var c=function(){var b={value:0,num:""},y=u.shift();for(y.token==="("&&(y=u.shift());;){if(y.type!=="number")throw"Expected top number of meter";if(b.value+=parseInt(y.token),b.num+=y.token,u.length===0||u[0].token==="/")return b;if(y=u.shift(),y.token===")"){if(u.length===0||u[0].token==="/")return b;throw"Unexpected paren in meter"}if(y.token!=="."&&y.token!=="+"||(b.num+=y.token,u.length===0))throw"Expected top number of meter";y=u.shift()}return b},f=function(){var b=c();if(u.length===0)return b;var y=u.shift();if(y.token!=="/")throw"Expected slash in meter";if(y=u.shift(),y.type!=="number")throw"Expected bottom number of meter";return b.den=y.token,b.value=b.value/parseInt(b.den),b};if(u.length===0)throw"Expected meter definition in M: line";for(var h={type:"specified",value:[]},p=0;;){var v=f();p+=v.value;var g={num:v.num};if(v.den!==void 0&&(g.den=v.den),h.value.push(g),u.length===0)break}return n.havent_set_length===!0&&(n.default_length=p<.75?.0625:.125,n.havent_set_length=!1),h}catch(b){t(b,o,0)}return null},this.calcTempo=function(o){var u=.25;n.meter&&n.meter.type==="specified"?u=1/parseInt(n.meter.value[0].den):n.origMeter&&n.origMeter.type==="specified"&&(u=1/parseInt(n.origMeter.value[0].den));for(var c=0;c<o.duration;c++)o.duration[c]=u*o.duration[c];return o},this.resolveTempo=function(){n.tempo&&(this.calcTempo(n.tempo),r.metaText.tempo=n.tempo,delete n.tempo)},this.addUserDefinition=function(o,u,c){var f=o.indexOf("=",u);if(f===-1){t("Need an = in a macro definition",o,u);return}var h=Th.strip(o.substring(u,f)),p=Th.strip(o.substring(f+1));if(h.length!==1){t("Macro definitions can only be one character",o,u);return}var v="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(v.indexOf(h)===-1){t("Macro definitions must be H-Y, h-w, or tilde",o,u);return}if(p.length===0){t("Missing macro definition",o,u);return}n.macros===void 0&&(n.macros={}),n.macros[h]=p},this.setDefaultLength=function(o,u,c){var f=o.substring(u,c).replace(/ /g,""),h=f.split("/");if(h.length===2){var p=parseInt(h[0]),v=parseInt(h[1]);v>0&&(n.default_length=p/v,n.havent_set_length=!1)}else h.length===1&&h[0]==="1"&&(n.default_length=1,n.havent_set_length=!1)};var a={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(o,u,c,f){try{var h=e.tokenize(o,u,c);if(h.length===0)throw"Missing parameter in Q: field";var p={startChar:f+u-2,endChar:f+c},v=!0,g=h.shift();if(g.type==="quote"&&(p.preString=g.token,g=h.shift(),h.length===0))return a[p.preString.toLowerCase()]&&(p.bpm=a[p.preString.toLowerCase()],p.suppressBpm=!0),{type:"immediate",tempo:p};if(g.type==="alpha"&&g.token==="C"){if(h.length===0)throw"Missing tempo after C in Q: field";if(g=h.shift(),g.type==="punct"&&g.token==="="){if(h.length===0)throw"Missing tempo after = in Q: field";if(g=h.shift(),g.type!=="number")throw"Expected number after = in Q: field";p.duration=[1],p.bpm=parseInt(g.token)}else if(g.type==="number"){if(p.duration=[parseInt(g.token)],h.length===0)throw"Missing = after duration in Q: field";if(g=h.shift(),g.type!=="punct"||g.token!=="=")throw"Expected = after duration in Q: field";if(h.length===0)throw"Missing tempo after = in Q: field";if(g=h.shift(),g.type!=="number")throw"Expected number after = in Q: field";p.bpm=parseInt(g.token)}else throw"Expected number or equal after C in Q: field"}else if(g.type==="number"){var b=parseInt(g.token);if(h.length===0||h[0].type==="quote")p.duration=[1],p.bpm=b;else{if(v=!1,g=h.shift(),g.type!=="punct"&&g.token!=="/"||(g=h.shift(),g.type!=="number"))throw"Expected fraction in Q: field";var y=parseInt(g.token);for(p.duration=[b/y];h.length>0&&h[0].token!=="="&&h[0].type!=="quote";){if(g=h.shift(),g.type!=="number"||(b=parseInt(g.token),g=h.shift(),g.type!=="punct"&&g.token!=="/")||(g=h.shift(),g.type!=="number"))throw"Expected fraction in Q: field";y=parseInt(g.token),p.duration.push(b/y)}if(g=h.shift(),g.type!=="punct"&&g.token!=="=")throw"Expected = in Q: field";if(g=h.shift(),g.type!=="number")throw"Expected tempo in Q: field";p.bpm=parseInt(g.token)}}else throw"Unknown value in Q: field";if(h.length!==0&&(g=h.shift(),g.type==="quote"&&(p.postString=g.token,g=h.shift()),h.length!==0))throw"Unexpected string at end of Q: field";return n.printTempo===!1&&(p.suppress=!0),{type:v?"delaySet":"immediate",tempo:p}}catch(x){return t(x,o,u),{type:"none"}}},this.letter_to_inline_header=function(o,u,c){var f=e.eatWhiteSpace(o,u);if(u+=f,o.length>=u+5&&o[u]==="["&&o[u+2]===":"){var h=o.indexOf("]",u),p=n.iChar+u,v=n.iChar+h+1;switch(o.substring(u,u+3)){case"[I:":var g=Eh.addDirective(o.substring(u+3,h));return g&&t(g,o,u),[h-u+1+f];case"[M:":var b=this.setMeter(o.substring(u+3,h));return i.hasBeginMusic()&&b?i.appendStartingElement("meter",p,v,b):n.meter=b,[h-u+1+f];case"[K:":var y=Ya.parseKey(o.substring(u+3,h),!0);return y.foundClef&&i.hasBeginMusic()&&i.appendStartingElement("clef",p,v,n.clef),y.foundKey&&i.hasBeginMusic()&&i.appendStartingElement("key",p,v,Ya.fixKey(n.clef,n.key)),[h-u+1+f];case"[P:":return c||r.lines.length<=r.lineNum?n.partForNextLine={title:o.substring(u+3,h),startChar:p,endChar:v}:i.appendElement("part",p,v,{title:o.substring(u+3,h)}),[h-u+1+f];case"[L:":return this.setDefaultLength(o,u+3,h),[h-u+1+f];case"[Q:":if(h>0){var x=this.setTempo(o,u+3,h,n.iChar);return x.type==="delaySet"?i.hasBeginMusic()?i.appendElement("tempo",p,v,this.calcTempo(x.tempo)):n.tempoForNextLine=["tempo",p,v,this.calcTempo(x.tempo)]:x.type==="immediate"&&(!c&&i.hasBeginMusic()?i.appendElement("tempo",p,v,x.tempo):n.tempoForNextLine=["tempo",p,v,x.tempo]),[h-u+1+f,o[u+1],o.substring(u+3,h)]}break;case"[V:":if(h>0)return Ya.parseVoice(o,u+3,h),[h-u+1+f,o[u+1],o.substring(u+3,h)];break;case"[r:":return[h-u+1+f]}}return[0]},this.letter_to_body_header=function(o,u){if(o.length>=u+3)switch(o.substring(u,u+2)){case"I:":var c=Eh.addDirective(o.substring(u+2));return c&&t(c,o,u),[o.length];case"M:":var f=this.setMeter(o.substring(u+2));return i.hasBeginMusic()&&f&&i.appendStartingElement("meter",n.iChar+u,n.iChar+o.length,f),[o.length];case"K:":var h=Ya.parseKey(o.substring(u+2),i.hasBeginMusic());return h.foundClef&&i.hasBeginMusic()&&i.appendStartingElement("clef",n.iChar+u,n.iChar+o.length,n.clef),h.foundKey&&i.hasBeginMusic()&&i.appendStartingElement("key",n.iChar+u,n.iChar+o.length,Ya.fixKey(n.clef,n.key)),[o.length];case"P:":return i.hasBeginMusic()&&i.appendElement("part",n.iChar+u,n.iChar+o.length,{title:o.substring(u+2)}),[o.length];case"L:":return this.setDefaultLength(o,u+2,o.length),[o.length];case"Q:":var p=o.indexOf("",u+2);p===-1&&(p=o.length);var v=this.setTempo(o,u+2,p,n.iChar);return v.type==="delaySet"?i.appendElement("tempo",n.iChar+u,n.iChar+o.length,this.calcTempo(v.tempo)):v.type==="immediate"&&i.appendElement("tempo",n.iChar+u,n.iChar+o.length,v.tempo),[p,o[u],Th.strip(o.substring(u+2))];case"V:":return Ya.parseVoice(o,u+2,o.length),[o.length,o[u],Th.strip(o.substring(u+2))]}return[0]};var s={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(o){var u=s[o[0]];if(u!==void 0)return u==="unalignedWords"?i.addMetaTextArray(u,Eh.parseFontChangeLine(e.translateString(e.stripComment(o.substring(2)))),{startChar:n.iChar,endChar:n.iChar+o.length}):i.addMetaText(u,e.translateString(e.stripComment(o.substring(2))),{startChar:n.iChar,endChar:n.iChar+o.length}),{};var c=n.iChar,f=c+o.length;switch(o[0]){case"H":for(i.addMetaText("history",e.translateString(e.stripComment(o.substring(2))),{startChar:n.iChar,endChar:n.iChar+o.length}),o=e.peekLine();o&&o[1]!==":";)e.nextLine(),i.addMetaText("history",e.translateString(e.stripComment(o)),{startChar:n.iChar,endChar:n.iChar+o.length}),o=e.peekLine();break;case"K":this.resolveTempo();var h=Ya.parseKey(o.substring(2),!1);!n.is_in_header&&i.hasBeginMusic()&&(h.foundClef&&i.appendStartingElement("clef",c,f,n.clef),h.foundKey&&i.appendStartingElement("key",c,f,Ya.fixKey(n.clef,n.key))),n.is_in_header=!1;break;case"L":this.setDefaultLength(o,2,o.length);break;case"M":n.origMeter=n.meter=this.setMeter(o.substring(2));break;case"P":n.is_in_header?i.addMetaText("partOrder",e.translateString(e.stripComment(o.substring(2))),{startChar:n.iChar,endChar:n.iChar+o.length}):n.partForNextLine={title:e.translateString(e.stripComment(o.substring(2))),startChar:c,endChar:f};break;case"Q":var p=this.setTempo(o,2,o.length,n.iChar);p.type==="delaySet"?n.tempo=p.tempo:p.type==="immediate"&&(r.metaText.tempo?n.tempoForNextLine=["tempo",c,f,p.tempo]:r.metaText.tempo=p.tempo);break;case"T":this.setTitle(o.substring(2));break;case"U":this.addUserDefinition(o,2,o.length);break;case"V":if(Ya.parseVoice(o,2,o.length),!n.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":t("Ignored header",o,0);break;default:return{regular:!0}}return{}}},Ane=Pne,u8=_i,f8=S3,IM=NM,er,wr,ue,Pa,Za,Lu,P3=function(e,t,n,r,i,a){er=e,wr=t,ue=n,Pa=r,Za=i,Lu=a,this.lineContinuation=!1},kne="ABCDEFGabcdefgxyzZ[]|^_{",d8=function(e,t,n){if(e.inTie[t]===void 0)return!1;var r=e.currentVoice?e.currentVoice.staffNum*100+e.currentVoice.index:0;return!!(e.inTie[t][r]&&(n.pitches!==void 0||n.rest.type!=="spacer"))},Oe={};P3.prototype.parseMusic=function(e){Lu.resolveTempo(),ue.is_in_header=!1;for(var t=0,n=ue.iChar;er.isWhiteSpace(e[t])&&t<e.length;)t++;if(!(t===e.length||e[t]==="%")){var r=ue.start_new_line;ue.continueall===void 0?ue.start_new_line=!0:ue.start_new_line=!1;var i=0,a=Lu.letter_to_body_header(e,t);a[0]>0&&(t+=a[0],a[1]==="V"&&this.startNewLine());for(var s=0;t<e.length;){var o=t;if(e[t]==="%")break;var u=Lu.letter_to_inline_header(e,t,r);if(u[0]>0)t+=u[0],u[1]==="V"&&(r=!0);else{(!Za.hasBeginMusic()||r&&!this.lineContinuation)&&(this.startNewLine(),r=!1);for(var c;;)if(c=er.eatWhiteSpace(e,t),c>0&&(t+=c),t>0&&e[t-1]===""&&(c=Lu.letter_to_body_header(e,t),c[0]>0&&(c[1]==="V"&&this.startNewLine(),t=c[0],ue.start_new_line=!1)),c=Lne(e,t),c[0]>0&&(t+=c[0]),c=One(e,t),c[0]>0){Oe.chord||(Oe.chord=[]);var f=er.translateString(c[1]);f=f.replace(/;/g,`
`);for(var h=!1,p=0;p<Oe.chord.length;p++)Oe.chord[p].position===c[2]&&(h=!0,Oe.chord[p].name+=`
`+f);h===!1&&(c[2]===null&&c[3]?Oe.chord.push({name:f,rel_position:c[3]}):Oe.chord.push({name:f,position:c[2]})),t+=c[0];var v=er.skipWhiteSpace(e.substring(t));v>0&&(Oe.force_end_beam_last=!0),t+=v}else if(kne.indexOf(e[t])===-1?c=y8(e,t):c=[0],c[0]>0)c[1]===null?t+1<e.length&&this.startNewLine():c[1].length>0&&(c[1].indexOf("style=")===0?Oe.style=c[1].substr(6):(Oe.decoration===void 0&&(Oe.decoration=[]),c[1]==="beambr1"?Oe.beambr=1:c[1]==="beambr2"?Oe.beambr=2:Oe.decoration.push(c[1]))),t+=c[0];else if(c=Nne(e,t),c[0]>0)Oe.gracenotes=c[1],t+=c[0];else break;if(c=Bne(e,t),c[0]>0){s=0,Oe.gracenotes!==void 0&&(Oe.rest={type:"spacer"},Oe.duration=.125,ue.addFormattingOptions(Oe,Pa.formatting,"note"),Za.appendElement("note",n+t,n+t+c[0],Oe),ue.measureNotEmpty=!0,Oe={});var g={type:c[1]};if(g.type.length===0)wr("Unknown bar type",e,t);else{if(ue.inEnding&&g.type!=="bar_thin"&&(g.endEnding=!0,ue.inEnding=!1),c[2]&&(g.startEnding=c[2],ue.inEnding&&(g.endEnding=!0),ue.inEnding=!0,c[1]==="bar_right_repeat"?ue.restoreStartEndingHoldOvers():ue.duplicateStartEndingHoldOvers()),Oe.decoration!==void 0&&(g.decoration=Oe.decoration),Oe.chord!==void 0&&(g.chord=Oe.chord),g.startEnding&&ue.barFirstEndingNum===void 0?ue.barFirstEndingNum=ue.currBarNumber:g.startEnding&&g.endEnding&&ue.barFirstEndingNum?ue.currBarNumber=ue.barFirstEndingNum:g.endEnding&&(ue.barFirstEndingNum=void 0),g.type!=="bar_invisible"&&ue.measureNotEmpty){var b=ue.currentVoice===void 0||ue.currentVoice.staffNum===0&&ue.currentVoice.index===0;b&&(ue.currBarNumber++,ue.barNumbers&&ue.currBarNumber%ue.barNumbers===0&&(g.barNumber=ue.currBarNumber))}ue.addFormattingOptions(Oe,Pa.formatting,"bar"),Za.appendElement("bar",n+o,n+t+c[0],g),ue.measureNotEmpty=!1,Oe={}}t+=c[0]}else if(e[t]==="&")c=Ine(e,t),c[0]>0&&(Za.appendElement("overlay",n,n+1,{}),t+=1,s++);else{if(c=Rne(e,t),c.consumed>0&&(c.startSlur!==void 0&&(Oe.startSlur=c.startSlur),c.dottedSlur&&(Oe.dottedSlur=!0),c.triplet!==void 0&&(i>0?wr("Can't nest triplets",e,t):(Oe.startTriplet=c.triplet,Oe.tripletMultiplier=c.tripletQ/c.triplet,Oe.tripletR=c.num_notes,i=c.num_notes===void 0?c.triplet:c.num_notes)),t+=c.consumed),e[t]==="["){t++;for(var y=null,x=!1,_=!1;!_;){var E=y8(e,t);E[0]>0&&(t+=E[0]);var w=Am(e,t,{},!1);if(w!==null&&w.pitch!==void 0)E[0]>0&&E[1].indexOf("style=")!==0&&(Oe.decoration===void 0&&(Oe.decoration=[]),Oe.decoration.push(E[1])),w.end_beam&&(Oe.end_beam=!0,delete w.end_beam),Oe.pitches===void 0?(Oe.duration=w.duration,Oe.pitches=[w]):Oe.pitches.push(w),delete w.duration,E[0]>0&&E[1].indexOf("style=")===0&&(Oe.pitches[Oe.pitches.length-1].style=E[1].substr(6)),ue.inTieChord[Oe.pitches.length]&&(w.endTie=!0,ue.inTieChord[Oe.pitches.length]=void 0),w.startTie&&(ue.inTieChord[Oe.pitches.length]=!0),t=w.endChar,delete w.endChar;else if(e[t]===" ")wr("Spaces are not allowed in chords",e,t),t++;else{if(t<e.length&&e[t]==="]"){t++,ue.next_note_duration!==0&&(Oe.duration=Oe.duration*ue.next_note_duration,ue.next_note_duration=0),d8(ue,s,Oe)&&(Oe.pitches.forEach(function(D){D.endTie=!0}),xu(ue,s,!1)),i>0&&!(Oe.rest&&Oe.rest.type==="spacer")&&(i--,i===0&&(Oe.endTriplet=!0));for(var M=!1;t<e.length&&!M;){switch(e[t]){case" ":case"	":Qu(Oe);break;case")":Oe.endSlur===void 0?Oe.endSlur=1:Oe.endSlur++;break;case"-":Oe.pitches.forEach(function(D){D.startTie={}}),xu(ue,s,!0);break;case">":case"<":var T=LM(e,t);t+=T[0]-1,ue.next_note_duration=T[2],y?y=y*T[1]:y=T[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var S=er.getFraction(e,t);y=S.value,t=S.index;var k=e[t];k===" "&&(x=!0),k==="-"||k===")"||k===" "||k==="<"||k===">"?t--:M=!0;break;default:M=!0;break}M||t++}}else wr("Expected ']' to end the chords",e,t);Oe.pitches!==void 0&&(y!==null&&(Oe.duration=Oe.duration*y,x&&Qu(Oe)),ue.addFormattingOptions(Oe,Pa.formatting,"note"),Za.appendElement("note",n+o,n+t,Oe),ue.measureNotEmpty=!0,Oe={}),_=!0}}}else{var L={},B=Am(e,t,L,!0);if(L.endTie!==void 0&&xu(ue,s,!0),B!==null){B.pitch!==void 0?(Oe.pitches=[{}],B.accidental!==void 0&&(Oe.pitches[0].accidental=B.accidental),Oe.pitches[0].pitch=B.pitch,Oe.pitches[0].name=B.name,(B.midipitch||B.midipitch===0)&&(Oe.pitches[0].midipitch=B.midipitch),B.endSlur!==void 0&&(Oe.pitches[0].endSlur=B.endSlur),B.endTie!==void 0&&(Oe.pitches[0].endTie=B.endTie),B.startSlur!==void 0&&(Oe.pitches[0].startSlur=B.startSlur),Oe.startSlur!==void 0&&(Oe.pitches[0].startSlur=Oe.startSlur),Oe.dottedSlur!==void 0&&(Oe.pitches[0].dottedSlur=!0),B.startTie!==void 0&&(Oe.pitches[0].startTie=B.startTie),Oe.startTie!==void 0&&(Oe.pitches[0].startTie=Oe.startTie)):(Oe.rest=B.rest,B.endSlur!==void 0&&(Oe.endSlur=B.endSlur),B.endTie!==void 0&&(Oe.rest.endTie=B.endTie),B.startSlur!==void 0&&(Oe.startSlur=B.startSlur),B.startTie!==void 0&&(Oe.rest.startTie=B.startTie),Oe.startTie!==void 0&&(Oe.rest.startTie=Oe.startTie)),B.chord!==void 0&&(Oe.chord=B.chord),B.duration!==void 0&&(Oe.duration=B.duration),B.decoration!==void 0&&(Oe.decoration=B.decoration),B.graceNotes!==void 0&&(Oe.graceNotes=B.graceNotes),delete Oe.startSlur,delete Oe.dottedSlur,d8(ue,s,Oe)&&(Oe.pitches!==void 0?Oe.pitches[0].endTie=!0:Oe.rest.type!=="spacer"&&(Oe.rest.endTie=!0),xu(ue,s,!1)),(B.startTie||Oe.startTie)&&xu(ue,s,!0),t=B.endChar,i>0&&!(B.rest&&B.rest.type==="spacer")&&(i--,i===0&&(Oe.endTriplet=!0)),B.end_beam&&Qu(Oe),Oe.rest&&Oe.rest.type==="rest"&&Oe.duration===1&&h8(ue)<=1&&(Oe.rest.type="whole",Oe.duration=h8(ue));var H=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875];Oe.duration<1&&H.indexOf(Oe.duration)===-1&&Oe.duration!==0&&(!Oe.rest||Oe.rest.type!=="spacer")&&wr("Duration not representable: "+e.substring(o,t),e,t),ue.addFormattingOptions(Oe,Pa.formatting,"note"),Za.appendElement("note",n+o,n+t,Oe),ue.measureNotEmpty=!0,Oe={}}}t===o&&(e[t]!==" "&&e[t]!=="`"&&wr("Unknown character ignored",e,t),t++)}}}this.lineContinuation=e.indexOf("")>=0||a[0]>0,this.lineContinuation||(Oe={})}};var xu=function(e,t,n){var r=e.currentVoice?e.currentVoice.staffNum*100+e.currentVoice.index:0;e.inTie[t]===void 0&&(e.inTie[t]=[]),e.inTie[t][r]=n},One=function(e,t){if(e[t]==='"'){var n=er.getBrackettedSubstring(e,t,5);if(n[2]||wr("Missing the closing quote while parsing the chord symbol",e,t),n[0]>0&&n[1].length>0&&n[1][0]==="^")n[1]=n[1].substring(1),n[2]="above";else if(n[0]>0&&n[1].length>0&&n[1][0]==="_")n[1]=n[1].substring(1),n[2]="below";else if(n[0]>0&&n[1].length>0&&n[1][0]==="<")n[1]=n[1].substring(1),n[2]="left";else if(n[0]>0&&n[1].length>0&&n[1][0]===">")n[1]=n[1].substring(1),n[2]="right";else if(n[0]>0&&n[1].length>0&&n[1][0]==="@"){n[1]=n[1].substring(1);var r=er.getFloat(n[1]);r.digits===0&&wr("Missing first position in absolutely positioned annotation.",e,t),n[1]=n[1].substring(r.digits),n[1][0]!==","&&wr("Missing comma absolutely positioned annotation.",e,t),n[1]=n[1].substring(1);var i=er.getFloat(n[1]);i.digits===0&&wr("Missing second position in absolutely positioned annotation.",e,t),n[1]=n[1].substring(i.digits);var a=er.skipWhiteSpace(n[1]);n[1]=n[1].substring(a),n[2]=null,n[3]={x:r.value,y:i.value}}else ue.freegchord!==!0&&(n[1]=n[1].replace(/([ABCDEFG0-9])b/g,"$1"),n[1]=n[1].replace(/([ABCDEFG0-9])#/g,"$1"),n[1]=n[1].replace(/^([ABCDEFG])([]?)o([^A-Za-z])/g,"$1$2$3"),n[1]=n[1].replace(/^([ABCDEFG])([]?)o$/g,"$1$2"),n[1]=n[1].replace(/^([ABCDEFG])([]?)0([^A-Za-z])/g,"$1$2$3"),n[1]=n[1].replace(/^([ABCDEFG])([]?)\^([^A-Za-z])/g,"$1$2$3")),n[2]="default",n[1]=IM.chordName(ue,n[1]);return n}return[0,""]},Nne=function(e,t){if(e[t]==="{"){var n=er.getBrackettedSubstring(e,t,1,"}");n[2]||wr("Missing the closing '}' while parsing grace note",e,t),e[t+n[0]]===")"&&(n[0]++,n[1]+=")");for(var r=[],i=0,a=!1;i<n[1].length;){var s=!1;n[1][i]==="/"&&(s=!0,i++);var o=Am(n[1],i,{},!1);o!==null?(o.duration=o.duration/(ue.default_length*8),s&&(o.acciaccatura=!0),r.push(o),a&&(o.endTie=!0,a=!1),o.startTie&&(a=!0),i=o.endChar,delete o.endChar,o.end_beam&&(o.endBeam=!0,delete o.end_beam)):(n[1][i]===" "?r.length>0&&(r[r.length-1].endBeam=!0):wr("Unknown character '"+n[1][i]+"' while parsing grace note",e,t),i++)}if(r.length)return[n[0],r]}return[0]};function Ine(e,t){if(e[t]==="&"){for(var n=t;e[t]&&e[t]!==":"&&e[t]!=="|";)t++;return[t-n,e.substring(n+1,t)]}return[0]}function h8(e){var t=e.origMeter;return!t||t.type!=="specified"||!t.value||t.value.length===0?1:parseInt(t.value[0].num,10)/parseInt(t.value[0].den,10)}var p8=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"],g8=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"],v8=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)"],m8=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]],b8=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]],y8=function(e,t){var n=ue.macros[e[t]];if(n!==void 0)return(n[0]==="!"||n[0]==="+")&&(n=n.substring(1)),(n[n.length-1]==="!"||n[n.length-1]==="+")&&(n=n.substring(0,n.length-1)),p8.includes(n)?[1,n]:g8.includes(n)?(ue.volumePosition==="hidden"&&(n=""),[1,n]):v8.includes(n)?(ue.dynamicPosition==="hidden"&&(n=""),[1,n]):(ue.ignoredDecorations.includes(n)||wr("Unknown macro: "+n,e,t),[1,""]);switch(e[t]){case".":if(e[t+1]==="("||e[t+1]==="-")break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var r=er.getBrackettedSubstring(e,t,5);if(r[1].length>1&&(r[1][0]==="^"||r[1][0]==="_")&&(r[1]=r[1].substring(1)),p8.includes(r[1]))return r;if(g8.includes(r[1]))return ue.volumePosition==="hidden"&&(r[1]=""),r;if(v8.includes(r[1]))return ue.dynamicPosition==="hidden"&&(r[1]=""),r;var i=m8.findIndex(function(a){return r[1]===a[0]});return i>=0?(r[1]=m8[i][1],r):(i=b8.findIndex(function(a){return r[1]===a[0]}),i>=0?(r[1]=b8[i][1],ue.dynamicPosition==="hidden"&&(r[1]=""),r):e[t]==="!"&&(r[0]===1||e[t+r[0]-1]!=="!")?[1,null]:(wr("Unknown decoration: "+r[1],e,t),r[1]="",r));case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},Lne=function(e,t){for(var n=t;er.isWhiteSpace(e[t]);)t++;return[t-n]},Bne=function(e,t){var n=er.getBarLine(e,t);if(n.len===0)return[0,""];if(n.warn)return wr(n.warn,e,t),[n.len,""];for(var r=0;r<e.length&&e[t+n.len+r]===" ";r++);var i=n.len;if(e[t+n.len+r]==="["&&(n.len+=r+1),e[t+n.len]==='"'&&e[t+n.len-1]==="["){var a=er.getBrackettedSubstring(e,t+n.len,5);return[n.len+a[0],n.token,a[1]]}var s=er.getTokenOf(e.substring(t+n.len),"1234567890-,");return s.len===0||s.token[0]==="-"?[i,n.token]:[n.len+s.len,n.token,s.token]},$ne={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2},Rne=function(e,t){var n={},r=t;for(e[t]==="."&&e[t+1]==="("&&(n.dottedSlur=!0,t++);e[t]==="("||er.isWhiteSpace(e[t]);)e[t]==="("&&(t+1<e.length&&e[t+1]>="2"&&e[t+1]<="9"?(n.triplet!==void 0?wr("Can't nest triplets",e,t):(n.triplet=e[t+1]-"0",n.tripletQ=$ne[n.triplet],n.num_notes=n.triplet,t+2<e.length&&e[t+2]===":"&&(t+3<e.length&&e[t+3]===":"?t+4<e.length&&e[t+4]>="1"&&e[t+4]<="9"?(n.num_notes=e[t+4]-"0",t+=3):wr("expected number after the two colons after the triplet to mark the duration",e,t):t+3<e.length&&e[t+3]>="1"&&e[t+3]<="9"?(n.tripletQ=e[t+3]-"0",t+4<e.length&&e[t+4]===":"?t+5<e.length&&e[t+5]>="1"&&e[t+5]<="9"&&(n.num_notes=e[t+5]-"0",t+=4):t+=2):wr("expected number after the triplet to mark the duration",e,t))),t++):n.startSlur===void 0?n.startSlur=1:n.startSlur++),t++;return n.consumed=t-r,n};P3.prototype.startNewLine=function(){var e={startChar:-1,endChar:-1};ue.partForNextLine.title&&(e.part=ue.partForNextLine),e.clef=ue.currentVoice&&ue.staves[ue.currentVoice.staffNum].clef!==void 0?u8.clone(ue.staves[ue.currentVoice.staffNum].clef):u8.clone(ue.clef);var t=ue.currentVoice?ue.currentVoice.scoreTranspose:0;if(e.key=f8.standardKey(ue.key.root+ue.key.acc+ue.key.mode,ue.key.root,ue.key.acc,t),e.key.mode=ue.key.mode,ue.key.impliedNaturals&&(e.key.impliedNaturals=ue.key.impliedNaturals),ue.key.explicitAccidentals)for(var n=0;n<ue.key.explicitAccidentals.length;n++){for(var r=!1,i=0;i<e.key.accidentals.length;i++)e.key.accidentals[i].note===ue.key.explicitAccidentals[n].note&&(e.key.accidentals[i].acc=ue.key.explicitAccidentals[n].acc,r=!0);r||e.key.accidentals.push(ue.key.explicitAccidentals[n])}if(ue.targetKey=e.key,e.key.explicitAccidentals&&delete e.key.explicitAccidentals,f8.addPosToKey(e.clef,e.key),ue.meter!==null?(ue.currentVoice?(ue.staves.forEach(function(o){o.meter=ue.meter}),e.meter=ue.staves[ue.currentVoice.staffNum].meter,ue.staves[ue.currentVoice.staffNum].meter=null):e.meter=ue.meter,ue.meter=null):ue.currentVoice&&ue.staves[ue.currentVoice.staffNum].meter&&(e.meter=ue.staves[ue.currentVoice.staffNum].meter,ue.staves[ue.currentVoice.staffNum].meter=null),ue.currentVoice&&ue.currentVoice.name&&(e.name=ue.currentVoice.name),ue.vocalfont&&(e.vocalfont=ue.vocalfont),ue.tripletfont&&(e.tripletfont=ue.tripletfont),ue.gchordfont&&(e.gchordfont=ue.gchordfont),ue.style&&(e.style=ue.style),ue.currentVoice){var a=ue.staves[ue.currentVoice.staffNum];a.brace&&(e.brace=a.brace),a.bracket&&(e.bracket=a.bracket),a.connectBarLines&&(e.connectBarLines=a.connectBarLines),a.name&&(e.name=a.name[ue.currentVoice.index]),a.subname&&(e.subname=a.subname[ue.currentVoice.index]),ue.currentVoice.stem&&(e.stem=ue.currentVoice.stem),ue.currentVoice.stafflines&&(e.stafflines=ue.currentVoice.stafflines),ue.currentVoice.staffscale&&(e.staffscale=ue.currentVoice.staffscale),ue.currentVoice.scale&&(e.scale=ue.currentVoice.scale),ue.currentVoice.color&&(e.color=ue.currentVoice.color),ue.currentVoice.style&&(e.style=ue.currentVoice.style),ue.currentVoice.transpose&&(e.clef.transpose=ue.currentVoice.transpose)}var s=ue.currentVoice===void 0||ue.currentVoice.staffNum===0&&ue.currentVoice.index===0;ue.barNumbers===0&&s&&ue.currBarNumber!==1&&(e.barNumber=ue.currBarNumber),Za.startNewLine(e),ue.key.impliedNaturals&&delete ue.key.impliedNaturals,ue.partForNextLine={},ue.tempoForNextLine.length===4&&Za.appendElement(ue.tempoForNextLine[0],ue.tempoForNextLine[1],ue.tempoForNextLine[2],ue.tempoForNextLine[3]),ue.tempoForNextLine=[]};var Qu=function(e){return e.duration!==void 0&&e.duration<.25&&(e.end_beam=!0),e},Fne={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11},Dne={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"},w8={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"},Am=function(e,t,n,r){var i=function(p){return p==="octave"||p==="duration"||p==="Zduration"||p==="broken_rhythm"||p==="end_slur"},a;e[t]==="."&&e[t+1]==="-"&&(a=!0,t++);for(var s="startSlur",o=!1;;){switch(e[t]){case"(":if(s==="startSlur")n.startSlur===void 0?n.startSlur=1:n.startSlur++;else return i(s)?(n.endChar=t,n):null;break;case")":if(i(s))n.endSlur===void 0?n.endSlur=1:n.endSlur++;else return null;break;case"^":if(s==="startSlur")n.accidental="sharp",s="sharp2";else if(s==="sharp2")n.accidental="dblsharp",s="pitch";else return i(s)?(n.endChar=t,n):null;break;case"_":if(s==="startSlur")n.accidental="flat",s="flat2";else if(s==="flat2")n.accidental="dblflat",s="pitch";else return i(s)?(n.endChar=t,n):null;break;case"=":if(s==="startSlur")n.accidental="natural",s="pitch";else return i(s)?(n.endChar=t,n):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(s==="startSlur"||s==="sharp2"||s==="flat2"||s==="pitch"){if(n.pitch=Fne[e[t]],n.pitch+=7*(ue.currentVoice&&ue.currentVoice.octave!==void 0?ue.currentVoice.octave:ue.octave),n.name=e[t],n.accidental&&(n.name=w8[n.accidental]+n.name),IM.note(ue,n),s="octave",r&&ue.next_note_duration!==0?(n.duration=ue.default_length*ue.next_note_duration,ue.next_note_duration=0,o=!0):n.duration=ue.default_length,ue.clef&&ue.clef.type==="perc"||ue.currentVoice&&ue.currentVoice.clef==="perc"){var u=e[t];n.accidental&&(u=w8[n.accidental]+u),Pa.formatting&&Pa.formatting.midi&&Pa.formatting.midi.drummap&&(n.midipitch=Pa.formatting.midi.drummap[u])}}else return i(s)?(n.endChar=t,n):null;break;case",":if(s==="octave")n.pitch-=7,n.name+=",";else return i(s)?(n.endChar=t,n):null;break;case"'":if(s==="octave")n.pitch+=7,n.name+="'";else return i(s)?(n.endChar=t,n):null;break;case"x":case"X":case"y":case"z":case"Z":if(s==="startSlur")n.rest={type:Dne[e[t]]},delete n.accidental,delete n.startSlur,delete n.startTie,delete n.endSlur,delete n.endTie,delete n.end_beam,delete n.grace_notes,n.rest.type.indexOf("multimeasure")>=0?(n.duration=Pa.getBarLength(),n.rest.text=1,s="Zduration"):(r&&ue.next_note_duration!==0?(n.duration=ue.default_length*ue.next_note_duration,ue.next_note_duration=0,o=!0):n.duration=ue.default_length,s="duration");else return i(s)?(n.endChar=t,n):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(s==="octave"||s==="duration"){var c=er.getFraction(e,t);for(n.duration=n.duration*c.value,n.endChar=c.index;c.index<e.length&&(er.isWhiteSpace(e[c.index])||e[c.index]==="-");)e[c.index]==="-"?n.startTie={}:n=Qu(n),c.index++;t=c.index-1,s="broken_rhythm"}else if(s==="sharp2")n.accidental="quartersharp",s="pitch";else if(s==="flat2")n.accidental="quarterflat",s="pitch";else if(s==="Zduration"){var f=er.getNumber(e,t);return n.duration=f.num*Pa.getBarLength(),n.rest.text=f.num,n.endChar=f.index,n}else return null;break;case"-":if(s==="startSlur")Za.addTieToLastNote(a),n.endTie=!0;else if(s==="octave"||s==="duration"||s==="end_slur")if(n.startTie={},!o&&r)s="broken_rhythm";else return er.isWhiteSpace(e[t+1])&&Qu(n),n.endChar=t+1,n;else return s==="broken_rhythm"?(n.endChar=t,n):null;break;case" ":case"	":if(i(s)){n.end_beam=!0,a=!1;do e[t]==="."&&e[t+1]==="-"&&(a=!0,t++),e[t]==="-"&&(n.startTie={},a&&(n.startTie.style="dotted")),t++;while(t<e.length&&(er.isWhiteSpace(e[t])||e[t]==="-")||e[t]==="."&&e[t+1]==="-");if(n.endChar=t,!o&&r&&(e[t]==="<"||e[t]===">"))t--,s="broken_rhythm";else return n}else return null;break;case">":case"<":if(i(s))if(r){var h=LM(e,t);t+=h[0]-1,ue.next_note_duration=h[2],n.duration=h[1]*n.duration,s="end_slur"}else return n.endChar=t,n;else return null;break;default:return i(s)?(n.endChar=t,n):null}if(t++,t===e.length)return i(s)?(n.endChar=t,n):null}return null},LM=function(e,t){switch(e[t]){case">":return t<e.length-2&&e[t+1]===">"&&e[t+2]===">"?[3,1.875,.125]:t<e.length-1&&e[t+1]===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return t<e.length-2&&e[t+1]==="<"&&e[t+2]==="<"?[3,.125,1.875]:t<e.length-1&&e[t+1]==="<"?[2,.25,1.75]:[1,.5,1.5]}return null},Hne=P3,Tr=_i,A3=function(e,t){this.lineIndex=0,this.lines=e,this.multilineVars=t,this.skipWhiteSpace=function(c){for(var f=0;f<c.length;f++)if(!this.isWhiteSpace(c[f]))return f;return c.length};var n=function(c,f){return f>=c.length};this.eatWhiteSpace=function(c,f){for(var h=f;h<c.length;h++)if(!this.isWhiteSpace(c[h]))return h-f;return h-f},this.getKeyPitch=function(c){var f=this.skipWhiteSpace(c);if(n(c,f))return{len:0};switch(c[f]){case"A":return{len:f+1,token:"A"};case"B":return{len:f+1,token:"B"};case"C":return{len:f+1,token:"C"};case"D":return{len:f+1,token:"D"};case"E":return{len:f+1,token:"E"};case"F":return{len:f+1,token:"F"};case"G":return{len:f+1,token:"G"}}return{len:0}},this.getSharpFlat=function(c){if(c==="bass")return{len:0};switch(c[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(c){var f=function(v,g){for(;g<v.length&&(v[g]>="a"&&v[g]<="z"||v[g]>="A"&&v[g]<="Z");)g++;return g},h=this.skipWhiteSpace(c);if(n(c,h))return{len:0};var p=c.substring(h,h+3).toLowerCase();switch((p.length>1&&p[1]===" "||p[1]==="^"||p[1]==="_"||p[1]==="=")&&(p=p[0]),p){case"mix":return{len:f(c,h),token:"Mix"};case"dor":return{len:f(c,h),token:"Dor"};case"phr":return{len:f(c,h),token:"Phr"};case"lyd":return{len:f(c,h),token:"Lyd"};case"loc":return{len:f(c,h),token:"Loc"};case"aeo":return{len:f(c,h),token:"m"};case"maj":return{len:f(c,h),token:""};case"ion":return{len:f(c,h),token:""};case"min":return{len:f(c,h),token:"m"};case"m":return{len:f(c,h),token:"m"}}return{len:0}},this.getClef=function(c,f){var h=c,p=this.skipWhiteSpace(c);if(n(c,p))return{len:0};var v=!1,g=c.substring(p);if(Tr.startsWith(g,"clef=")&&(v=!0,g=g.substring(5),p+=5),g.length===0&&v)return{len:p+5,warn:"No clef specified: "+h};var b=this.skipWhiteSpace(g);if(n(g,b))return{len:0};b>0&&(p+=b,g=g.substring(b));var y=null;if(Tr.startsWith(g,"treble"))y="treble";else if(Tr.startsWith(g,"bass3"))y="bass3";else if(Tr.startsWith(g,"bass"))y="bass";else if(Tr.startsWith(g,"tenor"))y="tenor";else if(Tr.startsWith(g,"alto2"))y="alto2";else if(Tr.startsWith(g,"alto1"))y="alto1";else if(Tr.startsWith(g,"alto"))y="alto";else if(!f&&v&&Tr.startsWith(g,"none"))y="none";else if(Tr.startsWith(g,"perc"))y="perc";else if(!f&&v&&Tr.startsWith(g,"C"))y="tenor";else if(!f&&v&&Tr.startsWith(g,"F"))y="bass";else if(!f&&v&&Tr.startsWith(g,"G"))y="treble";else return{len:p+5,warn:"Unknown clef specified: "+h};return g=g.substring(y.length),b=this.isMatch(g,"+8"),b>0?y+="+8":(b=this.isMatch(g,"-8"),b>0&&(y+="-8")),{len:p+y.length,token:y,explicit:v}},this.getBarLine=function(c,f){switch(c[f]){case"]":switch(++f,c[f]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++f,c[f]>="1"&&c[f]<="9"||c[f]==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}case":":switch(++f,c[f]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++f,c[f]){case"]":switch(++f,c[f]){case"|":return++f,c[f]===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}case"|":return++f,c[f]===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}default:return{len:1,warn:"Unknown bar symbol"}}case"[":if(++f,c[f]==="|")switch(++f,c[f]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return c[f]>="1"&&c[f]<="9"||c[f]==='"'?{len:1,token:"bar_invisible"}:{len:0};case"|":switch(++f,c[f]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++f,c[f]===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var h=0;c[f+h]===":";)h++;return{len:1+h,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(c,f){for(var h=0;h<c.length;h++)if(f.indexOf(c[h])<0)return{len:h,token:c.substring(0,h)};return{len:h,token:c}},this.getToken=function(c,f,h){for(var p=f;p<h&&!this.isWhiteSpace(c[p]);)p++;return c.substring(f,p)},this.isMatch=function(c,f){var h=this.skipWhiteSpace(c);return n(c,h)?0:Tr.startsWith(c.substring(h),f)?h+f.length:0},this.getPitchFromTokens=function(c){var f={},h={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(f.position=h[c[0].token],f.position===void 0)return{warn:"Pitch expected. Found: "+c[0].token};for(c.shift();c.length;)switch(c[0].token){case",":f.position-=7,c.shift();break;case"'":f.position+=7,c.shift();break;default:return f}return f},this.getKeyAccidentals2=function(c){for(var f;c.length>0;){var h;if(c[0].token==="^"){if(h="sharp",c.shift(),c.length===0)return{accs:f,warn:"Expected note name after "+h};switch(c[0].token){case"^":h="dblsharp",c.shift();break;case"/":h="quartersharp",c.shift();break}}else if(c[0].token==="=")h="natural",c.shift();else if(c[0].token==="_"){if(h="flat",c.shift(),c.length===0)return{accs:f,warn:"Expected note name after "+h};switch(c[0].token){case"_":h="dblflat",c.shift();break;case"/":h="quarterflat",c.shift();break}}else return{accs:f};if(c.length===0)return{accs:f,warn:"Expected note name after "+h};switch(c[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":f===void 0&&(f=[]),f.push({acc:h,note:c[0].token[0]}),c[0].token.length===1?c.shift():c[0].token=c[0].token.substring(1);break;default:return{accs:f,warn:"Expected note name after "+h+" Found: "+c[0].token}}}return{accs:f}},this.getKeyAccidental=function(c){var f={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},h=this.skipWhiteSpace(c);if(n(c,h))return{len:0};var p=null;switch(c[h]){case"^":case"_":case"=":p=c[h];break;default:return{len:0}}if(h++,n(c,h))return{len:1,warn:"Expected note name after accidental"};switch(c[h]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:h+1,token:{acc:f[p],note:c[h]}};case"^":case"_":case"/":if(p+=c[h],h++,n(c,h))return{len:2,warn:"Expected note name after accidental"};switch(c[h]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:h+1,token:{acc:f[p],note:c[h]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(c){return c===" "||c==="	"||c===""},this.getMeat=function(c,f,h){var p=c.indexOf("%",f);for(p>=0&&p<h&&(h=p);f<h&&(c[f]===" "||c[f]==="	"||c[f]==="");)f++;for(;f<h&&(c[h-1]===" "||c[h-1]==="	"||c[h-1]==="");)h--;return{start:f,end:h}};var r=function(c){return c>="A"&&c<="Z"||c>="a"&&c<="z"},i=function(c){return c>="0"&&c<="9"};this.tokenize=function(c,f,h,p){var v=this.getMeat(c,f,h);f=v.start,h=v.end;for(var g=[],b;f<h;){if(c[f]==='"'){for(b=f+1;b<h&&c[b]!=='"';)b++;g.push({type:"quote",token:c.substring(f+1,b),start:f+1,end:b}),b++}else if(r(c[f])){if(b=f+1,p)for(;b<h&&!this.isWhiteSpace(c[b]);)b++;else for(;b<h&&r(c[b]);)b++;g.push({type:"alpha",token:c.substring(f,b),continueId:i(c[b]),start:f,end:b}),f=b+1}else if(c[f]==="."&&i(c[b+1])){b=f+1;for(var y=null,x=null;b<h&&i(c[b]);)b++;x=parseFloat(c.substring(f,b)),g.push({type:"number",token:c.substring(f,b),intt:y,floatt:x,continueId:r(c[b]),start:f,end:b}),f=b+1}else if(i(c[f])||c[f]==="-"&&i(c[b+1])){b=f+1;for(var _=null,E=null;b<h&&i(c[b]);)b++;if(c[b]==="."&&i(c[b+1]))for(b++;b<h&&i(c[b]);)b++;else _=parseInt(c.substring(f,b));E=parseFloat(c.substring(f,b)),g.push({type:"number",token:c.substring(f,b),intt:_,floatt:E,continueId:r(c[b]),start:f,end:b}),f=b+1}else c[f]===" "||c[f]==="	"||g.push({type:"punct",token:c[f],start:f,end:f+1}),b=f+1;f=b}return g},this.getVoiceToken=function(c,f,h){for(var p=f;p<h&&this.isWhiteSpace(c[p])||c[p]==="=";)p++;if(c[p]==='"'){var v=c.indexOf('"',p+1);return v===-1||v>=h?{len:1,err:"Missing close quote"}:{len:v-f+1,token:this.translateString(c.substring(p+1,v))}}else{for(var g=p;g<h&&!this.isWhiteSpace(c[g])&&c[g]!=="=";)g++;return{len:g-f+1,token:c.substring(p,g)}}};var a={"`a":"","'a":"","^a":"","~a":"",'"a':"",oa:"",aa:"","=a":"",ua:"",";a":"","`e":"","'e":"","^e":"",'"e':"","=e":"",ue:"",";e":"",".e":"","`i":"","'i":"","^i":"",'"i':"","=i":"",ui:"",";i":"","`o":"","'o":"","^o":"","~o":"",'"o':"","=o":"",uo:"","/o":"","`u":"","'u":"","^u":"","~u":"",'"u':"",ou:"","=u":"",uu:"",";u":"","`A":"","'A":"","^A":"","~A":"",'"A':"",oA:"",AA:"","=A":"",uA:"",";A":"","`E":"","'E":"","^E":"",'"E':"","=E":"",uE:"",";E":"",".E":"","`I":"","'I":"","^I":"","~I":"",'"I':"","=I":"",uI:"",";I":"",".I":"","`O":"","'O":"","^O":"","~O":"",'"O':"","=O":"",uO:"","/O":"","`U":"","'U":"","^U":"","~U":"",'"U':"",oU:"","=U":"",uU:"",";U":"",ae:"",AE:"",oe:"",OE:"",ss:"","'c":"","^c":"",uc:"",cc:"",".c":"",cC:"","'C":"","^C":"",uC:"",".C":"","~N":"","~n":"","=s":"",vs:"",DH:"",dh:"",HO:"",Ho:"",HU:"",Hu:"","'Y":"","'y":"","^Y":"","^y":"",'"Y':"",'"y':"",vS:"",vZ:"",vz:""},s={"#":"",b:"","=":""},o={201:"",202:"",203:"",241:"",242:"",252:"a",262:"2",272:"o",302:"",312:"",322:"",332:"",342:"",352:"",362:"",372:"",243:"",253:"",263:"3",273:"",303:"",313:"",323:"",333:"",343:"",353:"",363:"",373:"",244:"",254:"",264:"  ",274:"14",304:"",314:"",324:"",334:"",344:"",354:"",364:"",374:"",245:"",255:"-",265:"",275:"12",305:"",315:"",325:"",335:"",345:"",355:"",365:"",375:"",246:"",256:"",266:"",276:"34",306:"",316:"",326:"",336:"",346:"",356:"",366:"",376:"",247:"",257:" ",267:"",277:"",307:"",317:"",327:"",337:"",347:"",357:"",367:"",377:"",250:" ",260:"",270:" ",300:"",310:"",320:"",330:"",340:"",350:"",360:"",370:"",251:"",261:"",271:"1",301:"",311:"",321:"",331:"",341:"",351:"",361:"",371:""};this.translateString=function(c){var f=c.split("\\");if(f.length===1)return c;var h=null;return f.forEach(function(p){if(h===null)h=p;else{var v=a[p.substring(0,2)];v!==void 0?h+=v+p.substring(2):(v=o[p.substring(0,3)],v!==void 0?h+=v+p.substring(3):(v=s[p.substring(0,1)],v!==void 0?h+=v+p.substring(1):h+="\\"+p))}}),h},this.getNumber=function(c,f){for(var h=0;f<c.length;)switch(c[f]){case"0":h=h*10,f++;break;case"1":h=h*10+1,f++;break;case"2":h=h*10+2,f++;break;case"3":h=h*10+3,f++;break;case"4":h=h*10+4,f++;break;case"5":h=h*10+5,f++;break;case"6":h=h*10+6,f++;break;case"7":h=h*10+7,f++;break;case"8":h=h*10+8,f++;break;case"9":h=h*10+9,f++;break;default:return{num:h,index:f}}return{num:h,index:f}},this.getFraction=function(c,f){var h=1,p=1;if(c[f]!=="/"){var v=this.getNumber(c,f);h=v.num,f=v.index}if(c[f]==="/")if(f++,c[f]==="/"){for(var g=.5;c[f++]==="/";)g=g/2;return{value:h*g,index:f-1}}else{var b=f,y=this.getNumber(c,f);y.num===0&&b===f&&(y.num=2),y.num!==0&&(p=y.num),f=y.index}return{value:h/p,index:f}},this.theReverser=function(c){return Tr.endsWith(c,", The")?"The "+c.substring(0,c.length-5):Tr.endsWith(c,", A")?"A "+c.substring(0,c.length-3):c},this.stripComment=function(c){var f=c.indexOf("%");return f>=0?Tr.strip(c.substring(0,f)):Tr.strip(c)},this.getInt=function(c){var f=parseInt(c);if(isNaN(f))return{digits:0};var h=""+f,p=c.indexOf(h);return{value:f,digits:p+h.length}},this.getFloat=function(c){var f=parseFloat(c);if(isNaN(f))return{digits:0};var h=""+f,p=c.indexOf(h);return{value:f,digits:p+h.length}},this.getMeasurement=function(c){if(c.length===0)return{used:0};var f=1,h="";if(c[0].token==="-")c.shift(),h="-",f++;else if(c[0].type!=="number")return{used:0};if(h+=c.shift().token,c.length===0)return{used:1,value:parseInt(h)};var p=c.shift();if(p.token==="."){if(f++,c.length===0)return{used:f,value:parseInt(h)};if(c[0].type==="number"&&(p=c.shift(),h=h+"."+p.token,f++,c.length===0))return{used:f,value:parseFloat(h)};p=c.shift()}switch(p.token){case"pt":return{used:f+1,value:parseFloat(h)};case"px":return{used:f+1,value:parseFloat(h)};case"cm":return{used:f+1,value:parseFloat(h)/2.54*72};case"in":return{used:f+1,value:parseFloat(h)*72};default:return c.unshift(p),{used:f,value:parseFloat(h)}}};var u=function(c){return c=c.replace(/\\n/g,`
`),c=c.replace(/\\"/g,'"'),c};this.getBrackettedSubstring=function(c,f,h,p){for(var v=p||c[f],g=f+1,b=!1;g<c.length&&(b||c[g]!==v);)b=c[g]==="\\",++g;return c[g]===v?[g-f+1,u(c.substring(f+1,g)),!0]:(g=f+h,g>c.length-1&&(g=c.length-1),[g-f+1,u(c.substring(f+1,g)),!1])}};A3.prototype.peekLine=function(){return this.lines[this.lineIndex]};A3.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var e=this.lines[this.lineIndex];return this.lineIndex++,e}return null};var zne=A3;function Vne(e,t,n){if(!(!t||e.lines.length===0)){var r=e.deline({lineBreaks:!1}),i=Wne(r,t);e.lines=Une(r,i,n),e.lineBreaks=i}}function Une(e,t,n){for(var r=[],i=[],a=[],s=1,o=0;o<t.length;o++){var u=t[o];if(e[u.ogLine].staff){var c=e[u.ogLine].staff[u.staff];if(r[u.line]||(r[u.line]={staff:[]}),!r[u.line].staff[u.staff]){r[u.line].staff[u.staff]={voices:[]},n!==void 0&&u.staff===0&&u.line>0&&(r[u.line].staff[u.staff].barNumber=s);for(var f=Object.keys(c),h=0;h<f.length;h++){var p=f[h]==="voices";f[h]==="meter"&&u.line!==0&&(p=!0),p||(r[u.line].staff[u.staff][f[h]]=c[f[h]])}i[u.staff]&&(r[u.line].staff[u.staff].key=i[u.staff])}r[u.line].staff[u.staff].voices[u.voice]||(r[u.line].staff[u.staff].voices[u.voice]=[]),r[u.line].staff[u.staff].voices[u.voice]=e[u.ogLine].staff[u.staff].voices[u.voice].slice(u.start,u.end+1),a[u.staff*10+u.voice]&&r[u.line].staff[u.staff].voices[u.voice].unshift({el_type:"stem",direction:a[u.staff*10+u.voice].direction});for(var v=r[u.line].staff[u.staff].voices[u.voice],g=v.length-1;g>=0;g--)if(v[g].el_type==="key"){i[u.staff]={root:v[g].root,acc:v[g].acc,mode:v[g].mode,accidentals:v[g].accidentals.filter(function(y){return y.acc!=="natural"})};break}for(g=v.length-1;g>=0;g--)if(v[g].el_type==="stem"){a[u.staff*10+u.voice]={direction:v[g].direction};break}if(n!==void 0&&u.staff===0&&u.voice===0)for(g=0;g<v.length;g++)v[g].el_type==="bar"&&(s++,g===v.length-1?delete v[g].barNumber:v[g].barNumber=s)}else r[u.line]=e[u.ogLine]}for(var b=0;b<r.length;b++)r[b].staff&&(r[b].staff=r[b].staff.filter(function(y){return y!=null}));return r}function Wne(e,t){for(var n=[],r=0,i=0,a=0,s=0;s<e.length;s++){var o=e[s];if(o.staff){var u=i,c=t[r];r++;for(var f=0;f<o.staff.length;f++)for(var h=o.staff[f],p=0;p<h.voices.length;p++){a=u;for(var v=0,g=0,b=h.voices[p],y=0,x=0;x<b.length;x++){var _=b[x];_.el_type==="bar"&&(c[g]===v&&(n.push({ogLine:s,line:a,staff:f,voice:p,start:y,end:x}),y=x+1,a++,i=Math.max(i,a),g++),v++)}n.push({ogLine:s,line:a,staff:f,voice:p,start:y,end:b.length}),a++,i=Math.max(i,a)}}else n.push({ogLine:s,line:a}),a++,i=Math.max(i,a)}return n}function jne(e,t){for(var n=[],r=[],i=0,a=0;a<e.length;a++){var s=e[a],o=i+s;if(o<t)i=o;else{var u=t-i,c=o-t;u<c&&i>0?(n.push(a-1),r.push(Math.round(i-s)),i=s):a<e.length-1&&(n.push(a),r.push(Math.round(i)),i=0)}}return r.push(Math.round(i)),{lineBreaks:n,totals:r}}function Sh(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function qne(e,t,n,r,i,a,s,o,u,c,f){for(var h=c;h<e.length;h++){var p=e[h];n+=p,r+=p;var v=Math.abs(n-t[o]),g=Math.abs(v-a)<t[0]/10;if(g)if(v<a){var b=Sh(i),y=Sh(u);y.push(h-1),b.push(r-p),f.push({accumulator:n,lineAccumulator:p,lineWidths:b,lastVariance:Math.abs(n-t[o+1]),highestVariance:Math.max(s,a),currLine:o+1,lineBreaks:y,startIndex:h+1})}else v>a&&h<e.length-1&&(b=Sh(i),y=Sh(u),f.push({accumulator:n,lineAccumulator:r,lineWidths:b,lastVariance:v,highestVariance:Math.max(s,v),currLine:o,lineBreaks:y,startIndex:h+1}));v>a?(u.push(h-1),o++,s=Math.max(s,a),a=Math.abs(n-t[o]),i.push(r-p),r=p):a=v}i.push(r)}function Kne(e,t,n,r){for(var i=Math.ceil(e.total/t),a=Math.floor(e.total/i),s=[],o=0;o<i;o++)s.push(a*(o+1));var u=[];u.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var c=0;c<u.length;)qne(e.measureWidths,s,u[c].accumulator,u[c].lineAccumulator,u[c].lineWidths,u[c].lastVariance,u[c].highestVariance,u[c].currLine,u[c].lineBreaks,u[c].startIndex,u),c++;for(o=0;o<u.length;o++){var f=u[o];f.variances=[],f.aveVariance=0;for(var h=0;h<f.lineWidths.length;h++){var p=f.lineWidths[h];f.variances.push(p-s[0]),f.aveVariance+=Math.abs(p-s[0])}f.aveVariance=f.aveVariance/f.lineWidths.length,r.attempts.push({type:"optimizeLineWidths",lineBreaks:f.lineBreaks,variances:f.variances,aveVariance:f.aveVariance,widths:e.measureWidths})}var v=9999999,g=-1;for(o=0;o<u.length;o++)f=u[o],f.aveVariance<v&&(v=f.aveVariance,g=o);return{failed:!1,lineBreaks:u[g].lineBreaks,variance:u[g].highestVariance}}function Gne(e,t,n){for(var r=[],i=[],a=0,s=!1,o=0;o<e.length;o++)a+=e[o],a>t&&(s=!0),o%n===n-1&&(o!==e.length-1&&r.push(o),i.push(Math.round(a)),a=0);return{failed:s,totals:i,lineBreaks:r}}function Yne(e,t,n){var r={lineBreaks:e,staffwidth:t};for(var i in n)n.hasOwnProperty(i)&&i!=="wrap"&&i!=="staffwidth"&&(r[i]=n[i]);return{revisedParams:r}}function Xne(e,t,n){if(t.length===0||n.staffwidth<t[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:n};var r=n.scale?Math.max(n.scale,.1):1,i=n.wrap.minSpacing?Math.max(parseFloat(n.wrap.minSpacing),1):1,a=n.wrap.minSpacingLimit?Math.max(parseFloat(n.wrap.minSpacingLimit),1):i-.1,s=n.wrap.maxSpacing?Math.max(parseFloat(n.wrap.maxSpacing),1):void 0;n.wrap.lastLineLimit&&!s&&(s=Math.max(parseFloat(n.wrap.lastLineLimit),1));for(var o=n.wrap.preferredMeasuresPerLine?Math.max(parseInt(n.wrap.preferredMeasuresPerLine,10),0):void 0,u=[],c=[],f=0;f<t.length;f++){var h=t[f],p=n.staffwidth-h.left,v=p/i/r,g=p/s/r,b=p/a/r,y={widths:h,lineBreakPoint:v,minLineSize:g,attempts:[],staffWidth:n.staffwidth,minWidth:Math.round(b)},x=null;if(o){var _=Gne(h.measureWidths,v,o);y.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:o,lineBreaks:_.lineBreaks,failed:_.failed,totals:_.totals}),_.failed||(x=_.lineBreaks)}if(!x){var E=jne(h.measureWidths,v);y.attempts.push({type:"Free Form",lineBreaks:E.lineBreaks,totals:E.totals}),x=E.lineBreaks,x.length>0&&h.measureWidths.length<25&&(E=Kne(h,v,x,y),y.attempts.push({type:"Optimize",failed:E.failed,reason:E.reason,lineBreaks:E.lineBreaks,totals:E.totals}),E.failed||(x=E.lineBreaks))}u.push(x),c.push(y)}var w=n.staffwidth,M=Yne(u,w,n);return M.explanation=c,M.reParse=!0,M}var BM={wrapLines:Vne,calcLineWraps:Xne},Xs={};Xs.FONTEM=360;Xs.FONTSIZE=30;Xs.STEP=Xs.FONTSIZE*93/720;Xs.SPACE=10;Xs.TOPNOTE=15;Xs.STAVEHEIGHT=100;Xs.INDENT=50;var xi=Xs,$M,Mu=_i;(function(){var e=1,t=128;$M=function(v,g){g=g||{};var b,y=g.program||0,x=g.midiTranspose||0;v.visualTranspose&&(x-=v.visualTranspose);var _=g.channel||0,E=!1,w=g.drum||"",M=g.drumBars||1,T=g.drumIntro||0,S=w!=="",k=[],L=50;y=parseInt(y,10),x=parseInt(x,10),_=parseInt(_,10),_===10&&(y=t),w=w.split(" "),M=parseInt(M,10),T=parseInt(T,10);var B=v.formatting.bagpipes;B&&(y=71);var H=[];if(v.formatting.midi){var D=v.formatting.midi;D.program&&D.program.length>0&&(y=D.program[0],D.program.length>1&&(y=D.program[1],_=D.program[0]),E=!0),D.transpose&&(x=D.transpose[0]),D.channel&&(_=D.channel[0],E=!0),D.drum&&(w=D.drum),D.drumbars&&(M=D.drumbars[0]),D.drumon&&(S=!0),_===10&&(y=t),D.beat&&H.push({el_type:"beat",beats:D.beat}),D.nobeataccents&&H.push({el_type:"beataccents",value:!1})}g.qpm?b=parseInt(g.qpm,10):v.metaText.tempo?b=o(v.metaText.tempo,v.getBeatLength()):g.defaultQpm?b=g.defaultQpm:b=180;var R=[];B&&R.push({el_type:"bagpipes"}),R.push({el_type:"instrument",program:y}),_&&R.push({el_type:"channel",channel:_}),x&&R.push({el_type:"transpose",transpose:x}),R.push({el_type:"tempo",qpm:b});for(var z=0;z<H.length;z++)R.push(H[z]);var j=[],I=[],N=[],U=[0],Y={};Y[0]={el_type:"tempo",qpm:b,timing:0};for(var Z,ge=[],ie=[],me=!1,ve=v.lines,De=0;De<ve.length;De++){var Be=ve[De];if(Be.staff){let Ot=function(Bt){var de={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]},Ne;if(Bt.decoration)if(Bt.decoration.indexOf("pppp")>=0?Ne="pppp":Bt.decoration.indexOf("ppp")>=0?Ne="ppp":Bt.decoration.indexOf("pp")>=0?Ne="pp":Bt.decoration.indexOf("p")>=0?Ne="p":Bt.decoration.indexOf("mp")>=0?Ne="mp":Bt.decoration.indexOf("mf")>=0?Ne="mf":Bt.decoration.indexOf("f")>=0?Ne="f":Bt.decoration.indexOf("ff")>=0?Ne="ff":Bt.decoration.indexOf("fff")>=0?Ne="fff":Bt.decoration.indexOf("ffff")>=0&&(Ne="ffff"),Ne&&(Z=de[Ne].slice(0),j[Me].push({el_type:"beat",beats:Z.slice(0)}),I[Xe]=!1,N[Xe]=!1),Bt.decoration.indexOf("crescendo(")>=0){var it=n(W,Te,"crescendo)"),_t=Math.min(127,Z[0]+L),tt=r(W,Te+it+1,Object.keys(de));tt&&(_t=de[tt][0]),it>0?I[Xe]=Math.floor((_t-Z[0])/it):I[Xe]=!1,N[Xe]=!1}else if(Bt.decoration.indexOf("crescendo)")>=0)I[Xe]=!1;else if(Bt.decoration.indexOf("diminuendo(")>=0){var J=n(W,Te,"diminuendo)"),be=Math.max(15,Z[0]-L),he=r(W,Te+J+1,Object.keys(de));he&&(be=de[he][0]),I[Xe]=!1,J>0?N[Xe]=Math.floor((be-Z[0])/J):N[Xe]=!1}else Bt.decoration.indexOf("diminuendo)")>=0&&(N[Xe]=!1)};for(var nt=Be.staff,Me=0,at=0;at<nt.length;at++){var Ue=nt[at];if(!(Ue.clef&&Ue.clef.type==="TAB"))for(var Xe=0;Xe<Ue.voices.length;Xe++){var W=Ue.voices[Xe];if(!j[Me]){j[Me]=[].concat(JSON.parse(JSON.stringify(R)));var X=s(Be.staff,Me);X&&j[Me].unshift({el_type:"name",trackName:X})}if(x&&Ue.clef.type==="perc"&&j[Me].push({el_type:"transpose",transpose:0}),Ue.clef&&Ue.clef.type==="perc"&&!E)for(var ae=0;ae<j[Me].length;ae++)j[Me][ae].el_type==="instrument"&&(j[Me][ae].program=t);else Ue.key&&f(j[Me],Ue.key);Ue.meter&&h(j[Me],Ue.meter),!me&&S&&(j[Me].push({el_type:"drum",params:{pattern:w,bars:M,on:S,intro:T}}),me=!0),Ue.clef&&Ue.clef.type!=="perc"&&Ue.clef.transpose&&(Ue.clef.el_type="clef",j[Me].push({el_type:"transpose",transpose:Ue.clef.transpose})),Ue.clef&&Ue.clef.type&&(Ue.clef.type.indexOf("-8")>=0?j[Me].push({el_type:"transpose",transpose:-12}):Ue.clef.type.indexOf("+8")>=0&&j[Me].push({el_type:"transpose",transpose:12})),v.formatting.midi&&v.formatting.midi.drumoff&&(j[Me].push({el_type:"bar"}),j[Me].push({el_type:"drum",params:{pattern:"",on:!1}}));var ee=0,xe=0,Se=0,Ve=0;Z=[105,95,85,1];for(var Te=0;Te<W.length;Te++){var te=W[Te];switch(te.el_type){case"note":if(I[Xe]&&(Z[0]+=I[Xe],Z[1]+=I[Xe],Z[2]+=I[Xe],j[Me].push({el_type:"beat",beats:Z.slice(0)})),N[Xe]&&(Z[0]+=N[Xe],Z[1]+=N[Xe],Z[2]+=N[Xe],j[Me].push({el_type:"beat",beats:Z.slice(0)})),Ot(te),!te.rest||te.rest.type!=="spacer"){var se={elem:te,el_type:"note",timing:U[Me]};if(te.style?se.style=te.style:k[Me]&&(se.style=k[Me]),se.duration=te.duration===0?.25:te.duration,te.startTriplet){if(xe=te.tripletMultiplier,Se=te.startTriplet*xe*te.duration,te.startTriplet!==te.tripletR&&Te+te.tripletR<=W.length){for(var ke=0,Pe=Te;Pe<Te+te.tripletR;Pe++)ke+=W[Pe].duration;Se=xe*ke}se.duration=se.duration*xe,se.duration=Math.round(se.duration*1e6)/1e6,Ve=se.duration}else xe&&(te.endTriplet?(xe=0,se.duration=Math.round((Se-Ve)*1e6)/1e6):(se.duration=se.duration*xe,se.duration=Math.round(se.duration*1e6)/1e6,Ve+=se.duration));te.rest&&(se.rest=te.rest),te.decoration&&(se.decoration=te.decoration.slice(0)),te.pitches&&(se.pitches=Mu.cloneArray(te.pitches)),te.gracenotes&&(se.gracenotes=Mu.cloneArray(te.gracenotes)),te.chord&&(se.chord=Mu.cloneArray(te.chord)),j[Me].push(se),te.style==="rhythm"&&a(j),ee++,U[Me]+=se.duration}break;case"key":case"keySignature":f(j[Me],te);break;case"meter":h(j[Me],te);break;case"clef":te.transpose&&j[Me].push({el_type:"transpose",transpose:te.transpose}),te.type&&(te.type.indexOf("-8")>=0?j[Me].push({el_type:"transpose",transpose:-12}):te.type.indexOf("+8")>=0&&j[Me].push({el_type:"transpose",transpose:12}));break;case"tempo":b=o(te,v.getBeatLength()),j[Me].push({el_type:"tempo",qpm:b,timing:U[Me]}),Y[""+U[Me]]={el_type:"tempo",qpm:b,timing:U[Me]};break;case"bar":ee>0&&j[Me].push({el_type:"bar"}),Ot(te),ee=0;var oe=te.type==="bar_right_repeat"||te.type==="bar_dbl_repeat",$e=te.startEnding==="1",qe=te.type==="bar_left_repeat"||te.type==="bar_dbl_repeat"||te.type==="bar_right_repeat";if(oe){var et=ge[Me];et||(et=0);var lt=ie[Me];lt||(lt=j[Me].length);for(var wt=et;wt<lt;wt++){var Et=Mu.clone(j[Me][wt]);Et.pitches&&(Et.pitches=Mu.cloneArray(Et.pitches)),j[Me].push(Et)}ie[Me]=void 0,ge[Me]=void 0}$e&&(ie[Me]=j[Me].length),qe&&(ge[Me]=j[Me].length);break;case"style":k[Me]=te.head;break;case"timeSignature":j[Me].push(u(te));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var Xt=!1;switch(te.cmd){case"drumon":S=!0,Xt=!0;break;case"drumoff":S=!1,Xt=!0;break;case"drum":w=te.params,Xt=!0;break;case"drumbars":M=te.params[0],Xt=!0;break;case"drummap":break;case"channel":te.params[0]===10&&j[Me].push({el_type:"instrument",program:t});break;case"program":p(j[Me],{el_type:"instrument",program:te.params[0]}),E=!0;break;case"transpose":j[Me].push({el_type:"transpose",transpose:te.params[0]});break;case"gchordoff":j[Me].push({el_type:"gchord",tacet:!0});break;case"gchordon":j[Me].push({el_type:"gchord",tacet:!1});break;case"beat":j[Me].push({el_type:"beat",beats:te.params});break;case"nobeataccents":j[Me].push({el_type:"beataccents",value:!1});break;case"beataccents":j[Me].push({el_type:"beataccents",value:!0});break;case"vol":j[Me].push({el_type:"vol",volume:te.params[0]});break;case"volinc":j[Me].push({el_type:"volinc",volume:te.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",te.cmd,te)}Xt&&(j[0].push({el_type:"drum",params:{pattern:w,bars:M,intro:T,on:S}}),me=!0);break;default:console.log("MIDI: element type "+te.el_type+" not handled.")}}Me++,U[Me]||(U[Me]=0)}}}}if(i(j,Y),T)for(var pn=v.getPickupLength(),Ft=0;Ft<j.length;Ft++){for(var Wt=0;j[Ft][Wt].el_type!=="note"&&j[Ft].length>Wt;)Wt++;if(j[Ft].length>Wt)for(var Pe=0;Pe<T;Pe++)pn===0||Pe<T-1?j[Ft].splice(Wt,0,{el_type:"note",rest:{type:"rest"},duration:e},{el_type:"bar"}):j[Ft].splice(Wt,0,{el_type:"note",rest:{type:"rest"},duration:e-pn})}return j.length>0&&j[0].length>0&&(j[0][0].pickupLength=v.getPickupLength()),j};function n(v,g,b){for(var y=0,x=g+1;x<v.length;x++)if(v[x].el_type==="note"&&y++,v[x].decoration&&v[x].decoration.indexOf(b)>=0)return y;return y}function r(v,g,b){for(var y=Math.min(v.length,g+3),x=g;x<y;x++)if(v[x].el_type==="note"&&v[x].decoration){for(var _=0;_<v[x].decoration.length;_++)if(b.indexOf(v[x].decoration[_])>=0)return v[x].decoration[_]}return null}function i(v,g){if(!(!g||g.length===0))for(var b=Object.keys(g),y=0;y<v.length;y++)for(var x=v[y],_=g[0]?g[0].qpm:0,E=0;E<x.length;E++){var w=x[E];w.el_type==="tempo"&&(_=w.qpm),b.indexOf(""+w.timing)>=0&&_!==g[""+w.timing].qpm&&(_=g[""+w.timing].qpm,w.el_type==="tempo"?(w.qpm=g[""+w.timing].qpm,E++):(v[y].splice(E,0,{el_type:"tempo",qpm:g[""+w.timing].qpm,timing:w.timing}),E+=2))}}function a(v){for(var g=0;g<v.length;g++)for(var b=v[g],y=b.length-1;y>=0&&b[y].el_type!=="bar";)b[y].noChordVoice=!0,y--}function s(v,g){if(!(!v||v.length<=g||!v[g].title))return v[g].title.join(" ")}function o(v,g){var b=.25;v.duration&&(b=v.duration[0]);var y=60;return v.bpm&&(y=v.bpm),b*y/g}function u(v){var g;switch(v.type){case"common_time":g={el_type:"meter",num:4,den:4};break;case"cut_time":g={el_type:"meter",num:2,den:2};break;case"specified":g={el_type:"meter",num:v.value[0].num,den:v.value[0].den};break;default:g={el_type:"meter"}}return e=g.num/g.den,g}function c(v){for(var g=[],b=0;b<v.length;b++)v[b].acc!=="natural"&&g.push(v[b]);return g}function f(v,g){var b;g.root==="HP"?b={el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:b={el_type:"key",accidentals:c(g.accidentals)},p(v,b)}function h(v,g){var b=u(g);p(v,b)}function p(v,g){for(var b=v.length-1;b>=0;b--)if(v[b].el_type===g.el_type){JSON.stringify(v[b])!==JSON.stringify(g)&&v.push(g);return}v.push(g)}})();var RM=$M,Jne={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};function Qne(e){var t=(e.accidental?e.accidental[0]:"x")+e.verticalPos;return Jne[t]}var FM=Qne,DM,Zne=_i,_8=FM;(function(){var e,t,n,r,i,a=1,s,o,u,c,f,h={num:4,den:4},p,v,g,b,y=0,x=0,_=128,E=64,w=48,M,T,S,k,L=!1,B=!1,H=!0,D=105,R=95,z=85,j=.25,I,N,U=0,Y,Z={},ge,ie=0,me,ve=0,De=-.001,Be=.4;DM=function(J,be,he,we){be||(be={}),we||(we={}),e=[],t=[0,0,0,0,0,0,0],r=[],i=be.qpm,a=1,s=void 0,o=void 0,u=void 0,c=void 0,f=0,me=he,h={num:4,den:4},p=[],v=!1,b=J.length,g=!1,M=[],y=we.bassprog&&we.bassprog.length===1?we.bassprog[0]:0,x=we.chordprog&&we.chordprog.length===1?we.chordprog[0]:0,E=we.bassvol&&we.bassvol.length===1?we.bassvol[0]:64,w=we.chordvol&&we.chordvol.length===1?we.chordvol[0]:48,T=void 0,S=void 0,L=!!be.chordsOff,B=!1,H=!0,D=105,R=95,z=85,j=.25,I=void 0,N=void 0,U=0,Y=[],Z={},ge=1,J.length>0&&J[0].length>0&&(ie=J[0][0].pickupLength),Xe(J,be);for(var Ce=0;Ce<J.length;Ce++){n=0;var Ye=J[Ce];u=[{cmd:"program",channel:Ce,instrument:s}],c=void 0,k=0;var mt=!1;(be.voicesOff===!0||be.voicesOff&&be.voicesOff.length&&be.voicesOff.indexOf(Ce)>=0)&&(mt=!0);for(var zt=0;zt<Ye.length;zt++){var dt=Ye[zt];switch(dt.el_type){case"name":c={cmd:"text",type:"name",text:dt.trackName};break;case"note":var Pt=te(dt,mt);Pt&&(v=Ce);break;case"key":t=oe(dt);break;case"meter":h=dt,j=W(h),it();break;case"tempo":i?a=dt.qpm?i/dt.qpm:1:i=dt.qpm;break;case"transpose":n=dt.transpose;break;case"bar":p.length>0&&(v===!1||Ce===v)&&(de(k,at(dt.time)),M=[]),e=[],Ce===0&&_t(J.length+1),B=!1,S=T,k=at(dt.time);break;case"bagpipes":break;case"instrument":if(s===void 0&&(s=dt.program),o=dt.program,u.length>0&&u[u.length-1].cmd==="program")u[u.length-1].instrument=dt.program;else{var Zt;for(Zt=u.length-1;Zt>=0&&u[Zt].cmd!=="program";Zt--);(Zt<0||u[Zt].instrument!==dt.program)&&u.push({cmd:"program",channel:0,instrument:dt.program})}break;case"channel":nt(dt.channel);break;case"drum":Z=Ne(dt.params),it();break;case"gchord":be.chordsOff||(L=dt.tacet);break;case"beat":D=dt.beats[0],R=dt.beats[1],z=dt.beats[2];break;case"vol":I=dt.volume;break;case"volinc":N=dt.volume;break;case"beataccents":H=dt.value;break;default:console.log("MIDI creation. Unknown el_type: "+dt.el_type+`
`);break}}u[0].instrument===void 0&&(u[0].instrument=s||0),c&&u.unshift(c),r.push(u),Me()||(g=!0),Y.length>0}return be.detuneOctave&&tt(r,parseInt(be.detuneOctave,10)),Me()||r.push(p),Y.length>0&&r.push(Y),{tempo:i,instrument:s,tracks:r,totalDuration:f}};function nt(J){for(var be=u.length-1;be>=0;be--)if(u[be].cmd==="program"){u[be].channel=J;return}}function Me(){for(var J=!0,be=0;be<p.length&&J;be++)p[be].cmd==="note"&&(J=!1);return J}function at(J){return J/1e6}function Ue(J){return Math.round(J*a*1e6)/1e6}function Xe(J,be){for(var he=0;he<J.length;he++){for(var we=J[he],Ce={},Ye=be.qpm,mt=0,zt=1,dt=0;dt<we.length;dt++){var Pt=we[dt];if(Pt.el_type==="tempo"){Ye?zt=Pt.qpm?Ye/Pt.qpm:1:Ye=Pt.qpm;continue}Pt.time=mt;var Zt=Pt.duration?Pt.duration:0;if(mt+=Math.round(Zt*zt*1e6),Pt.pitches){for(var Vt=0;Vt<Pt.pitches.length;Vt++){var yt=Pt.pitches[Vt];if(yt){if(yt.duration=Pt.duration,yt.startTie)Ce[yt.pitch]===void 0?Ce[yt.pitch]={el:dt,pitch:Vt}:(we[Ce[yt.pitch].el].pitches[Ce[yt.pitch].pitch].duration+=yt.duration,Pt.pitches[Vt]=null);else if(yt.endTie){var Nt=Ce[yt.pitch];if(Nt){var bn=yt.duration;delete we[Nt.el].pitches[Nt.pitch].startTie,we[Nt.el].pitches[Nt.pitch].duration+=bn,Pt.pitches[Vt]=null,delete Ce[yt.pitch]}else delete yt.endTie}}}delete Pt.duration}}for(var Wn in Ce)if(Ce.hasOwnProperty(Wn)){var ir=Ce[Wn];delete we[ir.el].pitches[ir.pitch].startTie}}}function W(J){switch(parseInt(J.den,10)){case 2:return .5;case 4:return .25;case 8:return J.num%3===0?.375:.125;case 16:return .125}return .25}var X=["break","(break)","no chord","n.c.","tacet"];function ae(J){if(L)return"break";if(g||!J.chord||J.chord.length===0)return null;for(var be=0;be<J.chord.length;be++){var he=J.chord[be];if(he.position==="default")return he.name;if(X.indexOf(he.name.toLowerCase())>=0)return"break"}return null}function ee(J,be,he){var we=he-J;return we/be}function xe(J,be){if(be)return 0;var he;if(I)he=I,I=void 0;else if(!H)he=R;else if(ie>J)he=z;else{h.num/h.den;var we=ee(k,W(h),J);we===0?he=D:parseInt(we,10)===we?he=R:he=z}return N&&(he+=N,N=void 0),he<0&&(he=0),he>127&&(he=127),be?0:he}function Se(J){var be=!1,he=ae(J);if(he){var we=Xt(he);if(we){p.length===0&&(be=!0,p.push({cmd:"program",channel:b,instrument:x})),T=we;var Ce=ee(k,W(h),at(J.time));M.push({chord:T,beat:Ce,start:at(J.time)})}}return be}function Ve(J,be){var he={};if(J.decoration)for(var we=0;we<J.decoration.length;we++)J.decoration[we]==="staccato"?he.thisBreakBetweenNotes="staccato":J.decoration[we]==="tenuto"?he.thisBreakBetweenNotes="tenuto":J.decoration[we]==="accent"?he.velocity=Math.min(127,be*1.5):J.decoration[we]==="trill"?he.noteModification="trill":J.decoration[we]==="lowermordent"?he.noteModification="lowermordent":J.decoration[we]==="uppermordent"||J.decoration[we]==="mordent"?he.noteModification="mordent":J.decoration[we]==="turn"?he.noteModification="turn":J.decoration[we]==="roll"&&(he.noteModification="roll");return he}function Te(J,be){var he=be.start,we=be.duration,Ce=Ue(1/32);switch(J){case"trill":for(var Ye=1;we>0;)u.push({cmd:"note",pitch:be.pitch+Ye,volume:be.volume,start:he,duration:Ce,gap:0,instrument:o,style:"decoration"}),Ye=Ye===1?0:1,we-=Ce,he+=Ce;break;case"mordent":u.push({cmd:"note",pitch:be.pitch,volume:be.volume,start:he,duration:Ce,gap:0,instrument:o,style:"decoration"}),we-=Ce,he+=Ce,u.push({cmd:"note",pitch:be.pitch+1,volume:be.volume,start:he,duration:Ce,gap:0,instrument:o,style:"decoration"}),we-=Ce,he+=Ce,u.push({cmd:"note",pitch:be.pitch,volume:be.volume,start:he,duration:we,gap:0,instrument:o});break;case"lowermordent":u.push({cmd:"note",pitch:be.pitch,volume:be.volume,start:he,duration:Ce,gap:0,instrument:o,style:"decoration"}),we-=Ce,he+=Ce,u.push({cmd:"note",pitch:be.pitch-1,volume:be.volume,start:he,duration:Ce,gap:0,instrument:o,style:"decoration"}),we-=Ce,he+=Ce,u.push({cmd:"note",pitch:be.pitch,volume:be.volume,start:he,duration:we,gap:0,instrument:o});break;case"turn":Ce=be.duration/5,u.push({cmd:"note",pitch:be.pitch,volume:be.volume,start:he,duration:Ce,gap:0,instrument:o,style:"decoration"}),u.push({cmd:"note",pitch:be.pitch+1,volume:be.volume,start:he+Ce,duration:Ce,gap:0,instrument:o,style:"decoration"}),u.push({cmd:"note",pitch:be.pitch,volume:be.volume,start:he+Ce*2,duration:Ce,gap:0,instrument:o,style:"decoration"}),u.push({cmd:"note",pitch:be.pitch+1,volume:be.volume,start:he+Ce*3,duration:Ce,gap:0,instrument:o,style:"decoration"}),u.push({cmd:"note",pitch:be.pitch,volume:be.volume,start:he+Ce*4,duration:Ce,gap:0,instrument:o});break;case"roll":for(;we>0;)u.push({cmd:"note",pitch:be.pitch,volume:be.volume,start:he,duration:Ce,gap:0,instrument:o,style:"decoration"}),we-=Ce*2,he+=Ce*2;break}}function te(J,be){u.length;var he=xe(at(J.time),be),we=Se(J),Ce;if(J.gracenotes&&J.pitches&&J.pitches.length>0&&J.pitches[0]&&(Ce=$e(J.gracenotes,J.pitches[0].duration),J.elem&&(J.elem.midiGraceNotePitches=qe(Ce,at(J.time),he*2/3,o))),J.elem){var Ye=at(J.time),mt=Ye/j/i*60*1e3;if(J.elem.currentTrackMilliseconds===void 0)J.elem.currentTrackMilliseconds=mt,J.elem.currentTrackWholeNotes=Ye;else if(J.elem.currentTrackMilliseconds.length===void 0)J.elem.currentTrackMilliseconds!==mt&&(J.elem.currentTrackMilliseconds=[J.elem.currentTrackMilliseconds,mt],J.elem.currentTrackWholeNotes=[J.elem.currentTrackWholeNotes,Ye]);else{for(var zt=!1,dt=0;dt<J.elem.currentTrackMilliseconds.length;dt++)J.elem.currentTrackMilliseconds[dt]===mt&&(zt=!0);zt||(J.elem.currentTrackMilliseconds.push(mt),J.elem.currentTrackWholeNotes.push(Ye))}}if(J.pitches){var Pt="",Zt=Ve(J,he);Zt.thisBreakBetweenNotes&&(Pt=Zt.thisBreakBetweenNotes),Zt.velocity&&(he=Zt.velocity);var Vt=J.pitches;if(J.style==="rhythm"&&(B=!0,T&&T.chick)){Vt=[];for(var yt=0;yt<T.chick.length;yt++){var Nt=Zne.clone(J.pitches[0]);Nt.actualPitch=T.chick[yt],Vt.push(Nt)}}J.elem&&(J.elem.midiPitches=[]);for(var bn=0;bn<Vt.length;bn++){var Wn=Vt[bn];if(Wn){Wn.startSlur&&(U+=Wn.startSlur.length),Wn.endSlur&&(U-=Wn.endSlur.length);var ir=Wn.actualPitch?Wn.actualPitch:Pe(Wn);if(o===_&&me){var Bn=_8(Wn);Bn&&me[Bn]&&(ir=me[Bn].sound)}var en={cmd:"note",pitch:ir,volume:he,start:at(J.time),duration:Ue(Wn.duration),instrument:o,startChar:J.elem.startChar,endChar:J.elem.endChar};if(en=et(en),J.gracenotes&&(en.duration=en.duration/2,en.start=en.start+en.duration),J.elem&&J.elem.midiPitches.push(en),Zt.noteModification)Te(Zt.noteModification,en);else{switch(U>0?en.endType="tenuto":Pt&&(en.endType=Pt),en.endType){case"tenuto":en.gap=De;break;case"staccato":var Hi=en.duration*Be;en.gap=i/60*Hi;break;default:en.gap=ve;break}u.push(en)}}}u.length-1}var vs=se(J);return f=Math.max(f,at(J.time)+Ue(vs)),we}function se(J){return J.pitches&&J.pitches.length>0&&J.pitches[0]?J.pitches[0].duration:J.elem?J.elem.duration:J.duration}var ke=[0,2,4,5,7,9,11];function Pe(J){if(J.midipitch!==void 0)return J.midipitch;var be=J.pitch;if(J.accidental)switch(J.accidental){case"sharp":e[be]=1;break;case"flat":e[be]=-1;break;case"natural":e[be]=0;break;case"dblsharp":e[be]=2;break;case"dblflat":e[be]=-2;break;case"quartersharp":e[be]=.25;break;case"quarterflat":e[be]=-.25;break}var he=lt(be)*12+ke[wt(be)]+60;return e[be]!==void 0?he+=e[be]:he+=t[wt(be)],he+=n,he}function oe(J){var be=[0,0,0,0,0,0,0];if(!J.accidentals)return be;for(var he=0;he<J.accidentals.length;he++){var we=J.accidentals[he],Ce;switch(we.acc){case"flat":Ce=-1;break;case"quarterflat":Ce=-.25;break;case"sharp":Ce=1;break;case"quartersharp":Ce=.25;break;default:Ce=0;break}var Ye=we.note.toLowerCase(),mt=wt(Ye.charCodeAt(0)-"c".charCodeAt(0));be[mt]+=Ce}return be}function $e(J,be){for(var he=0,we=[],Ce,Ye=0;Ye<J.length;Ye++)Ce=J[Ye],he+=Ce.duration;var mt=be/2/he;for(Ye=0;Ye<J.length;Ye++){Ce=J[Ye];var zt=Pe(Ce);if(o===_&&me){var dt=_8(Ce);dt&&me[dt]&&(zt=me[dt].sound)}var Pt={pitch:zt,duration:Ce.duration*mt};Pt=et(Pt),we.push(Pt)}return we}function qe(J,be,he,we){var Ce=[];he=Math.round(he);for(var Ye=0;Ye<J.length;Ye++){var mt=J[Ye];u.push({cmd:"note",pitch:mt.pitch,volume:he,start:be,duration:mt.duration,gap:0,instrument:we,style:"grace"}),Ce.push({pitch:mt.pitch,durationInMeasures:mt.duration,volume:he,instrument:we}),be+=mt.duration}return Ce}function et(J){var be=""+J.pitch;return be.indexOf(".75")>=0?(J.pitch=Math.round(J.pitch),J.cents=-50):be.indexOf(".25")>=0&&(J.pitch=Math.round(J.pitch),J.cents=50),J}function lt(J){return Math.floor(J/7)}function wt(J){return J=J%7,J<0&&(J+=7),J}var Et={A:33,B:35,C:36,D:38,E:40,F:41,G:43};function Xt(J){if(J.length!==0){if(J==="break")return{chick:[]};var be=J.substring(0,1);if(be==="("){if(J=J.substring(1,J.length-2),J.length===0)return;be=J.substring(0,1)}var he=Et[be];if(he){for(var we=n;we<-8;)we+=12;for(;we>8;)we-=12;he+=we;var Ce=he-5,Ye;J.length===1&&(Ye=Ft(he,""));var mt=J.substring(1),zt=mt.substring(0,1);zt==="b"||zt===""?(he--,Ce--,mt=mt.substring(1)):(zt==="#"||zt==="")&&(he++,Ce++,mt=mt.substring(1));var dt=mt.split("/");if(Ye=Ft(he,dt[0]),Ye.length>=3){var Pt=Ye[2]-Ye[0];Ce=Ce+Pt-7}if(dt.length===2){var Zt=Et[dt[1].substring(0,1)];if(Zt){var Vt=dt[1].substring(1),yt={"#":1,"":1,b:-1,"":-1}[Vt]||0;he=Et[dt[1].substring(0,1)]+yt+we,Ce=he}}return{boom:he,boom2:Ce,chick:Ye}}}}var pn={dim:[0,3,6],"":[0,3,6],"":[0,3,6],dim7:[0,3,6,9],"7":[0,3,6,9],"7":[0,3,6,9],7:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m75":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"75":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-9":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"79":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"7":[0,4,7,11],7:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"75":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"95":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21]};function Ft(J,be){var he=pn[be];he||(be.slice(0,2).toLowerCase()==="ma"||be[0]==="M"?he=pn.M:be[0]==="m"||be[0]==="-"?he=pn.m:he=pn.M),J+=12;for(var we=[],Ce=0;Ce<he.length;Ce++)we.push(J+he[Ce]);return we}function Wt(J,be,he,we,Ce){J!==void 0&&p.push({cmd:"note",pitch:J,volume:he,start:k+we*Ue(be),duration:Ue(Ce),gap:0,instrument:y})}function Ot(J,be,he,we,Ce){for(var Ye=0;Ye<J.length;Ye++)p.push({cmd:"note",pitch:J[Ye],volume:he,start:k+we*Ue(be),duration:Ue(Ce),gap:0,instrument:x})}var Bt={"2/2":["boom","chick"],"2/4":["boom","chick"],"3/4":["boom","chick","chick"],"4/4":["boom","chick","boom2","chick"],"5/4":["boom","chick","chick","boom2","chick"],"6/8":["boom","","chick","boom2","","chick"],"9/8":["boom","","chick","boom2","","chick","boom2","","chick"],"12/8":["boom","","chick","boom2","","chick","boom","","chick","boom2","","chick"]};function de(J,be){var he=h.num,we=h.den,Ce=1/we,Ye=Ce/2,mt=Bt[he+"/"+we],zt=parseInt(he,10)/parseInt(we,10),dt=zt-(be-J)/a;if(Math.abs(dt)<1e-5&&(dt=!1),!mt||dt){mt=[];for(var Pt=(be-J)/a/Ce,Zt=0;Zt<Pt;Zt++)mt.push("chick")}if(M.length===0&&M.push({beat:0,chord:T}),M[0].beat!==0&&T&&S&&M.unshift({beat:0,chord:S}),M.length===1){for(var Vt=M[0].beat;Vt<mt.length;Vt++)if(!B)switch(mt[Vt]){case"boom":Wt(M[0].chord.boom,Ce,E,Vt,Ye);break;case"boom2":Wt(M[0].chord.boom2,Ce,E,Vt,Ye);break;case"chick":Ot(M[0].chord.chick,Ce,w,Vt,Ye);break}return}for(var yt=Ce===.125?3:1,Nt={},bn=0;bn<M.length;bn++){var Wn=M[bn],ir=Math.round(Wn.beat*yt);Nt[""+ir]=Wn}for(var Bn=0;Bn<mt.length;Bn++){var en;Nt[""+Bn]&&(en=Nt[""+Bn]);var Hi;if(!B&&en)switch(mt[Bn]){case"boom":Nt[""+(Bn+1)]?Ot(en.chord.chick,Ce,w,Bn,Ye):(Wt(en.chord.boom,Ce,E,Bn,Ye),Hi=en.chord.boom);break;case"boom2":Nt[""+(Bn+1)]?Ot(en.chord.chick,Ce,w,Bn,Ye):Hi===en.chord.boom?(Wt(en.chord.boom2,Ce,E,Bn,Ye),Hi=void 0):(Wt(en.chord.boom,Ce,E,Bn,Ye),Hi=en.chord.boom);break;case"chick":Ot(en.chord.chick,Ce,w,Bn,Ye);break;case"":Nt[""+Bn]&&Ot(en.chord.chick,Ce,w,Bn,Ye);break}}}function Ne(J){if(J.pattern.length===0||J.on===!1)return{on:!1};for(var be=J.pattern[0],he=[],we="",Ce=0,Ye=0;Ye<be.length;Ye++)if(be[Ye]==="d"&&Ce++,be[Ye]==="d"||be[Ye]==="z")we.length!==0?(he.push(we),we=be[Ye]):we=we+be[Ye];else{if(we.length===0)return{on:!1};we=we+be[Ye]}if(we.length!==0&&he.push(we),J.pattern.length!==Ce*2+1)return{on:!1};for(var mt={on:!0,bars:J.bars,pattern:[]},zt=W(h),dt=0,Pt=0;Pt<he.length;Pt++){we=he[Pt];for(var Zt=1,Vt=!1,yt=0,Nt=1;Nt<we.length;Nt++)switch(we[Nt]){case"/":yt!==0&&(Zt*=yt),yt=0,Vt=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":yt=yt*10+we[Nt];break;default:return{on:!1}}Vt?(yt===0&&(yt=2),Zt/=yt):yt&&(Zt*=yt),we[0]==="d"?(mt.pattern.push({len:Zt*zt,pitch:J.pattern[1+dt],velocity:J.pattern[1+dt+Ce]}),dt++):mt.pattern.push({len:Zt*zt,pitch:null})}return ge=J.bars?J.bars:1,mt}function it(){if(!(!Z||!Z.pattern)){for(var J=Z,be=0,he=h.num/h.den,we=0;we<J.pattern.length;we++)be+=J.pattern[we].len;var Ce=be/ge/he;for(we=0;we<J.pattern.length;we++)J.pattern[we].len=J.pattern[we].len/Ce;Z=J}}function _t(J){if(!(Y.length===0&&!Z.on)){var be=h.num/h.den;if(Y.length===0){if(f<be)return;Y.push({cmd:"program",channel:J,instrument:_})}if(Z.on)for(var he=k,we=0;we<Z.pattern.length;we++){var Ce=Ue(Z.pattern[we].len);Z.pattern[we].pitch&&Y.push({cmd:"note",pitch:Z.pattern[we].pitch,volume:Z.pattern[we].velocity,start:he,duration:Ce,gap:0,instrument:_}),he+=Ce}}}function tt(J,be){for(var he={},we=0;we<J.length;we++)for(var Ce=0;Ce<J[we].length;Ce++){var Ye=J[we][Ce];Ye.cmd==="note"&&(he[Ye.start]===void 0&&(he[Ye.start]=[]),he[Ye.start].push({track:we,event:Ce,pitch:Ye.pitch}))}var mt=Object.keys(he);for(we=0;we<mt.length;we++){var zt=he[mt[we]];if(zt.length>1){zt=zt.sort(function(yt,Nt){return yt.pitch-Nt.pitch});var dt=zt[zt.length-1],Pt=dt.pitch%12,Zt=!1;for(Ce=0;!Zt&&Ce<zt.length-1;Ce++)zt[Ce].pitch%12===Pt&&(Zt=!0);if(Zt){var Vt=J[dt.track][dt.event];Vt.cents||(Vt.cents=0),Vt.cents+=be}}}}})();var ere=DM;function tre(e,t){t||(t={});for(var n=!!t.lineBreaks,r=[],i=!1,a=[],s=[],o=[],u=[],c=[],f=[],h=[],p=0;p<e.length;p++){var v=e[p];if(v.staff){if(i&&!v.vskip)for(var g=r[r.length-1],b=0;b<g.staff.length;b++){var y=v.staff[b],x=g.staff[b];if(y&&(b0(y.meter,a[b])||(nre(y.meter,y.voices),a[b]=y.meter,delete y.meter),b0(y.key,s[b])||(rre(y.key,y.voices),s[b]=y.key,delete y.key),y.title&&(x.abbrevTitle=y.title),b0(y.clef,o[b])||(ire(y.clef,y.voices),o[b]=y.clef,delete y.clef),b0(y.vocalfont,u[b])||(Ph(y.vocalfont,y.voices,"vocalfont"),u[b]=y.vocalfont,delete y.vocalfont),b0(y.gchordfont,c[b])||(Ph(y.gchordfont,y.voices,"gchordfont"),c[b]=y.gchordfont,delete y.gchordfont),b0(y.tripletfont,f[b])||(Ph(y.tripletfont,y.voices,"tripletfont"),f[b]=y.tripletfont,delete y.tripletfont),b0(y.annotationfont,h[b])||(Ph(y.annotationfont,y.voices,"annotationfont"),h[b]=y.annotationfont,delete y.annotationfont)),y)for(var _=0;_<x.voices.length;_++){var E=x.voices[_],w=y.voices[_];n&&E.push({el_type:"break"}),w&&(x.voices[_]=E.concat(w))}}else{for(var M=0;M<v.staff.length;M++)s[M]=v.staff[M].key,a[M]=v.staff[M].meter,o[M]=v.staff[M].clef;r.push(are(v))}i=!0}else i=!1,r.push(v)}return r}function x8(e,t){return e==="abselem"?"abselem":t}function nre(e,t){e.el_type="meter",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function rre(e,t){e.el_type="key",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function ire(e,t){e.el_type="clef",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function Ph(e,t,n){e.el_type="font",e.type=n,e.startChar=-1,e.endChar=-1;for(var r=0;r<t.length;r++)t[r].unshift(e)}function b0(e,t){if(!e)return!0;var n=JSON.stringify(e,x8),r=JSON.stringify(t,x8);return n===r}function are(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++)if(n[r]!=="staff")t[n[r]]=e[n[r]];else{t.staff=[];for(var i=0;i<e.staff.length;i++){for(var a={},s=Object.keys(e.staff[i]),o=0;o<s.length;o++)if(s[o]!=="voices")a[s[o]]=e.staff[i][s[o]];else{a.voices=[];for(var u=0;u<e.staff[i].voices.length;u++)a.voices.push([].concat(e.staff[i].voices[u]))}t.staff.push(a)}}return t}var sre=tre,M8=_i,C8=xi,ore=RM,lre=ere,cre=sre,ure=function(){this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset();function e(s,o,u,c){for(var f=0;f<c.length;f++)s[u][c[f]]=o[u][c[f]]}this.copyTopInfo=function(s){var o=["tempo","title","header","rhythm","origin","composer","author","partOrder"];e(this,s,"metaText",o),e(this,s,"metaTextInfo",o)},this.copyBottomInfo=function(s){var o=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];e(this,s,"metaText",o),e(this,s,"metaTextInfo",o)},this.getBeatLength=function(){var s=this.getMeterFraction(),o=1;return(s.num===6||s.num===9||s.num===12||s.num===3&&s.den===8)&&(o=3),o/s.den};function t(s,o){for(var u=0,c=0;c<s.length;c++)if(s[c].staff)for(var f=0;f<s[c].staff.length;f++)for(var h=0;h<s[c].staff[f].voices.length;h++)for(var p=s[c].staff[f].voices[h],v=1,g=0;g<p.length;g++){var b=p[g].rest&&p[g].rest.type==="spacer";if(p[g].startTriplet&&(v=p[g].tripletMultiplier),p[g].duration&&!b&&p[g].el_type!=="tempo"&&(u+=p[g].duration*v),p[g].endTriplet&&(v=1),u>=o&&(u-=o),p[g].el_type==="bar")return u}return u}this.getPickupLength=function(){var s=this.getBarLength(),o=t(this.lines,s);return o<1e-8||s-o<1e-8?0:o},this.getBarLength=function(){var s=this.getMeterFraction();return s.num/s.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(s){var o;if(s)o=s;else{var u=this.metaText?this.metaText.tempo:null;o=this.getBpm(u)}o<=0&&(o=1);var c=this.getBeatsPerMeasure(),f=c/o;return f*6e4},this.getBeatsPerMeasure=function(){var s=this.getBeatLength(),o=this.getBarLength();return o/s},this.getMeter=function(){for(var s=0;s<this.lines.length;s++){var o=this.lines[s];if(o.staff)for(var u=0;u<o.staff.length;u++){var c=o.staff[u].meter;if(c)return c}}return{type:"common_time"}},this.getMeterFraction=function(){var s=this.getMeter(),o=4,u=4;return s&&(s.type==="specified"?(o=parseInt(s.value[0].num,10),u=parseInt(s.value[0].den,10)):s.type==="cut_time"?(o=2,u=2):s.type==="common_time"&&(o=4,u=4)),this.meter={num:o,den:u},this.meter},this.getKeySignature=function(){for(var s=0;s<this.lines.length;s++){var o=this.lines[s];if(o.staff){for(var u=0;u<o.staff.length;u++)if(o.staff[u].key)return o.staff[u].key}}return{}},this.getElementFromChar=function(s){for(var o=0;o<this.lines.length;o++){var u=this.lines[o];if(u.staff)for(var c=0;c<u.staff.length;c++)for(var f=u.staff[c],h=0;h<f.voices.length;h++)for(var p=f.voices[h],v=0;v<p.length;v++){var g=p[v];if(g.startChar&&g.endChar&&g.startChar<=s&&g.endChar>s)return g}}return null};function n(s){for(var o,u,c,f,h=s.length-1;h>=0;h--){var p=s[h];p.type==="bar"?(p.top=c,p.nextTop=o,o=c,p.bottom=f,p.nextBottom=u,u=f):p.type==="event"&&(c=p.top,f=p.top+p.height)}}function r(s){var o=[];for(var u in s)s.hasOwnProperty(u)&&o.push(s[u]);return o=o.sort(function(c,f){var h=c.milliseconds-f.milliseconds;return h!==0?h:c.type==="bar"?-1:1}),o}this.addElementToEvents=function(s,o,u,c,f,h,p,v,g,b){if(o.hint)return{isTiedState:void 0,duration:0};var y=o.durationClass?o.durationClass:o.duration;if(o.abcelem.rest&&o.abcelem.rest.type==="spacer"&&(y=0),y>0){for(var x=[],_=0;_<o.elemset.length;_++)o.elemset[_]!==null&&x.push(o.elemset[_]);var E=o.startTie;if(g!==void 0)s["event"+g].elements.push(x),b&&(s["event"+u]||(s["event"+u]={type:"event",milliseconds:u,line:h,measureNumber:p,top:c,height:f,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),s["event"+u].measureStart=!0,b=!1),E||(g=void 0);else{if(!s["event"+u])s["event"+u]={type:"event",milliseconds:u,line:h,measureNumber:p,top:c,height:f,left:o.x,width:o.w,elements:[x],startChar:o.abcelem.startChar,endChar:o.abcelem.endChar,startCharArray:[o.abcelem.startChar],endCharArray:[o.abcelem.endChar],midiPitches:o.abcelem.midiPitches?M8.cloneArray(o.abcelem.midiPitches):[]},o.abcelem.midiGraceNotePitches&&(s["event"+u].midiGraceNotePitches=M8.cloneArray(o.abcelem.midiGraceNotePitches));else{if(s["event"+u].left?s["event"+u].left=Math.min(s["event"+u].left,o.x):s["event"+u].left=o.x,s["event"+u].elements.push(x),s["event"+u].startCharArray.push(o.abcelem.startChar),s["event"+u].endCharArray.push(o.abcelem.endChar),s["event"+u].startChar===null&&(s["event"+u].startChar=o.abcelem.startChar),s["event"+u].endChar===null&&(s["event"+u].endChar=o.abcelem.endChar),o.abcelem.midiPitches&&o.abcelem.midiPitches.length){s["event"+u].midiPitches||(s["event"+u].midiPitches=[]);for(var _=0;_<o.abcelem.midiPitches.length;_++)s["event"+u].midiPitches.push(o.abcelem.midiPitches[_])}if(o.abcelem.midiGraceNotePitches&&o.abcelem.midiGraceNotePitches.length){s["event"+u].midiGraceNotePitches||(s["event"+u].midiGraceNotePitches=[]);for(var w=0;w<o.abcelem.midiGraceNotePitches.length;w++)s["event"+u].midiGraceNotePitches.push(o.abcelem.midiGraceNotePitches[w])}}b&&(s["event"+u].measureStart=!0,b=!1),E&&(g=u)}}return{isTiedState:g,duration:y/v,nextIsBar:b||o.type==="bar"}},this.makeVoicesArray=function(){for(var s=[],o=[],u={},c=0;c<this.engraver.staffgroups.length;c++){var f=this.engraver.staffgroups[c];if(f&&f.staffs&&f.staffs.length>0){var h=f.staffs[0],p=h.absoluteY,v=p-h.top*C8.STEP,g=f.staffs[f.staffs.length-1];p=g.absoluteY;for(var b=p-g.bottom*C8.STEP,y=b-v,x=f.voices,_=0;_<x.length;_++)if(!(x[_].staff&&x[_].staff.isTabStaff)){var E=!1;s[_]||(s[_]=[]),o[_]===void 0&&(o[_]=0);for(var w=x[_].children,M=0;M<w.length;M++)w[M].type==="tempo"&&(u[o[_]]=this.getBpm(w[M].abcelem)),s[_].push({top:v,height:y,line:f.line,measureNumber:o[_],elem:w[M]}),w[M].type==="bar"&&E&&o[_]++,(w[M].type==="note"||w[M].type==="rest")&&(E=!0)}}}return this.tempoLocations=u,s},this.setupEvents=function(s,o,u,c){c||(c=1);for(var f=[],h={},p=s,v,g=!0,b=this.makeVoicesArray(),y=0,x=0;x<b.length;x++){var _=p,E=Math.round(_*1e3),w=0,M=-1,T=b[x],S=u;o=this.getBeatLength()*S/60;for(var k=-1,L=0;L<T.length;L++){var B=T[L].measureNumber;k!==B&&this.tempoLocations[B]&&(S=this.tempoLocations[B],o=c*this.getBeatLength()*S/60,k=B);var H=T[L].elem,D=this.addElementToEvents(h,H,E,T[L].top,T[L].height,T[L].line,T[L].measureNumber,o,v,g);v=D.isTiedState,g=D.nextIsBar,_+=D.duration;var R;if(H.duration>0&&h["event"+E]&&(R="event"+E),E=Math.round(_*1e3),H.type==="bar"){var z=H.abcelem.type,j=z==="bar_right_repeat"||z==="bar_dbl_repeat",I=H.abcelem.startEnding==="1",N=z==="bar_left_repeat"||z==="bar_dbl_repeat"||z==="bar_right_repeat";if(j){L>0&&(h[R].endX=H.x),M===-1&&(M=L);var U=0;k=-1;for(var Y=w;Y<M;Y++){B=T[Y].measureNumber,k!==B&&this.tempoLocations[B]&&(S=this.tempoLocations[B],o=c*this.getBeatLength()*S/60,k=B);var Z=T[Y].elem;D=this.addElementToEvents(h,Z,E,T[Y].top,T[Y].height,T[Y].line,T[Y].measureNumber,o,v,g),v=D.isTiedState,g=D.nextIsBar,_+=D.duration,U=E,E=Math.round(_*1e3)}h["event"+U]&&(h["event"+U].endX=T[M].elem.x),g=!0,M=-1}I&&(M=L),N&&(w=L)}}y=Math.max(y,E)}return f=r(h),n(f),a(this.lines,f),f.push({type:"end",milliseconds:y}),this.addUsefulCallbackInfo(f,S*c),f},this.addUsefulCallbackInfo=function(s,o){for(var u=this.millisecondsPerMeasure(o),c=0;c<s.length;c++){var f=s[c];f.millisecondsPerMeasure=u}};function i(s,o){for(;o<s.length&&s[o].left===null;)o++;return s[o]}function a(s,o){if(!(o.length<1)){for(var u=0;u<o.length-1;u++){var c=o[u],f=i(o,u+1);if(c.left!==null){var h=f&&c.top===f.top?f.left:s[c.line].staffGroup.w;c.endX!==void 0?h>c.left&&(c.endX=Math.min(c.endX,h)):c.endX=h}}var p=o[o.length-1];p.endX=s[p.line].staffGroup.w}}this.getBpm=function(s){var o;if(s){o=s.bpm;var u=this.getBeatLength(),c=s.duration&&s.duration.length>0?s.duration[0]:u;o=o*c/u}if(!o){o=180;var f=this.getMeterFraction();f&&f.num!==3&&f.num%3===0&&(o=120)}return o},this.setTiming=function(s,o){if(o=o||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var u=this.metaText?this.metaText.tempo:null,c=this.getBpm(u),f=1;s?u&&(f=s/c):s=c;var h=this.getBeatLength(),p=s/60,v=this.getBarLength(),g=v/h*o/p;g&&(g-=this.getPickupLength()/h/p);var b=h*p;return this.noteTimings=this.setupEvents(g,b,s,f),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*p):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(s){s||(s={});var o=ore(this,s);return lre(o,s,this.formatting.percmap,this.formatting.midi)},this.deline=function(s){return cre(this.lines,s)}},fre=ure,dre=S3,y0=_i,hre=function(e){var t=this;this.setVisualTranspose=function(i){i&&(e.visualTranspose=i)},this.resolveOverlays=function(){for(var i=!1,a=[],s=0;s<e.lines.length;s++){var o=e.lines[s];if(o.staff)for(var u=0;u<o.staff.length;u++){for(var c=o.staff[u],f=[],h=0;h<c.voices.length;h++){var p=c.voices[h];f.push({hasOverlay:!1,voice:[],snip:[]}),a[s]=0;for(var v=0,g=!1,b=-1,y=0;y<p.length;y++){var x=p[y];if(x.el_type==="overlay"&&!g){i=!0,g=!0,b=y,f[h].hasOverlay=!0;for(var _=0;_<s;_++)a[_]&&e.lines[_].staff&&c.voices.length>=e.lines[_].staff[0].voices.length&&e.lines[_].staff[0].voices.push([{el_type:"note",duration:a[_],rest:{type:"invisible"},startChar:x.startChar,endChar:x.endChar}])}else x.el_type==="bar"?(g?(g=!1,f[h].snip.push({start:b,len:y-b}),f[h].voice.push(x)):(v>0&&f[h].voice.push({el_type:"note",duration:v,rest:{type:"invisible"},startChar:x.startChar,endChar:x.endChar}),f[h].voice.push(x)),v=0):x.el_type==="note"?g?f[h].voice.push(x):(v+=x.duration,a[s]+=x.duration):(x.el_type==="scale"||x.el_type==="stem"||x.el_type==="overlay"||x.el_type==="style"||x.el_type==="transpose"||x.el_type==="color")&&f[h].voice.push(x)}f[h].hasOverlay&&f[h].snip.length===0&&f[h].snip.push({start:b,len:p.length-b})}for(h=0;h<f.length;h++){var E=f[h];if(E.hasOverlay){E.voice.splice(0,0,{el_type:"stem",direction:"down"}),c.voices.push(E.voice);for(var w=E.snip.length-1;w>=0;w--){var M=E.snip[w];c.voices[h].splice(M.start,M.len),c.voices[h].splice(M.start+1,0,{el_type:"stem",direction:"auto"});var T=n(c.voices[h],M.start);c.voices[h].splice(T,0,{el_type:"stem",direction:"up"})}for(w=0;w<c.voices[c.voices.length-1].length;w++){c.voices[c.voices.length-1][w]=y0.clone(c.voices[c.voices.length-1][w]);var S=c.voices[c.voices.length-1][w];S.el_type==="bar"&&S.startEnding&&delete S.startEnding,S.el_type==="bar"&&S.endEnding&&delete S.endEnding}}}}}return i};function n(i,a){for(var s=a-1;s>0&&i[s].el_type!=="bar";s--);return s}function r(i){for(var a=!0,s=0;s<i.length;s++){var o=i[s];if(o.staff){for(var u=0;u<o.staff.length;u++){var c=o.staff[u];if(c.title){for(var f=!1,h=0;h<c.title.length;h++)c.title[h]?(c.title[h]=a?c.title[h].name:c.title[h].subname,c.title[h]?f=!0:c.title[h]=""):c.title[h]="";f||delete c.title}}a=!1}}}this.cleanUp=function(i,a,s){this.closeLine(),delete e.runningFonts,e.metaText.tempo&&e.metaText.tempo.bpm&&!e.metaText.tempo.duration&&(e.metaText.tempo.duration=[e.getBeatLength()]);var o=!1,u,c,f;for(u=0;u<e.lines.length;u++)if(e.lines[u].staff!==void 0){var h=!1;for(c=0;c<e.lines[u].staff.length;c++)if(e.lines[u].staff[c]===void 0)o=!0,e.lines[u].staff[c]=null;else for(f=0;f<e.lines[u].staff[c].voices.length;f++)e.lines[u].staff[c].voices[f]===void 0?e.lines[u].staff[c].voices[f]=[]:this.containsNotes(e.lines[u].staff[c].voices[f])&&(h=!0);h||(e.lines[u]=null,o=!0)}if(o&&(e.lines=e.lines.filter(function(M){return!!M}),e.lines.forEach(function(M){M.staff&&(M.staff=M.staff.filter(function(T){return!!T}))})),i)for(;b(e.lines,i););if(a){for(o=!1,u=0;u<e.lines.length;u++)if(e.lines[u].staff!==void 0)for(c=0;c<e.lines[u].staff.length;c++){var p=!1;for(f=0;f<e.lines[u].staff[c].voices.length;f++)this.containsNotesStrict(e.lines[u].staff[c].voices[f])&&(p=!0);p||(o=!0,e.lines[u].staff[c]=null)}o&&e.lines.forEach(function(M){M.staff&&(M.staff=M.staff.filter(function(T){return!!T}))})}for(r(e.lines),u=0;u<e.lines.length;u++)if(e.lines[u].staff)for(c=0;c<e.lines[u].staff.length;c++)delete e.lines[u].staff[c].workingClef;for(;this.resolveOverlays(););function v(M,T,S){s[T]||(s[T]=[]),s[T][S]||(s[T][S]=[]);for(var k,L=function(ge,ie,me){if(s[T][S][me]===void 0){for(k=0;k<s[T][S].length;k++)if(s[T][S][k]!==void 0){me=k;break}if(s[T][S][me]===void 0){var ve=me*100+1;ge.endSlur.forEach(function(nt){ve===nt&&--ve}),s[T][S][me]=[ve]}}for(var De,Be=0;Be<ie;Be++)De=s[T][S][me].pop(),ge.endSlur.push(De);return s[T][S][me].length===0&&delete s[T][S][me],De},B=function(ge,ie,me,ve){ge.startSlur=[],s[T][S][me]===void 0&&(s[T][S][me]=[]);for(var De=me*100+1,Be=0;Be<ie;Be++)ve&&(ve.forEach(function(nt){De===nt&&++De}),ve.forEach(function(nt){De===nt&&++De}),ve.forEach(function(nt){De===nt&&++De})),s[T][S][me].forEach(function(nt){De===nt&&++De}),s[T][S][me].forEach(function(nt){De===nt&&++De}),s[T][S][me].push(De),ge.startSlur.push({label:De}),ge.dottedSlur&&(ge.startSlur[ge.startSlur.length-1].style="dotted",delete ge.dottedSlur),De++},H=0;H<M.length;H++){var D=M[H];if(D.el_type==="note"){if(D.gracenotes)for(var R=0;R<D.gracenotes.length;R++){if(D.gracenotes[R].endSlur){var z=D.gracenotes[R].endSlur;D.gracenotes[R].endSlur=[];for(var j=0;j<z;j++)L(D.gracenotes[R],1,20)}D.gracenotes[R].startSlur&&(k=D.gracenotes[R].startSlur,B(D.gracenotes[R],k,20))}if(D.endSlur&&(k=D.endSlur,D.endSlur=[],L(D,k,0)),D.startSlur&&(k=D.startSlur,B(D,k,0)),D.pitches){for(var I=[],N=0;N<D.pitches.length;N++)if(D.pitches[N].endSlur){var U=D.pitches[N].endSlur;D.pitches[N].endSlur=[];for(var Y=0;Y<U;Y++){var Z=L(D.pitches[N],1,N+1);I.push(Z)}}for(N=0;N<D.pitches.length;N++)D.pitches[N].startSlur&&(k=D.pitches[N].startSlur,B(D.pitches[N],k,N+1,I));D.gracenotes&&D.pitches[0].endSlur&&D.pitches[0].endSlur[0]===100&&D.pitches[0].startSlur&&(D.gracenotes[0].endSlur?D.gracenotes[0].endSlur.push(D.pitches[0].startSlur[0].label):D.gracenotes[0].endSlur=[D.pitches[0].startSlur[0].label],D.pitches[0].endSlur.length===1?delete D.pitches[0].endSlur:D.pitches[0].endSlur[0]===100?D.pitches[0].endSlur.shift():D.pitches[0].endSlur[D.pitches[0].endSlur.length-1]===100&&D.pitches[0].endSlur.pop(),s[T][S][1].length===1?delete s[T][S][1]:s[T][S][1].pop())}}}}function g(M){dre.fixClef(M)}function b(M,T){for(u=0;u<M.length;u++)if(M[u].staff!==void 0)for(c=0;c<M[u].staff.length;c++){var S=[];for(f=0;f<M[u].staff[c].voices.length;f++)for(var k=M[u].staff[c].voices[f],L=0,B=0;B<k.length;B++)if(k[B].el_type==="bar"){if(L++,L>=T&&B<k.length-1){var H=y(M,u);if(!H){var D=JSON.parse(JSON.stringify(M[u]));M.push(y0.clone(D)),H=M[M.length-1];for(var R=0;R<H.staff.length;R++)for(var z=0;z<H.staff[R].voices.length;z++)H.staff[R].voices[z]=[]}var j=B+1,I=M[u].staff[c].voices[f].slice(j);return M[u].staff[c].voices[f]=M[u].staff[c].voices[f].slice(0,j),H.staff[c].voices[f]=S.concat(I.concat(H.staff[c].voices[f])),!0}}else k[B].duration||S.push(k[B])}return!1}function y(M,T){for(T++;M.length>T;){if(M[T].staff)return M[T];T++}return null}for(e.lineNum=0;e.lineNum<e.lines.length;e.lineNum++){var x=e.lines[e.lineNum].staff;if(x)for(e.staffNum=0;e.staffNum<x.length;e.staffNum++)for(x[e.staffNum].clef&&g(x[e.staffNum].clef),e.voiceNum=0;e.voiceNum<x[e.staffNum].voices.length;e.voiceNum++){var _=x[e.staffNum].voices[e.voiceNum];v(_,e.staffNum,e.voiceNum);for(var E=0;E<_.length;E++)_[E].el_type==="clef"&&g(_[E]);if(_.length>0&&_[_.length-1].barNumber){var w=y(e.lines,e.lineNum);w&&(w.staff[0].barNumber=_[_.length-1].barNumber),delete _[_.length-1].barNumber}}}return delete e.staffNum,delete e.voiceNum,delete e.lineNum,delete e.potentialStartBeam,delete e.potentialEndBeam,delete e.vskipPending,s},e.reset(),this.getLastNote=function(){if(e.lines[e.lineNum]&&e.lines[e.lineNum].staff&&e.lines[e.lineNum].staff[e.staffNum]&&e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum])for(var i=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum].length-1;i>=0;i--){var a=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum][i];if(a.el_type==="note")return a}return null},this.addTieToLastNote=function(i){var a=this.getLastNote();return a&&a.pitches&&a.pitches.length>0?(a.pitches[0].startTie={},i&&(a.pitches[0].startTie.style="dotted"),!0):!1},this.getDuration=function(i){return i.duration?i.duration:0},this.closeLine=function(){e.potentialStartBeam&&e.potentialEndBeam&&(e.potentialStartBeam.startBeam=!0,e.potentialEndBeam.endBeam=!0),delete e.potentialStartBeam,delete e.potentialEndBeam},this.appendElement=function(i,a,s,o){var u=e,c=function(v){var g=u.lines[u.lineNum].staff[u.staffNum];if(g){if(v.pitches!==void 0){var b=g.workingClef.verticalPos;v.pitches.forEach(function(x){x.verticalPos=x.pitch-b})}if(v.gracenotes!==void 0){var y=g.workingClef.verticalPos;v.gracenotes.forEach(function(x){x.verticalPos=x.pitch-y})}g.voices[u.voiceNum].push(v)}};o.el_type=i,a!==null&&(o.startChar=a),s!==null&&(o.endChar=s);var f=function(){u.potentialStartBeam.startBeam=!0,o.endBeam=!0,delete u.potentialStartBeam,delete u.potentialEndBeam},h=function(){u.potentialStartBeam!==void 0&&u.potentialEndBeam!==void 0&&(u.potentialStartBeam.startBeam=!0,u.potentialEndBeam.endBeam=!0),delete u.potentialStartBeam,delete u.potentialEndBeam};if(i==="note"){var p=t.getDuration(o);p>=.25||o.force_end_beam_last&&u.potentialStartBeam!==void 0?h():o.end_beam&&u.potentialStartBeam!==void 0?o.rest===void 0?f():h():o.rest===void 0&&(u.potentialStartBeam===void 0?o.end_beam||(u.potentialStartBeam=o,delete u.potentialEndBeam):u.potentialEndBeam=o)}else h();delete o.end_beam,delete o.force_end_beam_last,c(o)},this.appendStartingElement=function(i,a,s,o){this.closeLine();var u;i==="key"&&(u=o.impliedNaturals,delete o.impliedNaturals,delete o.explicitAccidentals);var c=y0.clone(o);if(e.lines[e.lineNum]&&e.lines[e.lineNum].staff){e.lines[e.lineNum].staff.length<=e.staffNum&&(e.lines[e.lineNum].staff[e.staffNum]={},e.lines[e.lineNum].staff[e.staffNum].clef=y0.clone(e.lines[e.lineNum].staff[0].clef),e.lines[e.lineNum].staff[e.staffNum].key=y0.clone(e.lines[e.lineNum].staff[0].key),e.lines[e.lineNum].staff[0].meter&&(e.lines[e.lineNum].staff[e.staffNum].meter=y0.clone(e.lines[e.lineNum].staff[0].meter)),e.lines[e.lineNum].staff[e.staffNum].workingClef=y0.clone(e.lines[e.lineNum].staff[0].workingClef),e.lines[e.lineNum].staff[e.staffNum].voices=[[]]),i==="clef"&&(e.lines[e.lineNum].staff[e.staffNum].workingClef=c);for(var f=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum],h=0;h<f.length;h++){if(f[h].el_type==="note"||f[h].el_type==="bar"){c.el_type=i,c.startChar=a,c.endChar=s,u&&(c.accidentals=u.concat(c.accidentals)),f.push(c);return}if(f[h].el_type===i){c.el_type=i,c.startChar=a,c.endChar=s,u&&(c.accidentals=u.concat(c.accidentals)),f[h]=c;return}}e.lines[e.lineNum].staff[e.staffNum][i]=o}},this.pushLine=function(i){e.vskipPending&&(i.vskip=e.vskipPending,delete e.vskipPending),e.lines.push(i)},this.addSubtitle=function(i,a){this.pushLine({subtitle:{text:i,startChar:a.startChar,endChar:a.endChar}})},this.addSpacing=function(i){e.vskipPending=i},this.addNewPage=function(i){this.pushLine({newpage:i})},this.addSeparator=function(i,a,s,o){this.pushLine({separator:{spaceAbove:Math.round(i),spaceBelow:Math.round(a),lineLength:Math.round(s),startChar:o.startChar,endChar:o.endChar}})},this.addText=function(i,a){this.pushLine({text:{text:i,startChar:a.startChar,endChar:a.endChar}})},this.addCentered=function(i){this.pushLine({text:[{text:i,center:!0}]})},this.containsNotes=function(i){for(var a=0;a<i.length;a++)if(i[a].el_type==="note"||i[a].el_type==="bar")return!0;return!1},this.containsNotesStrict=function(i){for(var a=0;a<i.length;a++)if(i[a].el_type==="note"&&(i[a].rest===void 0||i[a].chord!==void 0))return!0;return!1},this.changeVoiceScale=function(i){t.appendElement("scale",null,null,{size:i})},this.changeVoiceColor=function(i){t.appendElement("color",null,null,{color:i})},this.startNewLine=function(i){var a=e;this.closeLine();var s=function(c){var f=a.lines[a.lineNum].staff[a.staffNum];if(f.voices[a.voiceNum]=[],f.title||(f.title=[]),f.title[a.voiceNum]={name:c.name,subname:c.subname},c.style&&t.appendElement("style",null,null,{head:c.style}),c.stem)t.appendElement("stem",null,null,{direction:c.stem});else if(a.voiceNum>0){if(f.voices[0]!==void 0){for(var h=!1,p=0;p<f.voices[0].length;p++)f.voices[0].el_type==="stem"&&(h=!0);if(!h){var v={el_type:"stem",direction:"up"};f.voices[0].splice(0,0,v)}}t.appendElement("stem",null,null,{direction:"down"})}c.scale&&t.appendElement("scale",null,null,{size:c.scale}),c.color&&t.appendElement("color",null,null,{color:c.color})},o=function(c){c.key&&c.key.impliedNaturals&&(c.key.accidentals=c.key.accidentals.concat(c.key.impliedNaturals),delete c.key.impliedNaturals),a.lines[a.lineNum].staff[a.staffNum]={voices:[],clef:c.clef,key:c.key,workingClef:c.clef},c.stafflines!==void 0&&(a.lines[a.lineNum].staff[a.staffNum].clef.stafflines=c.stafflines,a.lines[a.lineNum].staff[a.staffNum].workingClef.stafflines=c.stafflines),c.staffscale&&(a.lines[a.lineNum].staff[a.staffNum].staffscale=c.staffscale),c.annotationfont&&t.setLineFont("annotationfont",c.annotationfont),c.gchordfont&&t.setLineFont("gchordfont",c.gchordfont),c.tripletfont&&t.setLineFont("tripletfont",c.tripletfont),c.vocalfont&&t.setLineFont("vocalfont",c.vocalfont),c.bracket&&(a.lines[a.lineNum].staff[a.staffNum].bracket=c.bracket),c.brace&&(a.lines[a.lineNum].staff[a.staffNum].brace=c.brace),c.connectBarLines&&(a.lines[a.lineNum].staff[a.staffNum].connectBarLines=c.connectBarLines),c.barNumber&&(a.lines[a.lineNum].staff[a.staffNum].barNumber=c.barNumber),s(c),c.part&&t.appendElement("part",c.part.startChar,c.part.endChar,{title:c.part.title}),c.meter!==void 0&&(a.lines[a.lineNum].staff[a.staffNum].meter=c.meter),a.vskipPending&&(a.lines[a.lineNum].vskip=a.vskipPending,delete a.vskipPending)},u=function(c){a.lines[a.lineNum]={staff:[]},o(c)};e.lines[e.lineNum]===void 0?u(i):e.lines[e.lineNum].staff===void 0?(e.lineNum++,this.startNewLine(i)):e.lines[e.lineNum].staff[e.staffNum]===void 0?o(i):e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum]===void 0?s(i):this.containsNotes(e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum])?(e.lineNum++,this.startNewLine(i)):i.part&&t.appendElement("part",i.part.startChar,i.part.endChar,{title:i.part.title})},this.setRunningFont=function(i,a){e.runningFonts[i]=a},this.setLineFont=function(i,a){if(e.runningFonts[i]){for(var s=!1,o=Object.keys(a),u=0;u<o.length;u++)e.runningFonts[i][o[u]]!==a[o[u]]&&(s=!0);s&&(e.lines[e.lineNum].staff[e.staffNum][i]=a)}e.runningFonts[i]=a},this.setBarNumberImmediate=function(i){var a=this.getCurrentVoice();if(a&&a.length>0){var s=a[a.length-1];if(s.el_type==="bar")s.barNumber!==void 0&&(s.barNumber=i);else return i-1}return i},this.hasBeginMusic=function(){for(var i=0;i<e.lines.length;i++)if(e.lines[i].staff)return!0;return!1},this.isFirstLine=function(i){for(var a=i-1;a>=0;a--)if(e.lines[a].staff!==void 0)return!1;return!0},this.getCurrentVoice=function(){var i=e.lines[e.lineNum];if(!i)return null;var a=i.staff[e.staffNum];return a&&a.voices[e.voiceNum]!==void 0?a.voices[e.voiceNum]:null},this.setCurrentVoice=function(i,a){e.staffNum=i,e.voiceNum=a;for(var s=0;s<e.lines.length;s++)if(e.lines[s].staff&&(e.lines[s].staff[i]===void 0||e.lines[s].staff[i].voices[a]===void 0||!this.containsNotes(e.lines[s].staff[i].voices[a]))){e.lineNum=s;return}e.lineNum=s},this.addMetaText=function(i,a,s){e.metaText[i]===void 0?(e.metaText[i]=a,e.metaTextInfo[i]=s):(e.metaText[i]+=`
`+a,e.metaTextInfo[i].endChar=s.endChar)},this.addMetaTextArray=function(i,a,s){e.metaText[i]===void 0?(e.metaText[i]=[a],e.metaTextInfo[i]=s):(e.metaText[i].push(a),e.metaTextInfo[i].endChar=s.endChar)},this.addMetaTextObj=function(i,a,s){e.metaText[i]=a,e.metaTextInfo[i]=s}},pre=hre,Os=_i,T8=T3,gre=Ane,vre=Hne,mre=zne,bre=BM,yre=fre,wre=pre,_re=function(){var e=new yre,t=new wre(e),n,r="",i="";this.getTune=function(){var w={formatting:e.formatting,lines:e.lines,media:e.media,metaText:e.metaText,metaTextInfo:e.metaTextInfo,version:e.version,addElementToEvents:e.addElementToEvents,addUsefulCallbackInfo:e.addUsefulCallbackInfo,getTotalTime:e.getTotalTime,getTotalBeats:e.getTotalBeats,getBarLength:e.getBarLength,getBeatLength:e.getBeatLength,getBeatsPerMeasure:e.getBeatsPerMeasure,getBpm:e.getBpm,getMeter:e.getMeter,getMeterFraction:e.getMeterFraction,getPickupLength:e.getPickupLength,getKeySignature:e.getKeySignature,getElementFromChar:e.getElementFromChar,makeVoicesArray:e.makeVoicesArray,millisecondsPerMeasure:e.millisecondsPerMeasure,setupEvents:e.setupEvents,setTiming:e.setTiming,setUpAudio:e.setUpAudio,deline:e.deline};return e.lineBreaks&&(w.lineBreaks=e.lineBreaks),e.visualTranspose&&(w.visualTranspose=e.visualTranspose),w};function a(w,M,T){w.positioning||(w.positioning={}),w.positioning[M]=T}function s(w,M,T){w.fonts||(w.fonts={}),w.fonts[M]=T}var o={reset:function(){for(var w in this)this.hasOwnProperty(w)&&typeof this[w]!="function"&&delete this[w];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(w,M){return this[w].decoration!==M[w].decoration||this[w].face!==M[w].face||this[w].size!==M[w].size||this[w].style!==M[w].style||this[w].weight!==M[w].weight},addFormattingOptions:function(w,M,T){T==="note"?(this.vocalPosition!=="auto"&&a(w,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&a(w,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&a(w,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&a(w,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&a(w,"volumePosition",this.volumePosition),this.differentFont("annotationfont",M)&&s(w,"annotationfont",this.annotationfont),this.differentFont("gchordfont",M)&&s(w,"gchordfont",this.gchordfont),this.differentFont("vocalfont",M)&&s(w,"vocalfont",this.vocalfont),this.differentFont("tripletfont",M)&&s(w,"tripletfont",this.tripletfont)):T==="bar"&&(this.dynamicPosition!=="auto"&&a(w,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&a(w,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&a(w,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&a(w,"volumePosition",this.volumePosition),this.differentFont("measurefont",M)&&s(w,"measurefont",this.measurefont),this.differentFont("repeatfont",M)&&s(w,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var w=0;w<this.inTie.length;w++)if(this.endingHoldOver.inTie.push([]),this.inTie[w])for(var M=0;M<this.inTie[w].length;M++)this.endingHoldOver.inTie[w].push(this.inTie[w][M]);for(var T in this.inTieChord)this.inTieChord.hasOwnProperty(T)&&(this.endingHoldOver.inTieChord[T]=this.inTieChord[T])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var w=0;w<this.endingHoldOver.inTie.length;w++){this.inTie.push([]);for(var M=0;M<this.endingHoldOver.inTie[w].length;M++)this.inTie[w].push(this.endingHoldOver.inTie[w][M])}for(var T in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(T)&&(this.inTieChord[T]=this.endingHoldOver.inTieChord[T])}}},u=function(w){o.warnings||(o.warnings=[]),o.warnings.push(w)},c=function(w){o.warningObjects||(o.warningObjects=[]),o.warningObjects.push(w)},f=function(w){var M=w.replace(/\x12/g," ");return M=M.replace(/&/g,"&amp;"),M=M.replace(/</g,"&lt;"),M.replace(/>/g,"&gt;")},h=function(w,M,T){M||(M=" ");var S=M[T];(S===" "||!S)&&(S="SPACE");var k=f(M.substring(T-64,T))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+S+"</span>"+f(M.substring(T+1).substring(0,64));u("Music Line:"+n.lineIndex+":"+(T+1)+": "+w+":  "+k),c({message:w,line:M,startChar:o.iChar+T,column:T})},p,v;this.getWarnings=function(){return o.warnings},this.getWarningObjects=function(){return o.warningObjects};var g=function(w,M){if(M.indexOf("")>=0){r+=M;return}if(M=r+M,r="",!w){h("Can't add words before the first line of music",w,0);return}M=Os.strip(M),M[M.length-1]!=="-"&&(M=M+" ");for(var T=[],S=0,k=!1,L=function(R){var z=Os.strip(M.substring(S,R));if(z=z.replace(/\\([-_*|~])/g,"$1"),S=R+1,z.length>0){k&&(z=z.replace(/~/g," "));var j=M[R];return j!=="_"&&j!=="-"&&(j=" "),T.push({syllable:n.translateString(z),divider:j}),k=!1,!0}return!1},B=!1,H=0;H<M.length;H++){switch(M[H]){case" ":case"":L(H);break;case"-":!B&&!L(H)&&T.length>0&&(Os.last(T).divider="-",T.push({skip:!0,to:"next"}));break;case"_":B||(L(H),T.push({skip:!0,to:"slur"}));break;case"*":B||(L(H),T.push({skip:!0,to:"next"}));break;case"|":B||(L(H),T.push({skip:!0,to:"bar"}));break;case"~":B||(k=!0);break}B=M[H]==="\\"}var D=!1;w.forEach(function(R){if(T.length!==0){if(T[0].skip){switch(T[0].to){case"next":R.el_type==="note"&&R.pitches!==null&&!D&&T.shift();break;case"slur":R.el_type==="note"&&R.pitches!==null&&T.shift();break;case"bar":R.el_type==="bar"&&T.shift();break}R.el_type!=="bar"&&(R.lyric===void 0?R.lyric=[{syllable:"",divider:" "}]:R.lyric.push({syllable:"",divider:" "}))}else if(R.el_type==="note"&&R.rest===void 0&&!D){var z=T.shift();z.syllable&&(z.syllable=z.syllable.replace(/ +/g,"")),R.lyric===void 0?R.lyric=[z]:R.lyric.push(z)}}})},b=function(w,M){if(M.indexOf("")>=0){i+=M;return}if(M=i+M,i="",!w){h("Can't add symbols before the first line of music",w,0);return}M=Os.strip(M),M[M.length-1]!=="-"&&(M=M+" ");for(var T=[],S=0,k=!1,L=function(D){var R=Os.strip(M.substring(S,D));if(S=D+1,R.length>0){k&&(R=R.replace(/~/g," "));var z=M[D];return z!=="_"&&z!=="-"&&(z=" "),T.push({syllable:n.translateString(R),divider:z}),k=!1,!0}return!1},B=0;B<M.length;B++)switch(M[B]){case" ":case"":L(B);break;case"-":!L(B)&&T.length>0&&(Os.last(T).divider="-",T.push({skip:!0,to:"next"}));break;case"_":L(B),T.push({skip:!0,to:"slur"});break;case"*":L(B),T.push({skip:!0,to:"next"});break;case"|":L(B),T.push({skip:!0,to:"bar"});break;case"~":k=!0;break}var H=!1;w.forEach(function(D){if(T.length!==0){if(T[0].skip)switch(T[0].to){case"next":D.el_type==="note"&&D.pitches!==null&&!H&&T.shift();break;case"slur":D.el_type==="note"&&D.pitches!==null&&T.shift();break;case"bar":D.el_type==="bar"&&T.shift();break}else if(D.el_type==="note"&&D.rest===void 0&&!H){var R=T.shift();D.lyric===void 0?D.lyric=[R]:D.lyric.push(R)}}})},y=function(w){if(Os.startsWith(w,"%%")){var M=T8.addDirective(w.substring(2));M&&h(M,w,2);return}var T=w.indexOf("%");if(T>=0&&(w=w.substring(0,T)),w=w.replace(/\s+$/,""),w.length!==0){if(r){g(t.getCurrentVoice(),w.substring(2));return}if(i){b(t.getCurrentVoice(),w.substring(2));return}if(w.length<2||w[1]!==":"||v.lineContinuation){v.parseMusic(w);return}var S=p.parseHeader(w);S.regular&&v.parseMusic(w),S.newline&&v.startNewLine(),S.words&&g(t.getCurrentVoice(),w.substring(2)),S.symbols&&b(t.getCurrentVoice(),w.substring(2))}};function x(w,M){w.push({el_type:"hint"});for(var T=0;T<M.length;T++){var S=M[T],k=Os.clone(S);if(w.push(k),S.el_type==="bar")return}}function _(w,M){for(var T=0;T<w.length;T++){var S=w[T],k=M[T];if(k)for(var L=0;L<k.voices.length;L++){var B=k.voices[L],H=S.voices[L];H&&x(H,B)}}}function E(){for(var w=0;w<e.lines.length;w++){var M=e.lines[w].staff;if(M){for(var T=w+1;T<e.lines.length&&e.lines[T].staff===void 0;)T++;if(T<e.lines.length){var S=e.lines[T].staff;_(M,S)}}}}this.parse=function(w,M,T){M||(M={}),T||(T=0),e.reset(),w=w.replace(/\r\n?/g,`
`)+`
`;var S=w.split(`
\\`);if(S.length>1){for(var k=1;k<S.length;k++)for(;S[k].length>0&&S[k][0]!==`
`;)S[k]=S[k].substr(1),S[k-1]+=" ";w=S.join("  ")}w=w.replace(/\\([ \t]*)(%.*)*\n/g,function(j,I,N){var U=N?Array(N.length+1).join(" "):"";return I+""+U+`
`});var L=w.split(`
`);Os.last(L).length===0&&L.pop(),n=new mre(L,o),p=new gre(n,h,o,e,t),v=new vre(n,h,o,e,t,p),M.print&&(e.media="print"),o.reset(),o.iChar=T,M.visualTranspose?(o.globalTranspose=parseInt(M.visualTranspose),o.globalTranspose===0?o.globalTranspose=void 0:t.setVisualTranspose(M.visualTranspose)):o.globalTranspose=void 0,M.lineBreaks&&(o.lineBreaks=M.lineBreaks),p.reset(n,h,o,e);try{M.format&&T8.globalFormatting(M.format);for(var B=n.nextLine();B;){if(M.header_only&&o.is_in_header===!1||M.stop_on_warning&&o.warnings)throw"normal_abort";var H=o.is_in_header;y(B),H&&!o.is_in_header&&(t.setRunningFont("annotationfont",o.annotationfont),t.setRunningFont("gchordfont",o.gchordfont),t.setRunningFont("tripletfont",o.tripletfont),t.setRunningFont("vocalfont",o.vocalfont)),B=n.nextLine()}r&&g(t.getCurrentVoice(),""),i&&b(t.getCurrentVoice(),""),o.openSlurs=t.cleanUp(o.barsperstaff,o.staffnonote,o.openSlurs)}catch(j){if(j!=="normal_abort")throw j}var D=11*72,R=8.5*72;switch(o.papersize){case"legal":D=14*72,R=8.5*72;break;case"A4":D=11.7*72,R=8.3*72;break}if(o.landscape){var z=D;D=R,R=z}e.formatting.pagewidth||(e.formatting.pagewidth=R),e.formatting.pageheight||(e.formatting.pageheight=D),M.hint_measures&&E(),bre.wrapLines(e,o.lineBreaks,o.barNumbers)}},HM=_re,Cu=_i,xre=function(e){var t="",n=e.match(/(\s*)/);e=Cu.strip(e);for(var r=e.split(`
X:`),i=1;i<r.length;i++)r[i]="X:"+r[i];var a=n?n[0].length:0,s=[];if(r.forEach(function(f){s.push({abc:f,startPos:a}),a+=f.length+1}),s.length>1&&!Cu.startsWith(s[0].abc,"X:")){var o=s.shift(),u=o.abc.split(`
`);u.forEach(function(f){Cu.startsWith(f,"%%")&&(t+=f+`
`)})}var c=t;return s.forEach(function(f){var h=f.abc.indexOf(`

`);h>0&&(f.abc=f.abc.substring(0,h)),f.pure=f.abc,f.abc=t+f.abc,f.title="";var p=f.pure.split("T:");p.length>1&&(p=p[1].split(`
`),f.title=Cu.strip(p[0]));var v=f.pure.substring(2,f.pure.indexOf(`
`));f.id=Cu.strip(v)}),{header:c,tunes:s}},Mre=xre;function k3(e,t){this.numLines=e,this.lineSpace=t,this.verticalSize=this.numLines*this.lineSpace;var n=3;this.bar={pitch:n,pitch2:t*e,height:5}}k3.prototype.bypass=function(e){var t=e.staffGroup.voices;return!!(t.length>0&&t[0].isPercussion)};k3.prototype.setRelative=function(e,t,n){switch(e.type){case"bar":t.pitch=this.bar.pitch,t.pitch2=this.bar.pitch2,t.height=this.height;break;case"symbol":var r=this.bar.pitch2/2;if(e.name=="dots.dot")return n?(t.pitch=r,!1):(t.pitch=r+this.lineSpace,!0);break}return n};var zM=k3;function VM(e,t,n){this.tune=e,this.params=n,this.tuneNumber=t,this.inError=!1}VM.prototype.setError=function(e){var t=this.tune;e&&(this.error=e,this.inError=!0,t.warnings?t.warnings.push(e):t.warnings=[e])};var UM=VM,qo=function(t,n){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=t,this.voicetotal=n,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};qo.prototype.addChild=function(e){if(e.type==="bar"){for(var t=!0,n=0;t&&n<this.children.length;n++)this.children[n].type.indexOf("staff-extra")<0&&this.children[n].type!=="tempo"&&(t=!1);t||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=e,this.setRange(e)};qo.prototype.setLimit=function(e,t){var n=t.specialY;n||(n=t),n[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],n[e]):this.specialY[e]=n[e])};qo.prototype.adjustRange=function(e){e.bottom!==void 0&&(this.bottom=Math.min(this.bottom,e.bottom)),e.top!==void 0&&(this.top=Math.max(this.top,e.top))};qo.prototype.setRange=function(e){this.adjustRange(e),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};qo.prototype.addOther=function(e){this.otherchildren.push(e),this.setRange(e)};qo.prototype.addBeam=function(e){this.beams.push(e)};qo.prototype.setWidth=function(e){this.w=e};var WM=qo,Cre=function(e,t,n,r){if(e)for(var i=0;i<e.length;i++){var a=e[i],s=a.getAttribute("highlight");s||(s="fill"),a.setAttribute(s,r);var o=a.getAttribute("class");o||(o=""),o=o.replace(n,""),o=o.replace(t,""),t.length>0&&(o.length>0&&o[o.length-1]!==" "&&(o+=" "),o+=t),a.setAttribute("class",o)}},O3=Cre,Tre=O3,Ere=function(e,t){e===void 0&&(e="abcjs-note_selected"),t===void 0&&(t="#ff0000"),Tre(this.elemset,e,"",t)},jM=Ere,Sre=O3,Pre=function(e,t){e===void 0&&(e="abcjs-note_selected"),t===void 0&&(t="#000000"),Sre(this.elemset,"",e,t)},qM=Pre,Are=jM,kre=qM,Rr=function(t,n,r,i,a,s){s||(s={}),this.tuneNumber=a,this.abcelem=t,this.duration=n,this.durationClass=s.durationClassOveride?s.durationClassOveride:this.duration,this.minspacing=r||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=i,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};Rr.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}};Rr.prototype.addExtra=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),this.fixed.t===void 0?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top),this.fixed.b===void 0?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom),e.dx<this.extraw&&(this.extraw=e.dx),this.extra[this.extra.length]=e,this._addChild(e)};Rr.prototype.addHead=function(e){e.dx<this.extraw&&(this.extraw=e.dx),this.heads[this.heads.length]=e,this.addRight(e)};Rr.prototype.addRight=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),e.top!==void 0&&(this.fixed.t===void 0?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top)),e.bottom!==void 0&&(this.fixed.b===void 0?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom)),e.dx+e.w>this.w&&(this.w=e.dx+e.w),this.right[this.right.length]=e,this._addChild(e)};Rr.prototype.addFixed=function(e){this._addChild(e)};Rr.prototype.addFixedX=function(e){this._addChild(e)};Rr.prototype.addCentered=function(e){var t=e.w/2;-t<this.extraw&&(this.extraw=-t),this.extra[this.extra.length]=e,e.dx+t>this.w&&(this.w=e.dx+t),this.right[this.right.length]=e,this._addChild(e)};Rr.prototype.setLimit=function(e,t){t[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],t[e]):this.specialY[e]=t[e])};Rr.prototype._addChild=function(e){e.parent=this,this.children[this.children.length]=e,this.pushTop(e.top),this.pushBottom(e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};Rr.prototype.pushTop=function(e){e!==void 0&&(this.top===void 0?this.top=e:this.top=Math.max(e,this.top))};Rr.prototype.pushBottom=function(e){e!==void 0&&(this.bottom===void 0?this.bottom=e:this.bottom=Math.min(e,this.bottom))};Rr.prototype.setX=function(e){this.x=e;for(var t=0;t<this.children.length;t++)this.children[t].setX(e)};Rr.prototype.center=function(e,t){var n=(t.x-e.x)/2+e.x;this.x=n-this.w/2;for(var r=0;r<this.children.length;r++)this.children[r].setX(this.x)};Rr.prototype.setHint=function(){this.hint=!0};Rr.prototype.highlight=function(e,t){Are.bind(this)(e,t)};Rr.prototype.unhighlight=function(e,t){kre.bind(this)(e,t)};var Ec=Rr,Sc=function(t,n,r,i,a){switch(a=a||{},this.x=0,this.c=t,this.dx=n,this.w=r,this.pitch=i,this.scalex=a.scalex||1,this.scaley=a.scaley||1,this.type=a.type||"symbol",this.pitch2=a.pitch2,this.linewidth=a.linewidth,this.klass=a.klass,this.anchor=a.anchor?a.anchor:"middle",this.top=i,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=i,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),a.thickness&&(this.top+=a.thickness/2,this.bottom-=a.thickness/2),a.stemHeight&&(a.stemHeight>0?this.top+=a.stemHeight:this.bottom+=a.stemHeight),a.dim&&(this.dim=a.dim),a.position&&(this.position=a.position),this.height=a.height?a.height:4,a.top&&(this.top=a.top),a.bottom&&(this.bottom=a.bottom),a.name?this.name=a.name:this.c?this.name=this.c:this.name=this.type,a.realWidth?this.realWidth=a.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":a.position&&a.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":a.position&&a.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?a.position&&a.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};Sc.prototype.getChordDim=function(){if(this.type==="debug"||!this.chordHeightAbove&&!this.chordHeightBelow)return null;var e=0,t=this.type==="chord"?this.realWidth/2:0,n=this.x-t-e,r=n+this.realWidth+e;return{left:n,right:r}};Sc.prototype.invertLane=function(e){this.lane===void 0&&(this.lane=0),this.lane=e-this.lane-1};Sc.prototype.putChordInLane=function(e){this.lane=e,this.chordHeightAbove?this.chordHeightAbove=this.height*1.25*this.lane:this.chordHeightBelow=this.height*1.25*this.lane};Sc.prototype.getLane=function(){return this.lane===void 0?0:this.lane};Sc.prototype.setX=function(e){this.x=e+this.dx};var hs=Sc,KM=Ec,N3=hs;function Ore(e){return e!=null&&e.constructor===Object}function km(e,t){for(var n in t)t.hasOwnProperty(n)&&(Array.isArray(t[n])||Ore(t[n])||(e[n]=t[n]))}function GM(e){var t=new KM("",0,0,"",0);return km(t,e),t.top=0,t.bottom=-1,e.abcelem&&(t.abcelem={},km(t.abcelem,e.abcelem),t.abcelem.el_type==="note"&&(t.abcelem.el_type="tabNumber")),e.cloned=t,t}function Nre(e,t){var n=GM(e);if(t)for(var r=e.children,i=!0,a=0;a<r.length;a++){var s=r[a],o=new N3("",0,0,0,"");km(o,s),i=t.tablature.setRelative(s,o,i),n.children.push(o)}return n}function Ire(e,t,n){var r="tab.tiny",i=7.5;e.isTabBig&&(r="tab.big",i=10);var a={el_type:"tab",icon:r,Ypos:i},s=new KM(a,0,0,"symbol",0);s.x=t;var o=new N3(r,0,0,7.5,"tab");return o.x=n,s.children.push(o),s.abcelem.el_type=="tab"&&(o.pitch=i),s}function Lre(e){if(e.extra)for(var t=0;t<e.extra.length;t++){var n=e.extra[t];if(n.type=="lyric")return{bottom:n.bottom,height:n.height}}return null}function YM(){this.accidentals=null}function Bre(e){for(var t=0,n=0;n<e.length;n++)e[n].tabNameInfos||t++;return t}function Om(e,t,n,r,i){var a=r.num;r.note.quarter!=null&&(a=a.toString(),a+=r.note.quarter);var s=e.semantics.stringToPitch(r.str);n.notes.push({num:a,str:r.str,pitch:r.note.emit()});var o={type:"tabNumber"},u=new N3(a,0,0,s+.3,o);return u.x=t,u.isGrace=i,u.isAltered=r.note.isAltered,u}function XM(e,t){var n=0;if(e.extra){for(var r=0;r<e.extra.length;r++)if(e.extra[r].c.indexOf("noteheads")>=0){if(n===t)return e.extra[r].x+e.extra[r].w/2;n++}}return-1}function $re(e){if(e.abcelem){var t=e.abcelem;if(t.rest)return t.gracenotes}return null}function E8(e,t,n){var r=e.semantics.notesToNumber(t,n);if(r.error)return e._super.setError(r.error),r;if(r.graces&&r.notes){var i=r.notes.length-1;r.notes[i].graces=r.graces}return r}function Rre(e,t,n,r,i){for(var a=0;a<r.length;a++){var s={el_type:"note",startChar:n.abcelem.startChar,endChar:n.abcelem.endChar,notes:[],grace:!0},o=XM(n,a),u=r[a],c=Om(e,o,s,u,!0);t.children.push(c),i.push(s)}}YM.prototype.build=function(e,t,n,r,i,a){var s=Bre(t),o=t[i+r],u=t[s+i+r],c=null,f=null;o.children[0].abcelem.el_type!="clef"&&a!="none"&&o.children.splice(0,0,a);for(var h=0;h<o.children.length;h++){var p=o.children[h],v=p.x,g=v;switch(p.isClef&&(u.children.push(Ire(e,v,g)),p.abcelem.type.indexOf("-8")>=0&&(e.semantics.strings.clefTranspose=-12),p.abcelem.type.indexOf("+8")>=0&&(e.semantics.strings.clefTranspose=12)),p.type){case"staff-extra key-signature":this.accidentals=p.abcelem.accidentals,e.semantics.strings.accidentals=this.accidentals;break;case"bar":e.semantics.strings.measureAccidentals={};var b=!1;h===o.children.length-1&&(b=!0);var y=Nre(p,e);if(y.abcelem.barNumber){delete y.abcelem.barNumber;for(var x=0;x<y.children.length;x++)if(y.children[x].type==="barNumber"){y.children.splice(x,1);break}}y.abcelem.lastBar=b,u.children.push(y),n.push({el_type:p.abcelem.el_type,type:p.abcelem.type,endChar:p.abcelem.endChar,startChar:p.abcelem.startChar,abselem:y});break;case"rest":var _=$re(p);if(_){if(c=E8(e,null,_),c.error)return;B={el_type:"note",startChar:p.abcelem.startChar,endChar:p.abcelem.endChar,notes:[],grace:!0},Rre(e,E,p,c.graces,n)}break;case"note":var E=GM(p);E.x=p.heads[0].x+p.heads[0].w/2,E.lyricDim=Lre(p);var w=p.abcelem.pitches,M=p.abcelem.gracenotes;if(E.type="tabNumber",c=E8(e,w,M),c.error)return;if(c.graces){var T=c.notes.length-1;c.notes[T].graces=c.graces}f={el_type:"note",startChar:p.abcelem.startChar,endChar:p.abcelem.endChar,notes:[]};for(var S=0;S<c.notes.length;S++){var k=c.notes[S];if(k.graces)for(var L=0;L<k.graces.length;L++){var B={el_type:"note",startChar:p.abcelem.startChar,endChar:p.abcelem.endChar,notes:[],grace:!0},H=XM(p,L),D=k.graces[L],R=Om(e,H,B,D,!0);E.children.push(R),n.push(B)}var z=Om(e,E.x+p.heads[S].dx,f,k,!1);E.children.push(z)}f.notes.length>0&&(f.abselem=E,n.push(f),u.children.push(E));break}}};var Fre=YM,Dre=WM,Hre=Fre,S8=xi;function zre(){return{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}}function Vre(e){for(var t=0,n=0;n<e.children.length;n++){var r=e.children[n];r.specialY&&r.specialY.lyricHeightBelow>t&&(t=r.specialY.lyricHeightBelow)}return t}function Ure(e,t){var n=e.plugin.semantics.strings,r=e.renderer.controller,i=r.getTextSize,a=n.tabInfos(e.plugin),s=i.calc(a,"tablabelfont","text instrumentname");return t.tabNameInfos={textSize:s,name:a},s.height}function JM(e,t,n,r){this.renderer=t,this.plugin=e,this.line=n,this.absolutes=new Hre,this.staffIndex=r,this.tabStaff={clef:{type:"TAB"}},this.tabSize=e.linePitch*e.nbLines}function Wre(e,t){return t[e].isTabStaff?e===t.length-1?!0:!t[e+1].isTabStaff:!1}function jre(e){for(var t=0,n=0;n<e.length;n++)e[n].isTabStaff||t++;return t}function qre(e,t){for(var n=t;n>=0;n--)if(!e[n].isTabStaff)return n;return-1}function Kre(e){for(var t=0;t<e.length;t++)if(e[t].isTabStaff){var n=qre(e,t);e[t].hasStaff=e[n],e[n].hasTab||(e[n].hasTab=[]),e[n].hasTab.push(e[t])}}function Gre(e,t){return jre(e)===1&&t.voices.length>1}function Yre(e,t){for(var n=e.staffIndex,r=0,i=0,a=!0,s=0;a;){if(!t[r])return-1;if(t[r].isTabStaff||(s=t[r].voices.length),t[r].isTabStaff){if(i++,Wre(r,t)&&i<s)return r+1}else if(i=0,r>=n&&(r+1==t.length||!t[r+1].isTabStaff))return r+1;if(r++,r>t.length)return-1}}function Xre(e,t){for(var n=t;n>=0;n--)if(!e[n].isTabStaff)return e[n];return null}function Jre(e,t){var n=e[t],r=n.children[0].abcelem;return r.el_type==="clef"?null:t==0?"none":e[t-1].children[0]}JM.prototype.doLayout=function(){var e=this.line.staff;if(e){var t=e[0];if(t&&t.clef&&t.clef.stafflines==0){this.plugin._super.setError("No tablatures when stafflines=0");return}e.splice(e.length,0,this.tabStaff)}var n=this.line.staffGroup,r=n.voices,i=r[0],a=Vre(i),s=3,o=this.staffIndex,u=n.staffs[o],c=this.tabSize+s-u.bottom-a;u.isTabStaff&&(c=u.top);var f={bottom:-1,isTabStaff:!0,specialY:zre(),lines:this.plugin.nbLines,linePitch:this.plugin.linePitch,dy:.15,top:c},h=Yre(this,n.staffs);if(h!==-1){f.parentIndex=h-1,n.staffs.splice(h,0,f),n.height+=this.tabSize+s;var p=Xre(n.staffs,h),v=1;Gre(n.staffs,p)&&(v=p.voices.length),this.tabStaff.voices=[];for(var g=0;g<v;g++){var b=new Dre(0,0);g>0&&(b.duplicate=!0);var y=Ure(this,b)/S8.STEP;y=Math.max(y,1),n.staffs[this.staffIndex].top+=y,n.height+=y*S8.STEP,b.staff=f,r.splice(r.length,0,b);var x=Jre(r,g+this.staffIndex);this.tabStaff.voices[g]=[],this.absolutes.build(this.plugin,r,this.tabStaff.voices[g],g,this.staffIndex,x)}Kre(n.staffs)}};var QM=JM,Qre={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},Nm=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];function Zre(e){var t=e.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(t&&t.length===5){var n=Qre[t[1]],r=Nm.indexOf(t[2]),i=t[4].length-t[3].length;return 48+r+n+i*12}return 0}function eie(e){e=parseInt(e,10);var t=Math.floor(e/12),n=e%12,r=Nm[n];if(r==="-"&&(r="^"+Nm[n-1]),t>4)for(r=r.toLowerCase(),t-=5;t>0;)r+="'",t--;else for(;t<4;)r+=",",t++;return r}var ZM={noteToMidi:Zre,midiToNote:eie},{noteToMidi:tie,midiToNote:I3}=ZM,nie=["A","B","C","D","E","F","G"];function ua(e,t){var n=tie(e);t&&(n+=t);var r=I3(n),i=!1,a=!1,s=!1,o=null,u=null,c=!1,f=0;e.startsWith("_")?(i=!0,f=-1,e[1]=="/"?(i=!1,u="v",f=0):e[1]=="_"&&(c=!0,f-=1)):e.startsWith("^")?(a=!0,f=1,e[1]=="/"?(a=!1,u="^",f=0):e[1]=="^"&&(c=!0,f+=1)):e.startsWith("=")&&(o=!0,f=0),s=i||a||u!=null,(s||o)&&(u!=null||c?r=e.slice(2):r=e.slice(1));var h=(r.match(/,/g)||[]).length,p=(r.match(/'/g)||[]).length;this.pitch=n,this.pitchAltered=0,this.name=r,this.acc=f,this.isSharp=a,this.isKeySharp=!1,this.isDouble=c,this.isAltered=s,this.isFlat=i,this.isKeyFlat=!1,this.natural=o,this.quarter=u,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=h,this.isQuoted=p}function rie(e){var t=e.name,n=new ua(t);return n.pitch=e.pitch,n.hasComma=e.hasComma,n.isLower=e.isLower,n.isQuoted=e.isQuoted,n.isSharp=e.isSharp,n.isKeySharp=e.isKeySharp,n.isFlat=e.isFlat,n.isKeyFlat=e.isKeyFlat,n}ua.prototype.sameNoteAs=function(e){return e.pitch===this.pitch};ua.prototype.isLowerThan=function(e){return e.pitch>this.pitch};ua.prototype.checkKeyAccidentals=function(e,t){if(!(this.isAltered||this.natural)){if(t[this.name.toUpperCase()])switch(t[this.name.toUpperCase()]){case"__":this.acc=-2,this.pitchAltered=-2;return;case"_":this.acc=-1,this.pitchAltered=-1;return;case"=":this.acc=0,this.pitchAltered=0;return;case"^":this.acc=1,this.pitchAltered=1;return;case"^^":this.acc=2,this.pitchAltered=2;return}else if(e)for(var n=this.name,r=0;r<e.length;r++){var i=e[r];n==i.note.toUpperCase()&&(i.acc=="flat"&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),i.acc=="sharp"&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}}};ua.prototype.getAccidentalEquiv=function(){var e=rie(this);return e.isSharp||e.isKeySharp?(e=e.nextNote(),e.isFlat=!0,e.isSharp=!1,e.isKeySharp=!1):(e.isFlat||e.isKeyFlat)&&(e=e.prevNote(),e.isSharp=!0,e.isFlat=!1,e.isKeyFlat=!1),e};ua.prototype.nextNote=function(){var e=I3(this.pitch+1+this.pitchAltered);return new ua(e)};ua.prototype.prevNote=function(){var e=I3(this.pitch-1+this.pitchAltered);return new ua(e)};ua.prototype.emitNoAccidentals=function(){var e=this.name;this.isLower&&(e=e.toLowerCase());for(var t=0;t<this.isQuoted;t++)e+="'";for(var n=0;n<this.hasComma;n++)e+=",";return e};ua.prototype.emit=function(){var e=this.name;(this.isSharp||this.isKeySharp)&&(e="^"+e,this.isDouble&&(e="^"+e)),(this.isFlat||this.isKeyFlat)&&(e="_"+e,this.isDouble&&(e="_"+e)),this.quarter&&(this.quarter=="^"?e="^/"+e:e="_/"+e),this.natural&&(e="="+e);for(var t=1;t<=this.hasComma;t++)e+=",";if(this.isLower){e=e.toLowerCase();for(var n=1;n<=this.isQuoted;n++)e+="'"}return e};var eC={TabNote:ua,notes:nie},Im=eC,P8=Im.notes;function tC(e,t){this.fromN=new Im.TabNote(e),this.toN=new Im.TabNote(t)}tC.prototype.build=function(){var e=this.fromN,t=this.toN;if(t.isLowerThan(e)){var n=e.emit(),r=t.emit();return{error:"Invalid string Instrument tuning : "+r+" string lower than "+n+" string"}}var i=[],a=P8.indexOf(e.name),s=P8.indexOf(t.name);if(a==-1||s==-1)return i;for(var o=!1;!o;)i.push(e.emit()),e=e.nextNote(),e.sameNoteAs(t)&&(o=!0);return i};var iie=tC;const{noteToMidi:aie}=ZM;var M1=eC,sie=iie;function oie(e){var t=null,n=e.tuning;if(e.capo>0){t=[];for(var r=0;r<n.length;r++){for(var i=new M1.TabNote(n[r]),a=0;a<e.capo;a++)i=i.nextNote();t[r]=i.emit()}}return t}function lie(e){var t=[],n=e.tuning;e.capo>0&&(n=e.capoTuning);for(var r=n.length-1,i=0;i<n.length;i++){var a=e.highestNote;i!=n.length-1&&(a=n[i+1]);var s=new sie(n[i],a),o=s.build();if(o.error)return o;t[r--]=o}return t}function cie(e){var t=[];t[0]=[];for(var n=e.strings,r=1;r<n.length;r++)t[r]=n[r-1];return t}function uie(e,t){for(var n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];if(r.str==i.str){if(r.str==e.strings.length-1){r.num="?",i.num="?";return}i.num<r.num?(i.str++,i=A8(e,i.note,i.str,e.secondPos,e.strings[i.str].length)):(r.str++,r=A8(e,r.note,r.str,e.secondPos,e.strings[r.str].length)),t[n]=r,t[n+1]=i}}return null}function fie(e,t){for(var n=[],r=0;r<t.length;r++)if(!t[r].endTie){var i=new M1.TabNote(t[r].name,e.clefTranspose);i.checkKeyAccidentals(e.accidentals,e.measureAccidentals);var a=Lm(e,i);n.push(a)}return uie(e,n),n}function A8(e,t,n,r,i){var a=e.strings;t.checkKeyAccidentals(e.accidentals,e.measureAccidentals),r&&(a=r);var s=t.emitNoAccidentals(),o=a[n].indexOf(s),u=t.acc;if(o!=-1){if(r&&(o+=i),(t.isFlat||t.acc==-1)&&o==0){var c=t.getAccidentalEquiv();n++,o=a[n].indexOf(c.emit()),u=0}return{num:o+u,str:n,note:t}}return null}function Lm(e,t){if(t.isAltered||t.natural){var n;t.isFlat?t.isDouble?n="__":n="_":t.isSharp?t.isDouble?n="^^":n="^":t.natural&&(n="="),e.measureAccidentals[t.name.toUpperCase()]=n}for(var r=e.stringPitches.length-1;r>=0;r--)if(t.pitch+t.pitchAltered>=e.stringPitches[r]){var i=t.pitch+t.pitchAltered-e.stringPitches[r];return t.quarter==="^"?i-=.5:t.quarter==="v"&&(i+=.5),{num:Math.round(i),str:e.stringPitches.length-1-r,note:t}}return{num:"?",str:e.stringPitches.length-1,note:t}}Vf.prototype.stringToPitch=function(e){var t=5.3,n=this.strings.length-1;return t+(n-e)*this.linePitch};function k8(e,t){var n={num:"?",str:0,note:t};e.push(n),e.error=t.emit()+": unexpected note for instrument"}Vf.prototype.notesToNumber=function(e,t){var n,r,i=null,a=null;if(e&&(a=[],e.length>1?(a=fie(this,e),a.error&&(i=a.error)):e[0].endTie||(n=new M1.TabNote(e[0].name,this.clefTranspose),n.checkKeyAccidentals(this.accidentals,this.measureAccidentals),r=Lm(this,n),r?a.push(r):(k8(a,n),i=a.error))),i)return a;var s=null;if(t){s=[];for(var o=0;o<t.length;o++)n=new M1.TabNote(t[o].name,this.clefTranspose),n.checkKeyAccidentals(this.accidentals,this.measureAccidentals),r=Lm(this,n),r?s.push(r):(k8(s,n),i=a.error)}return{notes:a,graces:s,error:i}};Vf.prototype.toString=function(){for(var e=[],t=0;t<this.tuning.length;t++){var n=this.tuning[t].replaceAll(",","").replaceAll("'","").toUpperCase();n[0]==="_"?n=n[1]+"b ":n[0]==="^"&&(n=n[1]+"# "),e.push(n)}return e.join("")};Vf.prototype.tabInfos=function(e){var t=e._super,n=t.params.label;if(n){var r=n.indexOf("%T"),i="";return r!=-1&&(i=this.toString(),e.capo>0&&(i+=" capo:"+e.capo),n=n.replace("%T",i)),n}return""};function Vf(e){var t=e.tuning,n=e.capo,r=e._super.params.highestNote;this.linePitch=e.linePitch,this.highestNote="a'",r&&(this.highestNote=r),this.measureAccidentals={},this.capo=0,n&&(this.capo=parseInt(n,10)),this.transpose=e.transpose?e.transpose:0,this.tuning=t,this.stringPitches=[];for(var i=0;i<this.tuning.length;i++){var a=aie(this.tuning[i])+this.capo;this.stringPitches.push(a)}if(this.capo>0&&(this.capoTuning=oie(this)),this.strings=lie(this),this.strings.error){e._super.setError(this.strings.error),e.inError=!0;return}this.secondPos=cie(this)}var nC=Vf,die=nC;function L3(e){this.tuning=e._super.params.tuning,this.tuning||(this.tuning=["G,","D","A","e"]),e.tuning=this.tuning,this.strings=new die(e)}L3.prototype.notesToNumber=function(e,t){var n=this.strings;return n.notesToNumber(e,t)};L3.prototype.stringToPitch=function(e){var t=this.strings;return t.stringToPitch(e)};var hie=L3,pie=zM,gie=UM,vie=QM,mie=hie;B3.prototype.init=function(e,t,n){var r=new gie(e,t,n);this.abcTune=e,this._super=r,this.linePitch=3,this.nbLines=4,this.isTabBig=!1,this.capo=n.capo,this.transpose=n.visualTranspose,this.tablature=new pie(this.nbLines,this.linePitch);var i=new mie(this);this.semantics=i};B3.prototype.render=function(e,t,n){if(!this._super.inError&&!this.tablature.bypass(t)){var r=new vie(this,e,t,n);r.doLayout()}};function B3(){}var bie=function(){return{name:"ViolinTab",tablature:B3}},yie=bie,wie=nC;function $3(e){this.tuning=e._super.params.tuning,this.tuning||(this.tuning=["E,","A,","D","G","B","e"]),e.tuning=this.tuning,this.strings=new wie(e)}$3.prototype.notesToNumber=function(e,t){var n=this.strings;return n.notesToNumber(e,t)};$3.prototype.stringToPitch=function(e){var t=this.strings;return t.stringToPitch(e)};var _ie=$3,xie=zM,Mie=UM,Cie=QM,Tie=_ie;R3.prototype.init=function(e,t,n){var r=new Mie(e,t,n);this._super=r,this.abcTune=e,this.linePitch=3,this.nbLines=6,this.isTabBig=!0,this.capo=n.capo,this.transpose=n.visualTranspose,this.tablature=new xie(this.nbLines,this.linePitch);var i=new Tie(this);this.semantics=i};R3.prototype.render=function(e,t,n){if(!this._super.inError&&!this.tablature.bypass(t)){var r=new Cie(this,e,t,n);r.doLayout()}};function R3(){}var Eie=function(){return{name:"GuitarTab",tablature:R3}},Sie=Eie,Pie=yie,Aie=Sie,kie={violin:"ViolinTab",fiddle:"ViolinTab",mandolin:"ViolinTab",guitar:"GuitarTab"},Oie={inited:!1,plugins:{},register:function(e){var t=e.name,n=e.tablature;this.plugins[t]=n},setError:function(e,t){e.warnings?e.warning.push(t):e.warnings=[t]},preparePlugins:function(e,t,n){var r=null;if(n.tablature){var i=n.tablature;r=[];for(var a=0;a<i.length;a++){var s=i[a],o=s.instrument;if(o==null)return this.setError(e,"tablature 'instrument' is missing"),r;var u=kie[o],c=null;if(u&&(c=this.plugins[u]),c){n.visualTranspose!=0&&(s.visualTranspose=n.visualTranspose),s.abcSrc=n.tablature.abcSrc;var f={classz:c,tuneNumber:t,params:s,instance:null};r.push(f)}else return this.setError(e,"Undefined tablature plugin: "+o),r}}return r},layoutTablatures:function(e,t){for(var n=t.tablatures,r=0;r<t.lines.length;r++){var i=t.lines[r],a=i.staff;if(a){for(var s=0;s<a.length;s++)if(n[s]){var o=n[s];o.instance==null&&(o.instance=new o.classz,o.instance.init(t,o.tuneNumber,o.params,s)),o.instance.render(e,i,s)}}}},init:function(){this.inited||(this.register(new Pie),this.register(new Aie),this.inited=!0)}},rC=Oie,Nie=HM,Iie=Mre,O8=rC,Rs={};(function(){Rs.numberOfTunes=function(t){var n=t.split(`
X:`),r=n.length;return r===0&&(r=1),r};var e=Rs.TuneBook=function(t){var n=Iie(t);this.header=n.header,this.tunes=n.tunes};e.prototype.getTuneById=function(t){for(var n=0;n<this.tunes.length;n++)if(this.tunes[n].id===""+t)return this.tunes[n];return null},e.prototype.getTuneByTitle=function(t){for(var n=0;n<this.tunes.length;n++)if(this.tunes[n].title===t)return this.tunes[n];return null},Rs.parseOnly=function(t,n){for(var r=Rs.numberOfTunes(t),i=[],a=0;a<r;a++)i.push(1);function s(){}return Rs.renderEngine(s,i,t,n)},Rs.renderEngine=function(t,n,r,i){var a=[],s=function(b){return b&&!b.propertyIsEnumerable("length")&&typeof b=="object"&&typeof b.length=="number"};if(!(n===void 0||r===void 0)){s(n)||(n=[n]),i===void 0&&(i={});for(var o=i.startingTune?parseInt(i.startingTune,10):0,u=new e(r),c=new Nie,f=0;f<n.length;f++){var h=n[f];if(h==="*"||typeof h=="string"&&(h=document.getElementById(h)),h)if(o>=0&&o<u.tunes.length){c.parse(u.tunes[o].abc,i,u.tunes[o].startPos-u.header.length);var p=c.getTune();i.tablature&&(O8.init(),p.tablatures=O8.preparePlugins(p,o,i));var v=c.getWarnings();v&&(p.warnings=v);var g=t(h,p,f,u.tunes[o].abc);a.push(g||p)}else h.innerHTML&&(h.innerHTML="");o++}return a}},Rs.extractMeasures=function(t){for(var n=[],r=new e(t),i=0;i<r.tunes.length;i++){for(var a=r.tunes[i],s=a.abc.split("K:"),o=s[1].split(`
`),u=s[0]+"K:"+o[0]+`
`,c=null,f=null,h=null,p=[],v=!1,g=Rs.parseOnly(a.abc)[0],b=g.getPickupLength()>0,y=0;y<g.lines.length;y++){var x=g.lines[y];if(x.staff)for(var _=0;_<1;_++)for(var E=x.staff[_],w=0;w<1;w++)for(var M=E.voices[w],T=0;T<M.length;T++){var S=M[T];if(h===null&&S.startChar>=0&&(h=S.startChar,S.chord===void 0?f=c:f=null),S.chord&&(c=S),S.el_type==="bar"){if(v){var k=a.abc.substring(h,S.endChar),L={abc:k};c=f&&f.chord&&f.chord.length>0?f.chord[0].name:null,c&&(L.lastChord=c),S.startEnding&&(L.startEnding=S.startEnding),S.endEnding&&(L.endEnding=S.endEnding),p.push(L),h=null,v=!1}}else S.el_type==="note"&&(v=!0)}}n.push({header:u,measures:p,hasPickup:b})}return n}})();var F3=Rs,N8=OM,{relativeMajor:I8,transposeKey:ov,relativeMode:L8}=kM,B8=AM,iC;(function(){iC=function(E,w,M){if(w==="TEST")return{keyAccidentals:N8,relativeMajor:I8,transposeKey:ov,relativeMode:L8,transposeChordName:B8};M=parseInt(M,10);var T=[],S;for(S=0;S<w.length;S++)T=T.concat(e(E,w[S],M));T=T.sort(function(B,H){return H.start-B.start});var k=E.split("");for(S=0;S<T.length;S++){var L=T[S];k.splice(L.start,L.end-L.start,L.note)}return k.join("")};function e(E,w,M){var T=[],S=w.getKeySignature();if(S.root==="Hp"||S.root==="HP")return T;T=T.concat(t(E,M));for(var k=0;k<w.lines.length;k++){var L=w.lines[k].staff;if(L)for(var B=0;B<L.length;B++){var H=L[B];H.clef.type!=="perc"&&(T=T.concat(n(E,H.voices,H.key,M)))}}return T}function t(E,w){for(var M=[],T=E.split("K:"),S=T[0].length,k=1;k<T.length;k++){var L=T[k],B=L.match(/^( *)([A-G])([#b]?)(\w*)/);if(B){var H=S+2+B[1].length,D=B[2]+B[3]+B[4],R=u({root:B[2],acc:B[3],mode:B[4]},w),z=R.root+R.acc+R.mode;M.push({start:H,end:H+D.length,note:z})}S+=L.length+2}return M}function n(E,w,M,T){for(var S=[],k=u(M,T),L=0;L<w.length;L++)S=S.concat(a(E,w[L],M.root,r(M),k,T));return S}function r(E){for(var w={},M=0;M<E.accidentals.length;M++){var T=E.accidentals[M];T.acc==="flat"?w[T.note.toUpperCase()]="_":T.acc==="sharp"&&(w[T.note.toUpperCase()]="^")}return w}function i(E,w,M){var T=s.indexOf(E.root)-s.indexOf(w);return w==="none"&&(T=s.indexOf(E.root)),T===0?M>2?T+=7:M===-12&&(T-=7):M>0&&T<0?T+=7:M<0&&T>0&&(T-=7),M>12?T+=7:M<-12&&(T-=7),T}function a(E,w,M,T,S,k){for(var L=[],B=i(S,M,k),H={},D={},R=0;R<w.length;R++){var z=w[R];if(z.chord)for(var j=0;j<z.chord.length;j++){var I=z.chord[j];if(I.position==="default"){var N=S.accidentals.length&&S.accidentals[0].acc==="flat",U=B8(I.name,k,N,!0);U=U.replace(//g,"b").replace(//g,"#"),U!==I.name&&L.push(x(E,z.startChar,z.endChar,U))}}if(z.el_type==="note"&&z.pitches){for(var Y=0;Y<z.pitches.length;Y++){var Z=g(z.pitches[Y].name,M,T,H);Z.acc&&(H[Z.name.toUpperCase()]=Z.acc);var ge=c(Z,S,B,D);ge.acc&&(D[ge.upper]=ge.acc),L.push(b(E,z.startChar,z.endChar,ge.acc+ge.name,Y))}if(z.gracenotes)for(var ie=0;ie<z.gracenotes.length;ie++){var me=g(z.gracenotes[ie].name,M,T,H);me.acc&&(H[me.name.toUpperCase()]=me.acc);var ve=c(me,S,B,H);ve.acc&&(D[ve.upper]=ve.acc),L.push(y(E,z.startChar,z.endChar,ve.acc+ve.name,ie))}}else z.el_type==="bar"?(H={},D={}):z.el_type==="keySignature"&&(M=z.root,T=r(z),S=u(z,k),B=i(S,M,k))}return L}var s="CDEFGAB",o=[",,,,",",,,",",,",",","","'","''","'''","''''"];function u(E,w){if(E.root==="none")return{root:ov("C",w),mode:"",acc:"",accidentals:[]};var M=I8(E.root+E.acc+E.mode),T=ov(M,w),S=L8(T,E.mode),k=N8(T);return{root:S[0],mode:E.mode,acc:S.length>1?S[1]:"",accidentals:k}}function c(E,w,M,T){for(var S=E.pitch,k=s.indexOf(E.name),L=s.indexOf(w.root),B=(L+S)%7,H=k+M,D=E.oct;H>6;)D++,H-=7;for(;H<0;)D--,H+=7;for(var R=s[B],z="",j=E.adj,I="=",N=0;N<w.accidentals.length;N++)if(w.accidentals[N].note.toLowerCase()===R.toLowerCase()){j=j+(w.accidentals[N].acc==="flat"?-1:1),I=w.accidentals[N].acc==="flat"?"_":"^";break}switch(j){case-2:z="__";break;case-1:z="_";break;case 0:z="=";break;case 1:z="^";break;case 2:z="^^";break;case-3:var U={};return U.pitch=E.pitch-1,U.oct=E.oct,U.name=s[s.indexOf(E.name)-1],U.name||(U.name="B",U.oct--),U.name==="B"||U.name==="E"?U.adj=E.adj+1:U.adj=E.adj+2,c(U,w,M+1,T);case 3:var U={};return U.pitch=E.pitch+1,U.oct=E.oct,U.name=s[s.indexOf(E.name)+1],U.name||(U.name="C",U.oct++),U.name==="C"||U.name==="F"?U.adj=E.adj-1:U.adj=E.adj-2,c(U,w,M+1,T)}switch((T[R]===z||!T[R]&&z===I)&&!E.courtesy&&(z=""),D){case 0:R=R+",,,";break;case 1:R=R+",,";break;case 2:R=R+",";break;case 4:R=R.toLowerCase();break;case 5:R=R.toLowerCase()+"'";break;case 6:R=R.toLowerCase()+"''";break;case 7:R=R.toLowerCase()+"'''";break;case 8:R=R.toLowerCase()+"''''";break}return D>4&&(R=R.toLowerCase()),{acc:z,name:R,upper:R.toUpperCase()}}var f=/([_^=]*)([A-Ga-g])([,']*)/,h=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,p=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/,v=/(\s*)$/;function g(E,w,M,T){var S=w==="none"?0:s.indexOf(w),k=E.match(f),L=k[2].toUpperCase(),B=s.indexOf(L)-S;B<0&&(B+=7);var H=o.indexOf(k[3]);L===k[2]&&H--;var D=T[L]||M[L]||"=";return{acc:k[1],name:L,pitch:B,oct:H,adj:_(k[1],M[L],T[L]),courtesy:k[1]===D}}function b(E,w,M,T,S){var k=E.substring(w,M),L=k.match(new RegExp(h.source+v.source),"");if(L){var B=L[1].length,H=L[2].length+L[3].length+L[4].length,D=M-w-B-H;w+=D,M-=H}else{var R=/([^\[]*)/,z=/\[/,j=/\-?](\d*\/*\d*)?([\>\<\-\)]*)/;if(L=k.match(new RegExp(R.source+z.source+p.source+p.source+p.source+p.source+p.source+p.source+p.source+p.source+j.source+v.source)),L){for(var I=1+L[1].length,N=0;N<S;N++)L[N*3+2]&&(I+=L[N*3+2].length),L[N*3+3]&&(I+=L[N*3+3].length),L[N*3+4]&&(I+=L[N*3+4].length);w+=I;var U=L[S*3+2]?L[S*3+2].length:0;M=w+U}}return{start:w,end:M,note:T}}function y(E,w,M,T,S){var k=E.substring(w,M),L=/\{/,B=/\}/,H=/([^\{]*)/,D=/(\/*)/,R=k.match(new RegExp(H.source+L.source+D.source+p.source+D.source+p.source+D.source+p.source+D.source+p.source+D.source+p.source+D.source+p.source+D.source+p.source+D.source+p.source+B.source));if(R){for(var z=1+R[1].length,j=0;j<S;j++)R[j*3+2]&&(z+=R[j*3+2].length),R[j*3+3]&&(z+=R[j*3+3].length),R[j*3+4]&&(z+=R[j*3+4].length),R[j*3+5]&&(z+=R[j*3+5].length);R[S*3+2]&&(z+=R[j*3+2].length),w+=z;var I=R[S*3+3]?R[S*3+3].length:0;I+=R[S*3+4]?R[S*3+4].length:0,I+=R[S*3+5]?R[S*3+5].length:0,M=w+I}return{start:w,end:M,note:T}}function x(E,w,M,T){var S=E.substring(w,M).match(/([^"]+)?(".+")+/);return S[1]&&(w+=S[1].length),M=w+S[2].length,{start:w+1,end:M-1,note:T}}function _(E,w,M){if(!E&&M&&(E=M),!E)return 0;switch(w){case void 0:switch(E){case"__":return-2;case"_":return-1;case"=":return 0;case"^":return 1;case"^^":return 2;default:return 0}case"_":switch(E){case"__":return-1;case"_":return 0;case"=":return 1;case"^":return 2;case"^^":return 3;default:return 0}case"^":switch(E){case"__":return-3;case"_":return-2;case"=":return-1;case"^":return 0;case"^^":return 1;default:return 0}}return 0}})();var Lie=iC,nl=function(t,n,r,i){this.type="BeamElem",this.isflat=!!r,this.isgrace=!!(n&&n==="grace"),this.forceup=!!(this.isgrace||n&&n==="up"),this.forcedown=!!(n&&n==="down"),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=t,this.beams=[],i&&i.duration?(this.duration=i.duration,i.startTriplet&&(this.duration*=i.tripletMultiplier),this.duration=Math.round(this.duration*1e3)/1e3):this.duration=0};nl.prototype.setHint=function(){this.hint=!0};nl.prototype.runningDirection=function(e){var t=e.averagepitch;t!==void 0&&(this.total=Math.round(this.total+t),this.count||(this.count=0),this.count++)};nl.prototype.add=function(e){var t=e.abcelem.averagepitch;t!==void 0&&(e.abcelem.rest||(this.allrests=!1),e.beam=this,this.elems.push(e),this.total=Math.round(this.total+t),(this.min===void 0||e.abcelem.minpitch<this.min)&&(this.min=e.abcelem.minpitch),(this.max===void 0||e.abcelem.maxpitch>this.max)&&(this.max=e.abcelem.maxpitch))};nl.prototype.addBeam=function(e){this.beams.push(e)};nl.prototype.setStemDirection=function(){if(this.average=aC(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var e=6;this.stemsUp=this.average<e}delete this.count,this.total=0};nl.prototype.calcDir=function(){if(this.average=aC(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var e=6;this.stemsUp=this.average<e}for(var t=this.stemsUp?"up":"down",n=0;n<this.elems.length;n++)for(var r=0;r<this.elems[n].heads.length;r++)this.elems[n].heads[r].stemDir=t};function aC(e,t){return t?e/t:0}var Bie=nl,Uf=function(t,n){this.startVoice=t,this.type=n};Uf.prototype.setBottomStaff=function(e){this.endVoice=e,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)};Uf.prototype.continuing=function(e){this.lastContinuedVoice=e};Uf.prototype.getWidth=function(){return 10};Uf.prototype.isStartVoice=function(e){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===e)};var $ie=Uf,Rie=xi,Li={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.32,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};Li["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63};Li["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9};Li["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165};Li["noteheads.triangle.quarter"]={d:[["M",0,0],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9};var $8=function(e){for(var t=[],n=0,r=e.length;n<r;n++){t[n]=[];for(var i=0,a=e[n].length;i<a;i++)t[n][i]=e[n][i]}return t},Fie=function(e,t,n){for(var r=0,i=e.length;r<i;r++){var a=e[r],s,o;for(s=1,o=a.length;s<o;s++)a[s]*=s%2?t:n}},Die={printSymbol:function(e,t,n,r,i){if(!Li[n])return null;var a=$8(Li[n].d);a[0][1]+=e,a[0][2]+=t;for(var s="",o=0;o<a.length;o++)s+=a[o].join(" ");return i.path=s,r.path(i)},getPathForSymbol:function(e,t,n,r,i){if(r=r||1,i=i||1,!Li[n])return null;var a=$8(Li[n].d);return(r!==1||i!==1)&&Fie(a,r,i),a[0][1]+=e,a[0][2]+=t,a},getSymbolWidth:function(e){return Li[e]?Li[e].w:0},symbolHeightInPitches:function(e){var t=Li[e]?Li[e].h:0;return t/Rie.STEP},getSymbolAlign:function(e){return e.substring(0,7)==="scripts"&&e!=="scripts.roll"?"center":"left"},getYCorr:function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(e,t){Li[e]=t}},Ko=Die,Hie=Ec,Tu=Ko,lv=hs,zie=function(e,t){var n,r=0;e.el_type="clef";var i=new Hie(e,0,10,"staff-extra clef",t);switch(i.isClef=!0,e.type){case"treble":n="clefs.G";break;case"tenor":n="clefs.C";break;case"alto":n="clefs.C";break;case"bass":n="clefs.F";break;case"treble+8":n="clefs.G",r=1;break;case"tenor+8":n="clefs.C",r=1;break;case"bass+8":n="clefs.F",r=1;break;case"alto+8":n="clefs.C",r=1;break;case"treble-8":n="clefs.G",r=-1;break;case"tenor-8":n="clefs.C",r=-1;break;case"bass-8":n="clefs.F",r=-1;break;case"alto-8":n="clefs.C",r=-1;break;case"none":return null;case"perc":n="clefs.perc";break;default:i.addFixed(new lv("clef="+e.type,0,0,void 0,{type:"debug"}))}var a=5;if(n){var s=Tu.symbolHeightInPitches(n),o=Vie(n);if(i.addRight(new lv(n,a,Tu.getSymbolWidth(n),e.clefPos,{top:s+e.clefPos+o,bottom:e.clefPos+o})),r!==0){var u=.6666666666666666,c=(Tu.getSymbolWidth(n)-Tu.getSymbolWidth("8")*u)/2,f=r>0?i.top+3:i.bottom-1,h=r>0?i.top+3:i.bottom-3,p=h-2;e.type==="bass-8"&&(f=3,c=0),i.addRight(new lv("8",a+c,Tu.getSymbolWidth("8")*u,f,{scalex:u,scaley:u,top:h,bottom:p}))}}return i};function Vie(e){switch(e){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}var Uie=zie,Wie=Ec,Ah=Ko,jie=hs,qie=function(e,t){if(e.el_type="keySignature",!e.accidentals||e.accidentals.length===0)return null;var n=new Wie(e,0,10,"staff-extra key-signature",t);n.isKeySig=!0;var r=0;return e.accidentals.forEach(function(i){var a,s=0;switch(i.acc){case"sharp":a="accidentals.sharp",s=-3;break;case"natural":a="accidentals.nat";break;case"flat":a="accidentals.flat",s=-1.2;break;case"quartersharp":a="accidentals.halfsharp",s=-2.5;break;case"quarterflat":a="accidentals.halfflat",s=-1.2;break;default:a="accidentals.flat"}n.addRight(new jie(a,r,Ah.getSymbolWidth(a),i.verticalPos,{thickness:Ah.symbolHeightInPitches(a),top:i.verticalPos+Ah.symbolHeightInPitches(a)+s,bottom:i.verticalPos+s})),r+=Ah.getSymbolWidth(a)+2},this),n},Kie=qie,Ca=Ko,kl=hs,Gie=function(e,t,n,r){r||(r={});var i=r.dir!==void 0?r.dir:null,a=r.headx!==void 0?r.headx:0,s=r.extrax!==void 0?r.extrax:0,o=r.flag!==void 0?r.flag:null,u=r.dot!==void 0?r.dot:0,c=r.dotshiftx!==void 0?r.dotshiftx:0,f=r.scale!==void 0?r.scale:1,h=r.accidentalSlot!==void 0?r.accidentalSlot:[],p=r.shouldExtendStem!==void 0?r.shouldExtendStem:!1,v=r.printAccidentals!==void 0?r.printAccidentals:!0,g=n.verticalPos,b,y=0,x=0,_=0;if(t===void 0)e.addFixed(new kl("pitch is undefined",0,0,0,{type:"debug"}));else if(t==="")b=new kl(null,0,0,g);else{var E=a;if(n.printer_shift){var w=n.printer_shift==="same"?1:0;E=i==="down"?-Ca.getSymbolWidth(t)*f+w:Ca.getSymbolWidth(t)*f-w}var M={scalex:f,scaley:f,thickness:Ca.symbolHeightInPitches(t)*f,name:n.name};if(b=new kl(t,E,Ca.getSymbolWidth(t)*f,g,M),b.stemDir=i,o){var T=g+(i==="down"?-7:7)*f;p&&(i==="down"&&T>6&&(T=6),i==="up"&&T<6&&(T=6));var S=i==="down"?a:a+b.w-.6;e.addRight(new kl(o,S,Ca.getSymbolWidth(o)*f,T,{scalex:f,scaley:f}))}for(x=b.w+c-2+5*u;u>0;u--){var k=1-Math.abs(g)%2;e.addRight(new kl("dots.dot",b.w+c-2+5*u,Ca.getSymbolWidth("dots.dot"),g+k))}}if(b&&(b.highestVert=n.highestVert),v&&n.accidental){var L;switch(n.accidental){case"quartersharp":L="accidentals.halfsharp";break;case"dblsharp":L="accidentals.dblsharp";break;case"sharp":L="accidentals.sharp";break;case"quarterflat":L="accidentals.halfflat";break;case"flat":L="accidentals.flat";break;case"dblflat":L="accidentals.dblflat";break;case"natural":L="accidentals.nat"}for(var B=!1,H=s,D=0;D<h.length;D++)if(g-h[D][0]>=6){h[D][0]=g,H=h[D][1],B=!0;break}B===!1&&(H-=Ca.getSymbolWidth(L)*f+2,h.push([g,H]),y=Ca.getSymbolWidth(L)*f+2);var R=Ca.symbolHeightInPitches(L);e.addExtra(new kl(L,H,Ca.getSymbolWidth(L),g,{scalex:f,scaley:f,top:g+R/2,bottom:g-R/2})),_=Ca.getSymbolWidth(L)/2}return{notehead:b,accidentalshiftx:y,dotshiftx:x,extraLeft:_}},Yie=Gie,Xie=Ec,lr=Ko,Xa=hs,Jie=function(e,t){e.el_type="timeSignature";var n=new Xie(e,0,10,"staff-extra time-signature",t);if(e.type==="specified")for(var r=0,i=0;i<e.value.length;i++)if(i!==0&&(n.addRight(new Xa("+",r+1,lr.getSymbolWidth("+"),6,{thickness:lr.symbolHeightInPitches("+")})),r+=lr.getSymbolWidth("+")+2),e.value[i].den){for(var a=0,s=0;s<e.value[i].num.length;s++)a+=lr.getSymbolWidth(e.value[i].num[s]);var o=0;for(s=0;s<e.value[i].num.length;s++)o+=lr.getSymbolWidth(e.value[i].den[s]);var u=Math.max(a,o);n.addRight(new Xa(e.value[i].num,r+(u-a)/2,a,8,{thickness:lr.symbolHeightInPitches(e.value[i].num[0])})),n.addRight(new Xa(e.value[i].den,r+(u-o)/2,o,4,{thickness:lr.symbolHeightInPitches(e.value[i].den[0])})),r+=u}else{for(var c=0,f=0;f<e.value[i].num.length;f++)c+=lr.getSymbolWidth(e.value[i].num[f]);n.addRight(new Xa(e.value[i].num,r,c,6,{thickness:lr.symbolHeightInPitches(e.value[i].num[0])})),r+=c}else e.type==="common_time"?n.addRight(new Xa("timesig.common",0,lr.getSymbolWidth("timesig.common"),6,{thickness:lr.symbolHeightInPitches("timesig.common")})):e.type==="cut_time"?n.addRight(new Xa("timesig.cut",0,lr.getSymbolWidth("timesig.cut"),6,{thickness:lr.symbolHeightInPitches("timesig.cut")})):e.type==="tempus_imperfectum"?n.addRight(new Xa("timesig.imperfectum",0,lr.getSymbolWidth("timesig.imperfectum"),6,{thickness:lr.symbolHeightInPitches("timesig.imperfectum")})):e.type==="tempus_imperfectum_prolatio"?n.addRight(new Xa("timesig.imperfectum2",0,lr.getSymbolWidth("timesig.imperfectum2"),6,{thickness:lr.symbolHeightInPitches("timesig.imperfectum2")})):e.type==="tempus_perfectum"?n.addRight(new Xa("timesig.perfectum",0,lr.getSymbolWidth("timesig.perfectum"),6,{thickness:lr.symbolHeightInPitches("timesig.perfectum")})):e.type==="tempus_perfectum_prolatio"?n.addRight(new Xa("timesig.perfectum2",0,lr.getSymbolWidth("timesig.perfectum2"),6,{thickness:lr.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",e);return n},Qie=Jie,Zie=function(t,n,r){this.type="DynamicDecoration",this.anchor=t,this.dec=n,r==="below"?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0},eae=Zie,tae=function(t,n,r,i){this.type="CrescendoElem",this.anchor1=t,this.anchor2=n,this.dir=r,i==="above"?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0},nae=tae,rae=function(t,n){this.type="GlissandoElem",this.anchor1=t,this.anchor2=n},iae=rae,fa=function(t){this.type="TieElem",this.anchor1=t.anchor1,this.anchor2=t.anchor2,t.isGrace&&(this.isGrace=!0),t.fixedY&&(this.fixedY=!0),t.stemDir&&(this.stemDir=t.stemDir),t.voiceNumber!==void 0&&(this.voiceNumber=t.voiceNumber),t.style!==void 0&&(this.dotted=!0),this.internalNotes=[]};fa.prototype.addInternalNote=function(e){this.internalNotes.push(e)};fa.prototype.setEndAnchor=function(e){this.anchor2=e,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)};fa.prototype.setStartX=function(e){this.startLimitX=e};fa.prototype.setEndX=function(e){this.endLimitX=e};fa.prototype.setHint=function(){this.hint=!0};fa.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e;this.anchor1?e=this.anchor1.pitch:this.anchor2?e=this.anchor2.pitch:e=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=e>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=e>=6}};fa.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(e=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(e=!0);for(var t=0;t<this.internalNotes.length;t++){var n=this.internalNotes[t];n.stemDir==="down"&&(e=!0)}this.above=e}};fa.prototype.calcX=function(e,t){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=e,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=t};fa.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0};fa.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var e=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,t=(this.anchor2.highestVert+this.anchor2.pitch)/2;this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!e&&t<this.startY?(this.endY=t,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&e?this.anchor2.highestVert:this.anchor2.pitch}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)};fa.prototype.avoidCollisionAbove=function(){if(this.above){for(var e=-50,t=0;t<this.internalNotes.length;t++)this.internalNotes[t].highestVert>e&&(e=this.internalNotes[t].highestVert);e>this.startY&&e>this.endY&&(this.startY=this.endY=e-1)}};var sC=fa,aae=eae,R8=nae,sae=iae,Na=Ko,H0=hs,oae=sC,D3=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},lae=function(e,t,n,r,i,a,s,o){for(var u,c=0;c<t.length;c++){if(t[c]==="staccato"||t[c]==="tenuto"||t[c]==="accent"){var f="scripts."+t[c];if(t[c]==="accent"&&(f="scripts.sforzato"),u===void 0?u=s==="down"?n+2:o-2:u=s==="down"?u+2:u-2,t[c]==="accent")s==="up"?u--:u++;else switch(u){case 2:case 4:case 6:case 8:case 10:s==="up"?u--:u++;break}n>9&&u++;var h=r/2;Na.getSymbolAlign(f)!=="center"&&(h-=Na.getSymbolWidth(f)/2),i.addFixedX(new H0(f,h,Na.getSymbolWidth(f),u))}if(t[c]==="slide"&&i.heads[0]){var p=i.heads[0].pitch;p-=2;var v=new H0("",-a-15,0,p-1),g=new H0("",-a-5,0,p+1);i.addFixedX(v),i.addFixedX(g),e.addOther(new oae({anchor1:v,anchor2:g,fixedY:!0}))}}return u===void 0&&(u=n),{above:u,below:i.bottom}},cae=function(e,t,n,r){for(var i=0;i<t.length;i++)switch(t[i]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var a=new aae(n,t[i],r);e.addOther(a)}},uae=function(e,t,n,r,i){function a(){if(r.heads.length===0)return 10;for(var c=r.heads[0].pitch,f=1;f<r.heads.length;f++)c=Math.max(c,r.heads[f].pitch);return c}function s(){if(r.heads.length===0)return 2;for(var c=r.heads[0].pitch,f=1;f<r.heads.length;f++)c=Math.min(c,r.heads[f].pitch);return c}function o(c,f){var h=i==="down"?s()+1:a()+9;i!=="down"&&f===1&&h--;var p=n/2;p+=i==="down"?-5:3;for(var v=0;v<f;v++)h-=1,r.addFixedX(new H0(c,p,Na.getSymbolWidth(c),h))}for(var u=0;u<e.length;u++)switch(e[u]){case"/":o("flags.ugrace",1);break;case"//":o("flags.ugrace",2);break;case"///":o("flags.ugrace",3);break;case"////":o("flags.ugrace",4);break}},fae=function(e,t,n,r,i,a,s){function o(g,b){g==="above"?r.above+=b:r.below-=b}function u(g){var b;return g==="above"?(b=r.above,b<a&&(b=a)):(b=r.below,b>s&&(b=s)),b}function c(g,b,y){var x=u(b),_=2,E=5;n.addFixedX(new H0(g,t/2,0,x+_,{type:"decoration",klass:"ornament",thickness:3,anchor:y})),o(b,E)}function f(g,b){var y=t/2;Na.getSymbolAlign(g)!=="center"&&(y-=Na.getSymbolWidth(g)/2);var x=Na.symbolHeightInPitches(g)+1,_=u(b);_=b==="above"?_+x/2:_-x/2,n.addFixedX(new H0(g,y,Na.getSymbolWidth(g),_,{klass:"ornament",thickness:Na.symbolHeightInPitches(g)})),o(b,x)}for(var h={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},p=!1,v=0;v<e.length;v++)switch(e[v]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":c(e[v],i,"middle"),p=!0;break;case"D.C.alcoda":c("D.C. al coda",i,"end"),p=!0;break;case"D.C.alfine":c("D.C. al fine",i,"end"),p=!0;break;case"D.S.alcoda":c("D.S. al coda",i,"end"),p=!0;break;case"D.S.alfine":c("D.S. al fine",i,"end"),p=!0;break;case"fine":c("FINE",i,"middle"),p=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":f(h[e[v]],i),p=!0;break;case"invertedfermata":f(h[e[v]],"below"),p=!0;break;case"mark":n.klass="mark";break}return p};function dae(e,t,n){for(var r=0;r<e.length;r++)switch(e[r]){case"arpeggio":for(var i=t.abcelem.minpitch-1;i<=t.abcelem.maxpitch;i+=2)t.addExtra(new H0("scripts.arpeggio",-Na.getSymbolWidth("scripts.arpeggio")*2-n,0,i+2,{klass:"ornament",thickness:Na.symbolHeightInPitches("scripts.arpeggio")}));break}}D3.prototype.dynamicDecoration=function(e,t,n,r){for(var i,a,s,o=0;o<t.length;o++)switch(t[o]){case"diminuendo(":this.startDiminuendoX=n,i=void 0;break;case"diminuendo)":i={start:this.startDiminuendoX,stop:n},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=n,a=void 0;break;case"crescendo)":a={start:this.startCrescendoX,stop:n},this.startCrescendoX=void 0;break;case"glissando(":this.startGlissandoX=n,s=void 0;break;case"glissando)":s={start:this.startGlissandoX,stop:n},this.startGlissandoX=void 0;break}i&&e.addOther(new R8(i.start,i.stop,">",r)),a&&e.addOther(new R8(a.start,a.stop,"<",r)),s&&e.addOther(new sae(s.start,s.stop))};D3.prototype.createDecoration=function(e,t,n,r,i,a,s,o,u,c){u||(u={ornamentPosition:"above",volumePosition:c?"above":"below",dynamicPosition:c?"above":"below"}),cae(e,t,i,u.volumePosition),this.dynamicDecoration(e,t,i,u.dynamicPosition),uae(t,n,r,i,s);var f=lae(e,t,n,r,i,a,s,o);f.above=Math.max(f.above,this.minTop),fae(t,r,i,f,u.ornamentPosition,this.minTop,this.minBottom),dae(t,i,a)};var hae=D3,pae=function(t,n,r){this.type="EndingElem",this.text=t,this.anchor1=n,this.anchor2=r,this.endingHeightAbove=5,this.pitch=void 0},gae=pae,vae=function(e){for(var t=0,n=0;n<e.voices.length;n++){var r=e.voices[n].staff;e.voices[n].duplicate||(t+=r.top,t+=-r.bottom)}return t},mae=vae,bae=mae,Pc=function(e){this.getTextSize=e,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};Pc.prototype.setLimit=function(e,t){t.specialY[e]&&(t.staff.specialY[e]?t.staff.specialY[e]=Math.max(t.staff.specialY[e],t.specialY[e]):t.staff.specialY[e]=t.specialY[e])};Pc.prototype.addVoice=function(e,t,n){var r=this.voices.length;this.voices[r]=e,this.staffs[t]?this.staffs[t].voices.push(r):this.staffs[this.staffs.length]={top:10,bottom:2,lines:n,voices:[r],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},e.staff=this.staffs[t]};Pc.prototype.setHeight=function(){this.height=bae(this)};Pc.prototype.setWidth=function(e){this.w=e;for(var t=0;t<this.voices.length;t++)this.voices[t].setWidth(e)};Pc.prototype.setStaffLimits=function(e){e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};var yae=Pc,wae=Ec,_ae=hs,H3=function(t,n,r){this.type="TempoElement",this.tempo=t,this.tempo.type="tempo",this.tuneNumber=n,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(r,t,n))};H3.prototype.setX=function(e){this.x=e};H3.prototype.createNote=function(e,t,n){var r=.75,i=t.duration[0],a=new wae(t,i,1,"tempo",n),s,o,u;i<=1/32?(u="noteheads.quarter",o="flags.u32nd",s=0):i<=1/16?(u="noteheads.quarter",o="flags.u16th",s=0):i<=3/32?(u="noteheads.quarter",o="flags.u16nd",s=1):i<=1/8?(u="noteheads.quarter",o="flags.u8th",s=0):i<=3/16?(u="noteheads.quarter",o="flags.u8th",s=1):i<=1/4?(u="noteheads.quarter",s=0):i<=3/8?(u="noteheads.quarter",s=1):i<=1/2?(u="noteheads.half",s=0):i<=3/4?(u="noteheads.half",s=1):i<=1?(u="noteheads.whole",s=0):i<=1.5?(u="noteheads.whole",s=1):i<=2?(u="noteheads.dbl",s=0):(u="noteheads.dbl",s=1);var c=e(a,u,{verticalPos:0},{dir:"up",flag:o,dot:s,scale:r}),f=c.notehead;a.addHead(f);var h;if(u!=="noteheads.whole"&&u!=="noteheads.dbl"){var p=.3333333333333333*r,v=5*r,g=f.dx+f.w,b=-.6;h=new _ae(null,g,0,p,{type:"stem",pitch2:v,linewidth:b}),a.addRight(h)}return a};var xae=H3,bp=function(t,n,r){this.type="TripletElem",this.anchor1=n,this.number=t,this.durationClass=("d"+Math.round(n.parent.durationClass*1e3)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=r.flatBeams};bp.prototype.isClosed=function(){return!!this.anchor2};bp.prototype.middleNote=function(e){this.middleElems.push(e)};bp.prototype.setCloseAnchor=function(e){this.anchor2=e,(!this.anchor1.parent.beam||this.anchor1.stemDir==="up")&&(this.endingHeightAbove=4)};var Mae=bp;function F8(e){switch(e){case"B#":return"H#";case"B":return"H";case"B":return"H";case"Bb":return"B";case"B":return"B"}return e}function Cae(e,t,n){var r=e.split(`
`);for(let i=0;i<r.length;i++){let s=r[i].match(/^([ABCDEFG][]?)?([^\/]+)?(\/([ABCDEFG][#b]?))?/);if(!s)continue;let o=s[1]||"",u=s[2]||"",c=s[4]||"";n&&(o=F8(o),c=F8(c));const f=t?"":"",h=c?"/"+c:"";r[i]=[o,u,h].join(f)}return r.join(`
`)}var Tae=Cae,Ol=hs,cv=xi;const Eae=Tae;var Sae=function(e,t,n,r,i,a,s,o){for(var u=0;u<n.chord.length;u++)for(var c=n.chord[u].position,f=n.chord[u].rel_position,h=n.chord[u].name.split(`
`),p=h.length-1;p>=0;p--){var v=h[p],g=0,b,y,x;c==="left"||c==="right"||c==="below"||c==="above"||f?(y="annotationfont",x="annotation"):(y="gchordfont",x="chord",v=Eae(v,s,o));var _=e.attr(y,x),E=e.calc(v,y,x),w=E.width,M=E.height/cv.STEP;switch(c){case"left":r+=w+7,g=-r,b=n.averagepitch,t.addExtra(new Ol(v,g,w+4,b,{type:"text",height:M,dim:_,position:"left"}));break;case"right":i+=4,g=i,b=n.averagepitch,t.addRight(new Ol(v,g,w+4,b,{type:"text",height:M,dim:_,position:"right"}));break;case"below":t.addRight(new Ol(v,0,0,void 0,{type:"text",position:"below",height:M,dim:_,realWidth:w}));break;case"above":t.addRight(new Ol(v,0,0,void 0,{type:"text",position:"above",height:M,dim:_,realWidth:w}));break;default:if(f){var T=f.y+3*cv.STEP;t.addRight(new Ol(v,g+f.x,0,n.minpitch+T/cv.STEP,{position:"relative",type:"text",height:M,dim:_}))}else{var S="above";n.positioning&&n.positioning.chordPosition&&(S=n.positioning.chordPosition),S!=="hidden"&&t.addCentered(new Ol(v,a/2,w,void 0,{type:"chord",position:S,height:M,dim:_,realWidth:w}))}}}return{roomTaken:r,roomTakenRight:i}},Pae=Sae,Xl=Ec,oC=Bie,D8=$ie,lC=Uie,cC=Kie,Wf=Yie,uC=Qie,Aae=hae,fC=gae,Zu=Ko,cr=hs,jf=xi,kae=yae,dC=xae,Jl=sC,Oae=Mae,Nae=WM,hC=Pae,Iae=FM,ko=_i,Bm=function(e){var t=0;return e.duration&&(t=e.duration),t},Ia=!1,Aa={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},ur=function(e,t,n){this.decoration=new Aae,this.getTextSize=e,this.tuneNumber=t,this.isBagpipes=n.bagpipes,this.flatBeams=n.flatbeams,this.graceSlurs=n.graceSlurs,this.percmap=n.percmap,this.initialClef=n.initialClef,this.jazzchords=!!n.jazzchords,this.germanAlphabet=!!n.germanAlphabet,this.reset()};ur.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0};ur.prototype.setStemHeight=function(e){this.stemHeight=Math.round(e*10/jf.STEP)/10};ur.prototype.getCurrentVoiceId=function(e,t){return"s"+e+"v"+t};ur.prototype.pushCrossLineElems=function(e,t){this.slursbyvoice[this.getCurrentVoiceId(e,t)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(e,t)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(e,t)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(e,t)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(e,t)]=this.voiceColor)};ur.prototype.popCrossLineElems=function(e,t){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(e,t)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(e,t)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(e,t)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(e,t)],this.voiceScale===void 0&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(e,t)]};ur.prototype.containsLyrics=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].voices.length;n++)for(var r=0;r<e[t].voices[n].length;r++){var i=e[t].voices[n][r];if(i.lyric){(!i.positioning||i.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}};ur.prototype.createABCLine=function(e,t,n){this.minY=2,this.containsLyrics(e);var r=new kae(this.getTextSize);this.tempoSet=!1;for(var i=0;i<e.length;i++)Ia&&this.restoreState(),Ia=!1,this.createABCStaff(r,e[i],t,i,n);return r};ur.prototype.createABCStaff=function(e,t,n,r,i){e.getTextSize.updateFonts(t);for(var a=0;a<t.voices.length;a++){var s=new Nae(a,t.voices.length);a===0?(s.barfrom=t.connectBarLines==="start"||t.connectBarLines==="continue",s.barto=t.connectBarLines==="continue"||t.connectBarLines==="end"):s.duplicate=!0,t.title&&t.title[a]&&(s.header=t.title[a].replace(/\\n/g,`
`),s.headerPosition=6+e.getTextSize.baselineToCenter(s.header,"voicefont","staff-extra voice-name",a,t.voices.length)/jf.STEP),t.clef&&t.clef.type==="perc"&&(s.isPercussion=!0);var o=(!this.initialClef||i===0)&&lC(t.clef,this.tuneNumber);o&&(a===0&&t.barNumber&&this.addMeasureNumber(t.barNumber,o),s.addChild(o),this.startlimitelem=o);var u=cC(t.key,this.tuneNumber);if(u&&(s.addChild(u),this.startlimitelem=u),t.meter){t.meter.type==="specified"?this.measureLength=t.meter.value[0].num/t.meter.value[0].den:this.measureLength=1;var c=uC(t.meter,this.tuneNumber);s.addChild(c),this.startlimitelem=c}s.duplicate&&(s.children=[]);var f=t.clef.stafflines||t.clef.stafflines===0?t.clef.stafflines:5;e.addVoice(s,r,f);var h=f===1;this.createABCVoice(t.voices[a],n,r,a,h,s),e.setStaffLimits(s),a===0&&(t.brace==="start"||!e.brace&&t.brace?(e.brace||(e.brace=[]),e.brace.push(new D8(s,"brace"))):t.brace==="end"&&e.brace?e.brace[e.brace.length-1].setBottomStaff(s):t.brace==="continue"&&e.brace&&e.brace[e.brace.length-1].continuing(s),t.bracket==="start"||!e.bracket&&t.bracket?(e.bracket||(e.bracket=[]),e.bracket.push(new D8(s,"bracket"))):t.bracket==="end"&&e.bracket?e.bracket[e.bracket.length-1].setBottomStaff(s):t.bracket==="continue"&&e.bracket&&e.bracket[e.bracket.length-1].continuing(s))}};function Lae(e,t){var n=e[t];if(n.el_type!=="note"||!n.startBeam||n.endBeam)return{count:1,elem:n};for(var r=[];t<e.length&&e[t].el_type==="note"&&(r.push(e[t]),!e[t].endBeam);)t++;return{count:r.length,elem:r}}ur.prototype.createABCVoice=function(e,t,n,r,i,a){this.popCrossLineElems(n,r),this.stemdir=this.isBagpipes?"down":null,this.abcline=e,this.partstartelem&&(this.partstartelem=new fC("",null,null),a.addOther(this.partstartelem));var s=a.voicetotal<2?-1:a.voicenumber;for(var o in this.slurs)this.slurs.hasOwnProperty(o)&&(this.slurs[o]=new Jl({force:this.slurs[o].force,voiceNumber:s,stemDir:this.slurs[o].stemDir,style:this.slurs[o].dotted}),Ia&&this.slurs[o].setHint(),a.addOther(this.slurs[o]));for(var u=0;u<this.ties.length;u++)this.ties[u]=new Jl({force:this.ties[u].force,stemDir:this.ties[u].stemDir,voiceNumber:s,style:this.ties[u].dotted}),Ia&&this.ties[u].setHint(),a.addOther(this.ties[u]);for(var c=0;c<this.abcline.length;c++)Bae(this.abcline[c]),this.minY=Math.min(this.abcline[c].minpitch,this.minY);for(var f=n===0,h=0;h<this.abcline.length;){var p=Lae(this.abcline,h),v=this.createABCElement(f,i,a,p.elem);if(v)for(u=0;u<v.length;u++){if(!this.tempoSet&&t&&!t.suppress){this.tempoSet=!0;var g=new Xl(t,0,0,"tempo",this.tuneNumber,{});g.addFixedX(new dC(t,this.tuneNumber,Wf)),a.addChild(g)}a.addChild(v[u])}h+=p.count}this.pushCrossLineElems(n,r)};ur.prototype.saveState=function(){this.tiesSave=ko.cloneArray(this.ties),this.slursSave=ko.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=ko.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=ko.cloneHashOfArrayOfHash(this.tiesbyvoice)};ur.prototype.restoreState=function(){this.ties=ko.cloneArray(this.tiesSave),this.slurs=ko.cloneHashOfHash(this.slursSave),this.slursbyvoice=ko.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=ko.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)};ur.prototype.createABCElement=function(e,t,n,r){var i=[];switch(r.el_type){case void 0:i=this.createBeam(t,n,r);break;case"note":i[0]=this.createNote(r,!1,t,n),this.triplet&&this.triplet.isClosed()&&(n.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":i[0]=this.createBarLine(n,r,e),n.duplicate&&i.length>0&&(i[0].invisible=!0);break;case"meter":i[0]=uC(r,this.tuneNumber),this.startlimitelem=i[0],n.duplicate&&i.length>0&&(i[0].invisible=!0);break;case"clef":if(i[0]=lC(r,this.tuneNumber),!i[0])return null;n.duplicate&&i.length>0&&(i[0].invisible=!0);break;case"key":var a=cC(r,this.tuneNumber);a&&(i[0]=a,this.startlimitelem=i[0]),n.duplicate&&i.length>0&&(i[0].invisible=!0);break;case"stem":this.stemdir=r.direction==="auto"?void 0:r.direction;break;case"part":var s=new Xl(r,0,0,"part",this.tuneNumber),o=this.getTextSize.calc(r.title,"partsfont","part");s.addFixedX(new cr(r.title,0,0,void 0,{type:"part",height:o.height/jf.STEP})),i[0]=s;break;case"tempo":var u=new Xl(r,0,0,"tempo",this.tuneNumber);u.addFixedX(new dC(r,this.tuneNumber,Wf)),i[0]=u;break;case"style":r.head==="normal"?delete this.style:this.style=r.head;break;case"hint":Ia=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=r.size;break;case"color":this.voiceColor=r.color,n.color=this.voiceColor;break;default:var c=new Xl(r,0,0,"unsupported",this.tuneNumber);c.addFixed(new cr("element type "+r.el_type,0,0,void 0,{type:"debug"})),i[0]=c}return i};function Bae(e){if(e.pitches){$ae(e);for(var t=0,n=0;n<e.pitches.length;n++)t+=e.pitches[n].verticalPos;e.averagepitch=t/e.pitches.length,e.minpitch=e.pitches[0].verticalPos,e.maxpitch=e.pitches[e.pitches.length-1].verticalPos}}ur.prototype.createBeam=function(e,t,n){var r=[],i=new oC(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,n[0]);Ia&&i.setHint();for(var a=0;a<n.length;a++)i.runningDirection(n[a]);i.setStemDirection();var s=this.stemdir;for(this.stemdir=i.stemsUp?"up":"down",a=0;a<n.length;a++){var o=n[a],u=this.createNote(o,!0,e,t);r.push(u),i.add(u),this.triplet&&this.triplet.isClosed()&&(t.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return i.calcDir(),t.addBeam(i),this.stemdir=s,r};var $ae=function(e){var t;do{t=!0;for(var n=0;n<e.pitches.length-1;n++)if(e.pitches[n].pitch>e.pitches[n+1].pitch){t=!1;var r=e.pitches[n];e.pitches[n]=e.pitches[n+1],e.pitches[n+1]=r}}while(!t)},pC=function(e,t,n,r,i,a,s,o,u){for(var c=n;c>11;c--)c%2===0&&!r&&e.addFixed(new cr(null,o,(i+4)*u,c,{type:"ledger"}));for(c=t;c<1;c++)c%2===0&&!r&&e.addFixed(new cr(null,o,(i+4)*u,c,{type:"ledger"}));for(c=0;c<a.length;c++){var f=i;s==="down"&&(f=-f),e.addFixed(new cr(null,f+o,(i+4)*u,a[c],{type:"ledger"}))}};ur.prototype.addGraceNotes=function(e,t,n,r,i,a,s){var o=.6,u=3.5/5;i=Math.round(i*u);var c=null,f;e.gracenotes.length>1&&(c=new oC(i,"grace",a),Ia&&c.setHint(),c.mainNote=n);var h,p=[];for(h=e.gracenotes.length-1;h>=0;h--)s+=10,p[h]=s,e.gracenotes[h].accidental&&(s+=7);for(h=0;h<e.gracenotes.length;h++){var v=e.gracenotes[h].verticalPos;f=c?null:Aa.uflags[a?5:3];var g=[],b=Wf(n,"noteheads.quarter",e.gracenotes[h],{dir:"up",headx:-p[h],extrax:-p[h],flag:f,scale:o*this.voiceScale,accidentalSlot:g});b.notehead.highestVert=b.notehead.pitch+i;var y=b.notehead;if(this.addSlursAndTies(n,e.gracenotes[h],y,t,"up",!0),n.addExtra(y),e.gracenotes[h].acciaccatura){var x=e.gracenotes[h].verticalPos+7*o,_=c?5:6;n.addRight(new cr("flags.ugrace",-p[h]+_,0,x,{scalex:o,scaley:o}))}if(c){var E=e.gracenotes[h].duration/2;a&&(E/=2);var w={heads:[y],abcelem:{averagepitch:v,minpitch:v,maxpitch:v,duration:E}};c.add(w)}else{var M=v+.3333333333333333*o,T=v+7*o,S=y.dx+y.w,k=-.6;n.addExtra(new cr(null,S,0,M,{type:"stem",pitch2:T,linewidth:k}))}pC(n,v,v,!1,Zu.getSymbolWidth("noteheads.quarter"),[],!0,y.dx-1,.6);var L=e.rest&&(e.rest.type==="spacer"||e.rest.type==="invisible");h===0&&!a&&this.graceSlurs&&!L&&t.addOther(new Jl({anchor1:y,anchor2:r,isGrace:!0}))}return c&&(c.calcDir(),t.addBeam(c)),s};function Rae(e,t,n,r,i,a,s,o,u){var c,f=7,h,p,v;switch(i&&(a==="down"&&(f=3),a==="up"&&(f=11)),s&&(n<.5||n<1?f=7:f=5),t.rest.type){case"whole":c=Aa.rest[0],t.averagepitch=f,t.minpitch=f,t.maxpitch=f,r=0;break;case"rest":t.style==="rhythm"?c=Aa.rhythm[-o]:c=Aa.rest[-o],t.averagepitch=f,t.minpitch=f,t.maxpitch=f;break;case"invisible":case"invisible-multimeasure":case"spacer":c="",t.averagepitch=f,t.minpitch=f,t.maxpitch=f;break;case"multimeasure":c=Aa.rest.multi,t.averagepitch=f,t.minpitch=f,t.maxpitch=f,r=0;var g=Zu.getSymbolWidth(c);e.addHead(new cr(c,g,g*2,7));var b=new cr(""+t.rest.text,g,g,16,{type:"multimeasure-text"});e.addExtra(b)}if(t.rest.type.indexOf("multimeasure")<0&&t.rest.type!=="invisible"){var y=Wf(e,c,{verticalPos:f},{dot:r,scale:u});h=y.notehead,h&&(e.addHead(h),p=y.accidentalshiftx,v=y.dotshiftx)}return{noteHead:h,roomTaken:p,roomTakenRight:v}}function H8(e,t){for(var n=0;n<e.length;n++)if(JSON.stringify(e[n])===JSON.stringify(t))return;e.push(t)}ur.prototype.addNoteToAbcElement=function(e,t,n,r,i,a,s,o,u){var c=0,f,h=0,p=0,v,g,b=[],y=[],x=0,_=t.averagepitch>=6?"down":"up";r&&(_=r),i=t.style?t.style:i,(!i||i==="normal")&&(i="note");var E;a?E=Aa[i].nostem:E=Aa[i][-s],E||console.log("noteSymbol:",i,s,a);var w;for(w=_==="down"?t.pitches.length-2:1;_==="down"?w>=0:w<t.pitches.length;w=_==="down"?w-1:w+1){var M=t.pitches[_==="down"?w+1:w-1],T=t.pitches[w],S=_==="down"?M.pitch-T.pitch:T.pitch-M.pitch;S<=1&&!M.printer_shift&&(T.printer_shift=S?"different":"same",(T.verticalPos>11||T.verticalPos<1)&&b.push(T.verticalPos-T.verticalPos%2),_==="down"?h=Zu.getSymbolWidth(E)+2:c=Zu.getSymbolWidth(E)+2)}var k=t.pitches.length;for(w=0;w<t.pitches.length;w++){if(!o){var L;_==="down"&&w!==0||_==="up"&&w!==k-1?L=null:L=Aa[_==="down"?"dflags":"uflags"][-s]}var B;if(t.pitches[w].style)B=Aa[t.pitches[w].style][-s];else if(u.isPercussion&&this.percmap){B=E;var H=this.percmap[Iae(t.pitches[w])];H&&H.noteHead&&Aa[H.noteHead]&&(B=Aa[H.noteHead][-s])}else B=E;t.pitches[w].highestVert=t.pitches[w].verticalPos;var D=(r==="up"||_==="up")&&w===0,R=(r==="down"||_==="down")&&w===k-1;if(D||R){if((t.startSlur||k===1)&&(t.pitches[w].highestVert=t.pitches[k-1].verticalPos,Bm(t)<1&&(r==="up"||_==="up")&&(t.pitches[w].highestVert+=6)),t.startSlur)for(t.pitches[w].startSlur||(t.pitches[w].startSlur=[]),g=0;g<t.startSlur.length;g++)H8(t.pitches[w].startSlur,t.startSlur[g]);if(t.endSlur)for(t.pitches[w].highestVert=t.pitches[k-1].verticalPos,Bm(t)<1&&(r==="up"||_==="up")&&(t.pitches[w].highestVert+=6),t.pitches[w].endSlur||(t.pitches[w].endSlur=[]),g=0;g<t.endSlur.length;g++)H8(t.pitches[w].endSlur,t.endSlur[g])}var z=!o&&s<=-1,j=Wf(e,B,t.pitches[w],{dir:_,extrax:-h,flag:L,dot:n,dotshiftx:c,scale:this.voiceScale,accidentalSlot:y,shouldExtendStem:!r,printAccidentals:!u.isPercussion});x=Math.max(Zu.getSymbolWidth(B),x),e.extraw-=j.extraLeft,f=j.notehead,f&&(this.addSlursAndTies(e,t.pitches[w],f,u,z?_:null,!1),t.gracenotes&&t.gracenotes.length>0&&(f.bottom=f.bottom-1),e.addHead(f)),h+=j.accidentalshiftx,p=Math.max(p,j.dotshiftx)}if(z){var I=Math.round(70*this.voiceScale)/10,N=_==="down"?t.minpitch-I:t.minpitch+1/3;N>6&&!r&&(N=6);var U=_==="down"?t.maxpitch-1/3:t.maxpitch+I;U<6&&!r&&(U=6);var Y=_==="down"||e.heads.length===0?0:e.heads[0].w,Z=_==="down"?1:-1;f&&f.c==="noteheads.slash.quarter"&&(_==="down"?U-=1:N+=1),e.addRight(new cr(null,Y,0,N,{type:"stem",pitch2:U,linewidth:Z,bottom:N-1})),v=Math.min(N,U)}return{noteHead:f,roomTaken:h,roomTakenRight:p,min:v,additionalLedgers:b,dir:_,symbolWidth:x}};ur.prototype.addLyric=function(e,t){var n="";t.lyric.forEach(function(a){var s=a.divider===" "?"":a.divider;n+=a.syllable+s+`
`});var r=this.getTextSize.calc(n,"vocalfont","lyric"),i=t.positioning?t.positioning.vocalPosition:"below";e.addCentered(new cr(n,0,r.width,void 0,{type:"lyric",position:i,height:r.height/jf.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))};ur.prototype.createNote=function(e,t,n,r){var i=null,a=0,s=0,o=0,u=[],c,f=Bm(e),h=!1;f===0&&(h=!0,f=.25,t=!0);for(var p=Math.floor(Math.log(f)/Math.log(2)),v=0,g=Math.pow(2,p),b=g/2;g<f;v++,g+=b,b/=2);e.startTriplet&&(this.tripletmultiplier=e.tripletMultiplier);var y=f*this.tripletmultiplier;e.rest&&e.rest.type==="multimeasure"&&(y=1),e.rest&&e.rest.type==="invisible-multimeasure"&&(y=this.measureLength*e.rest.text);var x=e.rest?"rest":"note",_=new Xl(e,y,1,x,this.tuneNumber,{durationClassOveride:e.duration*this.tripletmultiplier});if(Ia&&_.setHint(),e.rest){this.measureLength===f&&e.rest.type!=="invisible"&&e.rest.type!=="spacer"&&e.rest.type.indexOf("multimeasure")<0&&(e.rest.type="whole");var E=Rae(_,e,f,v,r.voicetotal>1,this.stemdir,n,p,this.voiceScale);i=E.noteHead,a=E.roomTaken,s=E.roomTakenRight}else{var w=this.addNoteToAbcElement(_,e,v,this.stemdir,this.style,h,p,t,r);w.min!==void 0&&(this.minY=Math.min(w.min,this.minY)),i=w.noteHead,a=w.roomTaken,s=w.roomTakenRight,u=w.additionalLedgers,c=w.dir,o=w.symbolWidth}if(e.lyric!==void 0&&this.addLyric(_,e),e.gracenotes!==void 0&&(a+=this.addGraceNotes(e,r,_,i,this.stemHeight*this.voiceScale,this.isBagpipes,a)),e.decoration&&this.decoration.createDecoration(r,e.decoration,_.top,i?i.w:0,_,a,c,_.bottom,e.positioning,this.hasVocals),e.barNumber&&_.addFixed(new cr(e.barNumber,-10,0,0,{type:"barNumber"})),pC(_,e.minpitch,e.maxpitch,e.rest,o,u,c,-2,1),e.chord!==void 0){var M=hC(this.getTextSize,_,e,a,s,o,this.jazzchords,this.germanAlphabet);a=M.roomTaken,s=M.roomTakenRight}return e.startTriplet&&(this.triplet=new Oae(e.startTriplet,i,{flatBeams:this.flatBeams})),e.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(i),this.triplet&&!e.startTriplet&&!e.endTriplet&&!(e.rest&&e.rest.type==="spacer")&&this.triplet.middleNote(i),_};ur.prototype.addSlursAndTies=function(e,t,n,r,i,a){if(t.endTie&&this.ties.length>0){for(var s=!1,o=0;o<this.ties.length;o++)if(this.ties[o].anchor1&&this.ties[o].anchor1.pitch===n.pitch){this.ties[o].setEndAnchor(n),r.setRange(this.ties[o]),this.ties.splice(o,1),s=!0;break}s||(this.ties[0].setEndAnchor(n),r.setRange(this.ties[0]),this.ties.splice(0,1))}var u=r.voicetotal<2?-1:r.voicenumber;if(t.startTie){var c=new Jl({anchor1:n,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:a,voiceNumber:u,style:t.startTie.style});Ia&&c.setHint(),this.ties[this.ties.length]=c,r.addOther(c),e.startTie=!0}var f,h;if(t.endSlur)for(var p=0;p<t.endSlur.length;p++)h=t.endSlur[p],this.slurs[h]?(f=this.slurs[h],f.setEndAnchor(n),r.setRange(f),delete this.slurs[h]):(f=new Jl({anchor2:n,stemDir:this.stemdir,voiceNumber:u}),Ia&&f.setHint(),r.addOther(f)),this.startlimitelem&&f.setStartX(this.startlimitelem);else if(!a)for(var v in this.slurs)this.slurs.hasOwnProperty(v)&&this.slurs[v].addInternalNote(n);if(t.startSlur)for(p=0;p<t.startSlur.length;p++)h=t.startSlur[p].label,f=new Jl({anchor1:n,stemDir:this.stemdir,voiceNumber:u,style:t.startSlur[p].style}),Ia&&f.setHint(),this.slurs[h]=f,r.addOther(f)};ur.prototype.addMeasureNumber=function(e,t){var n=this.getTextSize.calc(e,"measurefont","bar-number"),r=0;t.isClef&&(r+=n.width/2);var i=n.width>10&&t.abcelem.type==="treble"?13:11;t.addFixed(new cr(e,r,n.width,i+n.height/jf.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))};ur.prototype.createBarLine=function(e,t,n){var r=new Xl(t,0,10,"bar",this.tuneNumber),i=null,a=0;t.barNumber&&this.addMeasureNumber(t.barNumber,r);var s=t.type==="bar_right_repeat"||t.type==="bar_dbl_repeat",o=t.type!=="bar_left_repeat"&&t.type!=="bar_thick_thin"&&t.type!=="bar_invisible",u=t.type==="bar_right_repeat"||t.type==="bar_dbl_repeat"||t.type==="bar_left_repeat"||t.type==="bar_thin_thick"||t.type==="bar_thick_thin",c=t.type==="bar_left_repeat"||t.type==="bar_thick_thin"||t.type==="bar_thin_thin"||t.type==="bar_dbl_repeat",f=t.type==="bar_left_repeat"||t.type==="bar_dbl_repeat";if(s||f){for(var h in this.slurs)this.slurs.hasOwnProperty(h)&&this.slurs[h].setEndX(r);this.startlimitelem=r}if(s&&(r.addRight(new cr("dots.dot",a,1,7)),r.addRight(new cr("dots.dot",a,1,5)),a+=6),o&&(i=new cr(null,a,1,2,{type:"bar",pitch2:10,linewidth:.6}),r.addRight(i)),t.type==="bar_invisible"&&(i=new cr(null,a,1,2,{type:"none",pitch2:10,linewidth:.6}),r.addRight(i)),t.decoration&&this.decoration.createDecoration(e,t.decoration,12,u?3:1,r,0,"down",2,t.positioning,this.hasVocals),u&&(a+=4,i=new cr(null,a,4,2,{type:"bar",pitch2:10,linewidth:4}),r.addRight(i),a+=5),this.partstartelem&&t.endEnding&&(this.partstartelem.anchor2=i,this.partstartelem=null),c&&(a+=3,i=new cr(null,a,1,2,{type:"bar",pitch2:10,linewidth:.6}),r.addRight(i)),f&&(a+=3,r.addRight(new cr("dots.dot",a,1,7)),r.addRight(new cr("dots.dot",a,1,5))),t.startEnding&&n){var p=this.getTextSize.calc(t.startEnding,"repeatfont","").width;r.minspacing+=p+10,this.partstartelem=new fC(t.startEnding,i,null),e.addOther(this.partstartelem)}return r.extraw-=5,t.chord!==void 0&&hC(this.getTextSize,r,t,0,0,0,!1,this.germanAlphabet),r};var Fae=ur,na="http://www.w3.org/2000/svg";function zn(e){this.svg=z3(),this.currentGroup=[],e.appendChild(this.svg)}zn.prototype.clear=function(){if(this.svg){var e=this.svg.parentNode;this.svg=z3(),this.currentGroup=[],e&&(e.innerHTML="",e.appendChild(this.svg))}};zn.prototype.setTitle=function(e){var t=document.createElement("title"),n=document.createTextNode(e);t.appendChild(n),this.svg.insertBefore(t,this.svg.firstChild)};zn.prototype.setResponsiveWidth=function(e,t){if(this.svg.setAttribute("viewBox","0 0 "+e+" "+t),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var n=this.svg.parentNode.getAttribute("class");n?n.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",n+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var r=t/e*100;this.svg.parentNode.style["padding-bottom"]=r+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}};zn.prototype.setSize=function(e,t){this.svg.setAttribute("width",e),this.svg.setAttribute("height",t)};zn.prototype.setAttribute=function(e,t){this.svg.setAttribute(e,t)};zn.prototype.setScale=function(e){e!==1?(this.svg.style.transform="scale("+e+","+e+")",this.svg.style["-ms-transform"]="scale("+e+","+e+")",this.svg.style["-webkit-transform"]="scale("+e+","+e+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")};zn.prototype.insertStyles=function(e){var t=document.createElementNS(na,"style");t.textContent=e,this.svg.insertBefore(t,this.svg.firstChild)};zn.prototype.setParentStyles=function(e){for(var t in e)e.hasOwnProperty(t)&&this.svg.parentNode&&(this.svg.parentNode.style[t]=e[t]);if(this.dummySvg){var n=document.querySelector("body");n.removeChild(this.dummySvg),this.dummySvg=null}};function z8(e,t,n){var r=n-e;return"M "+e+" "+t+" l "+r+" 0 l 0 1  l "+-r+" 0  z "}function V8(e,t,n){var r=n-t;return"M "+e+" "+t+" l 0 "+r+" l 1 0  l 0 "+-r+"  z "}zn.prototype.rect=function(e){var t=[],n=e.x,r=e.y,i=e.x+e.width,a=e.y+e.height;return t.push(z8(n,r,i)),t.push(z8(n,a,i)),t.push(V8(i,r,a)),t.push(V8(n,a,r)),this.path({path:t.join(" "),stroke:"none","data-name":e["data-name"]})};zn.prototype.dottedLine=function(e){var t=document.createElementNS(na,"line");t.setAttribute("x1",e.x1),t.setAttribute("x2",e.x2),t.setAttribute("y1",e.y1),t.setAttribute("y2",e.y2),t.setAttribute("stroke",e.stroke),t.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(t,this.svg.firstChild)};zn.prototype.rectBeneath=function(e){var t=document.createElementNS(na,"rect");t.setAttribute("x",e.x),t.setAttribute("width",e.width),t.setAttribute("y",e.y),t.setAttribute("height",e.height),e.stroke&&t.setAttribute("stroke",e.stroke),e["stroke-opacity"]&&t.setAttribute("stroke-opacity",e["stroke-opacity"]),e.fill&&t.setAttribute("fill",e.fill),e["fill-opacity"]&&t.setAttribute("fill-opacity",e["fill-opacity"]),this.svg.insertBefore(t,this.svg.firstChild)};zn.prototype.text=function(e,t,n){var r=document.createElementNS(na,"text");r.setAttribute("stroke","none");for(var i in t)t.hasOwnProperty(i)&&r.setAttribute(i,t[i]);for(var a=(""+e).split(`
`),s=0;s<a.length;s++){var o=document.createElementNS(na,"tspan");if(o.setAttribute("x",t.x?t.x:0),s!==0&&o.setAttribute("dy","1.2em"),a[s].indexOf("")!==-1){var u=a[s].split("");if(o.textContent=u[0],u[1]){var c=document.createElementNS(na,"tspan");c.setAttribute("dy","-0.3em"),c.setAttribute("style","font-size:0.7em"),c.textContent=u[1],o.appendChild(c)}if(u[2]){var f=u[1]?"0.4em":"0.1em",h=document.createElementNS(na,"tspan");h.setAttribute("dy",f),h.setAttribute("style","font-size:0.7em"),h.textContent=u[2],o.appendChild(h)}}else o.textContent=a[s];r.appendChild(o)}return n?n.appendChild(r):this.append(r),r};zn.prototype.guessWidth=function(e,t){var n=this.createDummySvg(),r=this.text(e,t,n),i;try{i=r.getBBox(),isNaN(i.height)||!i.height?i={width:t["font-size"]/2,height:t["font-size"]+2}:i={width:i.width,height:i.height}}catch{i={width:t["font-size"]/2,height:t["font-size"]+2}}return n.removeChild(r),i};zn.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=z3();var e=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",e.join(""));var t=document.querySelector("body");t.appendChild(this.dummySvg)}return this.dummySvg};var uv={};zn.prototype.getTextSize=function(e,t,n){if(typeof e=="number"&&(e=""+e),!e||e.match(/^\s+$/))return{width:0,height:0};var r;if(e.length<20&&(r=e+JSON.stringify(t),uv[r]))return uv[r];var i=!n;n||(n=this.text(e,t));var a;try{a=n.getBBox(),isNaN(a.height)||!a.height?a=this.guessWidth(e,t):a={width:a.width,height:a.height}}catch{a=this.guessWidth(e,t)}return i&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(n):this.svg.removeChild(n)),r&&(uv[r]=a),a};zn.prototype.openGroup=function(e){e=e||{};var t=document.createElementNS(na,"g");return e.klass&&t.setAttribute("class",e.klass),e.fill&&t.setAttribute("fill",e.fill),e.stroke&&t.setAttribute("stroke",e.stroke),e["data-name"]&&t.setAttribute("data-name",e["data-name"]),e.prepend?this.prepend(t):this.append(t),this.currentGroup.unshift(t),t};zn.prototype.closeGroup=function(){var e=this.currentGroup.shift();return e&&e.children.length===0?(e.parentElement.removeChild(e),null):e};zn.prototype.path=function(e){var t=document.createElementNS(na,"path");for(var n in e)e.hasOwnProperty(n)&&(n==="path"?t.setAttributeNS(null,"d",e.path):n==="klass"?t.setAttributeNS(null,"class",e[n]):e[n]!==void 0&&t.setAttributeNS(null,n,e[n]));return this.append(t),t};zn.prototype.pathToBack=function(e){var t=document.createElementNS(na,"path");for(var n in e)e.hasOwnProperty(n)&&(n==="path"?t.setAttributeNS(null,"d",e.path):n==="klass"?t.setAttributeNS(null,"class",e[n]):t.setAttributeNS(null,n,e[n]));return this.prepend(t),t};zn.prototype.lineToBack=function(e){for(var t=document.createElementNS(na,"line"),n=Object.keys(e),r=0;r<n.length;r++)t.setAttribute(n[r],e[n[r]]);return this.prepend(t),t};zn.prototype.append=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.appendChild(e)};zn.prototype.prepend=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.insertBefore(e,this.svg.firstChild)};zn.prototype.setAttributeOnElement=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttributeNS(null,n,t[n])};zn.prototype.moveElementToChild=function(e,t){e.appendChild(t)};function z3(){var e=document.createElementNS(na,"svg");return e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("role","img"),e.setAttribute("fill","currentColor"),e.setAttribute("stroke","currentColor"),e}var Dae=zn,gC=xi,Hae=Dae,da=function(e){this.paper=new Hae(e),this.controller=null,this.space=3*gC.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};da.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()};da.prototype.newTune=function(e){this.abctune=e,this.setVerticalSpace(e.formatting),this.isPrint=e.media==="print",this.setPadding(e)};da.prototype.setLineThickness=function(e){this.lineThickness=e};da.prototype.setPaddingOverride=function(e){this.paddingOverride={top:e.paddingtop,bottom:e.paddingbottom,right:e.paddingright,left:e.paddingleft}};da.prototype.setPadding=function(e){function t(n,r,i,a,s){e.formatting[i]!==void 0?n.padding[r]=e.formatting[i]:n.paddingOverride[r]!==void 0?n.padding[r]=n.paddingOverride[r]:n.isPrint?n.padding[r]=a:n.padding[r]=s}t(this,"top","topmargin",38,15),t(this,"bottom","botmargin",38,15),t(this,"left","leftmargin",68,15),t(this,"right","rightmargin",68,15)};da.prototype.adjustNonScaledItems=function(e){this.padding.top/=e,this.padding.bottom/=e,this.padding.left/=e,this.padding.right/=e,this.abctune.formatting.headerfont.size/=e,this.abctune.formatting.footerfont.size/=e};da.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}};da.prototype.setVerticalSpace=function(e){e.staffsep!==void 0&&(this.spacing.staffSeparation=e.staffsep*4/3),e.composerspace!==void 0&&(this.spacing.composer=e.composerspace*4/3),e.partsspace!==void 0&&(this.spacing.parts=e.partsspace*4/3),e.textspace!==void 0&&(this.spacing.text=e.textspace*4/3),e.musicspace!==void 0&&(this.spacing.music=e.musicspace*4/3),e.titlespace!==void 0&&(this.spacing.title=e.titlespace*4/3),e.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=e.sysstaffsep*4/3),e.subtitlespace!==void 0&&(this.spacing.subtitle=e.subtitlespace*4/3),e.topspace!==void 0&&(this.spacing.top=e.topspace*4/3),e.vocalspace!==void 0&&(this.spacing.vocal=e.vocalspace*4/3),e.wordsspace!==void 0&&(this.spacing.words=e.wordsspace*4/3)};da.prototype.calcY=function(e){return this.y-e*gC.STEP};da.prototype.moveY=function(e,t){t===void 0&&(t=1),this.y+=e*t};da.prototype.absolutemoveY=function(e){this.y=e};var zae=da;function Vae(e,t,n,r,i,a){var s=e.text;this.rows=[];var o;t&&this.rows.push({move:t});var u=n.calc("textfont","defined-text");if(s==="")this.rows.push({move:u.attr["font-size"]*2});else if(typeof s=="string")this.rows.push({move:u.attr["font-size"]/2}),this.rows.push({left:r,text:s,font:"textfont",klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),o=a.calc(s,"textfont","defined-text"),this.rows.push({move:o.height});else if(s){for(var c=0,f=r,h="textfont",p=0;p<s.length;p++)s[p].font?h=s[p].font:h="textfont",this.rows.push({left:f,text:s[p].text,font:h,klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),o=a.calc(s[p].text,n.calc(h,"defined-text").font,"defined-text"),f+=o.width+o.height/2,c=Math.max(c,o.height);this.rows.push({move:c})}else if(e.length===1){var v=i/2;this.rows.push({left:v,text:e[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),o=a.calc(e[0].text,"textfont","defined-text"),this.rows.push({move:o.height})}}var Uae=Vae;function Wae(e,t,n){this.rows=[],e&&this.rows.push({move:e}),this.rows.push({separator:t,absElemType:"separator"}),n&&this.rows.push({move:n})}var jae=Wae;function qae(e,t,n,r,i,a){this.rows=[],e&&this.rows.push({move:e});var s=t.titleleft?"start":"middle",o=t.titleleft?i:r;this.rows.push({left:o,text:n.text,font:"subtitlefont",klass:"text subtitle",anchor:s,startChar:n.startChar,endChar:n.endChar,absElemType:"subtitle",name:"subtitle"});var u=a.calc(n.text,"subtitlefont","text subtitle");this.rows.push({move:u.height})}var Kae=qae;function Gae(e,t,n){if(t.text){t.marginLeft||(t.marginLeft=0),t.klass||(t.klass=""),t.anchor||(t.anchor="start"),t.info||(t.info={startChar:-2,endChar:-2}),t.marginTop&&e.push({move:t.marginTop});var r={left:t.marginLeft,text:t.text,font:t.font,anchor:t.anchor,startChar:t.info.startChar,endChar:t.info.endChar};t.absElemType&&(r.absElemType=t.absElemType),t.inGroup||(r.klass=t.klass),t.name&&(r.name=t.name),e.push(r);var i=n.calc("A",t.font,t.klass),a=t.text.split(`
`).length;if(t.text[t.text.length-1]===`
`&&a--,!t.noMove){var s=i.height*1.1*a;e.push({move:Math.round(s)}),t.marginBottom&&e.push({move:t.marginBottom})}}}var vC=Gae;const Ns=vC;function Yae(e,t,n,r,i,a,s,o,u){if(this.rows=[],e.header&&a){var c=u.calc("X","headerfont","abcjs-header abcjs-meta-top").height;Ns(this.rows,{marginLeft:s,text:e.header.left,font:"headerfont",klass:"header meta-top",marginTop:-c,info:t.header,name:"header"},u),Ns(this.rows,{marginLeft:s+i/2,text:e.header.center,font:"headerfont",klass:"header meta-top",marginTop:-c,anchor:"middle",info:t.header,name:"header"},u),Ns(this.rows,{marginLeft:s+i,text:e.header.right,font:"headerfont",klass:"header meta-top",marginTop:-c,anchor:"end",info:t.header,name:"header"},u)}a&&this.rows.push({move:o.top});var f=n.titleleft?"start":"middle",h=n.titleleft?s:s+i/2;if(e.title&&Ns(this.rows,{marginLeft:h,text:e.title,font:"titlefont",klass:"title meta-top",marginTop:o.title,anchor:f,absElemType:"title",info:t.title,name:"title"},u),r.length)for(var p=0;p<r.length&&r[p].subtitle;)Ns(this.rows,{marginLeft:h,text:r[p].subtitle.text,font:"subtitlefont",klass:"text meta-top subtitle",marginTop:o.subtitle,anchor:f,absElemType:"subtitle",info:r[p].subtitle,name:"subtitle"},u),p++;if(e.rhythm||e.origin||e.composer){if(this.rows.push({move:o.composer}),e.rhythm&&e.rhythm.length>0){var v=!!(e.composer||e.origin);Ns(this.rows,{marginLeft:s,text:e.rhythm,font:"infofont",klass:"meta-top rhythm",absElemType:"rhythm",noMove:v,info:t.rhythm,name:"rhythm"},u)}var g="";e.composer&&(g+=e.composer),e.origin&&(g+=" ("+e.origin+")"),g.length>0&&Ns(this.rows,{marginLeft:s+i,text:g,font:"composerfont",klass:"meta-top composer",anchor:"end",absElemType:"composer",info:t.composer,name:"composer"},u)}e.author&&e.author.length>0&&Ns(this.rows,{marginLeft:s+i,text:e.author,font:"composerfont",klass:"meta-top author",anchor:"end",absElemType:"author",info:t.author,name:"author"},u),e.partOrder&&e.partOrder.length>0&&Ns(this.rows,{marginLeft:s,text:e.partOrder,font:"partsfont",klass:"meta-top part-order",absElemType:"partOrder",info:t.partOrder,name:"part-order"},u)}var Xae=Yae;const ef=vC;function yp(e,t,n,r,i,a){this.rows=[],e.unalignedWords&&e.unalignedWords.length>0&&this.unalignedWords(e.unalignedWords,r,i,a),this.extraText(e,r,i,a),e.footer&&n&&this.footer(e.footer,t,r,a)}yp.prototype.unalignedWords=function(e,t,n,r){var i="meta-bottom unaligned-words",a="wordsfont";this.rows.push({startGroup:"unalignedWords",klass:"abcjs-meta-bottom abcjs-unaligned-words",name:"words"});var s=r.calc("i",a,i);this.rows.push({move:n.words});for(var o=0;o<e.length;o++)if(e[o]==="")this.rows.push({move:s.height});else if(typeof e[o]=="string")ef(this.rows,{marginLeft:t,text:e[o],font:a,klass:i,inGroup:!0,name:"words"},r);else{for(var u=0,c=0,f=0;f<e[o].length;f++){var h=e[o][f],p=h.font?h.font:a;this.rows.push({left:t+c,text:h.text,font:p,anchor:"start"});var v=r.calc(h.text,a,i);u=Math.max(u,v.height),c+=v.width,h.text[h.text.length-1]===" "&&(c+=s.width)}this.rows.push({move:u})}this.rows.push({move:s.height*2}),this.rows.push({endGroup:"unalignedWords",absElemType:"unalignedWords",startChar:-1,endChar:-1,name:"unalignedWords"})};yp.prototype.extraText=function(e,t,n,r){var i="";e.book&&(i+="Book: "+e.book+`
`),e.source&&(i+="Source: "+e.source+`
`),e.discography&&(i+="Discography: "+e.discography+`
`),e.notes&&(i+="Notes: "+e.notes+`
`),e.transcription&&(i+="Transcription: "+e.transcription+`
`),e.history&&(i+="History: "+e.history+`
`),e["abc-copyright"]&&(i+="Copyright: "+e["abc-copyright"]+`
`),e["abc-creator"]&&(i+="Creator: "+e["abc-creator"]+`
`),e["abc-edited-by"]&&(i+="Edited By: "+e["abc-edited-by"]+`
`),i.length>0&&ef(this.rows,{marginLeft:t,text:i,font:"historyfont",klass:"meta-bottom extra-text",marginTop:n.info,absElemType:"extraText",name:"description"},r)};yp.prototype.footer=function(e,t,n,r){var i="header meta-bottom",a="footerfont";this.rows.push({startGroup:"footer",klass:i}),ef(this.rows,{marginLeft:n,text:e.left,font:a,klass:i,name:"footer"},r),ef(this.rows,{marginLeft:n+t/2,text:e.center,font:a,klass:i,anchor:"middle",name:"footer"},r),ef(this.rows,{marginLeft:n+t,text:e.right,font:a,klass:i,anchor:"end",name:"footer"},r)};var Jae=yp,C1=xi;function Qae(e,t){if(e.rangeHighlight=lse,e.dragging)for(var n=0;n<e.selectables.length;n++){var r=e.selectables[n];r.svgEl.getAttribute("selectable")==="true"&&(r.svgEl.setAttribute("tabindex",0),r.svgEl.setAttribute("data-index",n),r.svgEl.addEventListener("keydown",tse.bind(e)),r.svgEl.addEventListener("keyup",nse.bind(e)),r.svgEl.addEventListener("focus",ese.bind(e)))}for(var i=0;i<t.length;i++)t[i].addEventListener("touchstart",U8.bind(e),{passive:!0}),t[i].addEventListener("touchmove",W8.bind(e),{passive:!0}),t[i].addEventListener("touchend",Cf.bind(e),{passive:!0}),t[i].addEventListener("mousedown",U8.bind(e)),t[i].addEventListener("mousemove",W8.bind(e)),t[i].addEventListener("mouseup",Cf.bind(e))}function Zae(e){var t=1,n=1,r=e.target.closest("svg"),i=0;r&&r.viewBox&&r.viewBox.baseVal&&(r.viewBox.baseVal.width!==0&&(t=r.viewBox.baseVal.width/r.clientWidth),r.viewBox.baseVal.height!==0&&(n=r.viewBox.baseVal.height/r.clientHeight),i=r.viewBox.baseVal.y);var a=e.target&&e.target.tagName==="svg",s,o;return a?(s=e.offsetX,o=e.offsetY):(s=e.layerX,o=e.layerY),s=s*t,o=o*n,[s,o+i]}function ese(e){this.dragMechanism==="keyboard"&&this.dragYStep!==0&&this.dragTarget&&bC.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,e),this.dragYStep=0}function tse(e){switch(e.keyCode){case 38:case 40:e.preventDefault()}}function nse(e){var t=!1,n=e.target.dataset.index;switch(e.keyCode){case 13:case 32:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",Cf.bind(this)(e);break;case 38:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*C1.STEP+")"));break;case 40:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*C1.STEP+")"));break;case 9:this.dragYStep!==0&&Cf.bind(this)(e);break}t&&e.preventDefault()}function rse(e,t){for(var n=0;n<e.length;n++)if(t.dataset.index===e[n].svgEl.dataset.index)return n;return-1}function ise(e,t,n){for(var r=9999999,i=-1,a=0;a<e.selectables.length&&r>0;a++){var s=e.selectables[a];if(e.getDim(s),s.dim.left<t&&s.dim.right>t&&s.dim.top<n&&s.dim.bottom>n)i=a,r=0;else if(s.dim.top<n&&s.dim.bottom>n){var o=Math.min(Math.abs(s.dim.left-t),Math.abs(s.dim.right-t));o<r&&(r=o,i=a)}else if(s.dim.left<t&&s.dim.right>t){var u=Math.min(Math.abs(s.dim.top-n),Math.abs(s.dim.bottom-n));u<r&&(r=u,i=a)}else{var c=Math.abs(t-s.dim.left)>Math.abs(t-s.dim.right)?Math.abs(t-s.dim.right):Math.abs(t-s.dim.left),f=Math.abs(n-s.dim.top)>Math.abs(n-s.dim.bottom)?Math.abs(n-s.dim.bottom):Math.abs(n-s.dim.top),h=Math.sqrt(c*c+f*f);h<r&&(r=h,i=a)}}return i>=0&&r<=12?i:-1}function ase(e,t,n){if(e.x<=t.offsetX&&e.x+e.width>=t.offsetX&&e.y<=t.offsetY&&e.y+e.height>=t.offsetY)return[t.offsetX,t.offsetY];var r=Math.abs(t.layerY/n-t.offsetY);return r<3?[t.offsetX,t.offsetY]:[t.layerX,t.layerY]}function sse(e){if(e.tagName==="svg")return e;for(var t=e.getAttribute("selectable");!t;)e.parentElement?(e=e.parentElement,e.tagName==="svg"?t=!0:t=e.getAttribute("selectable")):t=!0;return e}function mC(e,t){var n,r,i,a=rse(e.selectables,sse(t.target));return a>=0?(i=ase(e.selectables[a].svgEl.getBBox(),t,e.scale),n=i[0],r=i[1]):(i=Zae(t),n=i[0],r=i[1],a=ise(e,n,r)),{x:n,y:r,clickedOn:a}}function V3(e){if(!(!e||!e.target||!e.touches||e.touches.length<1)){var t=e.target.getBoundingClientRect(),n=e.touches[0].pageX-t.left,r=e.touches[0].pageY-t.top;e.touches[0].offsetX=n,e.touches[0].offsetY=r,e.touches[0].layerX=e.touches[0].pageX,e.touches[0].layerY=e.touches[0].pageY}}function U8(e){var t=e;e.type==="touchstart"&&(V3(e),e.touches.length>0&&(t=e.touches[0]));var n=mC(this,t);n.clickedOn>=0&&(e.type==="touchstart"||e.button===0)&&this.selectables[n.clickedOn]&&(this.dragTarget=this.selectables[n.clickedOn],this.dragIndex=n.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:n.x,y:n.y},this.dragging&&this.dragTarget.isDraggable&&(cse(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function W8(e){var t=e;if(e.type==="touchmove"&&(V3(e),e.touches.length>0&&(t=e.touches[0])),this.lastTouchMove=e,!(!this.dragTarget||!this.dragging||!this.dragTarget.isDraggable||this.dragMechanism!=="mouse"||!this.dragMouseStart)){var n=mC(this,t),r=Math.round((n.y-this.dragMouseStart.y)/C1.STEP);r!==this.dragYStep&&(this.dragYStep=r,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+r*C1.STEP+")"))}}function Cf(e){var t=e;e.type==="touchend"&&this.lastTouchMove&&(V3(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&(t=this.lastTouchMove.touches[0])),this.dragTarget&&(yC.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),bC.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,t),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),use(this.renderer.svg,"abcjs-dragging-in-progress"))}function ose(e){e>=0&&e<this.selectables.length&&(this.dragTarget=this.selectables[e],this.dragIndex=e,this.dragMechanism="keyboard",Cf.bind(this)({target:this.dragTarget.svgEl}))}function bC(e,t,n,r,i){var a=[];if(e.absEl.elemset){for(var s={},o=0;o<e.absEl.elemset.length;o++){var u=e.absEl.elemset[o];if(u)for(var c=u.getAttribute("class").split(" "),f=0;f<c.length;f++)s[c[f]]=!0}for(var h=0;h<Object.keys(s).length;h++)a.push(Object.keys(s)[h])}for(var p={},v=0;v<a.length;v++)fv(a[v],"abcjs-v",p,"voice"),fv(a[v],"abcjs-l",p,"line"),fv(a[v],"abcjs-m",p,"measure");e.staffPos&&(p.staffPos=e.staffPos);for(var g=i.target;g&&g.dataset&&!g.dataset.name&&g.tagName.toLowerCase()!=="svg";)g=g.parentNode;for(var b=i.target;b&&b.dataset&&!b.dataset.index&&b.tagName.toLowerCase()!=="svg";)b=b.parentNode;b&&b.dataset&&(p.name=b.dataset.name,p.clickedName=g.dataset.name,p.parentClasses=b.classList),g&&g.classList&&(p.clickedClasses=g.classList),p.selectableElement=e.svgEl;for(var y=0;y<this.listeners.length;y++)this.listeners[y](e.absEl.abcelem,e.absEl.tuneNumber,a.join(" "),p,{step:t,max:n,index:r,setSelection:ose.bind(this)},i)}function fv(e,t,n,r){if(e.indexOf(t)===0){var i=e.replace(t,""),a=parseInt(i,10);""+a===i&&(n[r]=a)}}function yC(){for(var e=0;e<this.selected.length;e++)this.selected[e].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function lse(e,t){yC.bind(this)();for(var n=0;n<this.staffgroups.length;n++)for(var r=this.staffgroups[n].voices,i=0;i<r.length;i++)for(var a=r[i].children,s=0;s<a.length;s++){var o=a[s].abcelem.startChar,u=a[s].abcelem.endChar;(t>o&&e<u||t===e&&t===u)&&(this.selected[this.selected.length]=a[s],a[s].highlight(void 0,this.selectionColor))}}function wC(e){var t=e.getAttribute("class");t||(t="");for(var n=t.split(" "),r={},i=0;i<n.length;i++)r[n[i]]=!0;return r}function _C(e,t){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r);e.setAttribute("class",n.join(" "))}function cse(e,t){if(e){var n=wC(e.svg);n[t]=!0,_C(e.svg,n)}}function use(e,t){if(e){var n=wC(e.svg);delete n[t],_C(e.svg,n)}}var fse=Qae;function dse(e,t,n,r,i){return t+(r-t)/(n-e)*(i-e)}var U3=dse,hse=hs,$m=xi,Rm=U3,pse=function(e){if(!(e.elems.length===0||e.allrests)){var t=vse(e.stemsUp,e.isgrace),n=e.elems[0],r=e.elems[e.elems.length-1],i=0,a=e.stemsUp?n.abcelem.maxpitch:n.abcelem.minpitch;i=q8(n,e.stemsUp,a,i),i=q8(r,e.stemsUp,a,i),i=Math.max(e.stemHeight,i+3);var s=mse(e.average,e.elems.length,i,e.stemsUp,n.abcelem.averagepitch,r.abcelem.averagepitch,e.isflat,e.min,e.max,e.isgrace),o=xC(e.stemsUp,n,r);e.addBeam({startX:o[0],endX:o[1],startY:s[0],endY:s[1],dy:t});for(var u=yse(e.elems,e.stemsUp,e.beams[0],e.isgrace,t),c=0;c<u.length;c++)e.addBeam(u[c]);bse(e.elems,e.stemsUp,e.beams[0],t,e.mainNote)}},j8=function(e){return e===void 0?0:Math.floor(Math.log(e)/Math.log(2))};function q8(e,t,n,r){if(!e.children)return r;for(var i=0;i<e.children.length;i++){var a=e.children[i];t&&a.top!==void 0&&a.c==="flags.ugrace"?r=Math.max(r,a.top-n):!t&&a.bottom!==void 0&&a.c==="flags.ugrace"&&(r=Math.max(r,n-a.bottom+7))}return r}function gse(e,t,n,r){if(r)return 0;var i=e-t,a=n/2;return i>a&&(i=a),i<-a&&(i=-a),i}function vse(e,t){var n=e?$m.STEP:-$m.STEP;return t&&(n=n*.4),n}function xC(e,t,n){var r=t.heads[e?0:t.heads.length-1],i=n.heads[e?0:n.heads.length-1],a=r.x;e&&(a+=r.w-.6);var s=i.x;return s+=e?i.w:.6,[a,s]}function mse(e,t,n,r,i,a,s,o,u,c){var f=n-2,h=n-2,p=Math.round(r?Math.max(e+f,u+h):Math.min(e-f,o-h)),v=gse(i,a,t,s),g=p+Math.floor(v/2),b=p+Math.floor(-v/2);return c||(r&&p<6||!r&&p>6)&&(g=6,b=6),[g,b]}function bse(e,t,n,r,i){for(var a=0;a<e.length;a++){var s=e[a];if(!s.abcelem.rest){var o=!s.addExtra,u=o?i:s,c=s.heads[t?0:s.heads.length-1],f=1/5,h=c.pitch+(t?f:-f),p=t?c.w:0;o||(p+=c.dx);var v=c.x+p,g=Rm(n.startX,n.startY,n.endX,n.endY,v),b=t?-.6:.6;t||(g-=r/2/$m.STEP),o&&(p+=s.heads[0].dx),c.c==="noteheads.slash.quarter"&&(t?h+=1:h-=1);var y=new hse(null,p,0,h,{type:"stem",pitch2:g,linewidth:b});y.setX(u.x),u.addRight(y)}}}function yse(e,t,n,r,i){for(var a=[],s=[],o=0;o<e.length;o++){var u=e[o];if(!u.abcelem.rest){var c=u.heads[t?0:u.heads.length-1],f=c.x+(t?c.w:0),h=Rm(n.startX,n.startY,n.endX,n.endY,f),p=t?-1.5:1.5;r&&(p=p*2/3);var v=u.abcelem.duration;v===0&&(v=.25);for(var g=j8(v);g<-3;g++){var b=-4-g;if(s[b]?s[b].single=!1:s[b]={x:f+(t?-.6:0),y:h+p*(b+1),durlog:g,single:!0},o>0&&u.abcelem.beambr&&u.abcelem.beambr<=b+1){s[b].split||(s[b].split=[s[b].x]);var y=xC(t,e[o-1],u);s[b].split[s[b].split.length-1]>=y[0]&&(y[0]+=u.w),s[b].split.push(y[0]),s[b].split.push(y[1])}}for(var x=s.length-1;x>=0;x--)if(o===e.length-1||j8(e[o+1].abcelem.duration)>-x-4){var _=f,E=h+p*(x+1);s[x].single&&(_=o===0?f+5:f-5,E=Rm(n.startX,n.startY,n.endX,n.endY,_)+p*(x+1));var w={startX:s[x].x,endX:_,startY:s[x].y,endY:E,dy:i};if(s[x].split!==void 0){var M=s[x].split;w.endX<=M[M.length-1]&&(M[M.length-1]-=u.w),M.push(w.endX),w.split=s[x].split}a.push(w),s=s.slice(0,x)}}}return a}var wse=pse,_se=U3;function xse(e){if(e.anchor1&&e.anchor2){e.hasBeam=!!e.anchor1.parent.beam&&e.anchor1.parent.beam===e.anchor2.parent.beam;var t=e.anchor1.parent.beam;if(e.hasBeam&&(t.elems[0]!==e.anchor1.parent||t.elems[t.elems.length-1]!==e.anchor2.parent)&&(e.hasBeam=!1),e.hasBeam){var n=dv(t)?e.anchor1.x+e.anchor1.w:e.anchor1.x;e.yTextPos=Mse(n,e.anchor2.x,t),e.yTextPos+=dv(t)?3:-2,e.xTextPos=Cse(n,e.anchor2.x),e.top=e.yTextPos+1,e.bottom=e.yTextPos-2,dv(t)&&(e.endingHeightAbove=4)}else{e.startNote=Math.max(e.anchor1.parent.top,9)+4,e.endNote=Math.max(e.anchor2.parent.top,9)+4,e.anchor1.parent.type==="rest"&&e.anchor2.parent.type!=="rest"?e.startNote=e.endNote:e.anchor2.parent.type==="rest"&&e.anchor1.parent.type!=="rest"&&(e.endNote=e.startNote);for(var r=0,i=0;i<e.middleElems.length;i++)r=Math.max(r,e.middleElems[i].top);r+=4,(r>e.startNote||r>e.endNote)&&(e.startNote=r,e.endNote=r),e.flatBeams&&(e.startNote=Math.max(e.startNote,e.endNote),e.endNote=Math.max(e.startNote,e.endNote)),e.yTextPos=e.startNote+(e.endNote-e.startNote)/2,e.xTextPos=e.anchor1.x+(e.anchor2.x+e.anchor2.w-e.anchor1.x)/2,e.top=e.yTextPos+1}}delete e.middleElems,delete e.flatBeams}function dv(e){return e.stemsUp}function Mse(e,t,n){if(n.beams.length===0)return 0;n=n.beams[0];var r=e+(t-e)/2;return _se(n.startX,n.startY,n.endX,n.endY,r)}function Cse(e,t){return e+(t-e)/2}var Tse=xse,Ese=wse,Sse=U3,Pse=Tse,Ase=function(e){for(var t=0;t<e.beams.length;t++)if(e.beams[t].type==="BeamElem"){Ese(e.beams[t]),kse(e.beams[t]);for(var n=0;n<e.beams[t].elems.length;n++)e.adjustRange(e.beams[t].elems[n])}for(e.staff.specialY.chordLines=Ose(e.children),t=0;t<e.otherchildren.length;t++){var r=e.otherchildren[t];r.type==="TripletElem"&&(Pse(r),e.adjustRange(r))}e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom)};function kse(e){for(var t=1.5,n=0;n<e.elems.length;n++){var r=e.elems[n];if(r.top)for(var i=Lse(r,e),a=0;a<r.children.length;a++){var s=r.children[a];if(s.klass==="ornament"&&s.bottom-t<i){var o=i-s.bottom+t;s.bottom+=o,s.top+=o,s.pitch+=o,i=r.top=s.top}}}}function K8(e,t){var n=t.getChordDim();if(n){for(var r=0;r<e.length;r++){var i=e[r]<n.left;if(i){r>0&&t.putChordInLane(r),e[r]=n.right;return}}e.push(n.right),t.putChordInLane(e.length-1)}}function Ose(e){var t=[0],n=[0],r,i,a;for(r=0;r<e.length;r++){for(i=0;i<e[r].children.length;i++)a=e[r].children[i],a.chordHeightAbove&&K8(t,a);for(i=e[r].children.length-1;i>=0;i--)a=e[r].children[i],a.chordHeightBelow&&K8(n,a)}return(t.length>1||n.length>1)&&Ise(e,t.length),{above:t.length,below:n.length}}function Nse(e){for(var t=0,n=0;n<e.children.length;n++){var r=e.children[n];r.chordHeightBelow&&t++}return t}function Ise(e,t,n){for(var r=0;r<e.length;r++){Nse(e[r]);for(var i=0;i<e[r].children.length;i++){var a=e[r].children[i];a.chordHeightAbove&&a.invertLane(t)}}}function Lse(e,t){return t=t.beams[0],Sse(t.startX,t.startY,t.endX,t.endY,e.x)}var Bse=Ase,tf=xi,$se=function(e,t){for(var n,r=0;r<t.staffs.length;r++){var i=t.staffs[r],a={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(e.showDebug&&e.showDebug.indexOf("box")>=0&&(i.originalTop=i.top,i.originalBottom=i.bottom),Nl(i,a,"lyricHeightAbove"),Nl(i,a,"chordHeightAbove",i.specialY.chordLines.above),i.specialY.endingHeightAbove&&(i.specialY.chordHeightAbove?i.top+=2:i.top+=i.specialY.endingHeightAbove+To,a.endingHeightAbove=i.top),i.specialY.dynamicHeightAbove&&i.specialY.volumeHeightAbove?(i.top+=Math.max(i.specialY.dynamicHeightAbove,i.specialY.volumeHeightAbove)+To,a.dynamicHeightAbove=i.top,a.volumeHeightAbove=i.top):(Nl(i,a,"dynamicHeightAbove"),Nl(i,a,"volumeHeightAbove")),Nl(i,a,"partHeightAbove"),Nl(i,a,"tempoHeightAbove"),i.specialY.lyricHeightBelow&&(i.specialY.lyricHeightBelow+=e.spacing.vocal/tf.STEP,a.lyricHeightBelow=i.bottom,i.bottom-=i.specialY.lyricHeightBelow+To),i.specialY.chordHeightBelow){a.chordHeightBelow=i.bottom;var s=i.specialY.chordHeightBelow;i.specialY.chordLines.below&&(s*=i.specialY.chordLines.below),i.bottom-=s+To}i.specialY.volumeHeightBelow&&i.specialY.dynamicHeightBelow?(a.volumeHeightBelow=i.bottom,a.dynamicHeightBelow=i.bottom,i.bottom-=Math.max(i.specialY.volumeHeightBelow,i.specialY.dynamicHeightBelow)+To):i.specialY.volumeHeightBelow?(a.volumeHeightBelow=i.bottom,i.bottom-=i.specialY.volumeHeightBelow+To):i.specialY.dynamicHeightBelow&&(a.dynamicHeightBelow=i.bottom,i.bottom-=i.specialY.dynamicHeightBelow+To),e.showDebug&&e.showDebug.indexOf("box")>=0&&(i.positionY=a);for(var o=0;o<i.voices.length;o++){var u=t.voices[i.voices[o]];Rse(a,u,e.spacing)}if(n!==void 0){var c=i.top-10,f=n+c,h=e.spacing.systemStaffSeparation/tf.STEP,p=h-f;p>0&&(i.top+=p)}n=2-i.bottom}},To=1;function Nl(e,t,n,r){if(e.specialY[n]){var i=e.specialY[n];r&&(i*=r),e.top+=i+To,t[n]=e.top}}function Rse(e,t,n){var r,i;for(r=0;r<t.children.length;r++)i=t.children[r],Fse(e,i,n);for(r=0;r<t.otherchildren.length;r++)switch(i=t.otherchildren[r],i.type){case"CrescendoElem":Dse(e,i);break;case"DynamicDecoration":Hse(e,i);break;case"EndingElem":zse(e,i);break}}function Fse(e,t,n){for(var r=0;r<t.children.length;r++){var i=t.children[r];for(var a in t.specialY)t.specialY.hasOwnProperty(a)&&i[a]&&(i.pitch=e[a],i.top===void 0&&(i.type==="TempoElement"?Vse(e,i):Use(e,i,n),t.pushTop(i.top),t.pushBottom(i.bottom)))}}function Dse(e,t){t.dynamicHeightAbove?t.pitch=e.dynamicHeightAbove:t.pitch=e.dynamicHeightBelow}function Hse(e,t){t.volumeHeightAbove?t.pitch=e.volumeHeightAbove:t.pitch=e.volumeHeightBelow}function zse(e,t){t.pitch=e.endingHeightAbove-2}function Vse(e,t){if(t.pitch=e.tempoHeightAbove,t.top=e.tempoHeightAbove,t.bottom=e.tempoHeightAbove,t.note){var n=t.pitch-t.totalHeightInPitches+1;t.note.top=n,t.note.bottom=n;for(var r=0;r<t.note.children.length;r++){var i=t.note.children[r];i.top+=n,i.bottom+=n,i.pitch+=n,i.pitch2!==void 0&&(i.pitch2+=n)}}}function Use(e,t,n){switch(t.type){case"part":t.top=e.partHeightAbove+t.height,t.bottom=e.partHeightAbove;break;case"text":case"chord":t.chordHeightAbove?(t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove):(t.top=e.chordHeightBelow,t.bottom=e.chordHeightBelow);break;case"lyric":t.lyricHeightAbove?(t.top=e.lyricHeightAbove,t.bottom=e.lyricHeightAbove):(t.top=e.lyricHeightBelow+n.vocal/tf.STEP,t.bottom=e.lyricHeightBelow+n.vocal/tf.STEP,t.pitch-=n.vocal/tf.STEP);break;case"debug":t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove;break}(t.pitch===void 0||t.top===void 0)&&console.error("RelativeElement position not set.",t.type,t.pitch,t.top,e)}var Wse=$se,eo=function(){};eo.beginLayout=function(e,t){t.i=0,t.durationindex=0,t.startx=e,t.minx=e,t.nextx=e,t.spacingduration=0};eo.layoutEnded=function(e){return e.i>=e.children.length};eo.getNextX=function(e){return Math.max(e.minx,e.nextx)};eo.getSpacingUnits=function(e){return Math.sqrt(e.spacingduration*8)};eo.layoutOneItem=function(e,t,n,r,i){var a=n.children[n.i];if(!a)return 0;var s=e-n.minx,o=n.durationindex+a.duration>0?r:0;if(a.abcelem.el_type==="note"&&!a.abcelem.rest&&n.voicenumber!==0&&i){var u=i.children[i.i],c=u&&(a.abcelem.maxpitch<=u.abcelem.maxpitch+1&&a.abcelem.maxpitch>=u.abcelem.minpitch-1||a.abcelem.minpitch<=u.abcelem.maxpitch+1&&a.abcelem.minpitch>=u.abcelem.minpitch-1);if(c&&a.abcelem.minpitch===u.abcelem.minpitch&&a.abcelem.maxpitch===u.abcelem.maxpitch&&u.heads&&u.heads.length>0&&a.heads&&a.heads.length>0&&u.heads[0].c===a.heads[0].c&&(c=!1),c){var f=u.heads&&u.heads.length>0?u.heads[0].realWidth:u.fixed.w;a.adjustedWidth||(a.adjustedWidth=f+a.w),a.w=a.adjustedWidth;for(var h=0;h<a.children.length;h++){var p=a.children[h];p.name.indexOf("accidental")<0&&(p.adjustedWidth||(p.adjustedWidth=p.dx+f),p.dx=p.adjustedWidth)}}}var v=jse(a,o);return s<v&&(n.i===0||a.type!=="bar"||n.children[n.i-1].type!=="part"&&n.children[n.i-1].type!=="tempo")&&(e+=v-s),a.setX(e),n.spacingduration=a.duration,n.minx=e+qse(a),n.i!==n.children.length-1&&(n.minx+=a.minspacing),this.updateNextX(e,t,n),e};eo.shiftRight=function(e,t){var n=t.children[t.i];n&&(n.setX(n.x+e),t.minx+=e,t.nextx+=e)};eo.updateNextX=function(e,t,n){n.nextx=e+t*Math.sqrt(n.spacingduration*8)};eo.updateIndices=function(e){this.layoutEnded(e)||(e.durationindex+=e.children[e.i].duration,e.children[e.i].type==="bar"&&(e.durationindex=Math.round(e.durationindex*64)/64),e.i++)};function jse(e,t){var n=0;return(e.type==="note"||e.type==="bar")&&(n=t),-e.extraw+n}function qse(e){return e.w}var Kse=eo,Oi=Kse;function Gse(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];if(r.children.length>0){var i=r.children.length-1,a=r.children[i];if(a.abcelem.el_type==="bar"){var s=a.children[0].x;s>t?t=s:a.children[0].x=t}}}}var Yse=function(e,t,n,r,i){var a=1e-7,s=0,o=1e3,u=i;r.startx=u;var c,f=0;for(n&&console.log("init layout",e),c=0;c<r.voices.length;c++)Oi.beginLayout(u,r.voices[c]);for(var h=0;!Xse(r.voices);){for(f=null,c=0;c<r.voices.length;c++)!Oi.layoutEnded(r.voices[c])&&(!f||hv(r.voices[c])<f)&&(f=hv(r.voices[c]));var p=[],v=[];for(c=0;c<r.voices.length;c++){var g=hv(r.voices[c]);g-f>a?v.push(r.voices[c]):p.push(r.voices[c])}h=0;var b=0;for(c=0;c<p.length;c++)Oi.getNextX(p[c])>u&&(u=Oi.getNextX(p[c]),h=Oi.getSpacingUnits(p[c]),b=p[c].spacingduration);s+=h,o=Math.min(o,h),n&&console.log("currentduration: ",f,s,o);var y=void 0;for(c=0;c<p.length;c++){var x=p[c];x.voicenumber===0&&(y=c);var _=y!==void 0&&p[y].voicenumber!==x.voicenumber?p[y]:void 0;Jse(x,_)||(_=void 0);var E=Oi.layoutOneItem(u,e,x,t.minPadding,_),w=E-u;if(w>0){u=E;for(var M=0;M<c;M++)Oi.shiftRight(w,p[M])}}for(c=0;c<v.length;c++)v[c].spacingduration-=b,Oi.updateNextX(u,e,v[c]);for(c=0;c<p.length;c++){var T=p[c];Oi.updateIndices(T)}}for(c=0;c<r.voices.length;c++)Oi.getNextX(r.voices[c])>u&&(u=Oi.getNextX(r.voices[c]),h=Oi.getSpacingUnits(r.voices[c]));return Gse(r.voices),s+=h,r.setWidth(u),{spacingUnits:s,minSpace:o}};function Xse(e){for(var t=0;t<e.length;t++)if(!Oi.layoutEnded(e[t]))return!1;return!0}function hv(e){return e.durationindex-(e.children[e.i]&&e.children[e.i].duration>0?0:5e-7)}function Jse(e,t){return!e||!e.staff||!e.staff.voices||e.staff.voices.length===0||!t||!t.staff||!t.staff.voices||t.staff.voices.length===0?!1:e.staff.voices[0]===t.staff.voices[0]}var Qse=Yse;function Zse(e,t,n,r,i){var a=e.padding.left,s=0,o,u;for(o=0;o<n.length;o++)n[o].header&&(u=t.calc(n[o].header,"voicefont",""),s=Math.max(s,u.width));if(s=G8(s,r,t),s=G8(s,i,t),s){var c=t.calc("A","voicefont","");s+=c.width}a+=s;var f=0;return f=Y8(r,a,f),f=Y8(i,a,f),a+f}function G8(e,t,n){if(t){for(var r=0;r<t.length;r++)if(t[r].header){var i=n.calc(t[r].header,"voicefont","");e=Math.max(e,i.width)}}return e}function Y8(e,t,n){if(e)for(var r=0;r<e.length;r++)eoe(t,e[r]),n=Math.max(n,e[r].getWidth());return n}function eoe(e,t){t.x=e}var toe=Zse,noe=Bse,roe=Wse,ioe=Qse,aoe=toe,soe=function(e,t,n,r){var i,a,s=n;for(i=0;i<t.lines.length;i++)a=t.lines[i],a.staff&&(ooe(e,n,r,a.staffGroup,t.formatting,i===t.lines.length-1,!1),a.staffGroup.w>s&&(s=a.staffGroup.w));for(i=0;i<t.lines.length;i++)if(a=t.lines[i],a.staffGroup&&a.staffGroup.voices){for(var o=0;o<a.staffGroup.voices.length;o++)noe(a.staffGroup.voices[o]);roe(e,a.staffGroup)}for(i=0;i<t.lines.length;i++)a=t.lines[i],a.staffGroup&&a.staffGroup.setHeight();return s},ooe=function(e,t,n,r,i,a,s){for(var o=aoe(e,r.getTextSize,r.voices,r.brace,r.bracket),u=n,c=0;c<8;c++){var f=ioe(u,e,s,r,o);if(u=loe(a,i.stretchlast,t+e.padding.left,r.w,u,f.spacingUnits,f.minSpace,e.padding.left+e.padding.right),s&&console.log("setXSpace",c,r.w,u,r.minspace),u===null)break}coe(r.voices)};function loe(e,t,n,r,i,a,s,o){if(e)if(t===void 0){if(r/n<.66)return null}else{var u=1-(r+o)/n,c=u<t;if(!c)return null}if(Math.abs(n-r)<2)return null;var f=a*i,h=r-f;return a>0?(i=(n-h)/a,i*s>50&&(i=50/s),i):null}function coe(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=1;r<n.children.length-1;r++){var i=n.children[r];if(i.abcelem.rest&&(i.abcelem.rest.type==="whole"||i.abcelem.rest.type==="multimeasure")){var a=n.children[r-1],s=n.children[r+1];i.center(a,s)}}}var uoe=soe,ha=function(t){this.shouldAddClasses=t.shouldAddClasses,this.reset()};ha.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null};ha.prototype.incrLine=function(){this.lineNumber===null?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null};ha.prototype.incrVoice=function(){this.voiceNumber===null?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null};ha.prototype.isInMeasure=function(){return this.measureNumber!==null};ha.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null};ha.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0};ha.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0};ha.prototype.incrNote=function(){this.noteNumber++};ha.prototype.measureTotal=function(){for(var e=0,t=0;t<this.lineNumber;t++)e+=this.measureTotalPerLine[t]?this.measureTotalPerLine[t]:0;return this.measureNumber&&(e+=this.measureNumber),e};ha.prototype.getCurrent=function(e){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}};ha.prototype.generate=function(e){if(!this.shouldAddClasses)return"";var t=[];if(e&&e.length>0&&t.push(e),e==="tab-number")return t.join(" ");if(e==="text instrument-name")return"abcjs-text abcjs-instrument-name";if(this.lineNumber!==null&&t.push("l"+this.lineNumber),this.measureNumber!==null&&t.push("m"+this.measureNumber),this.measureNumber!==null&&t.push("mm"+this.measureTotal()),this.voiceNumber!==null&&t.push("v"+this.voiceNumber),e&&(e.indexOf("note")>=0||e.indexOf("rest")>=0||e.indexOf("lyric")>=0)&&this.noteNumber!==null&&t.push("n"+this.noteNumber),t.length>0){t=t.join(" "),t=t.split(" ");for(var n=0;n<t.length;n++)t[n].indexOf("abcjs-")!==0&&t[n].length>0&&(t[n]="abcjs-"+t[n])}return t.join(" ")};var foe=ha,W3=function(t,n){this.formatting=t,this.classes=n};W3.prototype.updateFonts=function(e){e.gchordfont&&(this.formatting.gchordfont=e.gchordfont),e.tripletfont&&(this.formatting.tripletfont=e.tripletfont),e.annotationfont&&(this.formatting.annotationfont=e.annotationfont),e.vocalfont&&(this.formatting.vocalfont=e.vocalfont)};W3.prototype.calc=function(e,t){var n;typeof e=="string"?(n=this.formatting[e],n?n={face:n.face,size:Math.round(n.size*4/3),decoration:n.decoration,style:n.style,weight:n.weight,box:n.box}:n={face:"Arial",size:Math.round(12*4/3),decoration:"underline",style:"normal",weight:"normal"}):n={face:e.face,size:Math.round(e.size*4/3),decoration:e.decoration,style:e.style,weight:e.weight,box:e.box};var r=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;n.padding=n.size*r;var i={"font-size":n.size,"font-style":n.style,"font-family":n.face,"font-weight":n.weight,"text-decoration":n.decoration,class:this.classes.generate(t)};return{font:n,attr:i}};var doe=W3,qf=function(t,n){this.getFontAndAttr=t,this.svg=n};qf.prototype.updateFonts=function(e){this.getFontAndAttr.updateFonts(e)};qf.prototype.attr=function(e,t){return this.getFontAndAttr.calc(e,t)};qf.prototype.calc=function(e,t,n,r){var i;typeof t=="string"?i=this.attr(t,n):i={font:{face:t.face,size:t.size,decoration:t.decoration,style:t.style,weight:t.weight},attr:{"font-size":t.size,"font-style":t.style,"font-family":t.face,"font-weight":t.weight,"text-decoration":t.decoration,class:this.getFontAndAttr.classes.generate(n)}};var a=this.svg.getTextSize(e,i.attr,r);return i.font.box?{height:a.height+i.font.padding*4,width:a.width+i.font.padding*4}:a};qf.prototype.baselineToCenter=function(e,t,n,r,i){var a=this.calc(e,t,n).height,s=this.attr(t,n).font.size;return a*.5+(i-r-2)*s};var hoe=qf,poe=function(){for(var e=0,t,n=arguments[e++],r=[],i,a,s,o;n;){if(i=/^[^\x25]+/.exec(n))r.push(i[0]);else if(i=/^\x25{2}/.exec(n))r.push("%");else if(i=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(n)){if((t=arguments[i[1]||e++])==null||t==null)throw"Too few arguments.";if(/[^s]/.test(i[7])&&typeof t!="number")throw"Expecting number but found "+typeof t;switch(i[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=i[6]?t.toExponential(i[6]):t.toExponential();break;case"f":t=i[6]?parseFloat(t).toFixed(i[6]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&i[6]?t.substring(0,i[6]):t;break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase();break}t=/[def]/.test(i[7])&&i[2]&&t>0?"+"+t:t,s=i[3]?i[3]=="0"?"0":i[3][1]:" ",o=i[5]-String(t).length,a=i[5]?str_repeat(s,o):"",r.push(i[4]?t+a:a+t)}else throw"Huh ?!";n=n.substring(i[0].length)}return r.join("")},rl=poe;function goe(e){return parseFloat(e.toFixed(2))}var ps=goe,X8=ps;function voe(e,t,n){var r=t.y;if(t.lane){var i=t.dim.font.size*.25;r+=(t.dim.font.size+i)*t.lane}var a;t.dim?(a=t.dim,a.attr.class=t.klass):a=e.controller.getFontAndAttr.calc(t.type,t.klass),t.anchor&&(a.attr["text-anchor"]=t.anchor),a.attr.x=t.x,a.attr.y=r,t.centerVertically||(a.attr.y+=a.font.size),t.type==="debugfont"&&(console.log("Debug msg: "+t.text),a.attr.stroke="#ff0000"),t.cursor&&(a.attr.cursor=t.cursor);var s=t.text.replace(/\n\n/g,`
 
`);s=s.replace(/^\n/,`
`),a.font.box&&(n||e.paper.openGroup({klass:a.attr.class,fill:e.foregroundColor,"data-name":t.name}),a.attr["text-anchor"]==="end"?a.attr.x-=a.font.padding:a.attr["text-anchor"]==="start"&&(a.attr.x+=a.font.padding),a.attr.y+=a.font.padding,delete a.attr.class),t.noClass&&delete a.attr.class,a.attr.x=X8(a.attr.x),a.attr.y=X8(a.attr.y),t.name&&(a.attr["data-name"]=t.name);var o=e.paper.text(s,a.attr);if(a.font.box){var u=o.getBBox(),c=0;a.attr["text-anchor"]==="middle"?c=u.width/2+a.font.padding:a.attr["text-anchor"]==="end"&&(c=u.width+a.font.padding*2);var f=0;t.centerVertically&&(f=u.height-a.font.padding),e.paper.rect({"data-name":"box",x:Math.round(t.x-c),y:Math.round(r-f),width:Math.round(u.width+a.font.padding*2),height:Math.round(u.height+a.font.padding*2)}),n||(o=e.paper.closeGroup())}return o}var Go=voe,Uh=rl,Ea=xi,moe=Go;function boe(e,t,n){var r=t.startVoice.staff.absoluteY-Ea.STEP*10;return t.endVoice&&t.endVoice.staff?t.endY=t.endVoice.staff.absoluteY-Ea.STEP*2:t.lastContinuedVoice&&t.lastContinuedVoice.staff?t.endY=t.lastContinuedVoice.staff.absoluteY-Ea.STEP*2:t.endY=t.startVoice.staff.absoluteY-Ea.STEP*2,_oe(e,t.x,r,t.endY,t.type,t.header,n)}function yoe(e,t,n,r,i){t+=Ea.STEP;var a=Ea.STEP*.75,s=Ea.STEP*.75,o=r-n,u=Uh("M %f %f l %f %f l %f %f l %f %f z",t,n-s,0,o+s*2,a,0,0,-(o+s*2)),c=Ea.STEP*2,f=Ea.STEP;return u+=Uh("M %f %f q %f %f %f %f q %f %f %f %f z",t+a,n-s,c*.6,f*.2,c,-f,-c*.1,f*.3,-c,f+Ea.STEP),u+=Uh("M %f %f q %f %f %f %f q %f %f %f %f z",t+a,n+s+o,c*.6,-f*.2,c,f,-c*.1,-f*.3,-c,-f-Ea.STEP),e.paper.path({path:u,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(i),"data-name":i})}function woe(e,t,n,r,i){var a=r-n,s=J8(t,n,[7.5,-8,21,0,18.5,-10.5,7.5],[0,a/5.5,a/3.14,a/2,a/2.93,a/4.88,0]);return s+=J8(t,n,[0,17.5,-7.5,6.6,-5,20,0],[a/2,a/1.46,a/1.22,a,a/1.19,a/1.42,a/2]),e.paper.path({path:s,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(i),"data-name":i})}function J8(e,t,n,r){return Uh("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",e+n[0],t+r[0],e+n[1],t+r[1],e+n[2],t+r[2],e+n[3],t+r[3],e+n[4],t+r[4],e+n[5],t+r[5],e+n[6],t+r[6])}var _oe=function(e,t,n,r,i,a,s){var o;if(a){e.paper.openGroup({klass:e.controller.classes.generate("staff-extra voice-name"),"data-name":i});var u=n+(r-n)/2;u=u-e.controller.getTextSize.baselineToCenter(a,"voicefont","staff-extra voice-name",0,1),moe(e,{x:e.padding.left,y:u,text:a,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return i==="brace"?o=woe(e,t,n,r,i):i==="bracket"&&(o=yoe(e,t,n,r,i)),a&&(o=e.paper.closeGroup()),s.wrapSvgEl({el_type:i,startChar:-1,endChar:-1},o),o},xoe=boe;function Moe(e,t,n){var r=e.paper.path(t);return r}var Kf=Moe,Coe=rl,Toe=Kf,Eoe=ps;function Soe(e,t,n){(!t.anchor1||!t.anchor2||!t.anchor1.heads||!t.anchor2.heads||t.anchor1.heads.length===0||t.anchor2.heads.length===0)&&window.console.error("Glissando Element not set.");var r=4,i=e.calcY(t.anchor1.heads[0].pitch),a=e.calcY(t.anchor2.heads[0].pitch),s=t.anchor1.x+t.anchor1.w/2,o=t.anchor2.x+t.anchor2.w/2,u=Poe(s,i,o,a),c=t.anchor1.w/2+r,f=t.anchor2.w/2+r,h=Aoe(s,i,o,a),p=Fm(i,h,c);Fm(a,h,-f);var v=koe(u-c-f),g=$oe(e,s+c,p,v,h);return n.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},g),[g]}function Poe(e,t,n,r){var i=n-e,a=r-t;return Math.sqrt(i*i+a*a)}function Aoe(e,t,n,r){return(r-t)/(n-e)}function Fm(e,t,n){return Eoe(e+n*t)}function koe(e){var t=5;return Math.max(2,Math.floor((e-t*2)/6))}var Ooe=[[3.5,-4.8]],Noe=[[1.5,-1],[.3,-.3],[-3.5,3.8]],Ioe=[[-1.5,2]],Loe=[[3,4],[3,-4]],Boe=[[-3,4],[-3,-4]];function Eu(e,t){for(var n="",r=0;r<e.length;r++)n+="l"+e[r][0]+" "+Fm(e[r][1],t,e[r][0]);return n}var $oe=function(e,t,n,r,i){var a=Coe("M %f %f",t,n);a+=Eu(Ooe,i);var s;for(s=0;s<r;s++)a+=Eu(Loe,i);for(a+=Eu(Noe,i),s=0;s<r;s++)a+=Eu(Boe,i);return a+=Eu(Ioe,i)+"z",Toe(e,{path:a,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("decoration"),"data-name":"glissando"})},Roe=Soe,Foe=rl,Doe=Kf,Il=ps;function Hoe(e,t,n){t.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var r=e.calcY(t.pitch)+4,i=8,a=t.anchor1?t.anchor1.x:0,s=t.anchor2?t.anchor2.x:800,o;return t.dir==="<"?o=Q8(e,r+i/2,r,r+i/2,r+i,a,s):o=Q8(e,r,r+i/2,r+i,r+i/2,a,s),n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},o),[o]}var Q8=function(e,t,n,r,i,a,s){t=Il(t),n=Il(n),r=Il(r),i=Il(i),a=Il(a),s=Il(s);var o=Foe("M %f %f L %f %f M %f %f L %f %f",a,t,s,n,a,r,s,i);return Doe(e,{path:o,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})},zoe=Hoe,Z8=ps;function Gf(){this.ingroup=!1}Gf.prototype.beginGroup=function(e,t){this.paper=e,this.controller=t,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()};Gf.prototype.isInGroup=function(){return this.ingroup};Gf.prototype.addPath=function(e){if(e=e||[],e.length!==0){e[0][0]="m",e[0][1]=Z8(e[0][1]-this.lastM[0]),e[0][2]=Z8(e[0][2]-this.lastM[1]),this.lastM[0]+=e[0][1],this.lastM[1]+=e[0][2],this.path.push(e[0]);for(var t=1,n=e.length;t<n;t++)e[t][0]==="m"&&(this.lastM[0]+=e[t][1],this.lastM[1]+=e[t][2]),this.path.push(e[t])}};Gf.prototype.endGroup=function(e,t){this.ingroup=!1;for(var n="",r=0;r<this.path.length;r++)n+=this.path[r].join(" ");this.path=[];var i=this.paper.closeGroup();return i&&(i.setAttribute("class",this.controller.classes.generate(e)),i.setAttribute("fill",this.controller.renderer.foregroundColor),i.setAttribute("stroke","none"),i.setAttribute("data-name",t)),i};var Voe=new Gf,j3=Voe,e7=Go,Ll=Ko,t7=j3;function Uoe(e,t,n,r,i){var a,s;if(!r)return null;if(r.length>1&&r.indexOf(".")<0){var o=t7.isInGroup()?"":i.klass;e.paper.openGroup({"data-name":i.name,klass:o});for(var u=0,c=0;c<r.length;c++){var f=r[c];s=Ll.getYCorr(f),a=Ll.printSymbol(t+u,e.calcY(n+s),f,e.paper,{stroke:i.stroke,fill:i.fill}),a?c<r.length-1&&(u+=Woe(f,r[c+1],Ll.getSymbolWidth(f))):e7(e,{x:t,y:e.y,text:"no symbol:"+r,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}var h=e.paper.closeGroup();return h}else return s=Ll.getYCorr(r),t7.isInGroup()?a=Ll.printSymbol(t,e.calcY(n+s),r,e.paper,{"data-name":i.name}):a=Ll.printSymbol(t,e.calcY(n+s),r,e.paper,{klass:i.klass,stroke:i.stroke,fill:i.fill,"data-name":i.name}),a||(e7(e,{x:t,y:e.y,text:"no symbol:"+r,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}function Woe(e,t,n){var r=n;return e==="f"&&t==="f"&&(r=r*2/3),e==="p"&&t==="p"&&(r=r*5/6),e==="f"&&t==="z"&&(r=r*5/8),r}var MC=Uoe,joe=MC;function qoe(e,t,n){t.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var r=1,i=1,a=joe(e,t.anchor.x,t.pitch,t.dec,{scalex:r,scaley:i,klass:e.controller.classes.generate("decoration dynamics"),fill:e.foregroundColor,stroke:"none",name:"dynamics"});return n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:t.dec},a),[a]}var Koe=qoe,Goe=rl,Yoe=Go,Xoe=Kf,kh=ps;function Joe(e,t,n){e.paper.openGroup({klass:e.controller.classes.generate("triplet "+t.durationClass),"data-name":"triplet"}),t.hasBeam||Qoe(e,t.anchor1.x,t.startNote,t.anchor2.x+t.anchor2.w,t.endNote),Yoe(e,{x:t.xTextPos,y:e.calcY(t.yTextPos-1),text:""+t.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+t.number},!0);var r=e.paper.closeGroup();return n.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},r),r}function Oh(e,t,n,r){return Goe("M %f %f L %f %f",kh(e),kh(t),kh(n),kh(r))}function Qoe(e,t,n,r,i){n=e.calcY(n),i=e.calcY(i);var a=5,s="";s+=Oh(t,n,t,n+a),s+=Oh(r,i,r,i+a);var o=t+(r-t)/2,u=8,c=(i-n)/(r-t),f=o-u,h=n+(f-t)*c;s+=Oh(t,n,f,h);var p=o+u,v=n+(p-t)*c;s+=Oh(p,v,r,i),Xoe(e,{path:s,stroke:e.foregroundColor,"data-name":"triplet-bracket"})}var Zoe=Joe,pv=rl,e0e=Go,t0e=Kf,w0=ps;function n0e(e,t,n,r,i){t.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var a=w0(e.calcY(t.pitch)),s=20,o="";t.anchor1&&(n=w0(t.anchor1.x+t.anchor1.w),o+=pv("M %f %f L %f %f ",n,a,n,w0(a+s))),t.anchor2&&(r=w0(t.anchor2.x),o+=pv("M %f %f L %f %f ",r,a,r,w0(a+s))),o+=pv("M %f %f L %f %f ",n,a,r,a),e.paper.openGroup({klass:e.controller.classes.generate("ending"),"data-name":"ending"}),t0e(e,{path:o,stroke:e.foregroundColor,fill:e.foregroundColor,"data-name":"line"}),t.anchor1&&e0e(e,{x:w0(n+5),y:w0(e.calcY(t.pitch-.5)),text:t.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:t.text});var u=e.paper.closeGroup();return i.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},u),[u]}var r0e=n0e,n7=rl,Qi=ps;function i0e(e,t,n,r,i){a0e(t,n,r);var a="";t.anchor1?a+="abcjs-start-m"+t.anchor1.parent.counters.measure+"-n"+t.anchor1.parent.counters.note:a+="abcjs-start-edge",t.anchor2?a+=" abcjs-end-m"+t.anchor2.parent.counters.measure+"-n"+t.anchor2.parent.counters.note:a+=" abcjs-end-edge",t.hint&&(a="abcjs-hint");var s=t.fixedY?1.5:0,o=s0e(e,t.startX,t.endX,t.startY+s,t.endY+s,t.above,a,t.isTie,t.dotted);return i.wrapSvgEl({el_type:"slur",startChar:-1,endChar:-1},o),[o]}var a0e=function(e,t,n){!e.anchor1||!e.anchor2||e.anchor1.pitch===e.anchor2.pitch&&e.internalNotes.length===0?e.isTie=!0:e.isTie=!1,e.isTie?(e.calcTieDirection(),e.calcX(t,n),e.calcTieY()):(e.calcSlurDirection(),e.calcX(t,n),e.calcSlurY()),e.avoidCollisionAbove()},s0e=function(e,t,n,r,i,a,s,o,u){var c=o?1.2:1.5;t=Qi(t+6),n=Qi(n+4),r=r+(a?c:-c),i=i+(a?c:-c);var f=Qi(e.calcY(r)),h=Qi(e.calcY(i)),p=n-t,v=h-f,g=Math.sqrt(p*p+v*v),b=p/g,y=v/g,x=g/3.5,_=o?10:25,E=(a?-1:1)*Math.min(_,Math.max(4,x)),w=Qi(t+x*b-E*y),M=Qi(f+x*y+E*b),T=Qi(n-x*b-E*y),S=Qi(h-x*y+E*b),k=2;s?s+=" slur":s="slur",s+=o?" tie":" legato";var L;if(u){s+=" dotted";var B=n7("M %f %f C %f %f %f %f %f %f",t,f,w,M,T,S,n,h);L=e.paper.path({path:B,stroke:e.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:e.controller.classes.generate(s),"data-name":o?"tie":"slur"})}else{var H=n7("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t,f,w,M,T,S,n,h,Qi(T-k*y),Qi(S+k*b),Qi(w-k*y),Qi(M+k*b),t,f);L=e.paper.path({path:H,stroke:"none",fill:e.foregroundColor,class:e.controller.classes.generate(s),"data-name":o?"tie":"slur"})}return L},o0e=i0e,l0e=Kf,Bl=ps;function c0e(e,t){if(t.beams.length!==0){for(var n="",r=0;r<t.beams.length;r++){var i=t.beams[r];if(i.split){for(var a=u0e(e,i.startX,i.startY,i.endX,i.endY),s=[],o=0;o<i.split.length;o+=2)s.push([i.split[o],i.split[o+1]]);for(o=0;o<s.length;o++){var u=i7(i.startX,i.startY,a,s[o][0]),c=i7(i.startX,i.startY,a,s[o][1]);n+=r7(e,s[o][0],u,s[o][1],c,i.dy)}}else n+=r7(e,i.startX,i.startY,i.endX,i.endY,i.dy)}var f=("abcjs-d"+t.duration).replace(/\./g,"-"),h=e.controller.classes.generate("beam-elem "+f),p=l0e(e,{path:n,stroke:"none",fill:e.foregroundColor,class:h});return[p]}}function r7(e,t,n,r,i,a){n=Bl(e.calcY(n)),i=Bl(e.calcY(i)),t=Bl(t),r=Bl(r);var s=Bl(n+a),o=Bl(i+a);return"M"+t+" "+n+" L"+r+" "+i+"L"+r+" "+o+" L"+t+" "+s+"z"}function u0e(e,t,n,r,i){return(i-n)/(r-t)}function i7(e,t,n,r){var i=r-e;return t+i*n}var f0e=c0e,d0e=j3,$l=ps;function h0e(e,t,n,r,i,a,s){if(n<0||r<i){var o=$l(i);i=$l(r),r=o}else r=$l(r),i=$l(i);t=$l(t);var u=$l(t+n);if(e.firefox112){t+=n/2;var f={x1:t,x2:t,y1:r,y2:i,stroke:e.foregroundColor,"stroke-width":Math.abs(n)};return a&&(f.class=a),s&&(f["data-name"]=s),e.paper.lineToBack(f)}for(var c=[["M",t,r],["L",t,i],["L",u,i],["L",u,r],["z"]],f={path:""},h=0;h<c.length;h++)f.path+=c[h].join(" ");return a&&(f.class=a),s&&(f["data-name"]=s),d0e.isInGroup()||(f.stroke="none",f.fill=e.foregroundColor),e.paper.pathToBack(f)}var CC=h0e,p0e=rl,Nh=ps;function g0e(e,t,n,r,i,a,s){var o=e.foregroundColor;t=Nh(t),n=Nh(n);var u=Nh(r-s),c=Nh(r+s);if(e.firefox112){r+=s/2;var f={x1:t,x2:n,y1:r,y2:r,stroke:e.foregroundColor,"stroke-width":Math.abs(s*2)};return i&&(f.class=i),a&&(f["data-name"]=a),e.paper.lineToBack(f)}var h=p0e("M %f %f L %f %f L %f %f L %f %f z",t,u,n,u,n,c,t,c),p={path:h,stroke:"none",fill:o};a&&(p["data-name"]=a),i&&(p.class=i);var v=e.paper.pathToBack(p);return v}var v0e=g0e,m0e=v0e;function b0e(e,t,n,r,i,a,s){var o=e.calcY(r);return m0e(e,t,n,o,i,a,s)}var TC=b0e,Is=Go,a7=CC,y0e=TC,w0e=MC;function _0e(e,t,n){t.pitch===void 0&&window.console.error(t.type+" Relative Element y-coordinate not set.");var r=e.calcY(t.pitch);switch(t.type){case"symbol":if(t.c===null)return null;var i="symbol";t.klass&&(i+=" "+t.klass),t.graphelem=w0e(e,t.x,t.pitch,t.c,{scalex:t.scalex,scaley:t.scaley,klass:e.controller.classes.generate(i),name:t.name});break;case"debug":t.graphelem=Is(e,{x:t.x,y:e.calcY(15),text:""+t.c,type:"debugfont",klass:e.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:t.dim},!1);break;case"tabNumber":var a="middle",s="tabnumberfont",o="tab-number";t.isGrace&&(s="tabgracefont",r+=2.5,o="tab-grace"),t.graphelem=Is(e,{x:t.x,y:r,text:""+t.c,type:s,klass:e.controller.classes.generate(o),anchor:a,centerVertically:!1,dim:t.dim,cursor:"default"},!1);break;case"barNumber":t.graphelem=Is(e,{x:t.x,y:r,text:""+t.c,type:"measurefont",klass:e.controller.classes.generate("bar-number"),anchor:"middle",dim:t.dim,name:"bar-number"},!0);break;case"lyric":t.graphelem=Is(e,{x:t.x,y:r,text:t.c,type:"vocalfont",klass:e.controller.classes.generate("lyric"),anchor:"middle",dim:t.dim,name:"lyric"},!1);break;case"chord":t.graphelem=Is(e,{x:t.x,y:r,text:t.c,type:"gchordfont",klass:e.controller.classes.generate("chord"),anchor:"middle",dim:t.dim,lane:t.getLane(),name:"chord"},!1);break;case"decoration":t.graphelem=Is(e,{x:t.x,y:r+6,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:t.anchor,centerVertically:!0,dim:t.dim},!1);break;case"text":t.graphelem=Is(e,{x:t.x,y:r,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:"start",centerVertically:t.centerVertically,dim:t.dim,lane:t.getLane(),name:"annotation"},!1);break;case"multimeasure-text":t.graphelem=Is(e,{x:t.x+t.w/2,y:r,text:t.c,type:"tempofont",klass:e.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:t.dim},!1);break;case"part":t.graphelem=Is(e,{x:t.x,y:r,text:t.c,type:"partsfont",klass:e.controller.classes.generate("part"),anchor:"start",dim:t.dim,name:t.c},!0);break;case"bar":t.graphelem=a7(e,t.x,t.linewidth+e.lineThickness,r,n||e.calcY(t.pitch2),null,"bar");break;case"stem":var u=t.linewidth>0?t.linewidth+e.lineThickness:t.linewidth-e.lineThickness;t.graphelem=a7(e,t.x,u,r,e.calcY(t.pitch2),"abcjs-stem","stem");break;case"ledger":t.graphelem=y0e(e,t.x,t.x+t.w,t.pitch,"abcjs-ledger","ledger",.35+e.lineThickness);break}return t.scalex!==1&&t.graphelem&&x0e(e.paper,t.graphelem,t.scalex,t.scaley,t.x,r),t.graphelem}function x0e(e,t,n,r,i,a){e.setAttributeOnElement(t,{style:"transform:scale("+n+","+r+");transform-origin:"+i+"px "+a+"px;"})}var EC=_0e,M0e=EC,gv=Go;function C0e(e,t){var n=t.x;t.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set."),t.tempo.el_type="tempo";var r=e.calcY(t.pitch)+2,i,a;if(t.tempo.preString){i=gv(e,{x:n,y:r,text:t.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,"dominant-baseline":"ideographic",name:"pre"},!0),a=e.controller.getTextSize.calc(t.tempo.preString,"tempofont","tempo",i);var s=a.width,o=s/t.tempo.preString.length;n+=s+o}if(t.note){t.note.setX(n);for(var u=0;u<t.note.children.length;u++)M0e(e,t.note.children[u],n);n+=t.note.w+5;var c="= "+t.tempo.bpm;i=gv(e,{x:n,y:r,text:c,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"}),a=e.controller.getTextSize.calc(c,"tempofont","tempo",i);var f=a.width,h=f/c.length;n+=f+h}t.tempo.postString&&gv(e,{x:n,y:r,text:t.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}var T0e=C0e,E0e=T0e,S0e=EC,P0e=xi,s7=O3,o7=j3;function A0e(e,t,n,r,i){if(!t.invisible){var a=t.children.length>0&&t.children[0].type==="TempoElement";t.elemset=[],o7.beginGroup(e.paper,e.controller);for(var s=0;s<t.children.length;s++){var o=t.children[s];switch(o.type){case"TempoElement":E0e(e,o);break;default:S0e(e,o,n)}}var u=t.type;if((t.type==="note"||t.type==="rest")&&(t.counters=e.controller.classes.getCurrent(),u+=" d"+Math.round(t.durationClass*1e3)/1e3,u=u.replace(/\./g,"-"),t.abcelem.pitches))for(var c=0;c<t.abcelem.pitches.length;c++)u+=" p"+t.abcelem.pitches[c].pitch;var f=o7.endGroup(u,t.type);if(f){if(t.cloned&&(t.cloned.overrideClasses=f.className.baseVal),t.overrideClasses){var h=f.classList&&f.classList.length>0?f.classList[0]+" ":"";f.setAttribute("class",h+t.overrideClasses)}if(a)t.startChar=t.abcelem.startChar,t.endChar=t.abcelem.endChar,r.add(t,f,!1,i);else{t.elemset.push(f);var p=!1;(t.type==="note"||t.type==="tabNumber")&&(p=!0),r.add(t,f,p,i)}}else t.elemset.length>0&&r.add(t,t.elemset[0],t.type==="note",i);if(t.klass&&s7(t.elemset,"mark","","#00ff00"),t.hint&&s7(t.elemset,"abcjs-hint","",null),t.abcelem.abselem=t,t.heads&&t.heads.length>0){t.notePositions=[];for(var v=0;v<t.heads.length;v++)t.notePositions.push({x:t.heads[v].x+t.heads[v].w/2,y:i.zero-t.heads[v].pitch*P0e.STEP})}}}var k0e=A0e,O0e=Roe,N0e=zoe,I0e=Koe,L0e=Zoe,B0e=r0e,$0e=o0e,R0e=f0e,F0e=Go,l7=k0e;function D0e(e,t,n,r,i){var a=t.w-1;e.staffbottom=t.staff.bottom;var s=e.foregroundColor;if(t.color&&(e.foregroundColor=t.color),t.header){var o=F0e(e,{x:e.padding.left,y:e.calcY(t.headerPosition),text:t.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);r.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:t.header},o)}var u,c,f=!1;for(u=0;u<t.children.length;u++){c=t.children[u],(c.type==="note"||c.type==="rest")&&(f=!0);var h=!1;c.type!=="staff-extra"&&!e.controller.classes.isInMeasure()&&(e.controller.classes.startMeasure(),h=!0),t.staff.isTabStaff&&(c.invisible=!1,c.type=="bar"&&c.abcelem.lastBar&&(n=t.topLine)),l7(e,c,t.barto||u===t.children.length-1?n:0,r,i),(c.type==="note"||H0e(c))&&e.controller.classes.incrNote(),c.type==="bar"&&!h&&f&&e.controller.classes.incrMeasure()}for(e.controller.classes.startMeasure(),u=0;u<t.beams.length;u++){var p=t.beams[u];p==="bar"?e.controller.classes.incrMeasure():R0e(e,p)}for(e.controller.classes.startMeasure(),u=0;u<t.otherchildren.length;u++)if(c=t.otherchildren[u],c==="bar")e.controller.classes.incrMeasure();else switch(c.type){case"GlissandoElem":c.elemset=O0e(e,c,r);break;case"CrescendoElem":c.elemset=N0e(e,c,r);break;case"DynamicDecoration":c.elemset=I0e(e,c,r);break;case"TripletElem":L0e(e,c,r);break;case"EndingElem":c.elemset=B0e(e,c,t.startx+10,a,r);break;case"TieElem":c.elemset=$0e(e,c,t.startx+10,a,r);break;default:console.log(c),l7(e,c,t.startx+10,a,r)}e.foregroundColor=s}function H0e(e){return e.type!=="rest"?!1:!!(e.abcelem&&e.abcelem.rest&&e.abcelem.rest.type!=="spacer")}var z0e=D0e,c7=TC;function V0e(e,t,n,r,i,a){var s="abcjs-top-line",o=2;i&&(o=i),e.paper.openGroup({prepend:!0,klass:e.controller.classes.generate("abcjs-staff")});var u=0,c=0;if(r===1)c7(e,t,n,6,s,null,a+e.lineThickness),u=e.calcY(10),c=e.calcY(2);else for(var f=r-1;f>=0;f--){var h=(f+1)*o;c=e.calcY(h),u===0&&(u=c),c7(e,t,n,h,s,null,a+e.lineThickness),s=void 0}return e.paper.closeGroup(),[u,c]}var U0e=V0e;function W0e(e,t,n){var r=e.paper.rectBeneath(t);return n&&e.paper.text(n,{x:0,y:t.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),r}var j0e=W0e;function q0e(e,t){var n="rgba(0,0,0,255)",r="rgba(0,0,0,0)",i=Math.round(e.y),a=e.controller.width,s=(a-t)/2,o=s+t,u="M "+s+" "+i+" L "+o+" "+i+" L "+o+" "+(i+1)+" L "+s+" "+(i+1)+" L "+s+" "+i+" z";e.paper.pathToBack({path:u,stroke:r,fill:n,class:e.controller.classes.generate("defined-text")})}var K0e=q0e,G0e=K0e,Y0e=Go;function X0e(e,t,n){for(var r=0;r<t.rows.length;r++){var i=t.rows[r];if(i.absmove)e.absolutemoveY(i.absmove);else if(i.move)e.moveY(i.move);else if(i.text){var a=i.left?i.left:0,s=Y0e(e,{x:a,y:e.y,text:i.text,type:i.font,klass:i.klass,name:i.name,anchor:i.anchor});i.absElemType&&n.wrapSvgEl({el_type:i.absElemType,name:i.name,startChar:i.startChar,endChar:i.endChar,text:i.text},s)}else if(i.separator)G0e(e,i.separator);else if(i.startGroup)e.paper.openGroup({klass:i.klass,"data-name":i.name});else if(i.endGroup){var o=e.paper.closeGroup();i.absElemType&&n.wrapSvgEl({el_type:i.absElemType,name:i.name,startChar:i.startChar,endChar:i.endChar,text:""},o)}}}var SC=X0e,Vl=xi,J0e=xoe,Q0e=z0e,Z0e=U0e,T1=j0e,ele=CC,tle=SC;function nle(e,t,n,r){for(var i,a=e.y,s=0;s<t.staffs.length;s++){var o=t.staffs[s];e.moveY(Vl.STEP,o.top),o.absoluteY=e.y,e.showDebug&&(e.showDebug.indexOf("box")>=0&&o.voices&&rle(e,t.voices,o.voices),e.showDebug.indexOf("grid")>=0&&(e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:a,y2:a,stroke:"#0000ff"}),T1(e,{x:e.padding.left,y:e.calcY(o.originalTop),width:e.controller.width,height:e.calcY(o.originalBottom)-e.calcY(o.originalTop),fill:e.foregroundColor,stroke:e.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),i=0,w(o,"chordHeightAbove"),w(o,"chordHeightBelow"),w(o,"dynamicHeightAbove"),w(o,"dynamicHeightBelow"),w(o,"endingHeightAbove"),w(o,"lyricHeightAbove"),w(o,"lyricHeightBelow"),w(o,"partHeightAbove"),w(o,"tempoHeightAbove"),w(o,"volumeHeightAbove"),w(o,"volumeHeightBelow"))),e.moveY(Vl.STEP,-o.bottom),e.showDebug&&e.showDebug.indexOf("grid")>=0&&e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:e.y,y2:e.y,stroke:"#0000aa"})}for(var u,c,f=2,h=0,p=0;p<t.voices.length;p++){var v=t.voices[p].staff,g=t.voices[p].tabNameInfos;if(e.y=v.absoluteY,e.controller.classes.incrVoice(),!t.voices[p].duplicate){if(u||(u=e.calcY(10)),c=e.calcY(f),v.lines!==0){v.linePitch&&(f=v.linePitch),e.controller.classes.newMeasure();var b=Z0e(e,t.startx,t.w,v.lines,v.linePitch,.35);c=b[1],v.bottomLine=c,v.topLine=b[0],v.hasTab&&(h=v.topLine),v.hasStaff&&(h=v.hasStaff.topLine,t.voices[p].barto=!0,t.voices[p].topLine=u)}u7(e,v.absoluteY,t.brace,p,n),u7(e,v.absoluteY,t.bracket,p,n)}Q0e(e,t.voices[p],h,n,{top:a,zero:e.y,height:t.height*Vl.STEP});var y=0;if(g){var x={rows:[]};x.rows.push({absmove:c+2});var _=8;x.rows.push({left:t.startx+_,text:g.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),x.rows.push({move:g.textSize.height}),tle(e,x),y=g.textSize.height}e.controller.classes.newMeasure(),t.voices[p].duplicate||(h=e.calcY(2+y))}e.controller.classes.newMeasure();var E=t.staffs.length;E>1&&(u=t.staffs[0].topLine,c=t.staffs[E-1].bottomLine,ele(e,t.startx,.6,u,c,null)),e.y=a;function w(M,T){var S=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(M.positionY&&M.positionY[T]){var k=M.specialY[T]*Vl.STEP;T==="chordHeightAbove"&&M.specialY.chordLines&&M.specialY.chordLines.above&&(k*=M.specialY.chordLines.above),T==="chordHeightBelow"&&M.specialY.chordLines&&M.specialY.chordLines.below&&(k*=M.specialY.chordLines.below),T1(e,{x:e.padding.left,y:e.calcY(M.positionY[T]),width:e.controller.width,height:k,fill:S[i],stroke:S[i],"fill-opacity":.4,"stroke-opacity":.4},T.substr(0,4)),i+=1,i>6&&(i=0)}}}function u7(e,t,n,r,i){if(n)for(var a=0;a<n.length;a++)n[a].isStartVoice(r)&&(n[a].startY=t-Vl.STEP*10,n[a].elemset=J0e(e,n[a],i))}function rle(e,t,n){for(var r=0;r<n.length;r++)for(var i=t[n[r]].children,a=0;a<i.length;a++){var s=i[a],o=s.getFixedCoords();if(!(s.invisible||o.t===void 0||o.b===void 0)){var u=(o.t-o.b)*Vl.STEP;T1(e,{x:o.x,y:e.calcY(o.t),width:o.w,height:u,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var c=0;c<s.children.length;c++){var f=s.children[c],h=f.getChordDim();if(h){var p=e.calcY(f.pitch);p+=f.dim.font.size*f.getLane(),T1(e,{x:h.left,y:p,width:h.right-h.left,height:f.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}var ile=nle;function ale(e,t,n,r){var i=(t+e.padding.right)*n,a=(e.y+e.padding.bottom)*n;if(e.isPrint&&(a=Math.max(a,1056)),e.ariaLabel!==""){var s="Sheet Music";e.abctune&&e.abctune.metaText&&e.abctune.metaText.title&&(s+=' for "'+e.abctune.metaText.title+'"'),e.paper.setTitle(s);var o=e.ariaLabel?e.ariaLabel:s;e.paper.setAttribute("aria-label",o)}var u=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];e.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+u.join(" ")+"}");var c={overflow:"hidden"};r==="resize"?e.paper.setResponsiveWidth(i,a):(c.width="",c.height=a+"px",n<1?(c.width=i+"px",e.paper.setSize(i/n,a/n)):e.paper.setSize(i,a)),e.paper.setScale(n),e.paper.setParentStyles(c)}var sle=ale,ole=jM,lle=qM;function Yf(e,t,n){this.elements=[],this.paper=e,this.tuneNumber=n,this.selectTypes=t}Yf.prototype.getElements=function(){return this.elements};Yf.prototype.add=function(e,t,n,r){if(this.canSelect(e)){var i;this.selectTypes===void 0?i={selectable:!1,"data-index":this.elements.length}:i={selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(t,i);var a={absEl:e,svgEl:t,isDraggable:n};r!==void 0&&(a.staffPos=r),this.elements.push(a)}};Yf.prototype.canSelect=function(e){return this.selectTypes===!1||!e||!e.abcelem?!1:this.selectTypes===!0?!0:this.selectTypes===void 0?e.abcelem.el_type==="note"||e.abcelem.el_type==="tabNumber":this.selectTypes.indexOf(e.abcelem.el_type)>=0};Yf.prototype.wrapSvgEl=function(e,t){var n={tuneNumber:this.tuneNumber,abcelem:e,elemset:[t],highlight:ole,unhighlight:lle};this.add(n,t,!1)};var cle=Yf,ule=ile,fle=sle,vv=SC,PC=xi,dle=cle;function hle(e,t,n,r,i,a,s,o,u,c){var f=new dle(e.paper,o,u);e.paper.openGroup(),e.moveY(e.padding.top),vv(e,n.topText,f),e.paper.closeGroup(),e.moveY(e.spacing.music);for(var h=[],p=0;p<n.lines.length;p++){t.incrLine();var v=n.lines[p];if(v.staff){e.paper.openGroup(),v.vskip&&e.moveY(v.vskip),h.length>=1&&gle(e,e.spacing.staffSeparation,h[h.length-1],v.staffGroup);var g=ple(e,v.staffGroup,f);g.line=c+p,h.push(g),e.paper.closeGroup()}else v.nonMusic&&(e.paper.openGroup(),vv(e,v.nonMusic,f),e.paper.closeGroup())}return t.reset(),n.bottomText&&n.bottomText.rows&&n.bottomText.rows.length>0&&(e.paper.openGroup(),e.moveY(24),vv(e,n.bottomText,f),e.paper.closeGroup()),fle(e,i,s,a),{staffgroups:h,selectables:f.getElements()}}function ple(e,t,n,r){ule(e,t,n);var i=t.height*PC.STEP;return e.y+=i,t}function gle(e,t,n,r){var i=n.staffs[n.staffs.length-1],a=-(i.bottom-2),s=r.staffs[0].top-10,o=s+a,u=o*PC.STEP;u<t&&e.moveY(t-u)}var vle=hle,mle=xi,ble=Fae,yle=zae,wle=Uae,_le=jae,xle=Kae,Mle=Xae,Cle=Jae,Tle=fse,AC=uoe,Ele=foe,kC=doe,OC=hoe,Sle=vle,Ple=rC,gs=function(e,t){t=t||{},this.oneSvgPerLine=t.oneSvgPerLine,this.selectionColor=t.selectionColor,this.dragColor=t.dragColor?t.dragColor:t.selectionColor,this.dragging=!!t.dragging,this.selectTypes=t.selectTypes,this.responsive=t.responsive,this.space=3*mle.SPACE,this.initialClef=t.initialClef,this.scale=t.scale?parseFloat(t.scale):0,this.classes=new Ele({shouldAddClasses:t.add_classes}),this.scale>.1||(this.scale=void 0),t.staffwidth?(this.staffwidthScreen=t.staffwidth,this.staffwidthPrint=t.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],t.clickListener&&this.addSelectListener(t.clickListener),this.renderer=new yle(e),this.renderer.setPaddingOverride(t),t.showDebug&&(this.renderer.showDebug=t.showDebug),t.jazzchords&&(this.jazzchords=t.jazzchords),t.germanAlphabet&&(this.germanAlphabet=t.germanAlphabet),t.lineThickness&&(this.lineThickness=t.lineThickness),this.renderer.controller=this,this.renderer.foregroundColor=t.foregroundColor?t.foregroundColor:"currentColor",t.ariaLabel!==void 0&&(this.renderer.ariaLabel=t.ariaLabel),this.renderer.minPadding=t.minPadding?t.minPadding:0,this.reset()};gs.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)};gs.prototype.engraveABC=function(e,t,n){e[0]===void 0&&(e=[e]),this.reset();for(var r=0;r<e.length;r++)t===void 0&&(t=r),this.getFontAndAttr=new kC(e[r].formatting,this.classes),this.getTextSize=new OC(this.getFontAndAttr,this.renderer.paper),this.engraveTune(e[r],t,n)};gs.prototype.adjustNonScaledItems=function(e){this.width/=e,this.renderer.adjustNonScaledItems(e)};gs.prototype.getMeasureWidths=function(e){this.reset(),this.getFontAndAttr=new kC(e.formatting,this.classes),this.getTextSize=new OC(this.getFontAndAttr,this.renderer.paper),this.setupTune(e,0),this.constructTuneElements(e),AC(this.renderer,e,0,this.space);for(var t=[],n,r=!0,i=0;i<e.lines.length;i++){var a=e.lines[i];if(a.staff){if(r&&(n={left:0,measureWidths:[],total:0},t.push(n),r=!1),a.staffGroup.voices.length>0)for(var s=a.staffGroup.voices[0],o=!1,u=0,c=0;c<s.children.length;c++){var f=s.children[c];!o&&!f.isClef&&!f.isKeySig&&(o=!0,n.left=f.x,u=f.x),f.type==="bar"&&(n.measureWidths.push(f.x-u),n.total+=f.x-u,u=f.x)}}else r=!0}return t};gs.prototype.setupTune=function(e,t){this.classes.reset(),e.formatting.jazzchords!==void 0&&(this.jazzchords=e.formatting.jazzchords),this.renderer.newTune(e),this.engraver=new ble(this.getTextSize,t,{bagpipes:e.formatting.bagpipes,flatbeams:e.formatting.flatbeams,graceSlurs:e.formatting.graceSlurs!==!1,percmap:e.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=e.getMeterFraction().num/e.getMeterFraction().den,e.formatting.staffwidth?this.width=e.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var n=e.formatting.scale?e.formatting.scale:this.scale;return this.responsive==="resize"&&(n=void 0),n===void 0&&(n=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(n),n};gs.prototype.constructTuneElements=function(e){e.topText=new Mle(e.metaText,e.metaTextInfo,e.formatting,e.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.getTextSize);var t,n,r=!1,i=!1;for(t=0;t<e.lines.length;t++)if(n=e.lines[t],n.staff)i=!0,n.staffGroup=this.engraver.createABCLine(n.staff,r?null:e.metaText.tempo,t),r=!0;else if(n.subtitle){if(i){var a=this.width/2+this.renderer.padding.left;n.nonMusic=new xle(this.renderer.spacing.subtitle,e.formatting,n.subtitle,a,this.renderer.padding.left,this.getTextSize)}}else n.text!==void 0?(i=!0,n.nonMusic=new wle(n.text,n.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):n.separator!==void 0&&n.separator.lineLength&&(i=!0,n.nonMusic=new _le(n.separator.spaceAbove,n.separator.lineLength,n.separator.spaceBelow));e.bottomText=new Cle(e.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.getTextSize)};gs.prototype.engraveTune=function(e,t,n){var r=this.setupTune(e,t);this.constructTuneElements(e);var i=AC(this.renderer,e,this.width,this.space);e.tablatures&&Ple.layoutTablatures(this.renderer,e);var a=Sle(this.renderer,this.classes,e,this.width,i,this.responsive,r,this.selectTypes,t,n);if(this.staffgroups=a.staffgroups,this.selectables=a.selectables,this.oneSvgPerLine){var s=this.renderer.paper.svg.parentNode;this.svgs=Ale(this.renderer,s,e.metaText.title,this.responsive)}else this.svgs=[this.renderer.paper.svg];Tle(this,this.svgs)};function Ale(e,t,n,r){n||(n="Untitled");var i=t.querySelector("svg");r==="resize"&&(t.style.paddingBottom="");for(var a=i.querySelector("style"),s=r==="resize"?i.viewBox.baseVal.width:i.getAttribute("width"),o=t.querySelectorAll("svg > g"),u=0,c=[],f=0;f<o.length;f++){var h=o[f],p=h.getBBox(),v=p.y-u,g=p.height+v,b=document.createElement("div"),y="overflow: hidden;";r!=="resize"&&(y+="height:"+g+"px;"),b.setAttribute("style",y);var x=kle(i),_='Sheet Music for "'+n+'" section '+(f+1);x.setAttribute("aria-label",_),r!=="resize"&&x.setAttribute("height",g),r==="resize"&&(x.style.position="");var E=e.firefox112?g+1:g;x.setAttribute("viewBox","0 "+u+" "+s+" "+E),x.appendChild(a.cloneNode(!0));var w=document.createElement("title");w.innerText=_,x.appendChild(w),x.appendChild(h),b.appendChild(x),c.push(x),t.appendChild(b),u=p.y+p.height}return t.removeChild(i),c}function kle(e){for(var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg"),r=0;r<e.attributes.length;r++){var i=e.attributes[r];i.name!=="height"&&i.name!="aria-label"&&n.setAttribute(i.name,i.value)}return n}gs.prototype.getDim=function(e){if(!e.dim){var t=e.svgEl.getBBox();e.dim={left:Math.round(t.x),top:Math.round(t.y),right:Math.round(t.x+t.width),bottom:Math.round(t.y+t.height)}}return e.dim};gs.prototype.addSelectListener=function(e){this.listeners[this.listeners.length]=e};var Ole=gs,Nle=F3,NC=Ole,Ile=HM,Lle=BM,Wh={};function f7(){var e=window.innerWidth;for(var t in Wh)if(Wh.hasOwnProperty(t)){var n=Wh[t],r=n.offsetLeft;e-=r*2,n.style.width=e+"px"}}try{window.addEventListener("resize",f7),window.addEventListener("orientationChange",f7)}catch{}function IC(e,t,n,r,i){n.viewportHorizontal?(e.innerHTML='<div class="abcjs-inner"></div>',n.scrollHorizontal?(e.style.overflowX="auto",e.style.overflowY="hidden"):e.style.overflow="hidden",Wh[e.id]=e,e=e.children[0]):n.viewportVertical?(e.innerHTML='<div class="abcjs-inner scroll-amount"></div>',e.style.overflowX="hidden",e.style.overflowY="auto",e=e.children[0]):e.innerHTML="";var a=new NC(e,n);if(a.engraveABC(t,r,i),t.engraver=a,n.viewportVertical||n.viewportHorizontal){var s=e.parentNode;s.style.width=e.style.width}}var Ble=function(e,t,n,r,i){var a={},s;if(n){for(s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);a.warnings_id&&a.tablature&&(a.tablature.warning_id=a.warnings_id)}if(r)for(s in r)r.hasOwnProperty(s)&&(s==="listener"?r[s].highlight&&(a.clickListener=r[s].highlight):a[s]=r[s]);if(i)for(s in i)i.hasOwnProperty(s)&&(a[s]=i[s]);function o(u,c,f,h){var p=!1;return u==="*"&&(p=!0,u=document.createElement("div"),u.setAttribute("style","visibility: hidden;"),document.body.appendChild(u)),a.afterParsing&&a.afterParsing(c,f,h),!p&&a.wrap&&a.staffwidth?(c=$le(u,c,f,h,a),c):(IC(u,c,a,f,0),p&&u.parentNode.removeChild(u),null)}return Nle.renderEngine(o,e,t,a)};function $le(e,t,n,r,i){var a=new NC(e,i),s=a.getMeasureWidths(t),o=Lle.calcLineWraps(t,s,i);if(o.reParse){var u=new Ile;u.parse(r,o.revisedParams),t=u.getTune();var c=u.getWarnings();c&&(t.warnings=c)}return IC(e,t,o.revisedParams,n,0),t.explanation=o.explanation,t}var LC=Ble,Rle={},q3=Rle,mv=q3,Fle=function(e,t,n,r){mv[t]||(mv[t]={});var i=mv[t];return i[n]||(i[n]=new Promise(function(a,s){var o=new XMLHttpRequest;let u=e+t+"-mp3/"+n+".mp3";o.open("GET",u,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status!==200){s(Error("Can't load sound at "+u+" status="+o.status));return}var c=function(h){a({instrument:t,name:n,status:"loaded",audioBuffer:h})},f=r.decodeAudioData(o.response,c,function(){s(Error("Can't decode sound at "+u))});f&&typeof f.catch=="function"&&f.catch(s)},o.onerror=function(){s(Error("Can't load sound at "+u))},o.send()}).catch(a=>{throw console.error("Didn't load note",t,n,":",a.message),a})),i[n]},Dle=Fle,Hle=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"],K3=Hle,d7=K3,zle=function(e){for(var t=[],n=0;n<e.tracks.length;n++)t.push([]);var r=d7[0];return e.tracks.forEach(function(i,a){i.forEach(function(s){switch(s.cmd){case"note":if(s.duration>0){var o=s.gap?s.gap:0,u=s.duration;o=Math.min(o,u*2/3);var c={pitch:s.pitch,instrument:r,start:Math.round(s.start*1e6)/1e6,end:Math.round((s.start+u-o)*1e6)/1e6,volume:s.volume};s.startChar&&(c.startChar=s.startChar),s.endChar&&(c.endChar=s.endChar),s.style&&(c.style=s.style),s.cents&&(c.cents=s.cents),t[a].push(c)}break;case"program":r=d7[s.instrument];break;case"text":break;default:console.log("Unhandled midi event",s)}})}),t},Vle=zle;function Ule(e){if(e)window.abcjsAudioContext=e;else if(!window.abcjsAudioContext){var t=window.AudioContext||window.webkitAudioContext;if(t)window.abcjsAudioContext=new t;else return!1}return window.abcjsAudioContext.state!=="suspended"}var wp=Ule,Wle=wp;function jle(){return window.abcjsAudioContext||Wle(),window.abcjsAudioContext}var Ac=jle,qle=Ac;function Kle(){if(!window.Promise||!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var e=qle();if(e)return e.resume!==void 0}var _p=Kle,Gle={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"},G3=Gle,Yle=function(e){return window.URL.createObjectURL(Xle(e.audioBuffers))};function Xle(e){var t=e[0],n=t.numberOfChannels,r=t.length*n*2+44,i=new ArrayBuffer(r),a=new DataView(i),s=[],o,u,c=0,f=0;for(p(1179011410),p(r-8),p(1163280727),p(544501094),p(16),h(1),h(n),p(t.sampleRate),p(t.sampleRate*2*n),h(n*2),h(16),p(1635017060),p(r-f-4),o=0;o<n;o++)s.push(t.getChannelData(o));for(;f<r;){for(o=0;o<s.length;o++)u=Math.max(-1,Math.min(1,s[o][c])),u=(.5+u<0?u*32768:u*32767)|0,a.setInt16(f,u,!0),f+=2;c++}return new Blob([i],{type:"audio/wav"});function h(v){a.setUint16(f,v,!0),f+=2}function p(v){a.setUint32(f,v,!0),f+=4}}var Jle=Yle;function Qle(e){return Math.pow(2,e/1200)}var BC=Qle,Zle=q3,ece=G3,tce=BC;function nce(e,t,n,r,i,a,s,o,u){var c=window.OfflineAudioContext||window.webkitOfflineAudioContext,f=n.len*n.tempoMultiplier;a&&(f+=a/1e3),f-=o,f<0&&(f=.005);var h=new c(2,Math.floor((f+s)*t),t),p=ece[n.pitch],v=Zle[n.instrument][p];return v?v.then(function(g){var b=h.createBufferSource();b.buffer=g.audioBuffer;var y=n.volume/96*i;b.gainNode=h.createGain(),n.pan&&h.createStereoPanner&&(b.panNode=h.createStereoPanner(),b.panNode.pan.setValueAtTime(n.pan,0)),b.gainNode.gain.value=y,b.gainNode.gain.linearRampToValueAtTime(b.gainNode.gain.value,f),b.gainNode.gain.linearRampToValueAtTime(0,f+s),n.cents&&(b.playbackRate.value=tce(n.cents)),b.panNode?(b.panNode.connect(h.destination),b.gainNode.connect(b.panNode)):b.gainNode.connect(h.destination),b.connect(b.gainNode),b.start(0),b.noteOff?b.noteOff(f+s):b.stop(f+s);var x;return h.oncomplete=function(_){if(_.renderedBuffer&&_.renderedBuffer.getChannelData)for(var E=0;E<r.length;E++){var w=r[E]*n.tempoMultiplier;a&&(w-=a/1e3),w<0&&(w=0),w=Math.floor(w*t),rce(e,_.renderedBuffer,w)}u&&u("placeNote: "+n.instrument+":"+p),x()},h.startRendering(),new Promise(function(_){x=_})}).catch(function(g){return u&&u("placeNote catch: "+g.message),Promise.resolve()}):(u&&u("placeNote skipped: "+n.instrument+":"+p),Promise.resolve())}var rce=function(e,t,n){for(var r=0;r<2;r++)for(var i=t.getChannelData(r),a=e.getChannelData(r),s=0;s<i.length;s++)a[s+n]+=i[s]},ice=nce,ace=Dle,sce=Vle,oce=wp,Gn=Ac,lce=_p,cce=G3,bv=K3,uce=Jle,fce=ice,h7=q3,_0="MIDI is not supported in this browser.",p7="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",g7="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",dce="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function hce(){var e=this;e.audioBufferPossible=void 0,e.directSource=[],e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.audioBuffers=[],e.duration=void 0,e.isRunning=!1,e.init=function(n){n||(n={}),oce(n.audioContext);var r=Gn().currentTime;if(e.debugCallback=n.debugCallback,e.debugCallback&&e.debugCallback("init called"),e.audioBufferPossible=e._deviceCapable(),!e.audioBufferPossible)return Promise.reject({status:"NotSupported",message:_0});var i=n.options?n.options:{};e.soundFontUrl=i.soundFontUrl?i.soundFontUrl:g7,e.soundFontUrl[e.soundFontUrl.length-1]!=="/"&&(e.soundFontUrl+="/"),i.soundFontVolumeMultiplier||i.soundFontVolumeMultiplier===0?e.soundFontVolumeMultiplier=i.soundFontVolumeMultiplier:e.soundFontUrl===g7||e.soundFontUrl===dce?e.soundFontVolumeMultiplier=3:e.soundFontUrl===p7?e.soundFontVolumeMultiplier=.4:e.soundFontVolumeMultiplier=1,i.programOffsets?e.programOffsets=i.programOffsets:e.soundFontUrl===p7?e.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:e.programOffsets={};var a=i.fadeLength!==void 0?parseInt(i.fadeLength,10):NaN;if(e.fadeLength=isNaN(a)?200:a,a=i.noteEnd!==void 0?parseInt(i.noteEnd,10):NaN,e.noteEnd=isNaN(a)?0:a,e.pan=i.pan,e.meterSize=1,n.visualObj){e.flattened=n.visualObj.setUpAudio(i);var s=n.visualObj.getMeterFraction();s.den&&(e.meterSize=n.visualObj.getMeterFraction().num/n.visualObj.getMeterFraction().den)}else if(n.sequence)e.flattened=n.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));e.millisecondsPerMeasure=n.millisecondsPerMeasure?n.millisecondsPerMeasure:n.visualObj?n.visualObj.millisecondsPerMeasure(e.flattened.tempo):1e3,e.beatsPerMeasure=n.visualObj?n.visualObj.getBeatsPerMeasure():4,e.sequenceCallback=i.sequenceCallback,e.callbackContext=i.callbackContext,e.onEnded=i.onEnded;var o={},u=[],c=[],f=bv[0];e.flattened.tracks.forEach(function(b){b.forEach(function(y){if(y.cmd==="program"&&bv[y.instrument]&&(f=bv[y.instrument]),y.pitch!==void 0){var x=y.pitch,_=cce[x];if(_)if(o[f]||(o[f]={}),!h7[f]||!h7[f][_])o[f][_]=!0;else{var E=f+":"+_;u.indexOf(E)<0&&u.push(E)}else{var w=f+":"+_;console.log("Can't find note: ",x,w),c.indexOf(w)<0&&c.push(w)}}})}),e.debugCallback&&e.debugCallback("note gathering time = "+Math.floor((Gn().currentTime-r)*1e3)+"ms"),r=Gn().currentTime;var h=[];Object.keys(o).forEach(function(b){Object.keys(o[b]).forEach(function(y){h.push({instrument:b,note:y})})}),e.debugCallback&&e.debugCallback("notes "+JSON.stringify(h));for(var p=[],v=256,g=0;g<h.length;g+=v)p.push(h.slice(g,g+v));return new Promise(function(b,y){var x={cached:u,error:c,loaded:[]},_=0,E=function(){e.debugCallback&&e.debugCallback("loadBatch idx="+_+" len="+p.length),_<p.length?e._loadBatch(p[_],e.soundFontUrl,r).then(function(w){e.debugCallback&&e.debugCallback("loadBatch then"),r=Gn().currentTime,w&&(w.error&&(x.error=x.error.concat(w.error)),w.loaded&&(x.loaded=x.loaded.concat(w.loaded))),_++,E()},y):(e.debugCallback&&e.debugCallback("resolve init"),b(x))};E()})},e._loadBatch=function(n,r,i,a){var s=[];return n.forEach(function(o){e.debugCallback&&e.debugCallback("getNote "+o.instrument+":"+o.note),s.push(ace(r,o.instrument,o.note,Gn()))}),Promise.all(s).then(function(o){e.debugCallback&&e.debugCallback("mp3 load time = "+Math.floor((Gn().currentTime-i)*1e3)+"ms");for(var u=[],c=[],f=[],h=[],p=0;p<o.length;p++){var v=o[p],g=v.instrument+":"+v.name;v.status==="loaded"?u.push(g):v.status==="pending"?f.push(g):v.status==="cached"?c.push(g):h.push(g+" "+v.message)}if(f.length>0){if(e.debugCallback&&e.debugCallback("pending "+JSON.stringify(f)),a?a=a*2:a=50,a<9e4)return new Promise(function(x,_){setTimeout(function(){var E=[];for(p=0;p<f.length;p++)g=f[p].split(":"),E.push({instrument:g[0],note:g[1]});e.debugCallback&&e.debugCallback("retry "+JSON.stringify(E)),e._loadBatch(E,r,i,a).then(function(w){x(w)}).catch(function(w){_(w)})},a)});for(var b=[],y=0;y<n.length;y++)b.push(n[y].instrument+"/"+n[y].note);return e.debugCallback&&e.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+b.join(", ")))}else return e.debugCallback&&e.debugCallback("loadBatch resolve"),Promise.resolve({loaded:u,cached:c,error:h})}).catch(function(o){e.debugCallback&&e.debugCallback("loadBatch catch "+o.message)})},e.prime=function(){var n=e.fadeLength/1e3;return e.isRunning=!1,e.audioBufferPossible?(e.debugCallback&&e.debugCallback("prime called"),new Promise(function(r){var i=Gn().currentTime,a=e.millisecondsPerMeasure/1e3/e.meterSize;if(e.duration=e.flattened.totalDuration*a,e.duration<=0)return e.audioBuffers=[],r({status:"empty",seconds:0});e.duration+=n;var s=Math.floor(Gn().sampleRate*e.duration);e.stop();var o=sce(e.flattened);e.sequenceCallback&&e.sequenceCallback(o,e.callbackContext);var u=t(o.length,e.pan),c={};o.forEach(function(x,_){var E=u&&u.length>_?u[_]:0;x.forEach(function(w){var M=w.instrument+":"+w.pitch+":"+w.volume+":"+Math.round((w.end-w.start)*1e3)/1e3+":"+E+":"+a+":"+(w.cents?w.cents:0);e.debugCallback&&e.debugCallback("noteMapTrack "+M),c[M]||(c[M]=[]),c[M].push(w.start)})});for(var f=[],h=Gn().createBuffer(2,s,Gn().sampleRate),p=0;p<Object.keys(c).length;p++){var v=Object.keys(c)[p],g=v.split(":"),b=g[6]!==void 0?parseFloat(g[6]):0;g={instrument:g[0],pitch:parseInt(g[1],10),volume:parseInt(g[2],10),len:parseFloat(g[3]),pan:parseFloat(g[4]),tempoMultiplier:parseFloat(g[5]),cents:b},f.push(fce(h,Gn().sampleRate,g,c[v],e.soundFontVolumeMultiplier,e.programOffsets[g.instrument],n,e.noteEnd/1e3,e.debugCallback))}e.audioBuffers=[h],e.debugCallback&&(e.debugCallback("sampleRate = "+Gn().sampleRate),e.debugCallback("totalSamples = "+s),e.debugCallback("creationTime = "+Math.floor((Gn().currentTime-i)*1e3)+"ms"));function y(x){var _=x&&x.audioBuffers&&x.audioBuffers.length>0?x.audioBuffers[0].duration:0;return{status:Gn().state,duration:_}}Promise.all(f).then(function(){Gn().state==="suspended"?Gn().resume().then(function(){r(y(e))}):Gn().state==="interrupted"?Gn().suspend().then(function(){Gn().resume().then(function(){r(y(e))})}):r(y(e))})})):Promise.reject(new Error(_0))};function t(n,r){if(r==null)return null;var i=[];if(r.length){for(var a=0;a<n;a++)if(a<r.length){var s=parseFloat(r[a]);s<-1?s=-1:s>1&&(s=1),i.push(s)}else i.push(0);return i}else{var o=parseFloat(r);if(o*(n-1)>2)return null;for(var u=n%2===0,c=u?0-o/2:0,f=c+o,h=0;h<n;h++)u=h%2===0,u?(i.push(c),c-=o):(i.push(f),f+=o);return i}}e.start=function(){if(!e.audioBufferPossible)throw new Error(_0);e.debugCallback&&e.debugCallback("start called");var n=e.pausedTimeSec?e.pausedTimeSec:0;e._kickOffSound(n),e.startTimeSec=Gn().currentTime-n,e.pausedTimeSec=void 0,e.debugCallback&&e.debugCallback("MIDI STARTED",e.startTimeSec)},e.pause=function(){if(!e.audioBufferPossible)throw new Error(_0);return e.debugCallback&&e.debugCallback("pause called"),e.pausedTimeSec=e.stop(),e.pausedTimeSec},e.resume=function(){e.start()},e.seek=function(n,r){var i;switch(r){case"seconds":i=n;break;case"beats":i=n*e.millisecondsPerMeasure/e.beatsPerMeasure/1e3;break;default:i=(e.duration-e.fadeLength/1e3)*n;break}if(!e.audioBufferPossible)throw new Error(_0);e.debugCallback&&e.debugCallback("seek called sec="+i),e.isRunning?(e.stop(),e._kickOffSound(i)):e.pausedTimeSec=i,e.pausedTimeSec=i},e.stop=function(){e.isRunning=!1,e.pausedTimeSec=void 0,e.directSource.forEach(function(r){try{r.stop()}catch(i){console.log("direct source didn't stop:",i)}}),e.directSource=[];var n=Gn().currentTime-e.startTimeSec;return n},e.finished=function(){e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.isRunning=!1},e.download=function(){return uce(e)},e.getAudioBuffer=function(){return e.audioBuffers[0]},e._deviceCapable=function(){return lce()?!0:(console.warn(_0),e.debugCallback&&e.debugCallback(_0),!1)},e._kickOffSound=function(n){e.isRunning=!0,e.directSource=[],e.audioBuffers.forEach(function(r,i){e.directSource[i]=Gn().createBufferSource(),e.directSource[i].buffer=r,e.directSource[i].connect(Gn().destination)}),e.directSource.forEach(function(r){r.start(0,n)}),e.onEnded&&(e.directSource[0].onended=function(){e.onEnded(e.callbackContext)})}}var Y3=hce,pce=function(){var e=this;e.tracks=[],e.totalDuration=0,e.currentInstrument=[],e.starts=[],e.addTrack=function(){return e.tracks.push([]),e.currentInstrument.push(0),e.starts.push(0),e.tracks.length-1},e.setInstrument=function(t,n){e.tracks[t].push({channel:0,cmd:"program",instrument:n}),e.currentInstrument[t]=n},e.appendNote=function(t,n,r,i,a){var s={cmd:"note",duration:r,gap:0,instrument:e.currentInstrument[t],pitch:n,start:e.starts[t],volume:i};a&&(s.cents=a),e.tracks[t].push(s),e.starts[t]+=r,e.totalDuration=Math.max(e.totalDuration,e.starts[t])}},$C=pce,gce=`
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
	<g transform="translate(0,700) scale(0.1,-0.1)" >
	<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55
	-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128
	-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79
	-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60
	-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507
	-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21
	-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12
	-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33
	-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0
	-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51
	153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48
	107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57
	74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52
	100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45
	143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29
	165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34
	115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33
	-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90
	-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138
	115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191
	50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21
	7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17
	-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10
	-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66
	50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73
	39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53
	-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43
	-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339
	-19z"></path>
	<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0
	-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72
	l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279
	268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74
	-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19
	-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31
	93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59
	62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89
	89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146
	67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56
	31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64
	48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22
	25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14
	18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50
	47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138
	-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10
	-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20
	-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19
	-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25
	-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18
	-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11
	-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168
	16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71
	37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108
	63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65
	61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86
	12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030
	0 -1086 -11z"></path>
	</g>
</svg>
`,vce=gce,mce=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>
`,bce=mce,yce=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>
`,wce=yce,_ce=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>
`,xce=_ce,Mce=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>
`,Cce=Mce,Tce=_p,RC=wp,nf=Ac,Ece=_i,Sce=vce,Pce=bce,Ace=wce,kce=xce,Oce=Cce;function Nce(e,t){var n=this;if(typeof e=="string"){var r=e;if(e=document.querySelector(r),!e)throw new Error('Cannot find element "'+r+'" in the DOM.')}else if(!(e instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(n.parent=e,n.options={},t&&(n.options=Ece.clone(t)),n.options.ac&&RC(n.options.ac),Ice(n.parent,n.options),Lce(n),n.disable=function(a){var s=n.parent.querySelector(".abcjs-inline-audio");a?s.classList.add("abcjs-disabled"):s.classList.remove("abcjs-disabled")},n.setWarp=function(a,s){var o=n.parent.querySelector(".abcjs-midi-tempo");o.value=Math.round(s),n.setTempo(a)},n.setTempo=function(a){var s=n.parent.querySelector(".abcjs-midi-current-tempo");s&&(s.innerHTML=Math.round(a))},n.resetAll=function(){for(var a=n.parent.querySelectorAll(".abcjs-pushed"),s=0;s<a.length;s++){var o=a[s];o.classList.remove("abcjs-pushed")}},n.pushPlay=function(a){var s=n.parent.querySelector(".abcjs-midi-start");s&&(a?s.classList.add("abcjs-pushed"):s.classList.remove("abcjs-pushed"))},n.pushLoop=function(a){var s=n.parent.querySelector(".abcjs-midi-loop");s&&(a?s.classList.add("abcjs-pushed"):s.classList.remove("abcjs-pushed"))},n.setProgress=function(a,s){var o=n.parent.querySelector(".abcjs-midi-progress-background"),u=n.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!o||!u)){var c=o.clientWidth,f=c*a;u.style.left=f+"px";var h=n.parent.querySelector(".abcjs-midi-clock");if(h){var p=s*a/1e3,v=Math.floor(p/60),g=Math.floor(p%60),b=g<10?"0"+g:g;h.innerHTML=v+":"+b}}},n.options.afterResume){var i=!1;n.options.ac?i=n.options.ac.state!=="suspended":nf()&&(i=nf().state!=="suspended"),i&&n.options.afterResume()}}function Ice(e,t){var n=!!t.loopHandler,r=!!t.restartHandler,i=!!t.playHandler||!!t.playPromiseHandler,a=!!t.progressHandler,s=!!t.warpHandler,o=t.hasClock!==!1,u=`<div class="abcjs-inline-audio">
`;if(n){var c=t.repeatTitle?t.repeatTitle:"Click to toggle play once/repeat.",f=t.repeatAria?t.repeatAria:c;u+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+c+'" aria-label="'+f+'">'+Sce+`</button>
`}if(r){var h=t.restartTitle?t.restartTitle:"Click to go to beginning.",p=t.restartAria?t.restartAria:h;u+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+h+'" aria-label="'+p+'">'+Oce+`</button>
`}if(i){var v=t.playTitle?t.playTitle:"Click to play/pause.",g=t.playAria?t.playAria:v;u+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+v+'" aria-label="'+g+'">'+Pce+Ace+kce+`</button>
`}if(a){var b=t.randomTitle?t.randomTitle:"Click to change the playback position.",y=t.randomAria?t.randomAria:b;u+='<button type="button" class="abcjs-midi-progress-background" title="'+b+'" aria-label="'+y+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(o&&(u+=`<span class="abcjs-midi-clock"></span>
`),s){var x=t.warpTitle?t.warpTitle:"Change the playback speed.",_=t.warpAria?t.warpAria:x,E=t.bpm?t.bpm:"BPM";u+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+x+'" aria-label="'+_+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+E+`)</span></span>
`}u+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',u+=`</div>
`,e.innerHTML=u}function Su(e,t,n,r,i){var a=!0;if(nf()?a=nf().state==="suspended":RC(),!Tce())throw{status:"NotSupported",message:"This browser does not support audio."};(a||i)&&n&&n.classList.add("abcjs-loading"),a?nf().resume().then(function(){r?r().then(function(s){yv(e,t,n,i)}):yv(e,t,n,i)}):yv(e,t,n,i)}function yv(e,t,n,r){r?e(t).then(function(){n&&n.classList.remove("abcjs-loading")}):(e(t),n&&n.classList.remove("abcjs-loading"))}function Lce(e){var t=!!e.options.loopHandler,n=!!e.options.restartHandler,r=!!e.options.playHandler||!!e.options.playPromiseHandler,i=!!e.options.progressHandler,a=!!e.options.warpHandler,s=e.parent.querySelector(".abcjs-midi-start");t&&e.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(o){Su(e.options.loopHandler,o,s,e.options.afterResume)}),n&&e.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(o){Su(e.options.restartHandler,o,s,e.options.afterResume)}),r&&s.addEventListener("click",function(o){Su(e.options.playPromiseHandler||e.options.playHandler,o,s,e.options.afterResume,!!e.options.playPromiseHandler)}),i&&e.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(o){Su(e.options.progressHandler,o,s,e.options.afterResume)}),a&&e.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(o){Su(e.options.warpHandler,o,s,e.options.afterResume)})}var FC=Nce,Bce=$C,$ce=Y3,Rce=Ac;function Fce(e,t,n){for(var r=new Bce,i=0;i<e.length;i++){var a=e[i],s=r.addTrack();if(r.setInstrument(s,a.instrument),i===0&&t)for(var o=0;o<t.length;o++){var u=t[o];r.appendNote(s,u.pitch,1/64,u.volume,u.cents)}r.appendNote(s,a.pitch,a.duration,a.volume,a.cents)}var c=Rce();return c.state==="suspended"?c.resume().then(function(){return v7(r,n)}):v7(r,n)}function v7(e,t){var n=new $ce;return n.init({sequence:e,millisecondsPerMeasure:t}).then(function(){return n.prime()}).then(function(){return n.start(),Promise.resolve()})}var Dce=Fce,Hce=FC,zce=Y3,Vce=C3,m7=Ac;function Uce(){var e=this;e.warp=100,e.cursorControl=null,e.visualObj=null,e.timer=null,e.midiBuffer=null,e.options=null,e.currentTempo=null,e.control=null,e.isLooping=!1,e.isStarted=!1,e.isLoaded=!1,e.isLoading=!1,e.load=function(n,r,i){i||(i={}),e.control=new Hce(n,{loopHandler:i.displayLoop?e.toggleLoop:void 0,restartHandler:i.displayRestart?e.restart:void 0,playPromiseHandler:i.displayPlay?e.play:void 0,progressHandler:i.displayProgress?e.randomAccess:void 0,warpHandler:i.displayWarp?e.onWarp:void 0,afterResume:e.init}),e.cursorControl=r,e.disable(!0)},e.disable=function(n){e.control&&e.control.disable(n)},e.setTune=function(n,r,i){return e.visualObj=n,e.disable(!1),e.options=i,e.control&&(e.pause(),e.setProgress(0,1),e.control.resetAll(),e.restart(),e.isStarted=!1),e.isLooping=!1,r?e.go():Promise.resolve({status:"no-audio-context"})},e.go=function(){e.isLoading=!0;var n=e.visualObj.millisecondsPerMeasure()*100/e.warp;e.currentTempo=Math.round(e.visualObj.getBeatsPerMeasure()/n*6e4),e.control&&e.control.setTempo(e.currentTempo),e.percent=0;var r;return e.midiBuffer||(e.midiBuffer=new zce),m7().resume().then(function(i){return e.midiBuffer.init({visualObj:e.visualObj,options:e.options,millisecondsPerMeasure:n})}).then(function(i){return r=i,e.midiBuffer.prime()}).then(function(){var i=16;return e.cursorControl&&e.cursorControl.beatSubdivisions!==void 0&&parseInt(e.cursorControl.beatSubdivisions,10)>=1&&parseInt(e.cursorControl.beatSubdivisions,10)<=64&&(i=parseInt(e.cursorControl.beatSubdivisions,10)),e.timer=new Vce(e.visualObj,{beatCallback:e.beatCallback,eventCallback:e.eventCallback,lineEndCallback:e.lineEndCallback,qpm:e.currentTempo,extraMeasuresAtBeginning:e.cursorControl?e.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:e.cursorControl?e.cursorControl.lineEndAnticipation:0,beatSubdivisions:i}),e.cursorControl&&e.cursorControl.onReady&&typeof e.cursorControl.onReady=="function"&&e.cursorControl.onReady(e),e.isLoaded=!0,e.isLoading=!1,Promise.resolve({status:"created",notesStatus:r})})},e.destroy=function(){e.timer&&(e.timer.reset(),e.timer.stop(),e.timer=null),e.midiBuffer&&(e.midiBuffer.stop(),e.midiBuffer=null),e.setProgress(0,1),e.control&&e.control.resetAll()},e.play=function(){return e.runWhenReady(e._play,void 0)};function t(n){return new Promise(function(r){setTimeout(r,n)})}e.runWhenReady=function(n,r){return e.visualObj?e.isLoading?t(500).then(function(){return e.isLoading?e.runWhenReady(n,r):n(r)}):e.isLoaded?n(r):e.go().then(function(){return n(r)}):Promise.resolve({status:"loading"})},e._play=function(){return m7().resume().then(function(){return e.isStarted=!e.isStarted,e.isStarted?(e.cursorControl&&e.cursorControl.onStart&&typeof e.cursorControl.onStart=="function"&&e.cursorControl.onStart(),e.midiBuffer.start(),e.timer.start(e.percent),e.control&&e.control.pushPlay(!0)):e.pause(),Promise.resolve({status:"ok"})})},e.pause=function(){e.timer&&(e.timer.pause(),e.midiBuffer.pause(),e.control&&e.control.pushPlay(!1))},e.toggleLoop=function(){e.isLooping=!e.isLooping,e.control&&e.control.pushLoop(e.isLooping)},e.restart=function(){e.timer&&(e.timer.setProgress(0),e.midiBuffer.seek(0))},e.randomAccess=function(n){return e.runWhenReady(e._randomAccess,n)},e._randomAccess=function(n){var r=n.target.classList.contains("abcjs-midi-progress-indicator")?n.target.parentNode:n.target,i=(n.x-r.offsetLeft)/r.offsetWidth;return i<0&&(i=0),i>1&&(i=1),e.seek(i),Promise.resolve({status:"ok"})},e.seek=function(n,r){e.timer&&e.midiBuffer&&(e.timer.setProgress(n,r),e.midiBuffer.seek(n,r))},e.setWarp=function(n){if(parseInt(n,10)>0){e.warp=parseInt(n,10);var r=e.isStarted,i=e.percent;return e.destroy(),e.isStarted=!1,e.go().then(function(){return e.setProgress(i,e.midiBuffer.duration*1e3),e.control&&e.control.setWarp(e.currentTempo,e.warp),r?e.play().then(function(){return e.seek(i),Promise.resolve()}):(e.seek(i),Promise.resolve())})}return Promise.resolve()},e.onWarp=function(n){var r=n.target.value;return e.setWarp(r)},e.setProgress=function(n,r){e.percent=n,e.control&&e.control.setProgress(n,r)},e.finished=function(){if(e.timer.reset(),e.isLooping)return e.timer.start(0),e.midiBuffer.finished(),e.midiBuffer.start(),"continue";e.timer.stop(),e.isStarted&&(e.control&&e.control.pushPlay(!1),e.isStarted=!1,e.midiBuffer.finished(),e.cursorControl&&e.cursorControl.onFinished&&typeof e.cursorControl.onFinished=="function"&&e.cursorControl.onFinished(),e.setProgress(0,1))},e.beatCallback=function(n,r,i,a){var s=n/r;e.setProgress(s,i),e.cursorControl&&e.cursorControl.onBeat&&typeof e.cursorControl.onBeat=="function"&&e.cursorControl.onBeat(n,r,i,a)},e.eventCallback=function(n){if(n)e.cursorControl&&e.cursorControl.onEvent&&typeof e.cursorControl.onEvent=="function"&&e.cursorControl.onEvent(n);else return e.finished()},e.lineEndCallback=function(n,r){e.cursorControl&&e.cursorControl.onLineEnd&&typeof e.cursorControl.onLineEnd=="function"&&e.cursorControl.onLineEnd(n,r)},e.getUrl=function(){return e.midiBuffer.download()},e.download=function(n){var r=e.getUrl(),i=document.createElement("a");document.body.appendChild(i),i.setAttribute("style","display: none;"),i.href=r,i.download=n||"output.wav",i.click(),window.URL.revokeObjectURL(r),document.body.removeChild(i)}}var DC=Uce,Wce=BC,HC;(function(){function e(f,h){for(var p in h)h.hasOwnProperty(p)&&f.setAttribute(p,h[p]);return f}function t(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}t.prototype.setTempo=function(f){this.trackcount===0&&(this.startTrack(),this.track+="%00%FF%51%03"+o(Math.round(6e7/f),6),this.endTrack())},t.prototype.setGlobalInfo=function(f,h,p,v){if(this.trackcount===0){this.startTrack();var g=Math.round(6e7/f);this.track+="%00%FF%51%03"+o(g,6),p&&(this.track+=i(p)),v&&(this.track+=a(v)),h&&(this.track+=r(h,"%01")),this.endTrack()}},t.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},t.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var f=o(this.track.length/3+4,8);this.track="MTrk"+f+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},t.prototype.setText=function(f,h){switch(f){case"name":this.trackName=r(h,"%03");break}},t.prototype.setInstrument=function(f){this.trackInstrument="%00%C0"+o(f,2),this.instrument=f},t.prototype.setChannel=function(f,h){this.channel=f;var p="%00%B"+this.channel.toString(16);this.track+=p+"%79%00",this.track+=p+"%40%00",this.track+=p+"%5B%30",h||(h=0),h=Math.round((h+1)*64),this.track+=p+"%0A"+o(h,2),this.track+=p+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var n=4096;t.prototype.startNote=function(f,h,p){if(this.track+=c(this.silencelength),this.silencelength=0,p){this.track+="%e"+this.channel.toString(16);var v=Math.round(Wce(p)*n);this.track+=u(8192+v),this.track+=c(0),this.noteWarped[f]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+f.toString(16)+o(h,2)},t.prototype.endNote=function(f){this.track+=c(this.silencelength),this.silencelength=0,this.noteWarped[f]&&(this.track+="%e"+this.channel.toString(16),this.track+=u(8192),this.track+=c(0),this.noteWarped[f]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+f.toString(16)+"%00"},t.prototype.addRest=function(f){this.silencelength+=f,this.silencelength<0&&(this.silencelength=0)},t.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+o(this.trackcount,4)+"%01%e0"+this.trackstrings},t.prototype.embed=function(f,h){var p=this.getData(),v=e(document.createElement("a"),{href:p});if(v.innerHTML="download midi",f.insertBefore(v,f.firstChild),!h){var g=e(document.createElement("embed"),{src:p,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});f.insertBefore(g,f.firstChild)}};function r(f,h){for(var p="",v=0;v<f.length;v++)p+=o(f.charCodeAt(v),2);return"%00%FF"+h+o(p.length/3,2)+p}function i(f){if(!f||!f.accidentals)return"";for(var h="%00%FF%59%02",p=0,v=256,g=0;g<f.accidentals.length;g++)f.accidentals[g].acc==="sharp"?p++:f.accidentals[g].acc==="flat"&&v--;var b=o(v!==256?v:p,2),y=f.mode==="m"?"%01":"%00";return h+b+y}function a(f){var h="%00%FF%58%04"+o(f.num,2),p={1:0,2:1,4:2,8:3,16:4,32:5},v=p[f.den];if(!v)return"";h+=o(v,2);var g;switch(f.num+"/"+f.den){case"2/4":case"3/4":case"4/4":case"5/4":g=24;break;case"6/4":g=72;break;case"2/2":case"3/2":case"4/2":g=48;break;case"3/8":case"6/8":case"9/8":case"12/8":g=36;break}return g?(h+=o(g,2),h+"%08"):""}function s(f){for(var h="",p=0;p<f.length;p+=2)h+="%",h+=f.substr(p,2);return h}function o(f,h){var p=f.toString(16);for(p=p.split(".")[0];p.length<h;)p="0"+p;return p.length>h&&(p=p.substring(0,h)),s(p)}function u(f){f=Math.round(f);var h=f%128,p=f-h;return o(p*2+h,4)}function c(f){var h=0,p=[];for(f=Math.round(f);f!==0;)p.push(f&127),f=f>>7;for(var v=p.length-1;v>=0;v--){h=h<<8;var g=p[v];v!==0&&(g=g|128),h=h|g}var b=h.toString(16).length;return b+=b%2,o(h,b)}HC=function(){return new t}})();var jce=HC,qce=jce,zC;(function(){var e=1920;zC=function(n,r){r===void 0&&(r={});var i=n.setUpAudio(r),a=qce(),s=n.metaText?n.metaText.title:void 0;s&&s.length>128&&(s=s.substring(0,124)+"...");var o=n.getKeySignature(),u=n.getMeterFraction(),c=i.tempo/60;a.setGlobalInfo(i.tempo,s,o,u);for(var f=0;f<i.tracks.length;f++){a.startTrack();for(var h={},p=0;p<i.tracks[f].length;p++){var v=i.tracks[f][p];switch(v.cmd){case"text":a.setText(v.type,v.text);break;case"program":var g=0;r.pan&&r.pan.length>f&&(g=r.pan[f]),v.instrument===128?(a.setChannel(9,g),a.setInstrument(0)):(a.setChannel(v.channel,g),a.setInstrument(v.instrument));break;case"note":var b=v.gap*c,y=v.start,x=y+v.duration-b;h[y]||(h[y]=[]),h[y].push({pitch:v.pitch,volume:v.volume,cents:v.cents}),h[x]||(h[x]=[]),h[x].push({pitch:v.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+v.cmd)}}t(a,h,e),a.endTrack()}return a.getData()};function t(n,r,i){for(var a=Object.keys(r),s=0;s<a.length;s++)a[s]=parseFloat(a[s]);a.sort(function(v,g){return v-g});for(var o=0,u=0;u<a.length;u++){var c=r[a[u]];if(a[u]>o){var f=(a[u]-o)*i;n.addRest(f),o=a[u]}for(var h=0;h<c.length;h++){var p=c[h];p.volume?n.startNote(p.pitch,p.volume,p.cents):n.endNote(p.pitch)}}}})();var Kce=zC,Gce=F3,Yce=Kce,Xce=function(e,t){var n={};if(t)for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.generateInline=!1;function i(a,s,o){var u=Yce(s,n);switch(n.midiOutputType){case"encoded":return u;case"binary":var c=u.replace("data:audio/midi,","");c=c.replace(/MThd/g,"%4d%54%68%64"),c=c.replace(/MTrk/g,"%4d%54%72%6b");for(var f=new ArrayBuffer(c.length/3),h=new Uint8Array(f),p=0;p<c.length/3;p++){var v=p*3+1,g=parseInt(c.substring(v,v+2),16);h[p]=g}return h;case"link":default:return Qce(s,n,u,o)}}return typeof e=="string"?Gce.renderEngine(i,"*",e,n):i(null,e,0)};function Jce(e){var t={};return e&&t.toString.call(e)==="[object Function]"}var Qce=function(e,t,n,r){var i=["abcjs-download-midi","abcjs-midi-"+r];t.downloadClass&&i.push(t.downloadClass);var a='<div class="'+i.join(" ")+'">';t.preTextDownload&&(a+=t.preTextDownload);var s=e.metaText&&e.metaText.title?e.metaText.title:"Untitled",o;t.downloadLabel&&Jce(t.downloadLabel)?o=t.downloadLabel(e,r):t.downloadLabel?o=t.downloadLabel.replace(/%T/,s):o='Download MIDI for "'+s+'"',s=s.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var u=t.fileName?t.fileName:s+".midi";return a+='<a download="'+u+'" href="'+n+'">'+o+"</a>",t.postTextDownload&&(a+=t.postTextDownload),a+"</div>"},Zce=Xce;try{if(typeof window.CustomEvent!="function"){var b7=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};b7.prototype=window.Event.prototype,window.CustomEvent=b7}}catch{}var Yo=function(e){this.textarea=document.getElementById(e),this.initialText=this.textarea.value,this.isDragging=!1};Yo.prototype.addSelectionListener=function(e){this.textarea.onmousemove=function(t){this.isDragging&&e.fireSelectionChanged()}};Yo.prototype.addChangeListener=function(e){this.changelistener=e,this.textarea.onkeyup=function(){e.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,e.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,e.fireChanged()},this.textarea.onchange=function(){e.fireChanged()}};Yo.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}};Yo.prototype.setSelection=function(e,t){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(e,t);else if(this.textarea.createTextRange){var n=this.textarea.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}this.textarea.focus()};Yo.prototype.getString=function(){return this.textarea.value};Yo.prototype.setString=function(e){this.textarea.value=e,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()};Yo.prototype.getElem=function(){return this.textarea};var VC=Yo,UC=_i,eue=DC,tue=_p,nue=LC,rue=VC;function iue(e){var t={},n;if(e.abcjsParams)for(n in e.abcjsParams)e.abcjsParams.hasOwnProperty(n)&&(t[n]=e.abcjsParams[n]);if(e.midi_options)for(n in e.midi_options)e.midi_options.hasOwnProperty(n)&&(t[n]=e.midi_options[n]);if(e.parser_options)for(n in e.parser_options)e.parser_options.hasOwnProperty(n)&&(t[n]=e.parser_options[n]);if(e.render_options)for(n in e.render_options)e.render_options.hasOwnProperty(n)&&(t[n]=e.render_options[n]);return t.tablature&&e.warnings_id&&(t.tablature.warnings_id=e.warnings_id),t}var Yr=function(e,t){this.abcjsParams=iue(t),t.indicate_changed&&(this.indicate_changed=!0),typeof e=="string"?this.editarea=new rue(e):this.editarea=e,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),t.canvas_id?this.div=t.canvas_id:t.paper_id?this.div=t.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),typeof this.div=="string"&&(this.div=document.getElementById(this.div)),t.selectionChangeCallback&&(this.selectionChangeCallback=t.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),t.synth&&tue()&&(this.synth={el:t.synth.el,cursorControl:t.synth.cursorControl,options:t.synth.options}),t.generate_midi&&(this.generate_midi=t.generate_midi,this.abcjsParams.generateDownload&&(typeof t.midi_download_id=="string"?this.downloadMidi=document.getElementById(t.midi_download_id):t.midi_download_id&&(this.downloadMidi=t.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof t.midi_id=="string"?this.inlineMidi=document.getElementById(t.midi_id):t.midi_id&&(this.inlineMidi=t.midi_id))),t.warnings_id?typeof t.warnings_id=="string"?this.warningsdiv=document.getElementById(t.warnings_id):this.warningsdiv=t.warnings_id:t.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=t.onchange,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(n,r){var i=function(a,s){var o=a.className;return o.length>0&&(o===s||new RegExp("(^|\\s)"+s+"(\\s|$)").test(o))};return i(n,r)||(n.className+=(n.className?" ":"")+r),n},this.removeClassName=function(n,r){return n.className=UC.strip(n.className.replace(new RegExp("(^|\\s+)"+r+"(\\s+|$)")," ")),n},this.setReadOnly=function(n){var r="abc_textarea_readonly",i=this.editarea.getElem();n?(i.setAttribute("readonly","yes"),this.addClassName(i,r)):(i.removeAttribute("readonly"),this.removeClassName(i,r))}};Yr.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var e=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(e)}if(this.synth){var t=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new eue,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],t,this.synth.options)}};Yr.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=nue(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi()}catch(e){console.error("ABCJS error: ",e),this.warnings||(this.warnings=[]),this.warnings.push(e.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}};Yr.prototype.paramChanged=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this.abcjsParams[t]=e[t]);this.currentAbc="",this.fireChanged()};Yr.prototype.synthParamChanged=function(e){if(this.synth){if(this.synth.options={},e)for(var t in e)e.hasOwnProperty(t)&&(this.synth.options[t]=e[t]);this.currentAbc="",this.fireChanged()}};Yr.prototype.parseABC=function(){var e=this.editarea.getString();return e===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=e,!0)};Yr.prototype.updateSelection=function(){var e=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(e.start,e.end)}catch{}this.selectionChangeCallback&&this.selectionChangeCallback(e.start,e.end)};Yr.prototype.fireSelectionChanged=function(){this.updateSelection()};Yr.prototype.setDirtyStyle=function(e){if(this.indicate_changed!==void 0){var t=function(a,s){var o=function(u,c){var f=u.className;return f.length>0&&(f===c||new RegExp("(^|\\s)"+c+"(\\s|$)").test(f))};return o(a,s)||(a.className+=(a.className?" ":"")+s),a},n=function(a,s){return a.className=UC.strip(a.className.replace(new RegExp("(^|\\s+)"+s+"(\\s+|$)")," ")),a},r="abc_textarea_dirty",i=this.editarea.getElem();e?t(i,r):n(i,r)}};Yr.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var e=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){e.modelChanged()},300);var t=this.isDirty();this.wasDirty!==t&&(this.wasDirty=t,this.setDirtyStyle(t)),this.onchangeCallback&&this.onchangeCallback(this)}};Yr.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)};Yr.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()};Yr.prototype.highlight=function(e,t,n,r,i,a){this.editarea.setSelection(e.startChar,e.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(e.startChar,e.endChar),this.clientClickListener&&this.clientClickListener(e,t,n,r,i,a)};Yr.prototype.pause=function(e){this.bIsPaused=e,e||this.fireChanged()};Yr.prototype.millisecondsPerMeasure=function(){return!this.synth||!this.synth.synthControl||!this.synth.synthControl.visualObj?0:this.synth.synthControl.visualObj.millisecondsPerMeasure()};Yr.prototype.pauseMidi=function(e){this.midiPause=e,e||this.redrawMidi()};var aue=Yr,sue=ine,y7=lne,w7=F3,oue=RM,lue=Lie,Da={};Da.signature="abcjs-basic v"+sue;Object.keys(y7).forEach(function(e){Da[e]=y7[e]});Object.keys(w7).forEach(function(e){Da[e]=w7[e]});Da.renderAbc=LC;Da.TimingCallbacks=C3;var cue=Ko;Da.setGlyph=cue.setSymbol;Da.strTranspose=lue;var uue=Y3,fue=K3,due=G3,hue=$C,pue=FC,gue=wp,vue=Ac,mue=_p,bue=Dce,yue=DC,wue=Zce;Da.synth={CreateSynth:uue,instrumentIndexToName:fue,pitchToNoteName:due,SynthController:yue,SynthSequence:hue,CreateSynthControl:pue,registerAudioContext:gue,activeAudioContext:vue,supportsAudio:mue,playEvent:bue,getMidiFile:wue,sequence:oue};Da.Editor=aue;Da.EditArea=VC;var _ue=Da;const xue=yc(_ue);const Mue=e=>(e2("data-v-821ef629"),e=e(),t2(),e),Cue={class:"notation"},Tue=Mue(()=>pe("div",{id:"paper"},null,-1)),Eue={__name:"Notation",setup(e){const t=Sa(),{noteScale:n,rootNote:r}=ia(t);let i=He([]);Ze(r,a),Ze(n,a),Ln(()=>{a()});function a(){const{notes:s}=s4.getChord(n.value,`${r.value}4`);console.log("notes in renderchord",s);const o=s.reduce((u,c)=>(c=tY.scientificToAbcNotation(c),`${u} ${c}2`),"");xue.renderAbc("paper",`X:1
K
|[${o}]|`),i.value=s4.getChord(n.value,r.value).notes}return(s,o)=>(ce(),je("div",Cue,[Tue,pe("p",null,Rn(P(i).join(", ")),1)]))}},Sue=f3(Eue,[["__scopeId","data-v-821ef629"]]);var wv=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function _v(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function WC(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function jC(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function Pue(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,a=0;a<n.length;a++)r.indexOf(n[a])===-1&&(i=!1);return i}var Tf={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":wv?173:189,"=":wv?61:187,";":wv?59:186,"'":222,"[":219,"]":221,"\\":220},cs={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},Dm={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Nr={16:!1,18:!1,17:!1,91:!1},pr={};for(var Ih=1;Ih<20;Ih++)Tf["f".concat(Ih)]=111+Ih;var Dn=[],_7=!1,qC="all",KC=[],xp=function(t){return Tf[t.toLowerCase()]||cs[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)},Aue=function(t){return Object.keys(Tf).find(function(n){return Tf[n]===t})},kue=function(t){return Object.keys(cs).find(function(n){return cs[n]===t})};function GC(e){qC=e||"all"}function Ef(){return qC||"all"}function Oue(){return Dn.slice(0)}function Nue(){return Dn.map(function(e){return Aue(e)||kue(e)||String.fromCharCode(e)})}function Iue(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function Lue(e){return typeof e=="string"&&(e=xp(e)),Dn.indexOf(e)!==-1}function Bue(e,t){var n,r;e||(e=Ef());for(var i in pr)if(Object.prototype.hasOwnProperty.call(pr,i))for(n=pr[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Ef()===e&&GC(t||"all")}function $ue(e){var t=e.keyCode||e.which||e.charCode,n=Dn.indexOf(t);if(n>=0&&Dn.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&Dn.splice(0,Dn.length),(t===93||t===224)&&(t=91),t in Nr){Nr[t]=!1;for(var r in cs)cs[r]===t&&(ts[r]=!1)}}function Rue(e){if(typeof e>"u")Object.keys(pr).forEach(function(s){return delete pr[s]});else if(Array.isArray(e))e.forEach(function(s){s.key&&xv(s)});else if(typeof e=="object")e.key&&xv(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],a=n[1];typeof i=="function"&&(a=i,i=""),xv({key:e,scope:i,method:a,splitKey:"+"})}}var xv=function(t){var n=t.key,r=t.scope,i=t.method,a=t.splitKey,s=a===void 0?"+":a,o=jC(n);o.forEach(function(u){var c=u.split(s),f=c.length,h=c[f-1],p=h==="*"?"*":xp(h);if(pr[p]){r||(r=Ef());var v=f>1?WC(cs,c):[];pr[p]=pr[p].filter(function(g){var b=i?g.method===i:!0;return!(b&&g.scope===r&&Pue(g.mods,v))})}})};function x7(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var a in Nr)Object.prototype.hasOwnProperty.call(Nr,a)&&(!Nr[a]&&t.mods.indexOf(+a)>-1||Nr[a]&&t.mods.indexOf(+a)===-1)&&(i=!1);(t.mods.length===0&&!Nr[16]&&!Nr[18]&&!Nr[17]&&!Nr[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function M7(e,t){var n=pr["*"],r=e.keyCode||e.which||e.charCode;if(ts.filter.call(this,e)){if((r===93||r===224)&&(r=91),Dn.indexOf(r)===-1&&r!==229&&Dn.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var b=Dm[g];e[g]&&Dn.indexOf(b)===-1?Dn.push(b):!e[g]&&Dn.indexOf(b)>-1?Dn.splice(Dn.indexOf(b),1):g==="metaKey"&&e[g]&&Dn.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(Dn=Dn.slice(Dn.indexOf(b))))}),r in Nr){Nr[r]=!0;for(var i in cs)cs[i]===r&&(ts[i]=!0);if(!n)return}for(var a in Nr)Object.prototype.hasOwnProperty.call(Nr,a)&&(Nr[a]=e[Dm[a]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(Dn.indexOf(17)===-1&&Dn.push(17),Dn.indexOf(18)===-1&&Dn.push(18),Nr[17]=!0,Nr[18]=!0);var s=Ef();if(n)for(var o=0;o<n.length;o++)n[o].scope===s&&(e.type==="keydown"&&n[o].keydown||e.type==="keyup"&&n[o].keyup)&&x7(e,n[o],s,t);if(r in pr){for(var u=0;u<pr[r].length;u++)if((e.type==="keydown"&&pr[r][u].keydown||e.type==="keyup"&&pr[r][u].keyup)&&pr[r][u].key){for(var c=pr[r][u],f=c.splitKey,h=c.key.split(f),p=[],v=0;v<h.length;v++)p.push(xp(h[v]));p.sort().join("")===Dn.sort().join("")&&x7(e,c,s,t)}}}}function Fue(e){return KC.indexOf(e)>-1}function ts(e,t,n){Dn=[];var r=jC(e),i=[],a="all",s=document,o=0,u=!1,c=!0,f="+",h=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(a=t.scope),t.element&&(s=t.element),t.keyup&&(u=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(h=t.capture),typeof t.splitKey=="string"&&(f=t.splitKey)),typeof t=="string"&&(a=t);o<r.length;o++)e=r[o].split(f),i=[],e.length>1&&(i=WC(cs,e)),e=e[e.length-1],e=e==="*"?"*":xp(e),e in pr||(pr[e]=[]),pr[e].push({keyup:u,keydown:c,scope:a,mods:i,shortcut:r[o],method:n,key:r[o],splitKey:f,element:s});typeof s<"u"&&!Fue(s)&&window&&(KC.push(s),_v(s,"keydown",function(p){M7(p,s)},h),_7||(_7=!0,_v(window,"focus",function(){Dn=[]},h)),_v(s,"keyup",function(p){M7(p,s),$ue(p)},h))}function Due(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(pr).forEach(function(n){var r=pr[n].filter(function(i){return i.scope===t&&i.shortcut===e});r.forEach(function(i){i&&i.method&&i.method()})})}var Mv={getPressedKeyString:Nue,setScope:GC,getScope:Ef,deleteScope:Bue,getPressedKeyCodes:Oue,isPressed:Lue,filter:Iue,trigger:Due,unbind:Rue,keyMap:Tf,modifier:cs,modifierMap:Dm};for(var Cv in Mv)Object.prototype.hasOwnProperty.call(Mv,Cv)&&(ts[Cv]=Mv[Cv]);if(typeof window<"u"){var Hue=window.hotkeys;ts.noConflict=function(e){return e&&window.hotkeys===ts&&(window.hotkeys=Hue),ts},window.hotkeys=ts}const zue={id:"wrapper"},Vue={class:"app-description"},Uue=pe("p",null,[pe("strong",null,[pe("a",{href:"/weaving"},"Weaving Music")]),gt(" is an exploration of the materiality of sound through the metaphor of weaving, with the weaving loom re-imagined as a music sequencer. The seeds of this project were formed when first encountering grid notation for weaving patterns in Anni Albers' "),pe("em",null,"On Weaving"),gt(", which gave the immediate impression of rhythmic music notation.")],-1),Wue=pe("figure",null,[pe("img",{src:"https://reubenson-portfolio.s3.us-east-1.amazonaws.com/assets/on-weaving.jpeg",alt:"weaving notation from Anni Albers",class:""}),pe("figcaption",null,[gt("Image from Anni Albers' "),pe("em",null,"On Weaving"),gt(" (1965, Wesleyan University Press)")])],-1),jue=pe("p",null,[gt("In the summer of 2019, I began developing this project during a "),pe("a",{href:"https://elektronmusikstudion.se/composers/2019/1013-reuben-son-ems-10-19-june-2019"},"residency at EMS"),gt(" in Stockholm, where I used MIDI signals generated by this app to control voicings produced on their Buchla and Serge synthesizer systems.")],-1),que=pe("figure",null,[pe("img",{src:"https://reubenson-portfolio.s3.us-east-1.amazonaws.com/assets/buchla.jpg",alt:"buchla modular synthesizer",class:"flex-half"}),pe("img",{src:"https://reubenson-portfolio.s3.us-east-1.amazonaws.com/assets/serge.jpg",alt:"serge modular synthesizer",class:"flex-half"}),pe("figcaption",null,"Buchla and Serge synthesizers at EMS (photos by the artist)")],-1),Kue=pe("p",null,"In the end, this project attempts a fairly straightforward translation of weaving notation to music notation, in that patterns are read from left to right as columns along the warp (vertical threads hung on a a weaving loom). In the current version, there are two ways of interpreting how a column should be handled: as octaves (in octave mode) or as a canon (in canon mode). These different mode offer different expressions of the underlying harmonic structure, which this app leaves intentionally simplified (as a selection from a variety of chords), such that the resulting music is an expression of an underlying harmonic structure.",-1),Gue=pe("p",null,[gt("In sharing this software, my hope is that you too may find it useful for harmonic and rhythmic research and discovery, sharing some similarity in intent to the historical "),pe("a",{href:"https://till.com/articles/muse/"},"Triadex Muse"),gt(".")],-1),Yue=pe("p",null,"The following presets may be helpful for you to become familar with the inner workings of this app.",-1),Xue=pe("header",null,"Preset #1",-1),Jue=pe("p",null,[gt(" This preset has the feelings of passing clouds, like a slower movement from one of Keith Fullerton Whitman's "),pe("a",{href:"https://keithfullertonwhitman.com/generators"},[pe("i",null,"Generators")]),gt(" or his "),pe("i",null,"Playthroughs"),gt(" album. The slow BPM and usage of "),pe("i",null,"canon"),gt(" Stack Type allows for a gentle cycling across the "),pe("i",null,"maj7"),gt(" chord, arranged here over a two-octave register. ")],-1),Que=pe("div",{class:"spotify-embed"},[pe("iframe",{style:{"border-radius":"12px"},src:"https://open.spotify.com/embed/track/0jV5pkyZByn7pV12Rzbtuu?utm_source=generator",width:"100%",height:"152",frameBorder:"0",allowfullscreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"})],-1),Zue=pe("p",null,[gt(" To explore this preset further, try clicking "),pe("strong",null,"Randomize note sequence"),gt(" to obtain a new random pattern for the given chord, and play with the "),pe("strong",null,"Weave X"),gt(" and "),pe("strong",null,"Weave Y"),gt(" parameters to change the sparseness of the voicings. ")],-1),efe=pe("header",null,"Preset #2",-1),tfe=pe("p",null,[gt(" This preset is at the other of the spectrum, a frenetic arpeggiation of varying pipe organ tonalities, reminiscent of a section from Peter Hamel or Phillip Glass. The organ sonority comes from the use of "),pe("em",null,"octave"),gt(),pe("strong",null,"Stack Type"),gt(", which means that a column of notes is played as octaves. ")],-1),nfe=pe("div",{class:"spotify-embed"},[pe("iframe",{style:{"border-radius":"12px"},src:"https://open.spotify.com/embed/track/4zsXWPvdt7GMoWGnxTfeKP?utm_source=generator",width:"100%",height:"152",frameBorder:"0",allowfullscreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"})],-1),rfe=pe("p",null,[gt(" To explore this preset further, try raising up the "),pe("strong",null,"Euclidean Density"),gt(" setting to fill in the octave harmonic spectrum, or bring it down to 1 to hear each the notes playing in isolation across the octave registers. You may also play with the "),pe("strong",null,"Sine Waveform"),gt(" to change the melody derived. Simpler waveforms closer to the middle range will allow you to easily hear how the pitch of the notes follows the contours of the waveform. This will also register visibly if you include the "),pe("strong",null,"Euclidean Density"),gt(" to its maximum setting. ")],-1),ife=pe("header",null,"Preset #3",-1),afe=pe("p",null,[gt(" This preset takes on the more extreme high register, playing a cluster of notes that are close enough in frequency to produce audible difference tones, in the manner of "),pe("a",{href:"https://caesuramag.org/posts/bret-schneider-groundwork-for-a-study-of-maryanne-amacher"},"Maryanne Amacher's explorations of Marvin Minksy's Triadex Muse"),gt(". ")],-1),sfe=pe("p",null,[gt(" To bring this back into more traditionally musical territory, simply move the "),pe("strong",null,"Lower Register"),gt(" value back down. ")],-1),ofe=pe("p",{class:"setting-description"},"Select MIDI Device",-1),lfe=pe("p",{class:"setting-description"},"Note: MIDI event data will be transmitted from Channel 1. For best results, use this MIDI output feature on Chrome.",-1),cfe=pe("p",{class:"settings-description"},[gt("Change the BPM (beats per minute) to modify how fast we advance through the sequence controlled in "),pe("em",null,"Music Settings")],-1),ufe=pe("p",{class:"setting-title"},"Note Duration",-1),ffe=pe("p",{class:"settings-description"},[gt("These settings modify the underlying sequence of notes played as we advance from left to right in the "),pe("em",null,"Weaving Swatch"),gt(" below.")],-1),dfe=pe("p",{class:"setting-title"},"Sequence Type",-1),hfe=pe("p",{class:"setting-title"},"Root Note",-1),pfe=pe("p",{class:"setting-title"},"Chord Name",-1),gfe=pe("p",{class:"setting-title"},"Lower Register",-1),vfe=pe("p",{class:"setting-title"},"Upper Register",-1),mfe=pe("p",{class:"setting-title"},"Stack Type",-1),bfe=pe("div",null,null,-1),yfe={key:1},wfe=pe("p",{class:"setting-title"},"Sine Waveform",-1),_fe=pe("p",{class:"setting-description"},"This waveform is used to generate the note sequence. By adding negative or positive harmonics to a sine wave, this waveform can be transformed from a saw wave to a sine wave.",-1),xfe=pe("p",{class:"settings-description"},[gt(" In weaving, "),pe("em",null,"warp"),gt(" refers to the vertical lines and "),pe("em",null,"warp"),gt(" refers to the horizontal lines, which are woven between the weft. In the swatch below, the warp (vertical) lines represent notes in the note sequence generated by the "),pe("em",null,"Music Settings"),gt(", and the weft (horizontal) lines represent individual voices that play the notes defined by the warp. To simplify the resulting tonality, the weft lines are handles as octaves, such that when more than one is played simultaneously, they alter the timbre of the voicing rather simply, as stacked octaves. This results in a translation of the weaving pattern that would be rather familiar to anyone who has previously used an MPC sequencer. ")],-1),Mfe=pe("p",{class:"setting-title"},"Warp Count",-1),Cfe=pe("p",{class:"setting-title"},"Weft Count",-1),Tfe=pe("p",{class:"setting-title"},"Pattern Type",-1),Efe={key:0},Sfe=pe("p",null,"Weave X",-1),Pfe=pe("p",null,"Weave Y",-1),Afe={key:1},kfe=pe("p",null,"Euclidean Density",-1),Ofe={__name:"OnWeaving",setup(e){const{$event:t}=Fi(),n=zf(),r=Sa(),i=Qa(),{useWebAudio:a,midiOutputPort:s,bpm:o,bpmInterval:u,isOn:c,noteHoldCount:f}=ia(n),{upperRegisterMax:h,chordOptions:p,noteScale:v,chordSizeFilter:g,rangeMin:b,rangeMax:y,sequenceType:x,sequenceTypeOptions:_,sineHarmonics:E,stackType:w,stackTypeOptions:M,rootNote:T,tonicOptions:S}=ia(r),{swatchWidth:k,swatchDepth:L,patternOptions:B,patternType:H,weaveX:D,weaveY:R,euclideanCount:z}=ia(i);let j=He("");function I(me){const{origin:ve,pathname:De}=window.document.location,Be=`${ve}${De}`;history.pushState(null,null,me||Be)}function N(){const{hash:me}=window.document.location;j.value=me}function U(){window.dataLayer=window.dataLayer||[];function me(){dataLayer.push(arguments)}me("js",new Date),me("config","UA-120208217-1")}function Y(){ts("command+*",me=>{const{code:ve}=me;if(ve==="ArrowDown"){const De=rn.findIndex(p.value,Be=>Be.toLowerCase()===v.value.toLowerCase());v.value=p.value[(De+1)%p.value.length],me.preventDefault()}else if(ve==="ArrowUp"){const De=rn.findIndex(p.value,Be=>Be.toLowerCase()===v.value.toLowerCase());v.value=p.value[(De-1+p.value.length)%p.value.length],me.preventDefault()}}),ts("*",me=>{switch(me.code.replace("Key","")){case"A":T.value="C";break;case"W":T.value="C#";break;case"S":T.value="D";break;case"E":T.value="D#";case"D":T.value="E";break;case"F":T.value="F";break;case"T":T.value="F#";break;case"G":T.value="G";break;case"Y":T.value="G#";break;case"H":T.value="A";break;case"U":T.value="A#";case"J":T.value="B";break;case"K":T.value="C"}})}Ln(()=>{N(),n.initializeWebAudioSynth(),Y(),U()}),Ze(T,n.initNotes),Ze(x,n.initNotes),Ze(E,n.initNotes),Ze(s,me=>{p1.setOutput(me)}),Ze(a,me=>{me||n.getMidiOutputs()});let Z=null;function ge(){clearInterval(Z),c.value&&(Z=setInterval(ie,u.value))}function ie(){t("tick","clock.id")}return Ze(c,me=>{ge(),me?n.startSynth():(clearInterval(Z),t("clock-off"))}),Ze(o,()=>{ge()}),(me,ve)=>{const De=Aq,Be=tq,nt=Pq,Me=cK,at=lK,Ue=Y_,Xe=U2,W=YK,X=$_,ae=yK;return ce(),je("div",zue,[Ae(P(pZ)),pe("main",null,[pe("section",Vue,[Ae(nt,{modelValue:P(j),"onUpdate:modelValue":ve[3]||(ve[3]=ee=>St(j)?j.value=ee:j=ee),accordion:"",onChange:I},{default:Re(()=>[Ae(De,{title:"About",name:"#about"},{default:Re(()=>[Uue,Wue,jue,que,Kue,Gue]),_:1}),Ae(De,{title:"Getting Started",class:"presets",name:"#presets"},{default:Re(()=>[Yue,Xue,Jue,Que,Zue,Ae(Be,{class:"border",onClick:ve[0]||(ve[0]=ee=>P(n).applyPreset(1))},{default:Re(()=>[gt("Apply Preset #1")]),_:1}),efe,tfe,nfe,rfe,Ae(Be,{class:"border",onClick:ve[1]||(ve[1]=ee=>P(n).applyPreset(2))},{default:Re(()=>[gt("Apply Preset #2")]),_:1}),ife,afe,sfe,Ae(Be,{class:"border",onClick:ve[2]||(ve[2]=ee=>P(n).applyPreset(3))},{default:Re(()=>[gt("Apply Preset #3")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),P(a)?st("",!0):(ce(),Je(P(vh),{key:0,title:"MIDI Settings"},{default:Re(()=>[ofe,Ae(Ue,null,{default:Re(()=>[Ae(at,{modelValue:P(s),"onUpdate:modelValue":ve[4]||(ve[4]=ee=>St(s)?s.value=ee:null)},{default:Re(()=>[(ce(!0),je(qt,null,di(me.outputPorts,ee=>(ce(),Je(Me))),256))]),_:1},8,["modelValue"])]),_:1}),lfe]),_:1})),Ae(P(vh),{title:"Time Settings"},{default:Re(()=>[cfe,Ae(Xe,{modelValue:P(o),"onUpdate:modelValue":ve[5]||(ve[5]=ee=>St(o)?o.value=ee:null),placeholder:"BPM"},{prepend:Re(()=>[gt("BPM")]),_:1},8,["modelValue"]),Ae(W,{label:"clock",min:50,max:1e3,step:10,modelValue:P(o),"onUpdate:modelValue":ve[6]||(ve[6]=ee=>St(o)?o.value=ee:null)},null,8,["modelValue"]),ufe,Ae(X,{modelValue:P(f),"onUpdate:modelValue":ve[7]||(ve[7]=ee=>St(f)?f.value=ee:null),step:1,min:0,max:8},null,8,["modelValue"])]),_:1}),Ae(P(vh),{title:"Music Settings"},{default:Re(()=>[ffe,pe("div",null,[dfe,Ae(Ue,null,{default:Re(()=>[Ae(ae,{class:"settings-info",placement:"top-start",title:"Sequence Type",width:200,trigger:"click",content:"select the type of music sequence: random is random, and 'sine' provides a waveform that produces a set of notes."},{reference:Re(()=>[Ae(Be,{class:"m-2"},{default:Re(()=>[gt("")]),_:1})]),_:1})]),_:1}),Ae(Ue,null,{default:Re(()=>[Ae(at,{modelValue:P(x),"onUpdate:modelValue":ve[8]||(ve[8]=ee=>St(x)?x.value=ee:null)},{default:Re(()=>[(ce(!0),je(qt,null,di(P(_),ee=>(ce(),Je(Me,{key:ee,label:ee,value:ee},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),pe("div",null,[hfe,Ae(Ue,null,{default:Re(()=>[Ae(ae,{class:"settings-info",placement:"top-start",title:"Root Note",width:200,trigger:"click",content:"Root note (tonic) of the selected chord"},{reference:Re(()=>[Ae(Be,{class:"m-2"},{default:Re(()=>[gt("")]),_:1})]),_:1})]),_:1}),Ae(Ue,null,{default:Re(()=>[Ae(at,{modelValue:P(T),"onUpdate:modelValue":ve[9]||(ve[9]=ee=>St(T)?T.value=ee:null)},{default:Re(()=>[(ce(!0),je(qt,null,di(P(S),ee=>(ce(),Je(Me,{key:ee,label:ee,value:ee},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),pfe,Ae(Ue,null,{default:Re(()=>[Ae(ae,{class:"settings-info",placement:"top-start",title:"Chord Name",width:200,trigger:"click",content:"The notes in the selected chord will be used to populate the note sequence"},{reference:Re(()=>[Ae(Be,{class:"m-2"},{default:Re(()=>[gt("")]),_:1})]),_:1})]),_:1}),Ae(Ue,null,{default:Re(()=>[Ae(at,{modelValue:P(v),"onUpdate:modelValue":ve[10]||(ve[10]=ee=>St(v)?v.value=ee:null)},{default:Re(()=>[(ce(!0),je(qt,null,di(P(p),ee=>(ce(),Je(Me,{key:ee,label:ee,value:ee},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),Ae(P(Sue))]),pe("div",null,[gfe,Ae(Ue,null,{default:Re(()=>[Ae(ae,{class:"settings-info",placement:"top-start",title:"Lower Register",width:200,trigger:"click",content:"Select lower values to filter the chord options with fewer notes"},{reference:Re(()=>[Ae(Be,{class:"m-2"},{default:Re(()=>[gt("")]),_:1})]),_:1})]),_:1}),Ae(W,{min:0,max:P(h),step:1,"show-stops":"",modelValue:P(b),"onUpdate:modelValue":ve[11]||(ve[11]=ee=>St(b)?b.value=ee:null)},null,8,["max","modelValue"])]),pe("div",null,[vfe,Ae(Ue,null,{default:Re(()=>[Ae(ae,{class:"settings-info",placement:"top-start",title:"Upper Register",width:200,trigger:"click",content:"Select the upper register for the note sequence"},{reference:Re(()=>[Ae(Be,{class:"m-2"},{default:Re(()=>[gt("")]),_:1})]),_:1})]),_:1}),Ae(W,{min:0,max:P(h),step:1,"show-stops":"",modelValue:P(y),"onUpdate:modelValue":ve[12]||(ve[12]=ee=>St(y)?y.value=ee:null)},null,8,["max","modelValue"])]),Ae(Ue,null,{default:Re(()=>[mfe,Ae(ae,{class:"settings-info",placement:"top-start",title:"Stack Type",width:200,trigger:"click",content:"Stack refers to a vertical column of notes, which are played as the sequencer moves from left to right. In 'octave' mode, each subsequent row plays the same note as the row above it, except an octave higher. In 'canon' mode, each row plays the same note as the column before, creating a repeating behavior"},{reference:Re(()=>[Ae(Be,{class:"m-2"},{default:Re(()=>[gt("")]),_:1})]),_:1}),Ae(at,{label:"Stack Type",modelValue:P(w),"onUpdate:modelValue":ve[13]||(ve[13]=ee=>St(w)?w.value=ee:null)},{default:Re(()=>[(ce(!0),je(qt,null,di(P(M),ee=>(ce(),Je(Me,{key:ee,label:ee,value:ee},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),bfe,P(r).sequenceType==="random"?(ce(),Je(Be,{key:0,class:"border",onClick:P(r).handleRandomize},{default:Re(()=>[gt("Randomize note sequence")]),_:1},8,["onClick"])):st("",!0),P(r).sequenceType==="sine"?(ce(),je("div",yfe,[wfe,_fe,Ae(W,{min:-8,max:8,step:.1,modelValue:P(E),"onUpdate:modelValue":ve[14]||(ve[14]=ee=>St(E)?E.value=ee:null)},null,8,["step","modelValue"]),Ae(Ue,null,{default:Re(()=>[Ae(P(nne))]),_:1})])):st("",!0)]),_:1}),Ae(P(vh),{title:"Weave Settings"},{default:Re(()=>[xfe,pe("div",null,[Mfe,Ae(Ue,null,{default:Re(()=>[Ae(ae,{class:"settings-info",placement:"top-start",title:"Warp Count",width:200,trigger:"click",content:"In weaving, a warp is thread hung vertically. In our sequencer, a warp represents a note in the note sequence"},{reference:Re(()=>[Ae(Be,{class:"m-2"},{default:Re(()=>[gt("")]),_:1})]),_:1})]),_:1}),Ae(X,{modelValue:P(k),"onUpdate:modelValue":ve[15]||(ve[15]=ee=>St(k)?k.value=ee:null),step:1,min:2},null,8,["modelValue"])]),pe("div",null,[Cfe,Ae(Ue,null,{default:Re(()=>[Ae(ae,{class:"settings-info",placement:"top-start",title:"Weft Count",width:200,trigger:"click",content:"In weaving, a warp is thread hung vertically. In our sequencer, a warp represents a note in the note sequence"},{reference:Re(()=>[Ae(Be,{class:"m-2"},{default:Re(()=>[gt("")]),_:1})]),_:1})]),_:1}),Ae(X,{modelValue:P(L),"onUpdate:modelValue":ve[16]||(ve[16]=ee=>St(L)?L.value=ee:null),step:1,min:2},null,8,["modelValue"])]),pe("div",null,[Tfe,Ae(Ue,null,{default:Re(()=>[Ae(ae,{class:"settings-info",placement:"top-start",title:"Pattern Type",width:200,trigger:"click",content:"Weave: apply traditional weaving patterns. Euclidean: apply a 'euclidean' algorithm, which will construct a pattern in which notes are evenly spaced across the sequence"},{reference:Re(()=>[Ae(Be,{class:"m-2"},{default:Re(()=>[gt("")]),_:1})]),_:1})]),_:1}),Ae(Ue,null,{default:Re(()=>[Ae(at,{modelValue:P(H),"onUpdate:modelValue":ve[17]||(ve[17]=ee=>St(H)?H.value=ee:null)},{default:Re(()=>[(ce(!0),je(qt,null,di(P(B),ee=>(ce(),Je(Me,{key:ee,label:ee,value:ee},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),P(H)==="weave"?(ce(),je("div",Efe,[Sfe,Ae(W,{modelValue:P(D),"onUpdate:modelValue":ve[18]||(ve[18]=ee=>St(D)?D.value=ee:null),min:1,max:8,step:1},null,8,["modelValue"]),Pfe,P(H)==="weave"?(ce(),Je(W,{key:0,modelValue:P(R),"onUpdate:modelValue":ve[19]||(ve[19]=ee=>St(R)?R.value=ee:null),min:1,max:8,step:1},null,8,["modelValue"])):st("",!0)])):st("",!0),P(H)==="euclidean"?(ce(),je("div",Afe,[kfe,Ae(W,{modelValue:P(z),"onUpdate:modelValue":ve[20]||(ve[20]=ee=>St(z)?z.value=ee:null),min:1,max:P(k),step:1},null,8,["modelValue","max"])])):st("",!0)]),_:1}),Ae(P(YZ))])])}}},Nfe={};function Ife(e,t){const n=Ofe;return ce(),Je(n)}const Lfe=f3(Nfe,[["render",Ife]]),C7={__name:"nuxt-root",setup(e){const t=a9(()=>b$(()=>import("./error-component.8895680b.js"),[],import.meta.url).then(u=>u.default||u)),n=()=>null,r=Fi(),i=r.deferHydration(),a=!1;$r("_route",l$()),r.hooks.callHookWith(u=>u.map(c=>c()),"vue:setup");const s=x2();l2((u,c,f)=>{if(r.hooks.callHook("vue:error",u,c,f).catch(h=>console.error("[nuxt] Error in `vue:error` hook",h)),h$(u)&&(u.fatal||u.unhandled))return zu(r,f$,[u]),!1});const{islandContext:o}=!1;return(u,c)=>(ce(),Je(Z7,{onResolve:P(i)},{default:Re(()=>[P(s)?(ce(),Je(P(t),{key:0,error:P(s)},null,8,["error"])):P(o)?(ce(),Je(P(n),{key:1,context:P(o)},null,8,["context"])):P(a)?(ce(),Je(jr(P(a)),{key:2})):(ce(),Je(P(Lfe),{key:3}))]),_:1},8,["onResolve"]))}};globalThis.$fetch||(globalThis.$fetch=HL.create({baseURL:VL()}));let T7;const Bfe=iB(OG);T7=async function(){var i,a;const n=!!((i=window.__NUXT__)!=null&&i.serverRendered||((a=document.getElementById("__NUXT_DATA__"))==null?void 0:a.dataset.ssr)==="true")?aw(C7):iw(C7),r=tB({vueApp:n});try{await rB(r,Bfe)}catch(s){await r.callHook("app:error",s),r.payload.error=r.payload.error||s}try{await r.hooks.callHook("app:created",n),await r.hooks.callHook("app:beforeMount",n),n.mount("#"+w$),await r.hooks.callHook("app:mounted",n),await Qt()}catch(s){await r.callHook("app:error",s),r.payload.error=r.payload.error||s}},T7().catch(e=>{console.error("Error while mounting app:",e)});export{Ae as A,Re as B,gt as C,e2 as D,t2 as E,b$ as _,Fi as a,_2 as b,Je as c,a9 as d,pt as e,fe as f,O9 as g,b2 as h,Ln as i,Gr as j,j1 as k,Ls as l,lw as m,gO as n,ce as o,K1 as p,uw as q,He as r,u$ as s,f3 as t,P as u,Rfe as v,jv as w,je as x,pe as y,Rn as z};
