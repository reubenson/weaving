var LP=Object.defineProperty;var $P=(e,t,n)=>t in e?LP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xc=(e,t,n)=>($P(e,typeof t!="symbol"?t+"":t,n),n);function h1(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function Wt(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=_t(r)?HP(r):Wt(r);if(i)for(const a in i)t[a]=i[a]}return t}else{if(_t(e))return e;if(Ot(e))return e}}const BP=/;(?![^(]*\))/g,RP=/:([^]+)/,FP=/\/\*.*?\*\//gs;function HP(e){const t={};return e.replace(FP,"").split(BP).forEach(n=>{if(n){const r=n.split(RP);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Re(e){let t="";if(_t(e))t=e;else if(nt(e))for(let n=0;n<e.length;n++){const r=Re(e[n]);r&&(t+=r+" ")}else if(Ot(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Vne(e){if(!e)return null;let{class:t,style:n}=e;return t&&!_t(t)&&(e.class=Re(t)),n&&(e.style=Wt(n)),e}const DP="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zP=h1(DP);function O5(e){return!!e||e===""}const cn=e=>_t(e)?e:e==null?"":nt(e)||Ot(e)&&(e.toString===L5||!Je(e.toString))?JSON.stringify(e,N5,2):String(e),N5=(e,t)=>t&&t.__v_isRef?N5(e,t.value):Co(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:I5(t)?{[`Set(${t.size})`]:[...t.values()]}:Ot(t)&&!nt(t)&&!$5(t)?String(t):t,Qt={},Mo=[],Wn=()=>{},WP=()=>!1,UP=/^on[^a-z]/,gl=e=>UP.test(e),p1=e=>e.startsWith("onUpdate:"),Nn=Object.assign,g1=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},VP=Object.prototype.hasOwnProperty,Tt=(e,t)=>VP.call(e,t),nt=Array.isArray,Co=e=>Wu(e)==="[object Map]",I5=e=>Wu(e)==="[object Set]",Je=e=>typeof e=="function",_t=e=>typeof e=="string",v1=e=>typeof e=="symbol",Ot=e=>e!==null&&typeof e=="object",du=e=>Ot(e)&&Je(e.then)&&Je(e.catch),L5=Object.prototype.toString,Wu=e=>L5.call(e),ru=e=>Wu(e).slice(8,-1),$5=e=>Wu(e)==="[object Object]",m1=e=>_t(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,B0=h1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Uu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},qP=/-(\w)/g,Ai=Uu(e=>e.replace(qP,(t,n)=>n?n.toUpperCase():"")),jP=/\B([A-Z])/g,Hs=Uu(e=>e.replace(jP,"-$1").toLowerCase()),Vu=Uu(e=>e.charAt(0).toUpperCase()+e.slice(1)),Td=Uu(e=>e?`on${Vu(e)}`:""),Z0=(e,t)=>!Object.is(e,t),iu=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},hu=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},vh=e=>{const t=parseFloat(e);return isNaN(t)?e:t},B5=e=>{const t=_t(e)?Number(e):NaN;return isNaN(t)?e:t};let L2;const GP=()=>L2||(L2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let xr;class R5{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=xr,!t&&xr&&(this.index=(xr.scopes||(xr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=xr;try{return xr=this,t()}finally{xr=n}}}on(){xr=this}off(){xr=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function F5(e){return new R5(e)}function KP(e,t=xr){t&&t.active&&t.effects.push(e)}function b1(){return xr}function H5(e){xr&&xr.cleanups.push(e)}const y1=e=>{const t=new Set(e);return t.w=0,t.n=0,t},D5=e=>(e.w&Ua)>0,z5=e=>(e.n&Ua)>0,YP=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ua},XP=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];D5(i)&&!z5(i)?i.delete(e):t[n++]=i,i.w&=~Ua,i.n&=~Ua}t.length=n}},pu=new WeakMap;let I0=0,Ua=1;const mh=30;let li;const Ss=Symbol(""),bh=Symbol("");class w1{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,KP(this,r)}run(){if(!this.active)return this.fn();let t=li,n=Da;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=li,li=this,Da=!0,Ua=1<<++I0,I0<=mh?YP(this):$2(this),this.fn()}finally{I0<=mh&&XP(this),Ua=1<<--I0,li=this.parent,Da=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){li===this?this.deferStop=!0:this.active&&($2(this),this.onStop&&this.onStop(),this.active=!1)}}function $2(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Da=!0;const W5=[];function Wo(){W5.push(Da),Da=!1}function Uo(){const e=W5.pop();Da=e===void 0?!0:e}function cr(e,t,n){if(Da&&li){let r=pu.get(e);r||pu.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=y1()),U5(i)}}function U5(e,t){let n=!1;I0<=mh?z5(e)||(e.n|=Ua,n=!D5(e)):n=!e.has(li),n&&(e.add(li),li.deps.push(e))}function ia(e,t,n,r,i,a){const s=pu.get(e);if(!s)return;let l=[];if(t==="clear")l=[...s.values()];else if(n==="length"&&nt(e)){const u=Number(r);s.forEach((c,f)=>{(f==="length"||f>=u)&&l.push(c)})}else switch(n!==void 0&&l.push(s.get(n)),t){case"add":nt(e)?m1(n)&&l.push(s.get("length")):(l.push(s.get(Ss)),Co(e)&&l.push(s.get(bh)));break;case"delete":nt(e)||(l.push(s.get(Ss)),Co(e)&&l.push(s.get(bh)));break;case"set":Co(e)&&l.push(s.get(Ss));break}if(l.length===1)l[0]&&yh(l[0]);else{const u=[];for(const c of l)c&&u.push(...c);yh(y1(u))}}function yh(e,t){const n=nt(e)?e:[...e];for(const r of n)r.computed&&B2(r);for(const r of n)r.computed||B2(r)}function B2(e,t){(e!==li||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function JP(e,t){var n;return(n=pu.get(e))===null||n===void 0?void 0:n.get(t)}const QP=h1("__proto__,__v_isRef,__isVue"),V5=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(v1)),ZP=_1(),eS=_1(!1,!0),tS=_1(!0),R2=nS();function nS(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=mt(this);for(let a=0,s=this.length;a<s;a++)cr(r,"get",a+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(mt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Wo();const r=mt(this)[t].apply(this,n);return Uo(),r}}),e}function rS(e){const t=mt(this);return cr(t,"has",e),t.hasOwnProperty(e)}function _1(e=!1,t=!1){return function(r,i,a){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&a===(e?t?yS:Y5:t?K5:G5).get(r))return r;const s=nt(r);if(!e){if(s&&Tt(R2,i))return Reflect.get(R2,i,a);if(i==="hasOwnProperty")return rS}const l=Reflect.get(r,i,a);return(v1(i)?V5.has(i):QP(i))||(e||cr(r,"get",i),t)?l:dt(l)?s&&m1(i)?l:l.value:Ot(l)?e?C1(l):Cn(l):l}}const iS=q5(),aS=q5(!0);function q5(e=!1){return function(n,r,i,a){let s=n[r];if(Is(s)&&dt(s)&&!dt(i))return!1;if(!e&&(!gu(i)&&!Is(i)&&(s=mt(s),i=mt(i)),!nt(n)&&dt(s)&&!dt(i)))return s.value=i,!0;const l=nt(n)&&m1(r)?Number(r)<n.length:Tt(n,r),u=Reflect.set(n,r,i,a);return n===mt(a)&&(l?Z0(i,s)&&ia(n,"set",r,i):ia(n,"add",r,i)),u}}function sS(e,t){const n=Tt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&ia(e,"delete",t,void 0),r}function oS(e,t){const n=Reflect.has(e,t);return(!v1(t)||!V5.has(t))&&cr(e,"has",t),n}function lS(e){return cr(e,"iterate",nt(e)?"length":Ss),Reflect.ownKeys(e)}const j5={get:ZP,set:iS,deleteProperty:sS,has:oS,ownKeys:lS},cS={get:tS,set(e,t){return!0},deleteProperty(e,t){return!0}},uS=Nn({},j5,{get:eS,set:aS}),x1=e=>e,qu=e=>Reflect.getPrototypeOf(e);function Mc(e,t,n=!1,r=!1){e=e.__v_raw;const i=mt(e),a=mt(t);n||(t!==a&&cr(i,"get",t),cr(i,"get",a));const{has:s}=qu(i),l=r?x1:n?S1:el;if(s.call(i,t))return l(e.get(t));if(s.call(i,a))return l(e.get(a));e!==i&&e.get(t)}function Cc(e,t=!1){const n=this.__v_raw,r=mt(n),i=mt(e);return t||(e!==i&&cr(r,"has",e),cr(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Pc(e,t=!1){return e=e.__v_raw,!t&&cr(mt(e),"iterate",Ss),Reflect.get(e,"size",e)}function F2(e){e=mt(e);const t=mt(this);return qu(t).has.call(t,e)||(t.add(e),ia(t,"add",e,e)),this}function H2(e,t){t=mt(t);const n=mt(this),{has:r,get:i}=qu(n);let a=r.call(n,e);a||(e=mt(e),a=r.call(n,e));const s=i.call(n,e);return n.set(e,t),a?Z0(t,s)&&ia(n,"set",e,t):ia(n,"add",e,t),this}function D2(e){const t=mt(this),{has:n,get:r}=qu(t);let i=n.call(t,e);i||(e=mt(e),i=n.call(t,e)),r&&r.call(t,e);const a=t.delete(e);return i&&ia(t,"delete",e,void 0),a}function z2(){const e=mt(this),t=e.size!==0,n=e.clear();return t&&ia(e,"clear",void 0,void 0),n}function Sc(e,t){return function(r,i){const a=this,s=a.__v_raw,l=mt(s),u=t?x1:e?S1:el;return!e&&cr(l,"iterate",Ss),s.forEach((c,f)=>r.call(i,u(c),u(f),a))}}function Tc(e,t,n){return function(...r){const i=this.__v_raw,a=mt(i),s=Co(a),l=e==="entries"||e===Symbol.iterator&&s,u=e==="keys"&&s,c=i[e](...r),f=n?x1:t?S1:el;return!t&&cr(a,"iterate",u?bh:Ss),{next(){const{value:h,done:p}=c.next();return p?{value:h,done:p}:{value:l?[f(h[0]),f(h[1])]:f(h),done:p}},[Symbol.iterator](){return this}}}}function Pa(e){return function(...t){return e==="delete"?!1:this}}function fS(){const e={get(a){return Mc(this,a)},get size(){return Pc(this)},has:Cc,add:F2,set:H2,delete:D2,clear:z2,forEach:Sc(!1,!1)},t={get(a){return Mc(this,a,!1,!0)},get size(){return Pc(this)},has:Cc,add:F2,set:H2,delete:D2,clear:z2,forEach:Sc(!1,!0)},n={get(a){return Mc(this,a,!0)},get size(){return Pc(this,!0)},has(a){return Cc.call(this,a,!0)},add:Pa("add"),set:Pa("set"),delete:Pa("delete"),clear:Pa("clear"),forEach:Sc(!0,!1)},r={get(a){return Mc(this,a,!0,!0)},get size(){return Pc(this,!0)},has(a){return Cc.call(this,a,!0)},add:Pa("add"),set:Pa("set"),delete:Pa("delete"),clear:Pa("clear"),forEach:Sc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=Tc(a,!1,!1),n[a]=Tc(a,!0,!1),t[a]=Tc(a,!1,!0),r[a]=Tc(a,!0,!0)}),[e,n,t,r]}const[dS,hS,pS,gS]=fS();function M1(e,t){const n=t?e?gS:pS:e?hS:dS;return(r,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Tt(n,i)&&i in r?n:r,i,a)}const vS={get:M1(!1,!1)},mS={get:M1(!1,!0)},bS={get:M1(!0,!1)},G5=new WeakMap,K5=new WeakMap,Y5=new WeakMap,yS=new WeakMap;function wS(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _S(e){return e.__v_skip||!Object.isExtensible(e)?0:wS(ru(e))}function Cn(e){return Is(e)?e:P1(e,!1,j5,vS,G5)}function xS(e){return P1(e,!1,uS,mS,K5)}function C1(e){return P1(e,!0,cS,bS,Y5)}function P1(e,t,n,r,i){if(!Ot(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const s=_S(e);if(s===0)return e;const l=new Proxy(e,s===2?r:n);return i.set(e,l),l}function ea(e){return Is(e)?ea(e.__v_raw):!!(e&&e.__v_isReactive)}function Is(e){return!!(e&&e.__v_isReadonly)}function gu(e){return!!(e&&e.__v_isShallow)}function X5(e){return ea(e)||Is(e)}function mt(e){const t=e&&e.__v_raw;return t?mt(t):e}function ko(e){return hu(e,"__v_skip",!0),e}const el=e=>Ot(e)?Cn(e):e,S1=e=>Ot(e)?C1(e):e;function J5(e){Da&&li&&(e=mt(e),U5(e.dep||(e.dep=y1())))}function T1(e,t){e=mt(e);const n=e.dep;n&&yh(n)}function dt(e){return!!(e&&e.__v_isRef===!0)}function Se(e){return Q5(e,!1)}function Ts(e){return Q5(e,!0)}function Q5(e,t){return dt(e)?e:new MS(e,t)}class MS{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:mt(t),this._value=n?t:el(t)}get value(){return J5(this),this._value}set value(t){const n=this.__v_isShallow||gu(t)||Is(t);t=n?t:mt(t),Z0(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:el(t),T1(this))}}function b0(e){T1(e)}function T(e){return dt(e)?e.value:e}const CS={get:(e,t,n)=>T(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return dt(i)&&!dt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Z5(e){return ea(e)?e:new Proxy(e,CS)}function Ls(e){const t=nt(e)?new Array(e.length):{};for(const n in e)t[n]=Yn(e,n);return t}class PS{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return JP(mt(this._object),this._key)}}function Yn(e,t,n){const r=e[t];return dt(r)?r:new PS(e,t,n)}var e6;class SS{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[e6]=!1,this._dirty=!0,this.effect=new w1(t,()=>{this._dirty||(this._dirty=!0,T1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=mt(this);return J5(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}e6="__v_isReadonly";function TS(e,t,n=!1){let r,i;const a=Je(e);return a?(r=e,i=Wn):(r=e.get,i=e.set),new SS(r,i,a||!i,n)}function ES(e,...t){}function za(e,t,n,r){let i;try{i=r?e(...r):e()}catch(a){Vo(a,t,n)}return i}function zr(e,t,n,r){if(Je(e)){const a=za(e,t,n,r);return a&&du(a)&&a.catch(s=>{Vo(s,t,n)}),a}const i=[];for(let a=0;a<e.length;a++)i.push(zr(e[a],t,n,r));return i}function Vo(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let a=t.parent;const s=t.proxy,l=n;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,s,l)===!1)return}a=a.parent}const u=t.appContext.config.errorHandler;if(u){za(u,null,10,[e,s,l]);return}}AS(e,n,i,r)}function AS(e,t,n,r=!0){console.error(e)}let tl=!1,wh=!1;const Dn=[];let Ci=0;const Po=[];let Qi=null,ws=0;const t6=Promise.resolve();let E1=null;function Et(e){const t=E1||t6;return e?t.then(this?e.bind(this):e):t}function kS(e){let t=Ci+1,n=Dn.length;for(;t<n;){const r=t+n>>>1;nl(Dn[r])<e?t=r+1:n=r}return t}function ju(e){(!Dn.length||!Dn.includes(e,tl&&e.allowRecurse?Ci+1:Ci))&&(e.id==null?Dn.push(e):Dn.splice(kS(e.id),0,e),n6())}function n6(){!tl&&!wh&&(wh=!0,E1=t6.then(i6))}function OS(e){const t=Dn.indexOf(e);t>Ci&&Dn.splice(t,1)}function r6(e){nt(e)?Po.push(...e):(!Qi||!Qi.includes(e,e.allowRecurse?ws+1:ws))&&Po.push(e),n6()}function W2(e,t=tl?Ci+1:0){for(;t<Dn.length;t++){const n=Dn[t];n&&n.pre&&(Dn.splice(t,1),t--,n())}}function vu(e){if(Po.length){const t=[...new Set(Po)];if(Po.length=0,Qi){Qi.push(...t);return}for(Qi=t,Qi.sort((n,r)=>nl(n)-nl(r)),ws=0;ws<Qi.length;ws++)Qi[ws]();Qi=null,ws=0}}const nl=e=>e.id==null?1/0:e.id,NS=(e,t)=>{const n=nl(e)-nl(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function i6(e){wh=!1,tl=!0,Dn.sort(NS);const t=Wn;try{for(Ci=0;Ci<Dn.length;Ci++){const n=Dn[Ci];n&&n.active!==!1&&za(n,null,14)}}finally{Ci=0,Dn.length=0,vu(),tl=!1,E1=null,(Dn.length||Po.length)&&i6()}}function IS(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Qt;let i=n;const a=t.startsWith("update:"),s=a&&t.slice(7);if(s&&s in r){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:h,trim:p}=r[f]||Qt;p&&(i=n.map(m=>_t(m)?m.trim():m)),h&&(i=n.map(vh))}let l,u=r[l=Td(t)]||r[l=Td(Ai(t))];!u&&a&&(u=r[l=Td(Hs(t))]),u&&zr(u,e,6,i);const c=r[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,zr(c,e,6,i)}}function a6(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const a=e.emits;let s={},l=!1;if(!Je(e)){const u=c=>{const f=a6(c,t,!0);f&&(l=!0,Nn(s,f))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!a&&!l?(Ot(e)&&r.set(e,null),null):(nt(a)?a.forEach(u=>s[u]=null):Nn(s,a),Ot(e)&&r.set(e,s),s)}function Gu(e,t){return!e||!gl(t)?!1:(t=t.slice(2).replace(/Once$/,""),Tt(e,t[0].toLowerCase()+t.slice(1))||Tt(e,Hs(t))||Tt(e,t))}let kn=null,Ku=null;function mu(e){const t=kn;return kn=e,Ku=e&&e.type.__scopeId||null,t}function A1(e){Ku=e}function k1(){Ku=null}function Oe(e,t=kn,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&em(-1);const a=mu(t);let s;try{s=e(...i)}finally{mu(a),r._d&&em(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Ed(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:a,propsOptions:[s],slots:l,attrs:u,emit:c,render:f,renderCache:h,data:p,setupState:m,ctx:v,inheritAttrs:b}=e;let w,x;const C=mu(e);try{if(n.shapeFlag&4){const _=i||r;w=Fr(f.call(_,_,h,a,m,p,v)),x=u}else{const _=t;w=Fr(_.length>1?_(a,{attrs:u,slots:l,emit:c}):_(a,null)),x=t.props?u:$S(u)}}catch(_){H0.length=0,Vo(_,e,1),w=Pe(Un)}let S=w;if(x&&b!==!1){const _=Object.keys(x),{shapeFlag:M}=S;_.length&&M&7&&(s&&_.some(p1)&&(x=BS(x,s)),S=aa(S,x))}return n.dirs&&(S=aa(S),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),w=S,mu(C),w}function LS(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(il(r)){if(r.type!==Un||r.children==="v-if"){if(t)return;t=r}}else return}return t}const $S=e=>{let t;for(const n in e)(n==="class"||n==="style"||gl(n))&&((t||(t={}))[n]=e[n]);return t},BS=(e,t)=>{const n={};for(const r in e)(!p1(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function RS(e,t,n){const{props:r,children:i,component:a}=e,{props:s,children:l,patchFlag:u}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?U2(r,s,c):!!s;if(u&8){const f=t.dynamicProps;for(let h=0;h<f.length;h++){const p=f[h];if(s[p]!==r[p]&&!Gu(c,p))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===s?!1:r?s?U2(r,s,c):!0:!!s;return!1}function U2(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!Gu(n,a))return!0}return!1}function O1({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const FS=e=>e.__isSuspense,HS={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,a,s,l,u,c){e==null?zS(t,n,r,i,a,s,l,u,c):WS(e,t,n,r,i,s,l,u,c)},hydrate:US,create:N1,normalize:VS},DS=HS;function rl(e,t){const n=e.props&&e.props[t];Je(n)&&n()}function zS(e,t,n,r,i,a,s,l,u){const{p:c,o:{createElement:f}}=u,h=f("div"),p=e.suspense=N1(e,i,r,t,h,n,a,s,l,u);c(null,p.pendingBranch=e.ssContent,h,null,r,p,a,s),p.deps>0?(rl(e,"onPending"),rl(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,a,s),So(p,e.ssFallback)):p.resolve()}function WS(e,t,n,r,i,a,s,l,{p:u,um:c,o:{createElement:f}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const p=t.ssContent,m=t.ssFallback,{activeBranch:v,pendingBranch:b,isInFallback:w,isHydrating:x}=h;if(b)h.pendingBranch=p,Pi(p,b)?(u(b,p,h.hiddenContainer,null,i,h,a,s,l),h.deps<=0?h.resolve():w&&(u(v,m,n,r,i,null,a,s,l),So(h,m))):(h.pendingId++,x?(h.isHydrating=!1,h.activeBranch=b):c(b,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=f("div"),w?(u(null,p,h.hiddenContainer,null,i,h,a,s,l),h.deps<=0?h.resolve():(u(v,m,n,r,i,null,a,s,l),So(h,m))):v&&Pi(p,v)?(u(v,p,n,r,i,h,a,s,l),h.resolve(!0)):(u(null,p,h.hiddenContainer,null,i,h,a,s,l),h.deps<=0&&h.resolve()));else if(v&&Pi(p,v))u(v,p,n,r,i,h,a,s,l),So(h,p);else if(rl(t,"onPending"),h.pendingBranch=p,h.pendingId++,u(null,p,h.hiddenContainer,null,i,h,a,s,l),h.deps<=0)h.resolve();else{const{timeout:C,pendingId:S}=h;C>0?setTimeout(()=>{h.pendingId===S&&h.fallback(m)},C):C===0&&h.fallback(m)}}function N1(e,t,n,r,i,a,s,l,u,c,f=!1){const{p:h,m:p,um:m,n:v,o:{parentNode:b,remove:w}}=c,x=e.props?B5(e.props.timeout):void 0,C={vnode:e,parent:t,parentComponent:n,isSVG:s,container:r,hiddenContainer:i,anchor:a,deps:0,pendingId:0,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:f,isUnmounted:!1,effects:[],resolve(S=!1){const{vnode:_,activeBranch:M,pendingBranch:P,pendingId:A,effects:k,parentComponent:B,container:F}=C;if(C.isHydrating)C.isHydrating=!1;else if(!S){const L=M&&P.transition&&P.transition.mode==="out-in";L&&(M.transition.afterLeave=()=>{A===C.pendingId&&p(P,F,D,0)});let{anchor:D}=C;M&&(D=v(M),m(M,B,C,!0)),L||p(P,F,D,0)}So(C,P),C.pendingBranch=null,C.isInFallback=!1;let U=C.parent,R=!1;for(;U;){if(U.pendingBranch){U.effects.push(...k),R=!0;break}U=U.parent}R||r6(k),C.effects=[],rl(_,"onResolve")},fallback(S){if(!C.pendingBranch)return;const{vnode:_,activeBranch:M,parentComponent:P,container:A,isSVG:k}=C;rl(_,"onFallback");const B=v(M),F=()=>{C.isInFallback&&(h(null,S,A,B,P,null,k,l,u),So(C,S))},U=S.transition&&S.transition.mode==="out-in";U&&(M.transition.afterLeave=F),C.isInFallback=!0,m(M,P,null,!0),U||F()},move(S,_,M){C.activeBranch&&p(C.activeBranch,S,_,M),C.container=S},next(){return C.activeBranch&&v(C.activeBranch)},registerDep(S,_){const M=!!C.pendingBranch;M&&C.deps++;const P=S.vnode.el;S.asyncDep.catch(A=>{Vo(A,S,0)}).then(A=>{if(S.isUnmounted||C.isUnmounted||C.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:k}=S;Eh(S,A,!1),P&&(k.el=P);const B=!P&&S.subTree.el;_(S,k,b(P||S.subTree.el),P?null:v(S.subTree),C,s,u),B&&w(B),O1(S,k.el),M&&--C.deps===0&&C.resolve()})},unmount(S,_){C.isUnmounted=!0,C.activeBranch&&m(C.activeBranch,n,S,_),C.pendingBranch&&m(C.pendingBranch,n,S,_)}};return C}function US(e,t,n,r,i,a,s,l,u){const c=t.suspense=N1(t,r,n,e.parentNode,document.createElement("div"),null,i,a,s,l,!0),f=u(e,c.pendingBranch=t.ssContent,n,c,a,s);return c.deps===0&&c.resolve(),f}function VS(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=V2(r?n.default:n),e.ssFallback=r?V2(n.fallback):Pe(Un)}function V2(e){let t;if(Je(e)){const n=Oo&&e._c;n&&(e._d=!1,re()),e=e(),n&&(e._d=!0,t=Hr,S6())}return nt(e)&&(e=LS(e)),e=Fr(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function s6(e,t){t&&t.pendingBranch?nt(e)?t.effects.push(...e):t.effects.push(e):r6(e)}function So(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,O1(r,i))}function Jn(e,t){if(un){let n=un.provides;const r=un.parent&&un.parent.provides;r===n&&(n=un.provides=Object.create(r)),n[e]=t}}function kt(e,t,n=!1){const r=un||kn;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Je(t)?t.call(r.proxy):t}}function qS(e,t){return I1(e,null,t)}const Ec={};function Ue(e,t,n){return I1(e,t,n)}function I1(e,t,{immediate:n,deep:r,flush:i,onTrack:a,onTrigger:s}=Qt){const l=b1()===(un==null?void 0:un.scope)?un:null;let u,c=!1,f=!1;if(dt(e)?(u=()=>e.value,c=gu(e)):ea(e)?(u=()=>e,r=!0):nt(e)?(f=!0,c=e.some(S=>ea(S)||gu(S)),u=()=>e.map(S=>{if(dt(S))return S.value;if(ea(S))return Ms(S);if(Je(S))return za(S,l,2)})):Je(e)?t?u=()=>za(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return h&&h(),zr(e,l,3,[p])}:u=Wn,t&&r){const S=u;u=()=>Ms(S())}let h,p=S=>{h=x.onStop=()=>{za(S,l,4)}},m;if(Io)if(p=Wn,t?n&&zr(t,l,3,[u(),f?[]:void 0,p]):u(),i==="sync"){const S=RT();m=S.__watcherHandles||(S.__watcherHandles=[])}else return Wn;let v=f?new Array(e.length).fill(Ec):Ec;const b=()=>{if(x.active)if(t){const S=x.run();(r||c||(f?S.some((_,M)=>Z0(_,v[M])):Z0(S,v)))&&(h&&h(),zr(t,l,3,[S,v===Ec?void 0:f&&v[0]===Ec?[]:v,p]),v=S)}else x.run()};b.allowRecurse=!!t;let w;i==="sync"?w=b:i==="post"?w=()=>ir(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),w=()=>ju(b));const x=new w1(u,w);t?n?b():v=x.run():i==="post"?ir(x.run.bind(x),l&&l.suspense):x.run();const C=()=>{x.stop(),l&&l.scope&&g1(l.scope.effects,x)};return m&&m.push(C),C}function jS(e,t,n){const r=this.proxy,i=_t(e)?e.includes(".")?o6(r,e):()=>r[e]:e.bind(r,r);let a;Je(t)?a=t:(a=t.handler,n=t);const s=un;No(this);const l=I1(i,a.bind(r),n);return s?No(s):Es(),l}function o6(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Ms(e,t){if(!Ot(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),dt(e))Ms(e.value,t);else if(nt(e))for(let n=0;n<e.length;n++)Ms(e[n],t);else if(I5(e)||Co(e))e.forEach(n=>{Ms(n,t)});else if($5(e))for(const n in e)Ms(e[n],t);return e}function GS(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Kt(()=>{e.isMounted=!0}),ur(()=>{e.isUnmounting=!0}),e}const Ir=[Function,Array],KS={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ir,onEnter:Ir,onAfterEnter:Ir,onEnterCancelled:Ir,onBeforeLeave:Ir,onLeave:Ir,onAfterLeave:Ir,onLeaveCancelled:Ir,onBeforeAppear:Ir,onAppear:Ir,onAfterAppear:Ir,onAppearCancelled:Ir},setup(e,{slots:t}){const n=Ln(),r=GS();let i;return()=>{const a=t.default&&u6(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){for(const b of a)if(b.type!==Un){s=b;break}}const l=mt(e),{mode:u}=l;if(r.isLeaving)return Ad(s);const c=q2(s);if(!c)return Ad(s);const f=_h(c,l,r,n);xh(c,f);const h=n.subTree,p=h&&q2(h);let m=!1;const{getTransitionKey:v}=c.type;if(v){const b=v();i===void 0?i=b:b!==i&&(i=b,m=!0)}if(p&&p.type!==Un&&(!Pi(c,p)||m)){const b=_h(p,l,r,n);if(xh(p,b),u==="out-in")return r.isLeaving=!0,b.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Ad(s);u==="in-out"&&c.type!==Un&&(b.delayLeave=(w,x,C)=>{const S=c6(r,p);S[String(p.key)]=p,w._leaveCb=()=>{x(),w._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=C})}return s}}},l6=KS;function c6(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function _h(e,t,n,r){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:h,onLeave:p,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:b,onAppear:w,onAfterAppear:x,onAppearCancelled:C}=t,S=String(e.key),_=c6(n,e),M=(k,B)=>{k&&zr(k,r,9,B)},P=(k,B)=>{const F=B[1];M(k,B),nt(k)?k.every(U=>U.length<=1)&&F():k.length<=1&&F()},A={mode:a,persisted:s,beforeEnter(k){let B=l;if(!n.isMounted)if(i)B=b||l;else return;k._leaveCb&&k._leaveCb(!0);const F=_[S];F&&Pi(e,F)&&F.el._leaveCb&&F.el._leaveCb(),M(B,[k])},enter(k){let B=u,F=c,U=f;if(!n.isMounted)if(i)B=w||u,F=x||c,U=C||f;else return;let R=!1;const L=k._enterCb=D=>{R||(R=!0,D?M(U,[k]):M(F,[k]),A.delayedLeave&&A.delayedLeave(),k._enterCb=void 0)};B?P(B,[k,L]):L()},leave(k,B){const F=String(e.key);if(k._enterCb&&k._enterCb(!0),n.isUnmounting)return B();M(h,[k]);let U=!1;const R=k._leaveCb=L=>{U||(U=!0,B(),L?M(v,[k]):M(m,[k]),k._leaveCb=void 0,_[F]===e&&delete _[F])};_[F]=e,p?P(p,[k,R]):R()},clone(k){return _h(k,t,n,r)}};return A}function Ad(e){if(vl(e))return e=aa(e),e.children=null,e}function q2(e){return vl(e)?e.children?e.children[0]:void 0:e}function xh(e,t){e.shapeFlag&6&&e.component?xh(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function u6(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let s=e[a];const l=n==null?s.key:String(n)+String(s.key!=null?s.key:a);s.type===Ct?(s.patchFlag&128&&i++,r=r.concat(u6(s.children,t,l))):(t||s.type!==Un)&&r.push(l!=null?aa(s,{key:l}):s)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function ot(e){return Je(e)?{setup:e,name:e.name}:e}const To=e=>!!e.type.__asyncLoader;function YS(e){Je(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,timeout:a,suspensible:s=!0,onError:l}=e;let u=null,c,f=0;const h=()=>(f++,u=null,p()),p=()=>{let m;return u||(m=u=t().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),l)return new Promise((b,w)=>{l(v,()=>b(h()),()=>w(v),f+1)});throw v}).then(v=>m!==u&&u?u:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),c=v,v)))};return ot({name:"AsyncComponentWrapper",__asyncLoader:p,get __asyncResolved(){return c},setup(){const m=un;if(c)return()=>kd(c,m);const v=C=>{u=null,Vo(C,m,13,!r)};if(s&&m.suspense||Io)return p().then(C=>()=>kd(C,m)).catch(C=>(v(C),()=>r?Pe(r,{error:C}):null));const b=Se(!1),w=Se(),x=Se(!!i);return i&&setTimeout(()=>{x.value=!1},i),a!=null&&setTimeout(()=>{if(!b.value&&!w.value){const C=new Error(`Async component timed out after ${a}ms.`);v(C),w.value=C}},a),p().then(()=>{b.value=!0,m.parent&&vl(m.parent.vnode)&&ju(m.parent.update)}).catch(C=>{v(C),w.value=C}),()=>{if(b.value&&c)return kd(c,m);if(w.value&&r)return Pe(r,{error:w.value});if(n&&!x.value)return Pe(n)}}})}function kd(e,t){const{ref:n,props:r,children:i,ce:a}=t.vnode,s=Pe(e,r,i);return s.ref=n,s.ce=a,delete t.vnode.ce,s}const vl=e=>e.type.__isKeepAlive;function f6(e,t){d6(e,"a",t)}function L1(e,t){d6(e,"da",t)}function d6(e,t,n=un){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Yu(t,r,n),n){let i=n.parent;for(;i&&i.parent;)vl(i.parent.vnode)&&XS(r,t,n,i),i=i.parent}}function XS(e,t,n,r){const i=Yu(t,e,r,!0);B1(()=>{g1(r[t],i)},n)}function Yu(e,t,n=un,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;Wo(),No(n);const l=zr(t,n,e,s);return Es(),Uo(),l});return r?i.unshift(a):i.push(a),a}}const ua=e=>(t,n=un)=>(!Io||e==="sp")&&Yu(e,(...r)=>t(...r),n),h6=ua("bm"),Kt=ua("m"),JS=ua("bu"),$1=ua("u"),ur=ua("bum"),B1=ua("um"),QS=ua("sp"),ZS=ua("rtg"),eT=ua("rtc");function p6(e,t=un){Yu("ec",e,t)}function ui(e,t){const n=kn;if(n===null)return e;const r=Ju(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[s,l,u,c=Qt]=t[a];s&&(Je(s)&&(s={mounted:s,updated:s}),s.deep&&Ms(l),i.push({dir:s,instance:r,value:l,oldValue:void 0,arg:u,modifiers:c}))}return e}function xi(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let s=0;s<i.length;s++){const l=i[s];a&&(l.oldValue=a[s].value);let u=l.dir[r];u&&(Wo(),zr(u,n,8,[e.el,l,e,t]),Uo())}}const R1="components",tT="directives";function Sa(e,t){return F1(R1,e,!0,t)||e}const g6=Symbol();function ar(e){return _t(e)?F1(R1,e,!1)||e:e||g6}function nT(e){return F1(tT,e)}function F1(e,t,n=!0,r=!1){const i=kn||un;if(i){const a=i.type;if(e===R1){const l=IT(a,!1);if(l&&(l===t||l===Ai(t)||l===Vu(Ai(t))))return a}const s=j2(i[e]||a[e],t)||j2(i.appContext[e],t);return!s&&r?a:s}}function j2(e,t){return e&&(e[t]||e[Ai(t)]||e[Vu(Ai(t))])}function sr(e,t,n,r){let i;const a=n&&n[r];if(nt(e)||_t(e)){i=new Array(e.length);for(let s=0,l=e.length;s<l;s++)i[s]=t(e[s],s,void 0,a&&a[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,a&&a[s])}else if(Ot(e))if(e[Symbol.iterator])i=Array.from(e,(s,l)=>t(s,l,void 0,a&&a[l]));else{const s=Object.keys(e);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];i[l]=t(e[c],c,l,a&&a[l])}}else i=[];return n&&(n[r]=i),i}function rT(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(nt(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const a=r.fn(...i);return a&&(a.key=r.key),a}:r.fn)}return e}function Rt(e,t,n={},r,i){if(kn.isCE||kn.parent&&To(kn.parent)&&kn.parent.isCE)return t!=="default"&&(n.name=t),Pe("slot",n,r&&r());let a=e[t];a&&a._c&&(a._d=!1),re();const s=a&&v6(a(n)),l=qe(Ct,{key:n.key||s&&s.key||`_${t}`},s||(r?r():[]),s&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function v6(e){return e.some(t=>il(t)?!(t.type===Un||t.type===Ct&&!v6(t.children)):!0)?e:null}const Mh=e=>e?A6(e)?Ju(e)||e.proxy:Mh(e.parent):null,R0=Nn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Mh(e.parent),$root:e=>Mh(e.root),$emit:e=>e.emit,$options:e=>H1(e),$forceUpdate:e=>e.f||(e.f=()=>ju(e.update)),$nextTick:e=>e.n||(e.n=Et.bind(e.proxy)),$watch:e=>jS.bind(e)}),Od=(e,t)=>e!==Qt&&!e.__isScriptSetup&&Tt(e,t),iT={get({_:e},t){const{ctx:n,setupState:r,data:i,props:a,accessCache:s,type:l,appContext:u}=e;let c;if(t[0]!=="$"){const m=s[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(Od(r,t))return s[t]=1,r[t];if(i!==Qt&&Tt(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&Tt(c,t))return s[t]=3,a[t];if(n!==Qt&&Tt(n,t))return s[t]=4,n[t];Ch&&(s[t]=0)}}const f=R0[t];let h,p;if(f)return t==="$attrs"&&cr(e,"get",t),f(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==Qt&&Tt(n,t))return s[t]=4,n[t];if(p=u.config.globalProperties,Tt(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return Od(i,t)?(i[t]=n,!0):r!==Qt&&Tt(r,t)?(r[t]=n,!0):Tt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a}},s){let l;return!!n[s]||e!==Qt&&Tt(e,s)||Od(t,s)||(l=a[0])&&Tt(l,s)||Tt(r,s)||Tt(R0,s)||Tt(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Tt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Ch=!0;function aT(e){const t=H1(e),n=e.proxy,r=e.ctx;Ch=!1,t.beforeCreate&&G2(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:l,provide:u,inject:c,created:f,beforeMount:h,mounted:p,beforeUpdate:m,updated:v,activated:b,deactivated:w,beforeDestroy:x,beforeUnmount:C,destroyed:S,unmounted:_,render:M,renderTracked:P,renderTriggered:A,errorCaptured:k,serverPrefetch:B,expose:F,inheritAttrs:U,components:R,directives:L,filters:D}=t;if(c&&sT(c,r,null,e.appContext.config.unwrapInjectedRef),s)for(const O in s){const H=s[O];Je(H)&&(r[O]=H.bind(n))}if(i){const O=i.call(n,n);Ot(O)&&(e.data=Cn(O))}if(Ch=!0,a)for(const O in a){const H=a[O],V=Je(H)?H.bind(n,n):Je(H.get)?H.get.bind(n,n):Wn,ne=!Je(H)&&Je(H.set)?H.set.bind(n):Wn,_e=ie({get:V,set:ne});Object.defineProperty(r,O,{enumerable:!0,configurable:!0,get:()=>_e.value,set:ae=>_e.value=ae})}if(l)for(const O in l)m6(l[O],r,n,O);if(u){const O=Je(u)?u.call(n):u;Reflect.ownKeys(O).forEach(H=>{Jn(H,O[H])})}f&&G2(f,e,"c");function N(O,H){nt(H)?H.forEach(V=>O(V.bind(n))):H&&O(H.bind(n))}if(N(h6,h),N(Kt,p),N(JS,m),N($1,v),N(f6,b),N(L1,w),N(p6,k),N(eT,P),N(ZS,A),N(ur,C),N(B1,_),N(QS,B),nt(F))if(F.length){const O=e.exposed||(e.exposed={});F.forEach(H=>{Object.defineProperty(O,H,{get:()=>n[H],set:V=>n[H]=V})})}else e.exposed||(e.exposed={});M&&e.render===Wn&&(e.render=M),U!=null&&(e.inheritAttrs=U),R&&(e.components=R),L&&(e.directives=L)}function sT(e,t,n=Wn,r=!1){nt(e)&&(e=Ph(e));for(const i in e){const a=e[i];let s;Ot(a)?"default"in a?s=kt(a.from||i,a.default,!0):s=kt(a.from||i):s=kt(a),dt(s)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):t[i]=s}}function G2(e,t,n){zr(nt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function m6(e,t,n,r){const i=r.includes(".")?o6(n,r):()=>n[r];if(_t(e)){const a=t[e];Je(a)&&Ue(i,a)}else if(Je(e))Ue(i,e.bind(n));else if(Ot(e))if(nt(e))e.forEach(a=>m6(a,t,n,r));else{const a=Je(e.handler)?e.handler.bind(n):t[e.handler];Je(a)&&Ue(i,a,e)}}function H1(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,l=a.get(t);let u;return l?u=l:!i.length&&!n&&!r?u=t:(u={},i.length&&i.forEach(c=>bu(u,c,s,!0)),bu(u,t,s)),Ot(t)&&a.set(t,u),u}function bu(e,t,n,r=!1){const{mixins:i,extends:a}=t;a&&bu(e,a,n,!0),i&&i.forEach(s=>bu(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const l=oT[s]||n&&n[s];e[s]=l?l(e[s],t[s]):t[s]}return e}const oT={data:K2,props:ms,emits:ms,methods:ms,computed:ms,beforeCreate:Kn,created:Kn,beforeMount:Kn,mounted:Kn,beforeUpdate:Kn,updated:Kn,beforeDestroy:Kn,beforeUnmount:Kn,destroyed:Kn,unmounted:Kn,activated:Kn,deactivated:Kn,errorCaptured:Kn,serverPrefetch:Kn,components:ms,directives:ms,watch:cT,provide:K2,inject:lT};function K2(e,t){return t?e?function(){return Nn(Je(e)?e.call(this,this):e,Je(t)?t.call(this,this):t)}:t:e}function lT(e,t){return ms(Ph(e),Ph(t))}function Ph(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Kn(e,t){return e?[...new Set([].concat(e,t))]:t}function ms(e,t){return e?Nn(Nn(Object.create(null),e),t):t}function cT(e,t){if(!e)return t;if(!t)return e;const n=Nn(Object.create(null),e);for(const r in t)n[r]=Kn(e[r],t[r]);return n}function uT(e,t,n,r=!1){const i={},a={};hu(a,Xu,1),e.propsDefaults=Object.create(null),b6(e,t,i,a);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:xS(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function fT(e,t,n,r){const{props:i,attrs:a,vnode:{patchFlag:s}}=e,l=mt(i),[u]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const f=e.vnode.dynamicProps;for(let h=0;h<f.length;h++){let p=f[h];if(Gu(e.emitsOptions,p))continue;const m=t[p];if(u)if(Tt(a,p))m!==a[p]&&(a[p]=m,c=!0);else{const v=Ai(p);i[v]=Sh(u,l,v,m,e,!1)}else m!==a[p]&&(a[p]=m,c=!0)}}}else{b6(e,t,i,a)&&(c=!0);let f;for(const h in l)(!t||!Tt(t,h)&&((f=Hs(h))===h||!Tt(t,f)))&&(u?n&&(n[h]!==void 0||n[f]!==void 0)&&(i[h]=Sh(u,l,h,void 0,e,!0)):delete i[h]);if(a!==l)for(const h in a)(!t||!Tt(t,h))&&(delete a[h],c=!0)}c&&ia(e,"set","$attrs")}function b6(e,t,n,r){const[i,a]=e.propsOptions;let s=!1,l;if(t)for(let u in t){if(B0(u))continue;const c=t[u];let f;i&&Tt(i,f=Ai(u))?!a||!a.includes(f)?n[f]=c:(l||(l={}))[f]=c:Gu(e.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,s=!0)}if(a){const u=mt(n),c=l||Qt;for(let f=0;f<a.length;f++){const h=a[f];n[h]=Sh(i,u,h,c[h],e,!Tt(c,h))}}return s}function Sh(e,t,n,r,i,a){const s=e[n];if(s!=null){const l=Tt(s,"default");if(l&&r===void 0){const u=s.default;if(s.type!==Function&&Je(u)){const{propsDefaults:c}=i;n in c?r=c[n]:(No(i),r=c[n]=u.call(null,t),Es())}else r=u}s[0]&&(a&&!l?r=!1:s[1]&&(r===""||r===Hs(n))&&(r=!0))}return r}function y6(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const a=e.props,s={},l=[];let u=!1;if(!Je(e)){const f=h=>{u=!0;const[p,m]=y6(h,t,!0);Nn(s,p),m&&l.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!a&&!u)return Ot(e)&&r.set(e,Mo),Mo;if(nt(a))for(let f=0;f<a.length;f++){const h=Ai(a[f]);Y2(h)&&(s[h]=Qt)}else if(a)for(const f in a){const h=Ai(f);if(Y2(h)){const p=a[f],m=s[h]=nt(p)||Je(p)?{type:p}:Object.assign({},p);if(m){const v=Q2(Boolean,m.type),b=Q2(String,m.type);m[0]=v>-1,m[1]=b<0||v<b,(v>-1||Tt(m,"default"))&&l.push(h)}}}const c=[s,l];return Ot(e)&&r.set(e,c),c}function Y2(e){return e[0]!=="$"}function X2(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function J2(e,t){return X2(e)===X2(t)}function Q2(e,t){return nt(t)?t.findIndex(n=>J2(n,e)):Je(t)&&J2(t,e)?0:-1}const w6=e=>e[0]==="_"||e==="$stable",D1=e=>nt(e)?e.map(Fr):[Fr(e)],dT=(e,t,n)=>{if(t._n)return t;const r=Oe((...i)=>D1(t(...i)),n);return r._c=!1,r},_6=(e,t,n)=>{const r=e._ctx;for(const i in e){if(w6(i))continue;const a=e[i];if(Je(a))t[i]=dT(i,a,r);else if(a!=null){const s=D1(a);t[i]=()=>s}}},x6=(e,t)=>{const n=D1(t);e.slots.default=()=>n},hT=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=mt(t),hu(t,"_",n)):_6(t,e.slots={})}else e.slots={},t&&x6(e,t);hu(e.slots,Xu,1)},pT=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,s=Qt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?a=!1:(Nn(i,t),!n&&l===1&&delete i._):(a=!t.$stable,_6(t,i)),s=t}else t&&(x6(e,t),s={default:1});if(a)for(const l in i)!w6(l)&&!(l in s)&&delete i[l]};function M6(){return{app:null,config:{isNativeTag:WP,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gT=0;function vT(e,t){return function(r,i=null){Je(r)||(r=Object.assign({},r)),i!=null&&!Ot(i)&&(i=null);const a=M6(),s=new Set;let l=!1;const u=a.app={_uid:gT++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:L6,get config(){return a.config},set config(c){},use(c,...f){return s.has(c)||(c&&Je(c.install)?(s.add(c),c.install(u,...f)):Je(c)&&(s.add(c),c(u,...f))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,f){return f?(a.components[c]=f,u):a.components[c]},directive(c,f){return f?(a.directives[c]=f,u):a.directives[c]},mount(c,f,h){if(!l){const p=Pe(r,i);return p.appContext=a,f&&t?t(p,c):e(p,c,h),l=!0,u._container=c,c.__vue_app__=u,Ju(p.component)||p.component.proxy}},unmount(){l&&(e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return a.provides[c]=f,u}};return u}}function yu(e,t,n,r,i=!1){if(nt(e)){e.forEach((p,m)=>yu(p,t&&(nt(t)?t[m]:t),n,r,i));return}if(To(r)&&!i)return;const a=r.shapeFlag&4?Ju(r.component)||r.component.proxy:r.el,s=i?null:a,{i:l,r:u}=e,c=t&&t.r,f=l.refs===Qt?l.refs={}:l.refs,h=l.setupState;if(c!=null&&c!==u&&(_t(c)?(f[c]=null,Tt(h,c)&&(h[c]=null)):dt(c)&&(c.value=null)),Je(u))za(u,l,12,[s,f]);else{const p=_t(u),m=dt(u);if(p||m){const v=()=>{if(e.f){const b=p?Tt(h,u)?h[u]:f[u]:u.value;i?nt(b)&&g1(b,a):nt(b)?b.includes(a)||b.push(a):p?(f[u]=[a],Tt(h,u)&&(h[u]=f[u])):(u.value=[a],e.k&&(f[e.k]=u.value))}else p?(f[u]=s,Tt(h,u)&&(h[u]=s)):m&&(u.value=s,e.k&&(f[e.k]=s))};s?(v.id=-1,ir(v,n)):v()}}}let Ta=!1;const Ac=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",kc=e=>e.nodeType===8;function mT(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:a,parentNode:s,remove:l,insert:u,createComment:c}}=e,f=(x,C)=>{if(!C.hasChildNodes()){n(null,x,C),vu(),C._vnode=x;return}Ta=!1,h(C.firstChild,x,null,null,null),vu(),C._vnode=x,Ta&&console.error("Hydration completed but contains mismatches.")},h=(x,C,S,_,M,P=!1)=>{const A=kc(x)&&x.data==="[",k=()=>b(x,C,S,_,M,A),{type:B,ref:F,shapeFlag:U,patchFlag:R}=C;let L=x.nodeType;C.el=x,R===-2&&(P=!1,C.dynamicChildren=null);let D=null;switch(B){case Va:L!==3?C.children===""?(u(C.el=i(""),s(x),x),D=x):D=k():(x.data!==C.children&&(Ta=!0,x.data=C.children),D=a(x));break;case Un:L!==8||A?D=k():D=a(x);break;case au:if(A&&(x=a(x),L=x.nodeType),L===1||L===3){D=x;const q=!C.children.length;for(let N=0;N<C.staticCount;N++)q&&(C.children+=D.nodeType===1?D.outerHTML:D.data),N===C.staticCount-1&&(C.anchor=D),D=a(D);return A?a(D):D}else k();break;case Ct:A?D=v(x,C,S,_,M,P):D=k();break;default:if(U&1)L!==1||C.type.toLowerCase()!==x.tagName.toLowerCase()?D=k():D=p(x,C,S,_,M,P);else if(U&6){C.slotScopeIds=M;const q=s(x);if(t(C,q,null,S,_,Ac(q),P),D=A?w(x):a(x),D&&kc(D)&&D.data==="teleport end"&&(D=a(D)),To(C)){let N;A?(N=Pe(Ct),N.anchor=D?D.previousSibling:q.lastChild):N=x.nodeType===3?bn(""):Pe("div"),N.el=x,C.component.subTree=N}}else U&64?L!==8?D=k():D=C.type.hydrate(x,C,S,_,M,P,e,m):U&128&&(D=C.type.hydrate(x,C,S,_,Ac(s(x)),M,P,e,h))}return F!=null&&yu(F,null,_,C),D},p=(x,C,S,_,M,P)=>{P=P||!!C.dynamicChildren;const{type:A,props:k,patchFlag:B,shapeFlag:F,dirs:U}=C,R=A==="input"&&U||A==="option";if(R||B!==-1){if(U&&xi(C,null,S,"created"),k)if(R||!P||B&48)for(const D in k)(R&&D.endsWith("value")||gl(D)&&!B0(D))&&r(x,D,null,k[D],!1,void 0,S);else k.onClick&&r(x,"onClick",null,k.onClick,!1,void 0,S);let L;if((L=k&&k.onVnodeBeforeMount)&&Br(L,S,C),U&&xi(C,null,S,"beforeMount"),((L=k&&k.onVnodeMounted)||U)&&s6(()=>{L&&Br(L,S,C),U&&xi(C,null,S,"mounted")},_),F&16&&!(k&&(k.innerHTML||k.textContent))){let D=m(x.firstChild,C,x,S,_,M,P);for(;D;){Ta=!0;const q=D;D=D.nextSibling,l(q)}}else F&8&&x.textContent!==C.children&&(Ta=!0,x.textContent=C.children)}return x.nextSibling},m=(x,C,S,_,M,P,A)=>{A=A||!!C.dynamicChildren;const k=C.children,B=k.length;for(let F=0;F<B;F++){const U=A?k[F]:k[F]=Fr(k[F]);if(x)x=h(x,U,_,M,P,A);else{if(U.type===Va&&!U.children)continue;Ta=!0,n(null,U,S,null,_,M,Ac(S),P)}}return x},v=(x,C,S,_,M,P)=>{const{slotScopeIds:A}=C;A&&(M=M?M.concat(A):A);const k=s(x),B=m(a(x),C,k,S,_,M,P);return B&&kc(B)&&B.data==="]"?a(C.anchor=B):(Ta=!0,u(C.anchor=c("]"),k,B),B)},b=(x,C,S,_,M,P)=>{if(Ta=!0,C.el=null,P){const B=w(x);for(;;){const F=a(x);if(F&&F!==B)l(F);else break}}const A=a(x),k=s(x);return l(x),n(null,C,k,A,S,_,Ac(k),M),A},w=x=>{let C=0;for(;x;)if(x=a(x),x&&kc(x)&&(x.data==="["&&C++,x.data==="]")){if(C===0)return a(x);C--}return x};return[f,h]}const ir=s6;function bT(e){return C6(e)}function yT(e){return C6(e,mT)}function C6(e,t){const n=GP();n.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:s,createText:l,createComment:u,setText:c,setElementText:f,parentNode:h,nextSibling:p,setScopeId:m=Wn,insertStaticContent:v}=e,b=(z,j,Q,fe=null,de=null,be=null,Ee=!1,ve=null,Z=!!j.dynamicChildren)=>{if(z===j)return;z&&!Pi(z,j)&&(fe=Ie(z),ae(z,de,be,!0),z=null),j.patchFlag===-2&&(Z=!1,j.dynamicChildren=null);const{type:se,ref:Fe,shapeFlag:Te}=j;switch(se){case Va:w(z,j,Q,fe);break;case Un:x(z,j,Q,fe);break;case au:z==null&&C(j,Q,fe,Ee);break;case Ct:R(z,j,Q,fe,de,be,Ee,ve,Z);break;default:Te&1?M(z,j,Q,fe,de,be,Ee,ve,Z):Te&6?L(z,j,Q,fe,de,be,Ee,ve,Z):(Te&64||Te&128)&&se.process(z,j,Q,fe,de,be,Ee,ve,Z,rt)}Fe!=null&&de&&yu(Fe,z&&z.ref,be,j||z,!j)},w=(z,j,Q,fe)=>{if(z==null)r(j.el=l(j.children),Q,fe);else{const de=j.el=z.el;j.children!==z.children&&c(de,j.children)}},x=(z,j,Q,fe)=>{z==null?r(j.el=u(j.children||""),Q,fe):j.el=z.el},C=(z,j,Q,fe)=>{[z.el,z.anchor]=v(z.children,j,Q,fe,z.el,z.anchor)},S=({el:z,anchor:j},Q,fe)=>{let de;for(;z&&z!==j;)de=p(z),r(z,Q,fe),z=de;r(j,Q,fe)},_=({el:z,anchor:j})=>{let Q;for(;z&&z!==j;)Q=p(z),i(z),z=Q;i(j)},M=(z,j,Q,fe,de,be,Ee,ve,Z)=>{Ee=Ee||j.type==="svg",z==null?P(j,Q,fe,de,be,Ee,ve,Z):B(z,j,de,be,Ee,ve,Z)},P=(z,j,Q,fe,de,be,Ee,ve)=>{let Z,se;const{type:Fe,props:Te,shapeFlag:te,transition:ke,dirs:We}=z;if(Z=z.el=s(z.type,be,Te&&Te.is,Te),te&8?f(Z,z.children):te&16&&k(z.children,Z,null,fe,de,be&&Fe!=="foreignObject",Ee,ve),We&&xi(z,null,fe,"created"),A(Z,z,z.scopeId,Ee,fe),Te){for(const Ze in Te)Ze!=="value"&&!B0(Ze)&&a(Z,Ze,null,Te[Ze],be,z.children,fe,de,Ce);"value"in Te&&a(Z,"value",null,Te.value),(se=Te.onVnodeBeforeMount)&&Br(se,fe,z)}We&&xi(z,null,fe,"beforeMount");const Qe=(!de||de&&!de.pendingBranch)&&ke&&!ke.persisted;Qe&&ke.beforeEnter(Z),r(Z,j,Q),((se=Te&&Te.onVnodeMounted)||Qe||We)&&ir(()=>{se&&Br(se,fe,z),Qe&&ke.enter(Z),We&&xi(z,null,fe,"mounted")},de)},A=(z,j,Q,fe,de)=>{if(Q&&m(z,Q),fe)for(let be=0;be<fe.length;be++)m(z,fe[be]);if(de){let be=de.subTree;if(j===be){const Ee=de.vnode;A(z,Ee,Ee.scopeId,Ee.slotScopeIds,de.parent)}}},k=(z,j,Q,fe,de,be,Ee,ve,Z=0)=>{for(let se=Z;se<z.length;se++){const Fe=z[se]=ve?Ba(z[se]):Fr(z[se]);b(null,Fe,j,Q,fe,de,be,Ee,ve)}},B=(z,j,Q,fe,de,be,Ee)=>{const ve=j.el=z.el;let{patchFlag:Z,dynamicChildren:se,dirs:Fe}=j;Z|=z.patchFlag&16;const Te=z.props||Qt,te=j.props||Qt;let ke;Q&&ls(Q,!1),(ke=te.onVnodeBeforeUpdate)&&Br(ke,Q,j,z),Fe&&xi(j,z,Q,"beforeUpdate"),Q&&ls(Q,!0);const We=de&&j.type!=="foreignObject";if(se?F(z.dynamicChildren,se,ve,Q,fe,We,be):Ee||H(z,j,ve,null,Q,fe,We,be,!1),Z>0){if(Z&16)U(ve,j,Te,te,Q,fe,de);else if(Z&2&&Te.class!==te.class&&a(ve,"class",null,te.class,de),Z&4&&a(ve,"style",Te.style,te.style,de),Z&8){const Qe=j.dynamicProps;for(let Ze=0;Ze<Qe.length;Ze++){const bt=Qe[Ze],At=Te[bt],Yt=te[bt];(Yt!==At||bt==="value")&&a(ve,bt,At,Yt,de,z.children,Q,fe,Ce)}}Z&1&&z.children!==j.children&&f(ve,j.children)}else!Ee&&se==null&&U(ve,j,Te,te,Q,fe,de);((ke=te.onVnodeUpdated)||Fe)&&ir(()=>{ke&&Br(ke,Q,j,z),Fe&&xi(j,z,Q,"updated")},fe)},F=(z,j,Q,fe,de,be,Ee)=>{for(let ve=0;ve<j.length;ve++){const Z=z[ve],se=j[ve],Fe=Z.el&&(Z.type===Ct||!Pi(Z,se)||Z.shapeFlag&70)?h(Z.el):Q;b(Z,se,Fe,null,fe,de,be,Ee,!0)}},U=(z,j,Q,fe,de,be,Ee)=>{if(Q!==fe){if(Q!==Qt)for(const ve in Q)!B0(ve)&&!(ve in fe)&&a(z,ve,Q[ve],null,Ee,j.children,de,be,Ce);for(const ve in fe){if(B0(ve))continue;const Z=fe[ve],se=Q[ve];Z!==se&&ve!=="value"&&a(z,ve,se,Z,Ee,j.children,de,be,Ce)}"value"in fe&&a(z,"value",Q.value,fe.value)}},R=(z,j,Q,fe,de,be,Ee,ve,Z)=>{const se=j.el=z?z.el:l(""),Fe=j.anchor=z?z.anchor:l("");let{patchFlag:Te,dynamicChildren:te,slotScopeIds:ke}=j;ke&&(ve=ve?ve.concat(ke):ke),z==null?(r(se,Q,fe),r(Fe,Q,fe),k(j.children,Q,Fe,de,be,Ee,ve,Z)):Te>0&&Te&64&&te&&z.dynamicChildren?(F(z.dynamicChildren,te,Q,de,be,Ee,ve),(j.key!=null||de&&j===de.subTree)&&z1(z,j,!0)):H(z,j,Q,Fe,de,be,Ee,ve,Z)},L=(z,j,Q,fe,de,be,Ee,ve,Z)=>{j.slotScopeIds=ve,z==null?j.shapeFlag&512?de.ctx.activate(j,Q,fe,Ee,Z):D(j,Q,fe,de,be,Ee,Z):q(z,j,Z)},D=(z,j,Q,fe,de,be,Ee)=>{const ve=z.component=AT(z,fe,de);if(vl(z)&&(ve.ctx.renderer=rt),kT(ve),ve.asyncDep){if(de&&de.registerDep(ve,N),!z.el){const Z=ve.subTree=Pe(Un);x(null,Z,j,Q)}return}N(ve,z,j,Q,de,be,Ee)},q=(z,j,Q)=>{const fe=j.component=z.component;if(RS(z,j,Q))if(fe.asyncDep&&!fe.asyncResolved){O(fe,j,Q);return}else fe.next=j,OS(fe.update),fe.update();else j.el=z.el,fe.vnode=j},N=(z,j,Q,fe,de,be,Ee)=>{const ve=()=>{if(z.isMounted){let{next:Fe,bu:Te,u:te,parent:ke,vnode:We}=z,Qe=Fe,Ze;ls(z,!1),Fe?(Fe.el=We.el,O(z,Fe,Ee)):Fe=We,Te&&iu(Te),(Ze=Fe.props&&Fe.props.onVnodeBeforeUpdate)&&Br(Ze,ke,Fe,We),ls(z,!0);const bt=Ed(z),At=z.subTree;z.subTree=bt,b(At,bt,h(At.el),Ie(At),z,de,be),Fe.el=bt.el,Qe===null&&O1(z,bt.el),te&&ir(te,de),(Ze=Fe.props&&Fe.props.onVnodeUpdated)&&ir(()=>Br(Ze,ke,Fe,We),de)}else{let Fe;const{el:Te,props:te}=j,{bm:ke,m:We,parent:Qe}=z,Ze=To(j);if(ls(z,!1),ke&&iu(ke),!Ze&&(Fe=te&&te.onVnodeBeforeMount)&&Br(Fe,Qe,j),ls(z,!0),Te&&Ve){const bt=()=>{z.subTree=Ed(z),Ve(Te,z.subTree,z,de,null)};Ze?j.type.__asyncLoader().then(()=>!z.isUnmounted&&bt()):bt()}else{const bt=z.subTree=Ed(z);b(null,bt,Q,fe,z,de,be),j.el=bt.el}if(We&&ir(We,de),!Ze&&(Fe=te&&te.onVnodeMounted)){const bt=j;ir(()=>Br(Fe,Qe,bt),de)}(j.shapeFlag&256||Qe&&To(Qe.vnode)&&Qe.vnode.shapeFlag&256)&&z.a&&ir(z.a,de),z.isMounted=!0,j=Q=fe=null}},Z=z.effect=new w1(ve,()=>ju(se),z.scope),se=z.update=()=>Z.run();se.id=z.uid,ls(z,!0),se()},O=(z,j,Q)=>{j.component=z;const fe=z.vnode.props;z.vnode=j,z.next=null,fT(z,j.props,fe,Q),pT(z,j.children,Q),Wo(),W2(),Uo()},H=(z,j,Q,fe,de,be,Ee,ve,Z=!1)=>{const se=z&&z.children,Fe=z?z.shapeFlag:0,Te=j.children,{patchFlag:te,shapeFlag:ke}=j;if(te>0){if(te&128){ne(se,Te,Q,fe,de,be,Ee,ve,Z);return}else if(te&256){V(se,Te,Q,fe,de,be,Ee,ve,Z);return}}ke&8?(Fe&16&&Ce(se,de,be),Te!==se&&f(Q,Te)):Fe&16?ke&16?ne(se,Te,Q,fe,de,be,Ee,ve,Z):Ce(se,de,be,!0):(Fe&8&&f(Q,""),ke&16&&k(Te,Q,fe,de,be,Ee,ve,Z))},V=(z,j,Q,fe,de,be,Ee,ve,Z)=>{z=z||Mo,j=j||Mo;const se=z.length,Fe=j.length,Te=Math.min(se,Fe);let te;for(te=0;te<Te;te++){const ke=j[te]=Z?Ba(j[te]):Fr(j[te]);b(z[te],ke,Q,null,de,be,Ee,ve,Z)}se>Fe?Ce(z,de,be,!0,!1,Te):k(j,Q,fe,de,be,Ee,ve,Z,Te)},ne=(z,j,Q,fe,de,be,Ee,ve,Z)=>{let se=0;const Fe=j.length;let Te=z.length-1,te=Fe-1;for(;se<=Te&&se<=te;){const ke=z[se],We=j[se]=Z?Ba(j[se]):Fr(j[se]);if(Pi(ke,We))b(ke,We,Q,null,de,be,Ee,ve,Z);else break;se++}for(;se<=Te&&se<=te;){const ke=z[Te],We=j[te]=Z?Ba(j[te]):Fr(j[te]);if(Pi(ke,We))b(ke,We,Q,null,de,be,Ee,ve,Z);else break;Te--,te--}if(se>Te){if(se<=te){const ke=te+1,We=ke<Fe?j[ke].el:fe;for(;se<=te;)b(null,j[se]=Z?Ba(j[se]):Fr(j[se]),Q,We,de,be,Ee,ve,Z),se++}}else if(se>te)for(;se<=Te;)ae(z[se],de,be,!0),se++;else{const ke=se,We=se,Qe=new Map;for(se=We;se<=te;se++){const ht=j[se]=Z?Ba(j[se]):Fr(j[se]);ht.key!=null&&Qe.set(ht.key,se)}let Ze,bt=0;const At=te-We+1;let Yt=!1,an=0;const zt=new Array(At);for(se=0;se<At;se++)zt[se]=0;for(se=ke;se<=Te;se++){const ht=z[se];if(bt>=At){ae(ht,de,be,!0);continue}let pt;if(ht.key!=null)pt=Qe.get(ht.key);else for(Ze=We;Ze<=te;Ze++)if(zt[Ze-We]===0&&Pi(ht,j[Ze])){pt=Ze;break}pt===void 0?ae(ht,de,be,!0):(zt[pt-We]=se+1,pt>=an?an=pt:Yt=!0,b(ht,j[pt],Q,null,de,be,Ee,ve,Z),bt++)}const Pt=Yt?wT(zt):Mo;for(Ze=Pt.length-1,se=At-1;se>=0;se--){const ht=We+se,pt=j[ht],ee=ht+1<Fe?j[ht+1].el:fe;zt[se]===0?b(null,pt,Q,ee,de,be,Ee,ve,Z):Yt&&(Ze<0||se!==Pt[Ze]?_e(pt,Q,ee,2):Ze--)}}},_e=(z,j,Q,fe,de=null)=>{const{el:be,type:Ee,transition:ve,children:Z,shapeFlag:se}=z;if(se&6){_e(z.component.subTree,j,Q,fe);return}if(se&128){z.suspense.move(j,Q,fe);return}if(se&64){Ee.move(z,j,Q,rt);return}if(Ee===Ct){r(be,j,Q);for(let Te=0;Te<Z.length;Te++)_e(Z[Te],j,Q,fe);r(z.anchor,j,Q);return}if(Ee===au){S(z,j,Q);return}if(fe!==2&&se&1&&ve)if(fe===0)ve.beforeEnter(be),r(be,j,Q),ir(()=>ve.enter(be),de);else{const{leave:Te,delayLeave:te,afterLeave:ke}=ve,We=()=>r(be,j,Q),Qe=()=>{Te(be,()=>{We(),ke&&ke()})};te?te(be,We,Qe):Qe()}else r(be,j,Q)},ae=(z,j,Q,fe=!1,de=!1)=>{const{type:be,props:Ee,ref:ve,children:Z,dynamicChildren:se,shapeFlag:Fe,patchFlag:Te,dirs:te}=z;if(ve!=null&&yu(ve,null,Q,z,!0),Fe&256){j.ctx.deactivate(z);return}const ke=Fe&1&&te,We=!To(z);let Qe;if(We&&(Qe=Ee&&Ee.onVnodeBeforeUnmount)&&Br(Qe,j,z),Fe&6)$e(z.component,Q,fe);else{if(Fe&128){z.suspense.unmount(Q,fe);return}ke&&xi(z,null,j,"beforeUnmount"),Fe&64?z.type.remove(z,j,Q,de,rt,fe):se&&(be!==Ct||Te>0&&Te&64)?Ce(se,j,Q,!1,!0):(be===Ct&&Te&384||!de&&Fe&16)&&Ce(Z,j,Q),fe&&Ne(z)}(We&&(Qe=Ee&&Ee.onVnodeUnmounted)||ke)&&ir(()=>{Qe&&Br(Qe,j,z),ke&&xi(z,null,j,"unmounted")},Q)},Ne=z=>{const{type:j,el:Q,anchor:fe,transition:de}=z;if(j===Ct){He(Q,fe);return}if(j===au){_(z);return}const be=()=>{i(Q),de&&!de.persisted&&de.afterLeave&&de.afterLeave()};if(z.shapeFlag&1&&de&&!de.persisted){const{leave:Ee,delayLeave:ve}=de,Z=()=>Ee(Q,be);ve?ve(z.el,be,Z):Z()}else be()},He=(z,j)=>{let Q;for(;z!==j;)Q=p(z),i(z),z=Q;i(j)},$e=(z,j,Q)=>{const{bum:fe,scope:de,update:be,subTree:Ee,um:ve}=z;fe&&iu(fe),de.stop(),be&&(be.active=!1,ae(Ee,z,j,Q)),ve&&ir(ve,j),ir(()=>{z.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},Ce=(z,j,Q,fe=!1,de=!1,be=0)=>{for(let Ee=be;Ee<z.length;Ee++)ae(z[Ee],j,Q,fe,de)},Ie=z=>z.shapeFlag&6?Ie(z.component.subTree):z.shapeFlag&128?z.suspense.next():p(z.anchor||z.el),xe=(z,j,Q)=>{z==null?j._vnode&&ae(j._vnode,null,null,!0):b(j._vnode||null,z,j,null,null,null,Q),W2(),vu(),j._vnode=z},rt={p:b,um:ae,m:_e,r:Ne,mt:D,mc:k,pc:H,pbc:F,n:Ie,o:e};let De,Ve;return t&&([De,Ve]=t(rt)),{render:xe,hydrate:De,createApp:vT(xe,De)}}function ls({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function z1(e,t,n=!1){const r=e.children,i=t.children;if(nt(r)&&nt(i))for(let a=0;a<r.length;a++){const s=r[a];let l=i[a];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[a]=Ba(i[a]),l.el=s.el),n||z1(s,l)),l.type===Va&&(l.el=s.el)}}function wT(e){const t=e.slice(),n=[0];let r,i,a,s,l;const u=e.length;for(r=0;r<u;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(a=0,s=n.length-1;a<s;)l=a+s>>1,e[n[l]]<c?a=l+1:s=l;c<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,s=n[a-1];a-- >0;)n[a]=s,s=t[s];return n}const _T=e=>e.__isTeleport,F0=e=>e&&(e.disabled||e.disabled===""),Z2=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Th=(e,t)=>{const n=e&&e.to;return _t(n)?t?t(n):null:n},xT={__isTeleport:!0,process(e,t,n,r,i,a,s,l,u,c){const{mc:f,pc:h,pbc:p,o:{insert:m,querySelector:v,createText:b,createComment:w}}=c,x=F0(t.props);let{shapeFlag:C,children:S,dynamicChildren:_}=t;if(e==null){const M=t.el=b(""),P=t.anchor=b("");m(M,n,r),m(P,n,r);const A=t.target=Th(t.props,v),k=t.targetAnchor=b("");A&&(m(k,A),s=s||Z2(A));const B=(F,U)=>{C&16&&f(S,F,U,i,a,s,l,u)};x?B(n,P):A&&B(A,k)}else{t.el=e.el;const M=t.anchor=e.anchor,P=t.target=e.target,A=t.targetAnchor=e.targetAnchor,k=F0(e.props),B=k?n:P,F=k?M:A;if(s=s||Z2(P),_?(p(e.dynamicChildren,_,B,i,a,s,l),z1(e,t,!0)):u||h(e,t,B,F,i,a,s,l,!1),x)k||Oc(t,n,M,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const U=t.target=Th(t.props,v);U&&Oc(t,U,null,c,0)}else k&&Oc(t,P,A,c,1)}P6(t)},remove(e,t,n,r,{um:i,o:{remove:a}},s){const{shapeFlag:l,children:u,anchor:c,targetAnchor:f,target:h,props:p}=e;if(h&&a(f),(s||!F0(p))&&(a(c),l&16))for(let m=0;m<u.length;m++){const v=u[m];i(v,t,n,!0,!!v.dynamicChildren)}},move:Oc,hydrate:MT};function Oc(e,t,n,{o:{insert:r},m:i},a=2){a===0&&r(e.targetAnchor,t,n);const{el:s,anchor:l,shapeFlag:u,children:c,props:f}=e,h=a===2;if(h&&r(s,t,n),(!h||F0(f))&&u&16)for(let p=0;p<c.length;p++)i(c[p],t,n,2);h&&r(l,t,n)}function MT(e,t,n,r,i,a,{o:{nextSibling:s,parentNode:l,querySelector:u}},c){const f=t.target=Th(t.props,u);if(f){const h=f._lpa||f.firstChild;if(t.shapeFlag&16)if(F0(t.props))t.anchor=c(s(e),t,l(e),n,r,i,a),t.targetAnchor=h;else{t.anchor=s(e);let p=h;for(;p;)if(p=s(p),p&&p.nodeType===8&&p.data==="teleport anchor"){t.targetAnchor=p,f._lpa=t.targetAnchor&&s(t.targetAnchor);break}c(h,t,f,n,r,i,a)}P6(t)}return t.anchor&&s(t.anchor)}const CT=xT;function P6(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Ct=Symbol(void 0),Va=Symbol(void 0),Un=Symbol(void 0),au=Symbol(void 0),H0=[];let Hr=null;function re(e=!1){H0.push(Hr=e?null:[])}function S6(){H0.pop(),Hr=H0[H0.length-1]||null}let Oo=1;function em(e){Oo+=e}function T6(e){return e.dynamicChildren=Oo>0?Hr||Mo:null,S6(),Oo>0&&Hr&&Hr.push(e),e}function Le(e,t,n,r,i,a){return T6(Ae(e,t,n,r,i,a,!0))}function qe(e,t,n,r,i){return T6(Pe(e,t,n,r,i,!0))}function il(e){return e?e.__v_isVNode===!0:!1}function Pi(e,t){return e.type===t.type&&e.key===t.key}const Xu="__vInternal",E6=({key:e})=>e??null,su=({ref:e,ref_key:t,ref_for:n})=>e!=null?_t(e)||dt(e)||Je(e)?{i:kn,r:e,k:t,f:!!n}:e:null;function Ae(e,t=null,n=null,r=0,i=null,a=e===Ct?0:1,s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&E6(t),ref:t&&su(t),scopeId:Ku,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:kn};return l?(W1(u,n),a&128&&e.normalize(u)):n&&(u.shapeFlag|=_t(n)?8:16),Oo>0&&!s&&Hr&&(u.patchFlag>0||a&6)&&u.patchFlag!==32&&Hr.push(u),u}const Pe=PT;function PT(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===g6)&&(e=Un),il(e)){const l=aa(e,t,!0);return n&&W1(l,n),Oo>0&&!a&&Hr&&(l.shapeFlag&6?Hr[Hr.indexOf(e)]=l:Hr.push(l)),l.patchFlag|=-2,l}if(LT(e)&&(e=e.__vccOpts),t){t=ST(t);let{class:l,style:u}=t;l&&!_t(l)&&(t.class=Re(l)),Ot(u)&&(X5(u)&&!nt(u)&&(u=Nn({},u)),t.style=Wt(u))}const s=_t(e)?1:FS(e)?128:_T(e)?64:Ot(e)?4:Je(e)?2:0;return Ae(e,t,n,r,i,s,a,!0)}function ST(e){return e?X5(e)||Xu in e?Nn({},e):e:null}function aa(e,t,n=!1){const{props:r,ref:i,patchFlag:a,children:s}=e,l=t?Si(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&E6(l),ref:t&&t.ref?n&&i?nt(i)?i.concat(su(t)):[i,su(t)]:su(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ct?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&aa(e.ssContent),ssFallback:e.ssFallback&&aa(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function bn(e=" ",t=0){return Pe(Va,null,e,t)}function Ke(e="",t=!1){return t?(re(),qe(Un,null,e)):Pe(Un,null,e)}function Fr(e){return e==null||typeof e=="boolean"?Pe(Un):nt(e)?Pe(Ct,null,e.slice()):typeof e=="object"?Ba(e):Pe(Va,null,String(e))}function Ba(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:aa(e)}function W1(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(nt(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),W1(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Xu in t)?t._ctx=kn:i===3&&kn&&(kn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Je(t)?(t={default:t,_ctx:kn},n=32):(t=String(t),r&64?(n=16,t=[bn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Si(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Re([t.class,r.class]));else if(i==="style")t.style=Wt([t.style,r.style]);else if(gl(i)){const a=t[i],s=r[i];s&&a!==s&&!(nt(a)&&a.includes(s))&&(t[i]=a?[].concat(a,s):s)}else i!==""&&(t[i]=r[i])}return t}function Br(e,t,n,r=null){zr(e,t,7,[n,r])}const TT=M6();let ET=0;function AT(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||TT,a={uid:ET++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new R5(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:y6(r,i),emitsOptions:a6(r,i),emit:null,emitted:null,propsDefaults:Qt,inheritAttrs:r.inheritAttrs,ctx:Qt,data:Qt,props:Qt,attrs:Qt,slots:Qt,refs:Qt,setupState:Qt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=IS.bind(null,a),e.ce&&e.ce(a),a}let un=null;const Ln=()=>un||kn,No=e=>{un=e,e.scope.on()},Es=()=>{un&&un.scope.off(),un=null};function A6(e){return e.vnode.shapeFlag&4}let Io=!1;function kT(e,t=!1){Io=t;const{props:n,children:r}=e.vnode,i=A6(e);uT(e,n,i,t),hT(e,r);const a=i?OT(e,t):void 0;return Io=!1,a}function OT(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ko(new Proxy(e.ctx,iT));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?O6(e):null;No(e),Wo();const a=za(r,e,0,[e.props,i]);if(Uo(),Es(),du(a)){if(a.then(Es,Es),t)return a.then(s=>{Eh(e,s,t)}).catch(s=>{Vo(s,e,0)});e.asyncDep=a}else Eh(e,a,t)}else k6(e,t)}function Eh(e,t,n){Je(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ot(t)&&(e.setupState=Z5(t)),k6(e,n)}let tm;function k6(e,t,n){const r=e.type;if(!e.render){if(!t&&tm&&!r.render){const i=r.template||H1(e).template;if(i){const{isCustomElement:a,compilerOptions:s}=e.appContext.config,{delimiters:l,compilerOptions:u}=r,c=Nn(Nn({isCustomElement:a,delimiters:l},s),u);r.render=tm(i,c)}}e.render=r.render||Wn}No(e),Wo(),aT(e),Uo(),Es()}function NT(e){return new Proxy(e.attrs,{get(t,n){return cr(e,"get","$attrs"),t[n]}})}function O6(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=NT(e))},slots:e.slots,emit:e.emit,expose:t}}function Ju(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Z5(ko(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in R0)return R0[n](e)},has(t,n){return n in t||n in R0}}))}function IT(e,t=!0){return Je(e)?e.displayName||e.name:e.name||t&&e.__name}function LT(e){return Je(e)&&"__vccOpts"in e}const ie=(e,t)=>TS(e,t,Io);function N6(){return I6().slots}function $T(){return I6().attrs}function I6(){const e=Ln();return e.setupContext||(e.setupContext=O6(e))}function U1(e,t,n){const r=arguments.length;return r===2?Ot(t)&&!nt(t)?il(t)?Pe(e,null,[t]):Pe(e,t):Pe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&il(n)&&(n=[n]),Pe(e,t,n))}const BT=Symbol(""),RT=()=>kt(BT),L6="3.2.47",FT="http://www.w3.org/2000/svg",_s=typeof document<"u"?document:null,nm=_s&&_s.createElement("template"),HT={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?_s.createElementNS(FT,e):_s.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>_s.createTextNode(e),createComment:e=>_s.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_s.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,a){const s=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{nm.innerHTML=r?`<svg>${e}</svg>`:e;const l=nm.content;if(r){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function DT(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function zT(e,t,n){const r=e.style,i=_t(n);if(n&&!i){if(t&&!_t(t))for(const a in t)n[a]==null&&Ah(r,a,"");for(const a in n)Ah(r,a,n[a])}else{const a=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=a)}}const rm=/\s*!important$/;function Ah(e,t,n){if(nt(n))n.forEach(r=>Ah(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=WT(e,t);rm.test(n)?e.setProperty(Hs(r),n.replace(rm,""),"important"):e[r]=n}}const im=["Webkit","Moz","ms"],Nd={};function WT(e,t){const n=Nd[t];if(n)return n;let r=Ai(t);if(r!=="filter"&&r in e)return Nd[t]=r;r=Vu(r);for(let i=0;i<im.length;i++){const a=im[i]+r;if(a in e)return Nd[t]=a}return t}const am="http://www.w3.org/1999/xlink";function UT(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(am,t.slice(6,t.length)):e.setAttributeNS(am,t,n);else{const a=zP(t);n==null||a&&!O5(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function VT(e,t,n,r,i,a,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,a),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n??"";(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=O5(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function yo(e,t,n,r){e.addEventListener(t,n,r)}function qT(e,t,n,r){e.removeEventListener(t,n,r)}function jT(e,t,n,r,i=null){const a=e._vei||(e._vei={}),s=a[t];if(r&&s)s.value=r;else{const[l,u]=GT(t);if(r){const c=a[t]=XT(r,i);yo(e,l,c,u)}else s&&(qT(e,l,s,u),a[t]=void 0)}}const sm=/(?:Once|Passive|Capture)$/;function GT(e){let t;if(sm.test(e)){t={};let r;for(;r=e.match(sm);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Hs(e.slice(2)),t]}let Id=0;const KT=Promise.resolve(),YT=()=>Id||(KT.then(()=>Id=0),Id=Date.now());function XT(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;zr(JT(r,n.value),t,5,[r])};return n.value=e,n.attached=YT(),n}function JT(e,t){if(nt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const om=/^on[a-z]/,QT=(e,t,n,r,i=!1,a,s,l,u)=>{t==="class"?DT(e,r,i):t==="style"?zT(e,n,r):gl(t)?p1(t)||jT(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ZT(e,t,r,i))?VT(e,t,r,a,s,l,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),UT(e,t,r,i))};function ZT(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&om.test(t)&&Je(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||om.test(t)&&_t(n)?!1:t in e}const Ea="transition",y0="animation",qa=(e,{slots:t})=>U1(l6,eE(e),t);qa.displayName="Transition";const $6={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};qa.props=Nn({},l6.props,$6);const cs=(e,t=[])=>{nt(e)?e.forEach(n=>n(...t)):e&&e(...t)},lm=e=>e?nt(e)?e.some(t=>t.length>1):e.length>1:!1;function eE(e){const t={};for(const R in e)R in $6||(t[R]=e[R]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=a,appearActiveClass:c=s,appearToClass:f=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,v=tE(i),b=v&&v[0],w=v&&v[1],{onBeforeEnter:x,onEnter:C,onEnterCancelled:S,onLeave:_,onLeaveCancelled:M,onBeforeAppear:P=x,onAppear:A=C,onAppearCancelled:k=S}=t,B=(R,L,D)=>{us(R,L?f:l),us(R,L?c:s),D&&D()},F=(R,L)=>{R._isLeaving=!1,us(R,h),us(R,m),us(R,p),L&&L()},U=R=>(L,D)=>{const q=R?A:C,N=()=>B(L,R,D);cs(q,[L,N]),cm(()=>{us(L,R?u:a),Aa(L,R?f:l),lm(q)||um(L,r,b,N)})};return Nn(t,{onBeforeEnter(R){cs(x,[R]),Aa(R,a),Aa(R,s)},onBeforeAppear(R){cs(P,[R]),Aa(R,u),Aa(R,c)},onEnter:U(!1),onAppear:U(!0),onLeave(R,L){R._isLeaving=!0;const D=()=>F(R,L);Aa(R,h),iE(),Aa(R,p),cm(()=>{R._isLeaving&&(us(R,h),Aa(R,m),lm(_)||um(R,r,w,D))}),cs(_,[R,D])},onEnterCancelled(R){B(R,!1),cs(S,[R])},onAppearCancelled(R){B(R,!0),cs(k,[R])},onLeaveCancelled(R){F(R),cs(M,[R])}})}function tE(e){if(e==null)return null;if(Ot(e))return[Ld(e.enter),Ld(e.leave)];{const t=Ld(e);return[t,t]}}function Ld(e){return B5(e)}function Aa(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function us(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function cm(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let nE=0;function um(e,t,n,r){const i=e._endId=++nE,a=()=>{i===e._endId&&r()};if(n)return setTimeout(a,n);const{type:s,timeout:l,propCount:u}=rE(e,t);if(!s)return r();const c=s+"end";let f=0;const h=()=>{e.removeEventListener(c,p),a()},p=m=>{m.target===e&&++f>=u&&h()};setTimeout(()=>{f<u&&h()},l+1),e.addEventListener(c,p)}function rE(e,t){const n=window.getComputedStyle(e),r=v=>(n[v]||"").split(", "),i=r(`${Ea}Delay`),a=r(`${Ea}Duration`),s=fm(i,a),l=r(`${y0}Delay`),u=r(`${y0}Duration`),c=fm(l,u);let f=null,h=0,p=0;t===Ea?s>0&&(f=Ea,h=s,p=a.length):t===y0?c>0&&(f=y0,h=c,p=u.length):(h=Math.max(s,c),f=h>0?s>c?Ea:y0:null,p=f?f===Ea?a.length:u.length:0);const m=f===Ea&&/\b(transform|all)(,|$)/.test(r(`${Ea}Property`).toString());return{type:f,timeout:h,propCount:p,hasTransform:m}}function fm(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>dm(n)+dm(e[r])))}function dm(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function iE(){return document.body.offsetHeight}const hm=e=>{const t=e.props["onUpdate:modelValue"]||!1;return nt(t)?n=>iu(t,n):t};function aE(e){e.target.composing=!0}function pm(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const sE={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=hm(i);const a=r||i.props&&i.props.type==="number";yo(e,t?"change":"input",s=>{if(s.target.composing)return;let l=e.value;n&&(l=l.trim()),a&&(l=vh(l)),e._assign(l)}),n&&yo(e,"change",()=>{e.value=e.value.trim()}),t||(yo(e,"compositionstart",aE),yo(e,"compositionend",pm),yo(e,"change",pm))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},a){if(e._assign=hm(a),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&vh(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},oE=["ctrl","shift","alt","meta"],lE={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>oE.some(n=>e[`${n}Key`]&&!t.includes(n))},Hn=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const a=lE[t[i]];if(a&&a(n,t))return}return e(n,...r)},cE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Fn=(e,t)=>n=>{if(!("key"in n))return;const r=Hs(n.key);if(t.some(i=>i===r||cE[i]===r))return e(n)},qo={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):w0(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),w0(e,!0),r.enter(e)):r.leave(e,()=>{w0(e,!1)}):w0(e,t))},beforeUnmount(e,{value:t}){w0(e,t)}};function w0(e,t){e.style.display=t?e._vod:"none"}const B6=Nn({patchProp:QT},HT);let D0,gm=!1;function uE(){return D0||(D0=bT(B6))}function fE(){return D0=gm?D0:yT(B6),gm=!0,D0}const dE=(...e)=>{const t=uE().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=R6(r);if(!i)return;const a=t._component;!Je(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t},hE=(...e)=>{const t=fE().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=R6(r);if(i)return n(i,!0,i instanceof SVGElement)},t};function R6(e){return _t(e)?document.querySelector(e):e}const pE=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,gE=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,vE=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function mE(e,t){if(e!=="__proto__"&&!(e==="constructor"&&t&&typeof t=="object"&&"prototype"in t))return t}function bE(e,t={}){if(typeof e!="string")return e;const n=e.toLowerCase().trim();if(n==="true")return!0;if(n==="false")return!1;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n!=="undefined"){if(!vE.test(e)){if(t.strict)throw new SyntaxError("Invalid JSON");return e}try{return pE.test(e)||gE.test(e)?JSON.parse(e,mE):JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}}const yE=/#/g,wE=/&/g,_E=/=/g,F6=/\+/g,xE=/%5e/gi,ME=/%60/gi,CE=/%7c/gi,PE=/%20/gi;function SE(e){return encodeURI(""+e).replace(CE,"|")}function kh(e){return SE(typeof e=="string"?e:JSON.stringify(e)).replace(F6,"%2B").replace(PE,"+").replace(yE,"%23").replace(wE,"%26").replace(ME,"`").replace(xE,"^")}function $d(e){return kh(e).replace(_E,"%3D")}function wu(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function TE(e){return wu(e.replace(F6," "))}function H6(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const n of e.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=wu(r[1]);if(i==="__proto__"||i==="constructor")continue;const a=TE(r[2]||"");typeof t[i]<"u"?Array.isArray(t[i])?t[i].push(a):t[i]=[t[i],a]:t[i]=a}return t}function EE(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${$d(e)}=${kh(n)}`).join("&"):`${$d(e)}=${kh(t)}`:$d(e)}function D6(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>EE(t,e[t])).join("&")}const AE=/^\w{2,}:([/\\]{1,2})/,kE=/^\w{2,}:([/\\]{2})?/,OE=/^([/\\]\s*){2,}[^/\\]/;function Qu(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?AE.test(e):kE.test(e)||(t.acceptRelative?OE.test(e):!1)}const NE=/\/$|\/\?/;function Oh(e="",t=!1){return t?NE.test(e):e.endsWith("/")}function z6(e="",t=!1){if(!t)return(Oh(e)?e.slice(0,-1):e)||"/";if(!Oh(e,!0))return e||"/";const[n,...r]=e.split("?");return(n.slice(0,-1)||"/")+(r.length>0?`?${r.join("?")}`:"")}function Nh(e="",t=!1){if(!t)return e.endsWith("/")?e:e+"/";if(Oh(e,!0))return e||"/";const[n,...r]=e.split("?");return n+"/"+(r.length>0?`?${r.join("?")}`:"")}function W6(e=""){return e.startsWith("/")}function IE(e=""){return(W6(e)?e.slice(1):e)||"/"}function vm(e=""){return W6(e)?e:"/"+e}function LE(e,t){if(U6(t)||Qu(e))return e;const n=z6(t);return e.startsWith(n)?e:jo(n,e)}function $E(e,t){if(U6(t))return e;const n=z6(t);if(!e.startsWith(n))return e;const r=e.slice(n.length);return r[0]==="/"?r:"/"+r}function BE(e,t){const n=ml(e),r={...H6(n.search),...t};return n.search=D6(r),V6(n)}function U6(e){return!e||e==="/"}function RE(e){return e&&e!=="/"}function jo(e,...t){let n=e||"";for(const r of t.filter(i=>RE(i)))n=n?Nh(n)+IE(r):r;return n}function FE(e,t,n={}){return n.trailingSlash||(e=Nh(e),t=Nh(t)),n.leadingSlash||(e=vm(e),t=vm(t)),n.encoding||(e=wu(e),t=wu(t)),e===t}function ml(e="",t){if(!Qu(e,{acceptRelative:!0}))return t?ml(t+e):mm(e);const[n="",r,i=""]=(e.replace(/\\/g,"/").match(/([^/:]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[a="",s=""]=(i.match(/([^#/?]*)(.*)?/)||[]).splice(1),{pathname:l,search:u,hash:c}=mm(s.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:n,auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:a,pathname:l,search:u,hash:c}}function mm(e=""){const[t="",n="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:r}}function V6(e){const t=e.pathname+(e.search?(e.search.startsWith("?")?"":"?")+e.search:"")+e.hash;return e.protocol?e.protocol+"//"+(e.auth?e.auth+"@":"")+e.host+t:t}class HE extends Error{constructor(){super(...arguments),this.name="FetchError"}}function DE(e,t,n){let r="";t&&(r=t.message),e&&n?r=`${r} (${n.status} ${n.statusText} (${e.toString()}))`:e&&(r=`${r} (${e.toString()})`);const i=new HE(r);return Object.defineProperty(i,"request",{get(){return e}}),Object.defineProperty(i,"response",{get(){return n}}),Object.defineProperty(i,"data",{get(){return n&&n._data}}),Object.defineProperty(i,"status",{get(){return n&&n.status}}),Object.defineProperty(i,"statusText",{get(){return n&&n.statusText}}),Object.defineProperty(i,"statusCode",{get(){return n&&n.status}}),Object.defineProperty(i,"statusMessage",{get(){return n&&n.statusText}}),i}const zE=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function bm(e="GET"){return zE.has(e.toUpperCase())}function WE(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const UE=new Set(["image/svg","application/xml","application/xhtml","application/html"]),VE=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function qE(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return VE.test(t)?"json":UE.has(t)||t.startsWith("text/")?"text":"blob"}const jE=new Set([408,409,425,429,500,502,503,504]);function q6(e){const{fetch:t,Headers:n}=e;function r(s){const l=s.error&&s.error.name==="AbortError"||!1;if(s.options.retry!==!1&&!l){let c;typeof s.options.retry=="number"?c=s.options.retry:c=bm(s.options.method)?0:1;const f=s.response&&s.response.status||500;if(c>0&&jE.has(f))return i(s.request,{...s.options,retry:c-1})}const u=DE(s.request,s.error,s.response);throw Error.captureStackTrace&&Error.captureStackTrace(u,i),u}const i=async function(l,u={}){const c={request:l,options:{...e.defaults,...u},response:void 0,error:void 0};c.options.onRequest&&await c.options.onRequest(c),typeof c.request=="string"&&(c.options.baseURL&&(c.request=LE(c.request,c.options.baseURL)),(c.options.query||c.options.params)&&(c.request=BE(c.request,{...c.options.params,...c.options.query})),c.options.body&&bm(c.options.method)&&WE(c.options.body)&&(c.options.body=typeof c.options.body=="string"?c.options.body:JSON.stringify(c.options.body),c.options.headers=new n(c.options.headers),c.options.headers.has("content-type")||c.options.headers.set("content-type","application/json"),c.options.headers.has("accept")||c.options.headers.set("accept","application/json"))),c.response=await t(c.request,c.options).catch(async h=>(c.error=h,c.options.onRequestError&&await c.options.onRequestError(c),r(c)));const f=(c.options.parseResponse?"json":c.options.responseType)||qE(c.response.headers.get("content-type")||"");if(f==="json"){const h=await c.response.text(),p=c.options.parseResponse||bE;c.response._data=p(h)}else f==="stream"?c.response._data=c.response.body:c.response._data=await c.response[f]();return c.options.onResponse&&await c.options.onResponse(c),c.response.status>=400&&c.response.status<600?(c.options.onResponseError&&await c.options.onResponseError(c),r(c)):c.response},a=function(l,u){return i(l,u).then(c=>c._data)};return a.raw=i,a.native=t,a.create=(s={})=>q6({...e,defaults:{...e.defaults,...s}}),a}const j6=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),GE=j6.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),KE=j6.Headers,YE=q6({fetch:GE,Headers:KE}),XE=YE,JE=()=>{var e;return((e=window==null?void 0:window.__NUXT__)==null?void 0:e.config)||{}},_u=JE().app,QE=()=>_u.baseURL,ZE=()=>_u.buildAssetsDir,eA=(...e)=>jo(G6(),ZE(),...e),G6=(...e)=>{const t=_u.cdnURL||_u.baseURL;return e.length?jo(t,...e):t};globalThis.__buildAssetsURL=eA,globalThis.__publicAssetsURL=G6;function Ih(e,t={},n){for(const r in e){const i=e[r],a=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?Ih(i,t,a):typeof i=="function"&&(t[a]=i)}return t}const tA={run:e=>e()},nA=()=>tA,K6=typeof console.createTask<"u"?console.createTask:nA;function rA(e,t){const n=t.shift(),r=K6(n);return e.reduce((i,a)=>i.then(()=>r.run(()=>a(...t))),Promise.resolve())}function iA(e,t){const n=t.shift(),r=K6(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function Bd(e,t){for(const n of[...e])n(t)}class aA{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let a;for(;this._deprecatedHooks[t];)a=this._deprecatedHooks[t],t=a.to;if(a&&!r.allowDeprecated){let s=a.message;s||(s=`${i} hook has been deprecated`+(a.to?`, please use ${a.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(s)||(console.warn(s),this._deprecatedMessages.add(s))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...a)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...a));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Ih(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=Ih(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(rA,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(iA,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&Bd(this._before,i);const a=t(n in this._hooks?[...this._hooks[n]]:[],r);return a instanceof Promise?a.finally(()=>{this._after&&i&&Bd(this._after,i)}):(this._after&&i&&Bd(this._after,i),a)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function Y6(){return new aA}function sA(e={}){let t,n=!1;const r=s=>{if(t&&t!==s)throw new Error("Context conflict")};let i;if(e.asyncContext){const s=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;s?i=new s:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const a=()=>{if(i&&t===void 0){const s=i.getStore();if(s!==void 0)return s}return t};return{use:()=>{const s=a();if(s===void 0)throw new Error("Context is not available");return s},tryUse:()=>a(),set:(s,l)=>{l||r(s),t=s,n=!0},unset:()=>{t=void 0,n=!1},call:(s,l)=>{r(s),t=s;try{return i?i.run(s,l):l()}finally{n||(t=void 0)}},async callAsync(s,l){t=s;const u=()=>{t=s},c=()=>t===s?u:void 0;_m.add(c);try{const f=i?i.run(s,l):l();return n||(t=void 0),await f}finally{_m.delete(c)}}}}function oA(e={}){const t={};return{get(n,r={}){return t[n]||(t[n]=sA({...e,...r})),t[n],t[n]}}}const xu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},ym="__unctx__",lA=xu[ym]||(xu[ym]=oA()),cA=(e,t={})=>lA.get(e,t),wm="__unctx_async_handlers__",_m=xu[wm]||(xu[wm]=new Set),X6=cA("nuxt-app"),uA="__nuxt_plugin";function fA(e){let t=0;const n={provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.4.3"},get vue(){return n.vueApp.version}},payload:Cn({data:{},state:{},_errors:{},...window.__NUXT__??{}}),static:{data:{}},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};t++;let a=!1;return()=>{if(!a&&(a=!0,t--,t===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:{},_payloadRevivers:{},...e};n.hooks=Y6(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(a,s)=>{const l="$"+a;Nc(n,l,s),Nc(n.vueApp.config.globalProperties,l,s)},Nc(n.vueApp,"$nuxt",n),Nc(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener("nuxt.preloadError",s=>{n.callHook("app:chunkError",{error:s.payload})});const a=n.hook("app:error",(...s)=>{console.error("[nuxt] error caught during app initialization",...s)});n.hook("app:mounted",a)}const r=Cn(n.payload.config),i=new Proxy(r,{get(a,s){return s in a?a[s]:a.public[s]},set(a,s,l){return s==="public"||s==="app"?!1:(a[s]=l,a.public[s]=l,!0)}});return n.provide("config",i),n}async function dA(e,t){if(typeof t!="function")return;const{provide:n}=await z0(e,t,[e])||{};if(n&&typeof n=="object")for(const r in n)e.provide(r,n[r])}async function hA(e,t){for(const n of t)await dA(e,n)}function pA(e){const t=[];for(const n of e){if(typeof n!="function")continue;let r=n;n.length>1&&(r=i=>n(i,i.provide)),t.push(r)}return t.sort((n,r)=>{var i,a;return(((i=n.meta)==null?void 0:i.order)||Mu.default)-(((a=r.meta)==null?void 0:a.order)||Mu.default)}),t}const Mu={pre:-20,default:0,post:20};function fa(e,t){var r;if(typeof e=="function")return fa({setup:e},t);const n=i=>{if(e.hooks&&i.hooks.addHooks(e.hooks),e.setup)return e.setup(i)};return n.meta={name:(t==null?void 0:t.name)||e.name||((r=e.setup)==null?void 0:r.name),order:(t==null?void 0:t.order)||e.order||Mu[e.enforce||"default"]||Mu.default},n[uA]=!0,n}function z0(e,t,n){const r=()=>n?t(...n):t();return X6.set(e),r()}function In(){const e=X6.tryUse();if(!e){const t=Ln();if(!t)throw new Error("[nuxt] instance unavailable");return t.appContext.app.$nuxt}return e}function Cu(){return In().$config}function Nc(e,t,n){Object.defineProperty(e,t,{get:()=>n})}const gA=!1;function vA(){return J6().__VUE_DEVTOOLS_GLOBAL_HOOK__}function J6(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const mA=typeof Proxy=="function",bA="devtools-plugin:setup",yA="plugin:settings:set";let so,Lh;function wA(){var e;return so!==void 0||(typeof window<"u"&&window.performance?(so=!0,Lh=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(so=!0,Lh=global.perf_hooks.performance):so=!1),so}function _A(){return wA()?Lh.now():Date.now()}class xA{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const s in t.settings){const l=t.settings[s];r[s]=l.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let a=Object.assign({},r);try{const s=localStorage.getItem(i),l=JSON.parse(s);Object.assign(a,l)}catch{}this.fallbacks={getSettings(){return a},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}a=s},now(){return _A()}},n&&n.on(yA,(s,l)=>{s===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(s,l)=>this.target?this.target.on[l]:(...u)=>{this.onQueue.push({method:l,args:u})}}),this.proxiedTarget=new Proxy({},{get:(s,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...u)=>(this.targetQueue.push({method:l,args:u,resolve:()=>{}}),this.fallbacks[l](...u)):(...u)=>new Promise(c=>{this.targetQueue.push({method:l,args:u,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function MA(e,t){const n=e,r=J6(),i=vA(),a=mA&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))i.emit(bA,e,t);else{const s=a?new xA(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:s}),s&&t(s.proxiedTarget)}}/*!
  * pinia v2.0.35
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Q6;const bl=e=>Q6=e,Z6=Symbol();function $h(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var W0;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(W0||(W0={}));function CA(){const e=F5(!0),t=e.run(()=>Se({}));let n=[],r=[];const i=ko({install(a){bl(i),i._a=a,a.provide(Z6,i),a.config.globalProperties.$pinia=i,r.forEach(s=>n.push(s)),r=[]},use(a){return!this._a&&!gA?r.push(a):n.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const e4=()=>{};function xm(e,t,n,r=e4){e.push(t);const i=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),r())};return!n&&b1()&&H5(i),i}function oo(e,...t){e.slice().forEach(n=>{n(...t)})}function Bh(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];$h(i)&&$h(r)&&e.hasOwnProperty(n)&&!dt(r)&&!ea(r)?e[n]=Bh(i,r):e[n]=r}return e}const PA=Symbol();function SA(e){return!$h(e)||!e.hasOwnProperty(PA)}const{assign:Na}=Object;function TA(e){return!!(dt(e)&&e.effect)}function EA(e,t,n,r){const{state:i,actions:a,getters:s}=t,l=n.state.value[e];let u;function c(){l||(n.state.value[e]=i?i():{});const f=Ls(n.state.value[e]);return Na(f,a,Object.keys(s||{}).reduce((h,p)=>(h[p]=ko(ie(()=>{bl(n);const m=n._s.get(e);return s[p].call(m,m)})),h),{}))}return u=t4(e,c,t,n,r,!0),u}function t4(e,t,n={},r,i,a){let s;const l=Na({actions:{}},n),u={deep:!0};let c,f,h=ko([]),p=ko([]),m;const v=r.state.value[e];!a&&!v&&(r.state.value[e]={}),Se({});let b;function w(A){let k;c=f=!1,typeof A=="function"?(A(r.state.value[e]),k={type:W0.patchFunction,storeId:e,events:m}):(Bh(r.state.value[e],A),k={type:W0.patchObject,payload:A,storeId:e,events:m});const B=b=Symbol();Et().then(()=>{b===B&&(c=!0)}),f=!0,oo(h,k,r.state.value[e])}const x=a?function(){const{state:k}=n,B=k?k():{};this.$patch(F=>{Na(F,B)})}:e4;function C(){s.stop(),h=[],p=[],r._s.delete(e)}function S(A,k){return function(){bl(r);const B=Array.from(arguments),F=[],U=[];function R(q){F.push(q)}function L(q){U.push(q)}oo(p,{args:B,name:A,store:M,after:R,onError:L});let D;try{D=k.apply(this&&this.$id===e?this:M,B)}catch(q){throw oo(U,q),q}return D instanceof Promise?D.then(q=>(oo(F,q),q)).catch(q=>(oo(U,q),Promise.reject(q))):(oo(F,D),D)}}const _={_p:r,$id:e,$onAction:xm.bind(null,p),$patch:w,$reset:x,$subscribe(A,k={}){const B=xm(h,A,k.detached,()=>F()),F=s.run(()=>Ue(()=>r.state.value[e],U=>{(k.flush==="sync"?f:c)&&A({storeId:e,type:W0.direct,events:m},U)},Na({},u,k)));return B},$dispose:C},M=Cn(_);r._s.set(e,M);const P=r._e.run(()=>(s=F5(),s.run(()=>t())));for(const A in P){const k=P[A];if(dt(k)&&!TA(k)||ea(k))a||(v&&SA(k)&&(dt(k)?k.value=v[A]:Bh(k,v[A])),r.state.value[e][A]=k);else if(typeof k=="function"){const B=S(A,k);P[A]=B,l.actions[A]=k}}return Na(M,P),Na(mt(M),P),Object.defineProperty(M,"$state",{get:()=>r.state.value[e],set:A=>{w(k=>{Na(k,A)})}}),r._p.forEach(A=>{Na(M,s.run(()=>A({store:M,app:r._a,pinia:r,options:l})))}),v&&a&&n.hydrate&&n.hydrate(M.$state,v),c=!0,f=!0,M}function V1(e,t,n){let r,i;const a=typeof t=="function";typeof e=="string"?(r=e,i=a?n:t):(i=e,r=e.id);function s(l,u){const c=Ln();return l=l||c&&kt(Z6,null),l&&bl(l),l=Q6,l._s.has(r)||(a?t4(r,t,i,l):EA(r,i,l)),l._s.get(r)}return s.$id=r,s}function ta(e){{e=mt(e);const t={};for(const n in e){const r=e[n];(dt(r)||ea(r))&&(t[n]=Yn(e,n))}return t}}function AA(e){return Array.isArray(e)?e:[e]}const n4=["title","script","style","noscript"],r4=["base","meta","link","style","script","noscript"],kA=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],OA=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],NA=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent"];function i4(e){let t=9;for(let n=0;n<e.length;)t=Math.imul(t^e.charCodeAt(n++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Rh(e){return i4(`${e.tag}:${e.textContent||e.innerHTML||""}:${Object.entries(e.props).map(([t,n])=>`${t}:${String(n)}`).join(",")}`)}function IA(e){let t=9;for(const n of e)for(let r=0;r<n.length;)t=Math.imul(t^n.charCodeAt(r++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function a4(e,t){const{props:n,tag:r}=e;if(OA.includes(r))return r;if(r==="link"&&n.rel==="canonical")return"canonical";if(n.charset)return"charset";const i=["id"];r==="meta"&&i.push("name","property","http-equiv");for(const a of i)if(typeof n[a]<"u"){const s=String(n[a]);return t&&!t(s)?!1:`${r}:${a}:${s}`}return!1}function Mm(e,t){return e==null?t||null:typeof e=="function"?e(t):e}function Ic(e,t=!1,n){const{tag:r,$el:i}=e;i&&(Object.entries(r.props).forEach(([a,s])=>{s=String(s);const l=`attr:${a}`;if(a==="class"){if(!s)return;for(const u of s.split(" ")){const c=`${l}:${u}`;n&&n(e,c,()=>i.classList.remove(u)),i.classList.contains(u)||i.classList.add(u)}return}n&&!a.startsWith("data-h-")&&n(e,l,()=>i.removeAttribute(a)),(t||i.getAttribute(a)!==s)&&i.setAttribute(a,s)}),n4.includes(r.tag)&&(r.textContent&&r.textContent!==i.textContent?i.textContent=r.textContent:r.innerHTML&&r.innerHTML!==i.innerHTML&&(i.innerHTML=r.innerHTML)))}let _0=!1;async function LA(e,t={}){var p,m;const n={shouldRender:!0};if(await e.hooks.callHook("dom:beforeRender",n),!n.shouldRender)return;const r=t.document||e.resolvedOptions.document||window.document,i=(await e.resolveTags()).map(l);if(e.resolvedOptions.experimentalHashHydration&&(_0=_0||e._hash||!1,_0)){const v=IA(i.map(b=>b.tag._h));if(_0===v)return;_0=v}const a=e._popSideEffectQueue();e.headEntries().map(v=>v._sde).forEach(v=>{Object.entries(v).forEach(([b,w])=>{a[b]=w})});const s=(v,b,w)=>{b=`${v.renderId}:${b}`,v.entry&&(v.entry._sde[b]=w),delete a[b]};function l(v){const b=e.headEntries().find(x=>x._i===v._e),w={renderId:v._d||Rh(v),$el:null,shouldRender:!0,tag:v,entry:b,markSideEffect:(x,C)=>s(w,x,C)};return w}const u=[],c={body:[],head:[]},f=v=>{e._elMap[v.renderId]=v.$el,u.push(v),s(v,"el",()=>{var b;(b=v.$el)==null||b.remove(),delete e._elMap[v.renderId]})};for(const v of i){if(await e.hooks.callHook("dom:beforeRenderTag",v),!v.shouldRender)continue;const{tag:b}=v;if(b.tag==="title"){r.title=b.textContent||"",u.push(v);continue}if(b.tag==="htmlAttrs"||b.tag==="bodyAttrs"){v.$el=r[b.tag==="htmlAttrs"?"documentElement":"body"],Ic(v,!1,s),u.push(v);continue}if(v.$el=e._elMap[v.renderId],!v.$el&&b.key&&(v.$el=r.querySelector(`${(p=b.tagPosition)!=null&&p.startsWith("body")?"body":"head"} > ${b.tag}[data-h-${b._h}]`)),v.$el){v.tag._d&&Ic(v),f(v);continue}c[(m=b.tagPosition)!=null&&m.startsWith("body")?"body":"head"].push(v)}const h={bodyClose:void 0,bodyOpen:void 0,head:void 0};Object.entries(c).forEach(([v,b])=>{var x;if(!b.length)return;const w=(x=r==null?void 0:r[v])==null?void 0:x.children;if(w){for(const C of[...w].reverse()){const S=C.tagName.toLowerCase();if(!r4.includes(S))continue;const _=C.getAttributeNames().reduce((k,B)=>({...k,[B]:C.getAttribute(B)}),{}),M={tag:S,props:_};C.innerHTML&&(M.innerHTML=C.innerHTML);const P=Rh(M);let A=b.findIndex(k=>(k==null?void 0:k.renderId)===P);if(A===-1){const k=a4(M);A=b.findIndex(B=>(B==null?void 0:B.tag._d)&&B.tag._d===k)}if(A!==-1){const k=b[A];k.$el=C,Ic(k),f(k),delete b[A]}}b.forEach(C=>{const S=C.tag.tagPosition||"head";h[S]=h[S]||r.createDocumentFragment(),C.$el||(C.$el=r.createElement(C.tag.tag),Ic(C,!0)),h[S].appendChild(C.$el),f(C)})}}),h.head&&r.head.appendChild(h.head),h.bodyOpen&&r.body.insertBefore(h.bodyOpen,r.body.firstChild),h.bodyClose&&r.body.appendChild(h.bodyClose);for(const v of u)await e.hooks.callHook("dom:renderTag",v);Object.values(a).forEach(v=>v())}let Rd=null;async function $A(e,t={}){function n(){return Rd=null,LA(e,t)}const r=t.delayFn||(i=>setTimeout(i,10));return Rd=Rd||new Promise(i=>r(()=>i(n())))}function BA(e){return{hooks:{"entries:updated":function(t){if(typeof(e==null?void 0:e.document)>"u"&&typeof window>"u")return;let n=e==null?void 0:e.delayFn;!n&&typeof requestAnimationFrame<"u"&&(n=requestAnimationFrame),$A(t,{document:(e==null?void 0:e.document)||window.document,delayFn:n})}}}}function RA(e){var t;return((t=e==null?void 0:e.head.querySelector('meta[name="unhead:ssr"]'))==null?void 0:t.getAttribute("content"))||!1}const Cm={critical:2,high:9,low:12,base:-1,title:1,meta:10};function Pm(e){if(typeof e.tagPriority=="number")return e.tagPriority;if(e.tag==="meta"){if(e.props.charset)return-2;if(e.props["http-equiv"]==="content-security-policy")return 0}const t=e.tagPriority||e.tag;return t in Cm?Cm[t]:10}const FA=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}];function HA(){return{hooks:{"tags:resolve":e=>{const t=n=>{var r;return(r=e.tags.find(i=>i._d===n))==null?void 0:r._p};for(const{prefix:n,offset:r}of FA)for(const i of e.tags.filter(a=>typeof a.tagPriority=="string"&&a.tagPriority.startsWith(n))){const a=t(i.tagPriority.replace(n,""));typeof a<"u"&&(i._p=a+r)}e.tags.sort((n,r)=>n._p-r._p).sort((n,r)=>Pm(n)-Pm(r))}}}}function DA(){return{hooks:{"tags:resolve":e=>{const{tags:t}=e;let n=t.findIndex(i=>i.tag==="titleTemplate");const r=t.findIndex(i=>i.tag==="title");if(r!==-1&&n!==-1){const i=Mm(t[n].textContent,t[r].textContent);i!==null?t[r].textContent=i||t[r].textContent:delete t[r]}else if(n!==-1){const i=Mm(t[n].textContent);i!==null&&(t[n].textContent=i,t[n].tag="title",n=-1)}n!==-1&&delete t[n],e.tags=t.filter(Boolean)}}}}function zA(){return{hooks:{"tag:normalise":function({tag:e}){typeof e.props.body<"u"&&(e.tagPosition="bodyClose",delete e.props.body)}}}}const WA=["link","style","script","noscript"];function UA(){return{hooks:{"tag:normalise":({tag:e,resolvedOptions:t})=>{t.experimentalHashHydration===!0&&(e._h=Rh(e)),e.key&&WA.includes(e.tag)&&(e._h=i4(e.key),e.props[`data-h-${e._h}`]="")}}}}const Sm=["script","link","bodyAttrs"];function VA(){const e=(t,n)=>{const r={},i={};Object.entries(n.props).forEach(([s,l])=>{s.startsWith("on")&&typeof l=="function"?i[s]=l:r[s]=l});let a;return t==="dom"&&n.tag==="script"&&typeof r.src=="string"&&typeof i.onload<"u"&&(a=r.src,delete r.src),{props:r,eventHandlers:i,delayedSrc:a}};return{hooks:{"ssr:render":function(t){t.tags=t.tags.map(n=>(!Sm.includes(n.tag)||!Object.entries(n.props).find(([r,i])=>r.startsWith("on")&&typeof i=="function")||(n.props=e("ssr",n).props),n))},"dom:beforeRenderTag":function(t){if(!Sm.includes(t.tag.tag)||!Object.entries(t.tag.props).find(([a,s])=>a.startsWith("on")&&typeof s=="function"))return;const{props:n,eventHandlers:r,delayedSrc:i}=e("dom",t.tag);Object.keys(r).length&&(t.tag.props=n,t.tag._eventHandlers=r,t.tag._delayedSrc=i)},"dom:renderTag":function(t){const n=t.$el;if(!t.tag._eventHandlers||!n)return;const r=t.tag.tag==="bodyAttrs"&&typeof window<"u"?window:n;Object.entries(t.tag._eventHandlers).forEach(([i,a])=>{const s=`${t.tag._d||t.tag._p}:${i}`,l=i.slice(2).toLowerCase(),u=`data-h-${l}`;if(t.markSideEffect(s,()=>{}),n.hasAttribute(u))return;const c=a;n.setAttribute(u,""),r.addEventListener(l,c),t.entry&&(t.entry._sde[s]=()=>{r.removeEventListener(l,c),n.removeAttribute(u)})}),t.tag._delayedSrc&&n.setAttribute("src",t.tag._delayedSrc)}}}}const qA=["templateParams","htmlAttrs","bodyAttrs"];function jA(){return{hooks:{"tag:normalise":function({tag:e}){["hid","vmid","key"].forEach(r=>{e.props[r]&&(e.key=e.props[r],delete e.props[r])});const n=a4(e)||(e.key?`${e.tag}:${e.key}`:!1);n&&(e._d=n)},"tags:resolve":function(e){const t={};e.tags.forEach(r=>{const i=(r.key?`${r.tag}:${r.key}`:r._d)||r._p,a=t[i];if(a){let l=r==null?void 0:r.tagDuplicateStrategy;if(!l&&qA.includes(r.tag)&&(l="merge"),l==="merge"){const u=a.props;["class","style"].forEach(c=>{r.props[c]&&u[c]&&(c==="style"&&!u[c].endsWith(";")&&(u[c]+=";"),r.props[c]=`${u[c]} ${r.props[c]}`)}),t[i].props={...u,...r.props};return}else if(r._e===a._e){a._duped=a._duped||[],r._d=`${a._d}:${a._duped.length+1}`,a._duped.push(r);return}}const s=Object.keys(r.props).length+(r.innerHTML?1:0)+(r.textContent?1:0);if(r4.includes(r.tag)&&s===0){delete t[i];return}t[i]=r});const n=[];Object.values(t).forEach(r=>{const i=r._duped;delete r._duped,n.push(r),i&&n.push(...i)}),e.tags=n}}}}function Lc(e,t){function n(a){if(["s","pageTitle"].includes(a))return t.pageTitle;let s;return a.includes(".")?s=a.split(".").reduce((l,u)=>l&&l[u]||void 0,t):s=t[a],typeof s<"u"?s||"":!1}let r=e;try{r=decodeURI(e)}catch{}return(r.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(a=>{const s=n(a.slice(1));typeof s=="string"&&(e=e.replaceAll(new RegExp(`\\${a}(\\W|$)`,"g"),`${s}$1`).trim())}),t.separator&&(e.endsWith(t.separator)&&(e=e.slice(0,-t.separator.length).trim()),e.startsWith(t.separator)&&(e=e.slice(t.separator.length).trim()),e=e.replace(new RegExp(`\\${t.separator}\\s*\\${t.separator}`,"g"),t.separator)),e}function GA(){return{hooks:{"tags:resolve":e=>{var a;const{tags:t}=e,n=(a=t.find(s=>s.tag==="title"))==null?void 0:a.textContent,r=t.findIndex(s=>s.tag==="templateParams"),i=r!==-1?t[r].props:{};i.pageTitle=i.pageTitle||n||"";for(const s of t)if(["titleTemplate","title"].includes(s.tag)&&typeof s.textContent=="string")s.textContent=Lc(s.textContent,i);else if(s.tag==="meta"&&typeof s.props.content=="string")s.props.content=Lc(s.props.content,i);else if(s.tag==="link"&&typeof s.props.href=="string")s.props.href=Lc(s.props.href,i);else if(s.tag==="script"&&["application/json","application/ld+json"].includes(s.props.type)&&typeof s.innerHTML=="string")try{s.innerHTML=JSON.stringify(JSON.parse(s.innerHTML),(l,u)=>typeof u=="string"?Lc(u,i):u)}catch{}e.tags=t.filter(s=>s.tag!=="templateParams")}}}}const KA=typeof window<"u";let s4;function YA(e){return s4=e}function XA(){return s4}async function JA(e,t){const n={tag:e,props:{}};return e==="templateParams"?(n.props=t,n):["title","titleTemplate"].includes(e)?(n.textContent=t instanceof Promise?await t:t,n):typeof t=="string"?["script","noscript","style"].includes(e)?(e==="script"&&(/^(https?:)?\/\//.test(t)||t.startsWith("/"))?n.props.src=t:n.innerHTML=t,n):!1:(n.props=await ZA(e,{...t}),n.props.children&&(n.props.innerHTML=n.props.children),delete n.props.children,Object.keys(n.props).filter(r=>NA.includes(r)).forEach(r=>{(!["innerHTML","textContent"].includes(r)||n4.includes(n.tag))&&(n[r]=n.props[r]),delete n.props[r]}),["innerHTML","textContent"].forEach(r=>{if(n.tag==="script"&&typeof n[r]=="string"&&["application/ld+json","application/json"].includes(n.props.type))try{n[r]=JSON.parse(n[r])}catch{n[r]=""}typeof n[r]=="object"&&(n[r]=JSON.stringify(n[r]))}),n.props.class&&(n.props.class=QA(n.props.class)),n.props.content&&Array.isArray(n.props.content)?n.props.content.map(r=>({...n,props:{...n.props,content:r}})):n)}function QA(e){return typeof e=="object"&&!Array.isArray(e)&&(e=Object.keys(e).filter(t=>e[t])),(Array.isArray(e)?e.join(" "):e).split(" ").filter(t=>t.trim()).filter(Boolean).join(" ")}async function ZA(e,t){for(const n of Object.keys(t)){const r=n.startsWith("data-");t[n]instanceof Promise&&(t[n]=await t[n]),String(t[n])==="true"?t[n]=r?"true":"":String(t[n])==="false"&&(r?t[n]="false":delete t[n])}return t}const ek=10;async function tk(e){const t=[];return Object.entries(e.resolvedInput).filter(([n,r])=>typeof r<"u"&&kA.includes(n)).forEach(([n,r])=>{const i=AA(r);t.push(...i.map(a=>JA(n,a)).flat())}),(await Promise.all(t)).flat().filter(Boolean).map((n,r)=>(n._e=e._i,n._p=(e._i<<ek)+r,n))}function nk(){return[jA(),HA(),GA(),DA(),UA(),VA(),zA()]}function rk(e={}){return[BA({document:e==null?void 0:e.document,delayFn:e==null?void 0:e.domDelayFn})]}function ik(e={}){const t=ak({...e,plugins:[...rk(e),...(e==null?void 0:e.plugins)||[]]});return e.experimentalHashHydration&&t.resolvedOptions.document&&(t._hash=RA(t.resolvedOptions.document)),YA(t),t}function ak(e={}){let t=[],n={},r=0;const i=Y6();e!=null&&e.hooks&&i.addHooks(e.hooks),e.plugins=[...nk(),...(e==null?void 0:e.plugins)||[]],e.plugins.forEach(l=>l.hooks&&i.addHooks(l.hooks)),e.document=e.document||(KA?document:void 0);const a=()=>i.callHook("entries:updated",s),s={resolvedOptions:e,headEntries(){return t},get hooks(){return i},use(l){l.hooks&&i.addHooks(l.hooks)},push(l,u){const c={_i:r++,input:l,_sde:{}};return u!=null&&u.mode&&(c._m=u==null?void 0:u.mode),u!=null&&u.transform&&(c._t=u==null?void 0:u.transform),t.push(c),a(),{dispose(){t=t.filter(f=>f._i!==c._i?!0:(n={...n,...f._sde||{}},f._sde={},a(),!1))},patch(f){t=t.map(h=>(h._i===c._i&&(c.input=h.input=f,a()),h))}}},async resolveTags(){const l={tags:[],entries:[...t]};await i.callHook("entries:resolve",l);for(const u of l.entries){const c=u._t||(f=>f);if(u.resolvedInput=c(u.resolvedInput||u.input),u.resolvedInput)for(const f of await tk(u)){const h={tag:f,entry:u,resolvedOptions:s.resolvedOptions};await i.callHook("tag:normalise",h),l.tags.push(h.tag)}}return await i.callHook("tags:resolve",l),l.tags},_popSideEffectQueue(){const l={...n};return n={},l},_elMap:{}};return s.hooks.callHook("init",s),s}function sk(e){return typeof e=="function"?e():T(e)}function Pu(e,t=""){if(e instanceof Promise)return e;const n=sk(e);return!e||!n?n:Array.isArray(n)?n.map(r=>Pu(r,t)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([r,i])=>r==="titleTemplate"||r.startsWith("on")?[r,T(i)]:[r,Pu(i,r)])):n}const ok=L6.startsWith("3"),lk=typeof window<"u",o4="usehead";function q1(){return Ln()&&kt(o4)||XA()}function ck(e){return{install(n){ok&&(n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(o4,e))}}.install}function uk(e={}){const t=ik({...e,domDelayFn:n=>setTimeout(()=>Et(()=>n()),10),plugins:[fk(),...(e==null?void 0:e.plugins)||[]]});return t.install=ck(t),t}function fk(){return{hooks:{"entries:resolve":function(e){for(const t of e.entries)t.resolvedInput=Pu(t.input)}}}}function dk(e,t={}){const n=q1(),r=Se(!1),i=Se({});qS(()=>{i.value=r.value?{}:Pu(e)});const a=n.push(i.value,t);return Ue(i,l=>{a.patch(l)}),Ln()&&(ur(()=>{a.dispose()}),L1(()=>{r.value=!0}),f6(()=>{r.value=!1})),a}function hk(e,t={}){return q1().push(e,t)}function qne(e,t={}){var r;const n=q1();if(n){const i=lk||!!((r=n.resolvedOptions)!=null&&r.document);return t.mode==="server"&&i||t.mode==="client"&&!i?void 0:i?dk(e,t):hk(e,t)}}class Fh extends Error{constructor(){super(...arguments),this.statusCode=500,this.fatal=!1,this.unhandled=!1,this.statusMessage=void 0}toJSON(){const t={message:this.message,statusCode:Hh(this.statusCode,500)};return this.statusMessage&&(t.statusMessage=l4(this.statusMessage)),this.data!==void 0&&(t.data=this.data),t}}Fh.__h3_error__=!0;function pk(e){if(typeof e=="string")return new Fh(e);if(gk(e))return e;const t=new Fh(e.message??e.statusMessage,e.cause?{cause:e.cause}:void 0);if("stack"in e)try{Object.defineProperty(t,"stack",{get(){return e.stack}})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=Hh(e.statusCode,t.statusCode):e.status&&(t.statusCode=Hh(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const n=t.statusMessage;l4(t.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future `statusMessage` will be sanitized by default.")}return e.fatal!==void 0&&(t.fatal=e.fatal),e.unhandled!==void 0&&(t.unhandled=e.unhandled),t}function gk(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.__h3_error__)===!0}const vk=/[^\u0009\u0020-\u007E]/g;function l4(e=""){return e.replace(vk,"")}function Hh(e,t=200){return!e||(typeof e=="string"&&(e=Number.parseInt(e,10)),e<100||e>999)?t:e}function mk(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(t);const[n,r]=e;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(r!==void 0&&typeof r!="function")throw new Error("[nuxt] [useState] init must be a function: "+r);const i="$s"+n,a=In(),s=Yn(a.payload.state,i);if(s.value===void 0&&r){const l=r();if(dt(l))return a.payload.state[i]=l,l;s.value=l}return s}const Zu=()=>{var e;return(e=In())==null?void 0:e.$router},bk=()=>Ln()?kt("_route",In()._route):In()._route,yk=()=>{try{if(In()._processingMiddleware)return!0}catch{return!0}return!1},wk=(e,t)=>{e||(e="/");const n=typeof e=="string"?e:e.path||"/",r=(t==null?void 0:t.external)||Qu(n,{acceptRelative:!0});if(r&&!(t!=null&&t.external))throw new Error("Navigating to external URL is not allowed by default. Use `navigateTo (url, { external: true })`.");if(r&&ml(n).protocol==="script:")throw new Error("Cannot navigate to an URL with script protocol.");const i=yk();if(!r&&i)return e;const a=Zu();return r?(t!=null&&t.replace?location.replace(n):location.href=n,Promise.resolve()):t!=null&&t.replace?a.replace(e):a.push(e)},j1=()=>Yn(In().payload,"error"),_k=e=>{const t=Ck(e);try{In().callHook("app:error",t);const r=j1();r.value=r.value||t}catch{throw t}return t},xk=async(e={})=>{const t=In(),n=j1();t.callHook("app:error:cleared",e),e.redirect&&await Zu().replace(e.redirect),n.value=null},Mk=e=>!!(e&&typeof e=="object"&&"__nuxt_error"in e),Ck=e=>{const t=pk(e);return t.__nuxt_error=!0,t},Pk="modulepreload",Sk=function(e,t){return e.startsWith(".")?new URL(e,t).href:e},Tm={},Tk=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=Sk(a,r),a in Tm)return;Tm[a]=!0;const s=a.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const h=i[f];if(h.href===a&&(!s||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":Pk,s||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),s)return new Promise((f,h)=>{c.addEventListener("load",f),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())},c4=(...e)=>Tk(...e).catch(t=>{const n=new Event("nuxt.preloadError");throw n.payload=t,window.dispatchEvent(n),t});Object.getOwnPropertyNames(Object.prototype).sort().join("\0");const Ek=-1,Ak=-2,kk=-3,Ok=-4,Nk=-5,Ik=-6;function Lk(e,t){return $k(JSON.parse(e),t)}function $k(e,t){if(typeof e=="number")return i(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const n=e,r=Array(n.length);function i(a,s=!1){if(a===Ek)return;if(a===kk)return NaN;if(a===Ok)return 1/0;if(a===Nk)return-1/0;if(a===Ik)return-0;if(s)throw new Error("Invalid input");if(a in r)return r[a];const l=n[a];if(!l||typeof l!="object")r[a]=l;else if(Array.isArray(l))if(typeof l[0]=="string"){const u=l[0],c=t==null?void 0:t[u];if(c)return r[a]=c(i(l[1]));switch(u){case"Date":r[a]=new Date(l[1]);break;case"Set":const f=new Set;r[a]=f;for(let m=1;m<l.length;m+=1)f.add(i(l[m]));break;case"Map":const h=new Map;r[a]=h;for(let m=1;m<l.length;m+=2)h.set(i(l[m]),i(l[m+1]));break;case"RegExp":r[a]=new RegExp(l[1],l[2]);break;case"Object":r[a]=Object(l[1]);break;case"BigInt":r[a]=BigInt(l[1]);break;case"null":const p=Object.create(null);r[a]=p;for(let m=1;m<l.length;m+=2)p[l[m]]=i(l[m+1]);break;default:throw new Error(`Unknown type ${u}`)}}else{const u=new Array(l.length);r[a]=u;for(let c=0;c<l.length;c+=1){const f=l[c];f!==Ak&&(u[c]=i(f))}}else{const u={};r[a]=u;for(const c in l){const f=l[c];u[c]=i(f)}}return r[a]}return i(0)}const Bk={meta:[{name:"viewport",content:"width=device-width, initial-scale=1"},{charset:"utf-8"}],link:[],style:[],script:[],noscript:[]},Rk="__nuxt",Fk=!1;function Em(e,t={}){const n=Hk(e,t),r=In(),i=r._payloadCache=r._payloadCache||{};return i[n]||(i[n]=Dk(n).then(a=>a||(delete i[n],null))),i[n]}const Am="js";function Hk(e,t={}){const n=new URL(e,"http://localhost");if(n.search)throw new Error("Payload URL cannot contain search params: "+e);if(n.host!=="localhost"||Qu(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+e);const r=t.hash||(t.fresh?Date.now():"");return jo(Cu().app.baseURL,n.pathname,r?`_payload.${r}.${Am}`:`_payload.${Am}`)}async function Dk(e){try{return Fk?Wk(await fetch(e).then(t=>t.text())):await c4(()=>import(e),[],import.meta.url).then(t=>t.default||t)}catch(t){console.warn("[nuxt] Cannot load payload ",e,t)}return null}function zk(){return!!In().payload.prerenderedAt}function Wk(e){return Lk(e,In()._payloadRevivers)}function Uk(e={}){const t=e.path||window.location.pathname;let n={};try{n=JSON.parse(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(e.force||(n==null?void 0:n.path)!==t||(n==null?void 0:n.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:t,expires:Date.now()+(e.ttl??1e4)}))}catch{}if(e.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:In().payload.state}))}catch{}window.location.pathname!==t?window.location.href=t:window.location.reload()}}const Vk=fa(e=>{const t=CA();return e.vueApp.use(t),bl(t),e.payload&&e.payload.pinia&&(t.state.value=e.payload.pinia),{provide:{pinia:t}}}),qk=fa({name:"nuxt:global-components"}),jk=fa({name:"nuxt:head",setup(e){const n=uk();n.push(Bk),e.vueApp.use(n);{let r=!0;const i=()=>{r=!1,n.hooks.callHook("entries:updated",n)};n.hooks.hook("dom:beforeRender",a=>{a.shouldRender=!r}),e.hooks.hook("page:start",()=>{r=!0}),e.hooks.hook("page:finish",i),e.hooks.hook("app:suspense:resolve",i)}}}),Gk=[];function Fd(e){typeof e=="object"&&(e=V6({pathname:e.path||"",search:D6(e.query||{}),hash:e.hash||""}));const t=ml(e.toString());return{path:t.pathname,fullPath:e,query:H6(t.search),hash:t.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:e}}const Kk=fa({name:"nuxt:router",enforce:"pre",setup(e){const t=$E(window.location.pathname,Cu().app.baseURL)+window.location.search+window.location.hash,n=[],r={"navigate:before":[],"resolve:before":[],"navigate:after":[],error:[]},i=(f,h)=>(r[f].push(h),()=>r[f].splice(r[f].indexOf(h),1)),a=Cu().app.baseURL,s=Cn(Fd(t));async function l(f,h){try{const p=Fd(f);for(const m of r["navigate:before"]){const v=await m(p,s);if(v===!1||v instanceof Error)return;if(v)return l(v,!0)}for(const m of r["resolve:before"])await m(p,s);Object.assign(s,p),window.history[h?"replaceState":"pushState"]({},"",jo(a,p.fullPath)),e.isHydrating||await z0(e,xk);for(const m of r["navigate:after"])await m(p,s)}catch(p){for(const m of r.error)await m(p)}}const u={currentRoute:s,isReady:()=>Promise.resolve(),options:{},install:()=>Promise.resolve(),push:f=>l(f,!1),replace:f=>l(f,!0),back:()=>window.history.go(-1),go:f=>window.history.go(f),forward:()=>window.history.go(1),beforeResolve:f=>i("resolve:before",f),beforeEach:f=>i("navigate:before",f),afterEach:f=>i("navigate:after",f),onError:f=>i("error",f),resolve:Fd,addRoute:(f,h)=>{n.push(h)},getRoutes:()=>n,hasRoute:f=>n.some(h=>h.name===f),removeRoute:f=>{const h=n.findIndex(p=>p.name===f);h!==-1&&n.splice(h,1)}};e.vueApp.component("RouterLink",{functional:!0,props:{to:String,custom:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:String},setup:(f,{slots:h})=>{const p=()=>l(f.to,f.replace);return()=>{var v;const m=u.resolve(f.to);return f.custom?(v=h.default)==null?void 0:v.call(h,{href:f.to,navigate:p,route:m}):U1("a",{href:f.to,onClick:b=>(b.preventDefault(),p())},h)}}}),window.addEventListener("popstate",f=>{const h=f.target.location;u.replace(h.href.replace(h.origin,""))}),e._route=s,e._middleware=e._middleware||{global:[],named:{}};const c=mk("_layout");return e.hooks.hookOnce("app:created",async()=>{u.beforeEach(async(f,h)=>{f.meta=Cn(f.meta||{}),e.isHydrating&&c.value&&!Is(f.meta.layout)&&(f.meta.layout=c.value),e._processingMiddleware=!0;const p=new Set([...Gk,...e._middleware.global]);for(const m of p){const v=await z0(e,m,[f,h]);if(v||v===!1)return v}}),u.afterEach(()=>{delete e._processingMiddleware}),await u.replace(t),FE(s.fullPath,t)||await z0(e,wk,[s.fullPath])}),{provide:{route:s,router:u}}}}),Yk=fa({name:"nuxt:chunk-reload",setup(e){const t=Zu(),n=Cu(),r=new Set;t.beforeEach(()=>{r.clear()}),e.hook("app:chunkError",({error:i})=>{r.add(i)}),t.onError((i,a)=>{if(r.has(i)){const l="href"in a&&a.href.startsWith("#")?n.app.baseURL+a.href:jo(n.app.baseURL,a.fullPath);Uk({path:l,persistState:!0})}})}}),Xk=fa({name:"nuxt:payload",setup(e){zk()&&(e.hooks.hook("link:prefetch",async t=>{ml(t).protocol||await Em(t)}),Zu().beforeResolve(async(t,n)=>{if(t.path===n.path)return;const r=await Em(t.path);r&&Object.assign(e.static.data,r.data)}))}});function Jk(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(i){i(n)}),(r=e.get("*"))&&r.slice().map(function(i){i(t,n)})}}}const Qk=fa(()=>{const e=Jk();return{provide:{event:e.emit,listen:e.on}}});/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var Zk="store";function Go(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function eO(e){return e!==null&&typeof e=="object"}function tO(e){return e&&typeof e.then=="function"}function nO(e,t){return function(){return e(t)}}function u4(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function f4(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;ef(e,n,[],e._modules.root,!0),G1(e,n,t)}function G1(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,a={};Go(i,function(s,l){a[l]=nO(s,e),Object.defineProperty(e.getters,l,{get:function(){return a[l]()},enumerable:!0})}),e._state=Cn({data:t}),e.strict&&oO(e),r&&n&&e._withCommit(function(){r.data=null})}function ef(e,t,n,r,i){var a=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!a&&!i){var l=K1(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit(function(){l[u]=r.state})}var c=r.context=rO(e,s,n);r.forEachMutation(function(f,h){var p=s+h;iO(e,p,f,c)}),r.forEachAction(function(f,h){var p=f.root?h:s+h,m=f.handler||f;aO(e,p,m,c)}),r.forEachGetter(function(f,h){var p=s+h;sO(e,p,f,c)}),r.forEachChild(function(f,h){ef(e,t,n.concat(h),f,i)})}function rO(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(a,s,l){var u=Su(a,s,l),c=u.payload,f=u.options,h=u.type;return(!f||!f.root)&&(h=t+h),e.dispatch(h,c)},commit:r?e.commit:function(a,s,l){var u=Su(a,s,l),c=u.payload,f=u.options,h=u.type;(!f||!f.root)&&(h=t+h),e.commit(h,c,f)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return d4(e,t)}},state:{get:function(){return K1(e.state,n)}}}),i}function d4(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var a=i.slice(r);Object.defineProperty(n,a,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function iO(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(s){n.call(e,r.state,s)})}function aO(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(s){var l=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},s);return tO(l)||(l=Promise.resolve(l)),e._devtoolHook?l.catch(function(u){throw e._devtoolHook.emit("vuex:error",u),u}):l})}function sO(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(a){return n(r.state,r.getters,a.state,a.getters)})}function oO(e){Ue(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function K1(e,t){return t.reduce(function(n,r){return n[r]},e)}function Su(e,t,n){return eO(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var lO="vuex bindings",km="vuex:mutations",Hd="vuex:actions",lo="vuex",cO=0;function uO(e,t){MA({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[lO]},function(n){n.addTimelineLayer({id:km,label:"Vuex Mutations",color:Om}),n.addTimelineLayer({id:Hd,label:"Vuex Actions",color:Om}),n.addInspector({id:lo,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===lo)if(r.filter){var i=[];v4(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[g4(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===lo){var i=r.nodeId;d4(t,i),r.state=hO(gO(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===lo){var i=r.nodeId,a=r.path;i!=="root"&&(a=i.split("/").filter(Boolean).concat(a)),t._withCommit(function(){r.set(t._state.data,a,r.state.value)})}}),t.subscribe(function(r,i){var a={};r.payload&&(a.payload=r.payload),a.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(lo),n.sendInspectorState(lo),n.addTimelineEvent({layerId:km,event:{time:Date.now(),title:r.type,data:a}})}),t.subscribeAction({before:function(r,i){var a={};r.payload&&(a.payload=r.payload),r._id=cO++,r._time=Date.now(),a.state=i,n.addTimelineEvent({layerId:Hd,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:a}})},after:function(r,i){var a={},s=Date.now()-r._time;a.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(a.payload=r.payload),a.state=i,n.addTimelineEvent({layerId:Hd,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:a}})}})})}var Om=8702998,fO=6710886,dO=16777215,h4={label:"namespaced",textColor:dO,backgroundColor:fO};function p4(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function g4(e,t){return{id:t||"root",label:p4(t),tags:e.namespaced?[h4]:[],children:Object.keys(e._children).map(function(n){return g4(e._children[n],t+n+"/")})}}function v4(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[h4]:[]}),Object.keys(t._children).forEach(function(i){v4(e,t._children[i],n,r+i+"/")})}function hO(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(s){return{key:s,editable:!0,value:e.state[s]}})};if(r.length){var a=pO(t);i.getters=Object.keys(a).map(function(s){return{key:s.endsWith("/")?p4(s):s,editable:!1,value:Dh(function(){return a[s]})}})}return i}function pO(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,a=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[a]=Dh(function(){return e[n]})}else t[n]=Dh(function(){return e[n]})}),t}function gO(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,a){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+t+'".');return a===n.length-1?s:s._children},t==="root"?e:e.root._children)}function Dh(e){try{return e()}catch(t){return t}}var hi=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},m4={namespaced:{configurable:!0}};m4.namespaced.get=function(){return!!this._rawModule.namespaced};hi.prototype.addChild=function(t,n){this._children[t]=n};hi.prototype.removeChild=function(t){delete this._children[t]};hi.prototype.getChild=function(t){return this._children[t]};hi.prototype.hasChild=function(t){return t in this._children};hi.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};hi.prototype.forEachChild=function(t){Go(this._children,t)};hi.prototype.forEachGetter=function(t){this._rawModule.getters&&Go(this._rawModule.getters,t)};hi.prototype.forEachAction=function(t){this._rawModule.actions&&Go(this._rawModule.actions,t)};hi.prototype.forEachMutation=function(t){this._rawModule.mutations&&Go(this._rawModule.mutations,t)};Object.defineProperties(hi.prototype,m4);var Ds=function(t){this.register([],t,!1)};Ds.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Ds.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Ds.prototype.update=function(t){b4([],this.root,t)};Ds.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var a=new hi(n,r);if(t.length===0)this.root=a;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],a)}n.modules&&Go(n.modules,function(l,u){i.register(t.concat(u),l,r)})};Ds.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};Ds.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function b4(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;b4(e.concat(r),t.getChild(r),n.modules[r])}}function vO(e){return new fr(e)}var fr=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var a=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ds(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=a;var s=this,l=this,u=l.dispatch,c=l.commit;this.dispatch=function(p,m){return u.call(s,p,m)},this.commit=function(p,m,v){return c.call(s,p,m,v)},this.strict=i;var f=this._modules.root.state;ef(this,f,[],this._modules.root),G1(this,f),r.forEach(function(h){return h(n)})},Y1={state:{configurable:!0}};fr.prototype.install=function(t,n){t.provide(n||Zk,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&uO(t,this)};Y1.state.get=function(){return this._state.data};Y1.state.set=function(e){};fr.prototype.commit=function(t,n,r){var i=this,a=Su(t,n,r),s=a.type,l=a.payload,u={type:s,payload:l},c=this._mutations[s];c&&(this._withCommit(function(){c.forEach(function(h){h(l)})}),this._subscribers.slice().forEach(function(f){return f(u,i.state)}))};fr.prototype.dispatch=function(t,n){var r=this,i=Su(t,n),a=i.type,s=i.payload,l={type:a,payload:s},u=this._actions[a];if(u){try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(l,r.state)})}catch{}var c=u.length>1?Promise.all(u.map(function(f){return f(s)})):u[0](s);return new Promise(function(f,h){c.then(function(p){try{r._actionSubscribers.filter(function(m){return m.after}).forEach(function(m){return m.after(l,r.state)})}catch{}f(p)},function(p){try{r._actionSubscribers.filter(function(m){return m.error}).forEach(function(m){return m.error(l,r.state,p)})}catch{}h(p)})})}};fr.prototype.subscribe=function(t,n){return u4(t,this._subscribers,n)};fr.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return u4(r,this._actionSubscribers,n)};fr.prototype.watch=function(t,n,r){var i=this;return Ue(function(){return t(i.state,i.getters)},n,Object.assign({},r))};fr.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};fr.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),ef(this,this.state,t,this._modules.get(t),r.preserveState),G1(this,this.state)};fr.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=K1(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),f4(this)};fr.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};fr.prototype.hotUpdate=function(t){this._modules.update(t),f4(this,!0)};fr.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(fr.prototype,Y1);const mO=vO({state(){return{count:0}},mutations:{increment(e){e.count++}}}),bO=fa(e=>{e.vueApp.use(mO)}),yO=[Vk,qk,jk,Kk,Yk,Xk,Qk,bO],Zi=(e,t,{checkForDefaultPrevented:n=!0}={})=>i=>{const a=e==null?void 0:e(i);if(n===!1||!a)return t==null?void 0:t(i)};var Nm;const Xn=typeof window<"u",wO=e=>typeof e=="string",y4=()=>{},w4=Xn&&((Nm=window==null?void 0:window.navigator)==null?void 0:Nm.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function _4(e){return typeof e=="function"?e():T(e)}function _O(e){return e}function X1(e){return b1()?(H5(e),!0):!1}function xO(e,t=!0){Ln()?Kt(e):t?e():Et(e)}function Ra(e){var t;const n=_4(e);return(t=n==null?void 0:n.$el)!=null?t:n}const J1=Xn?window:void 0;function As(...e){let t,n,r,i;if(wO(e[0])||Array.isArray(e[0])?([n,r,i]=e,t=J1):[t,n,r,i]=e,!t)return y4;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const a=[],s=()=>{a.forEach(f=>f()),a.length=0},l=(f,h,p,m)=>(f.addEventListener(h,p,m),()=>f.removeEventListener(h,p,m)),u=Ue(()=>[Ra(t),_4(i)],([f,h])=>{s(),f&&a.push(...n.flatMap(p=>r.map(m=>l(f,p,m,h))))},{immediate:!0,flush:"post"}),c=()=>{u(),s()};return X1(c),c}let Im=!1;function MO(e,t,n={}){const{window:r=J1,ignore:i=[],capture:a=!0,detectIframe:s=!1}=n;if(!r)return;w4&&!Im&&(Im=!0,Array.from(r.document.body.children).forEach(p=>p.addEventListener("click",y4)));let l=!0;const u=p=>i.some(m=>{if(typeof m=="string")return Array.from(r.document.querySelectorAll(m)).some(v=>v===p.target||p.composedPath().includes(v));{const v=Ra(m);return v&&(p.target===v||p.composedPath().includes(v))}}),f=[As(r,"click",p=>{const m=Ra(e);if(!(!m||m===p.target||p.composedPath().includes(m))){if(p.detail===0&&(l=!u(p)),!l){l=!0;return}t(p)}},{passive:!0,capture:a}),As(r,"pointerdown",p=>{const m=Ra(e);m&&(l=!p.composedPath().includes(m)&&!u(p))},{passive:!0}),s&&As(r,"blur",p=>{var m;const v=Ra(e);((m=r.document.activeElement)==null?void 0:m.tagName)==="IFRAME"&&!(v!=null&&v.contains(r.document.activeElement))&&t(p)})].filter(Boolean);return()=>f.forEach(p=>p())}function CO(e,t=!1){const n=Se(),r=()=>n.value=!!e();return r(),xO(r,t),n}const Lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$m="__vueuse_ssr_handlers__";Lm[$m]=Lm[$m]||{};var Bm=Object.getOwnPropertySymbols,PO=Object.prototype.hasOwnProperty,SO=Object.prototype.propertyIsEnumerable,TO=(e,t)=>{var n={};for(var r in e)PO.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Bm)for(var r of Bm(e))t.indexOf(r)<0&&SO.call(e,r)&&(n[r]=e[r]);return n};function tf(e,t,n={}){const r=n,{window:i=J1}=r,a=TO(r,["window"]);let s;const l=CO(()=>i&&"ResizeObserver"in i),u=()=>{s&&(s.disconnect(),s=void 0)},c=Ue(()=>Ra(e),h=>{u(),l.value&&i&&h&&(s=new ResizeObserver(t),s.observe(h,a))},{immediate:!0,flush:"post"}),f=()=>{u(),c()};return X1(f),{isSupported:l,stop:f}}var Rm;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Rm||(Rm={}));var EO=Object.defineProperty,Fm=Object.getOwnPropertySymbols,AO=Object.prototype.hasOwnProperty,kO=Object.prototype.propertyIsEnumerable,Hm=(e,t,n)=>t in e?EO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OO=(e,t)=>{for(var n in t||(t={}))AO.call(t,n)&&Hm(e,n,t[n]);if(Fm)for(var n of Fm(t))kO.call(t,n)&&Hm(e,n,t[n]);return e};const NO={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};OO({linear:_O},NO);const IO=()=>Xn&&/firefox/i.test(window.navigator.userAgent);var LO=typeof global=="object"&&global&&global.Object===Object&&global;const x4=LO;var $O=typeof self=="object"&&self&&self.Object===Object&&self,BO=x4||$O||Function("return this")();const Ni=BO;var RO=Ni.Symbol;const ja=RO;var M4=Object.prototype,FO=M4.hasOwnProperty,HO=M4.toString,x0=ja?ja.toStringTag:void 0;function DO(e){var t=FO.call(e,x0),n=e[x0];try{e[x0]=void 0;var r=!0}catch{}var i=HO.call(e);return r&&(t?e[x0]=n:delete e[x0]),i}var zO=Object.prototype,WO=zO.toString;function UO(e){return WO.call(e)}var VO="[object Null]",qO="[object Undefined]",Dm=ja?ja.toStringTag:void 0;function Ko(e){return e==null?e===void 0?qO:VO:Dm&&Dm in Object(e)?DO(e):UO(e)}function Lo(e){return e!=null&&typeof e=="object"}var jO="[object Symbol]";function nf(e){return typeof e=="symbol"||Lo(e)&&Ko(e)==jO}function GO(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var KO=Array.isArray;const $s=KO;var YO=1/0,zm=ja?ja.prototype:void 0,Wm=zm?zm.toString:void 0;function C4(e){if(typeof e=="string")return e;if($s(e))return GO(e,C4)+"";if(nf(e))return Wm?Wm.call(e):"";var t=e+"";return t=="0"&&1/e==-YO?"-0":t}var XO=/\s/;function JO(e){for(var t=e.length;t--&&XO.test(e.charAt(t)););return t}var QO=/^\s+/;function ZO(e){return e&&e.slice(0,JO(e)+1).replace(QO,"")}function al(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Um=0/0,eN=/^[-+]0x[0-9a-f]+$/i,tN=/^0b[01]+$/i,nN=/^0o[0-7]+$/i,rN=parseInt;function Vm(e){if(typeof e=="number")return e;if(nf(e))return Um;if(al(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=al(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ZO(e);var n=tN.test(e);return n||nN.test(e)?rN(e.slice(2),n?2:8):eN.test(e)?Um:+e}var iN="[object AsyncFunction]",aN="[object Function]",sN="[object GeneratorFunction]",oN="[object Proxy]";function P4(e){if(!al(e))return!1;var t=Ko(e);return t==aN||t==sN||t==iN||t==oN}var lN=Ni["__core-js_shared__"];const Dd=lN;var qm=function(){var e=/[^.]+$/.exec(Dd&&Dd.keys&&Dd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cN(e){return!!qm&&qm in e}var uN=Function.prototype,fN=uN.toString;function zs(e){if(e!=null){try{return fN.call(e)}catch{}try{return e+""}catch{}}return""}var dN=/[\\^$.*+?()[\]{}|]/g,hN=/^\[object .+?Constructor\]$/,pN=Function.prototype,gN=Object.prototype,vN=pN.toString,mN=gN.hasOwnProperty,bN=RegExp("^"+vN.call(mN).replace(dN,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yN(e){if(!al(e)||cN(e))return!1;var t=P4(e)?bN:hN;return t.test(zs(e))}function wN(e,t){return e==null?void 0:e[t]}function Yo(e,t){var n=wN(e,t);return yN(n)?n:void 0}var _N=Yo(Ni,"WeakMap");const zh=_N;var xN=9007199254740991,MN=/^(?:0|[1-9]\d*)$/;function CN(e,t){var n=typeof e;return t=t??xN,!!t&&(n=="number"||n!="symbol"&&MN.test(e))&&e>-1&&e%1==0&&e<t}function S4(e,t){return e===t||e!==e&&t!==t}var PN=9007199254740991;function T4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=PN}function SN(e){return e!=null&&T4(e.length)&&!P4(e)}var TN=Object.prototype;function EN(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||TN;return e===n}function AN(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var kN="[object Arguments]";function jm(e){return Lo(e)&&Ko(e)==kN}var E4=Object.prototype,ON=E4.hasOwnProperty,NN=E4.propertyIsEnumerable,IN=jm(function(){return arguments}())?jm:function(e){return Lo(e)&&ON.call(e,"callee")&&!NN.call(e,"callee")};const LN=IN;function $N(){return!1}var A4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Gm=A4&&typeof module=="object"&&module&&!module.nodeType&&module,BN=Gm&&Gm.exports===A4,Km=BN?Ni.Buffer:void 0,RN=Km?Km.isBuffer:void 0,FN=RN||$N;const Wh=FN;var HN="[object Arguments]",DN="[object Array]",zN="[object Boolean]",WN="[object Date]",UN="[object Error]",VN="[object Function]",qN="[object Map]",jN="[object Number]",GN="[object Object]",KN="[object RegExp]",YN="[object Set]",XN="[object String]",JN="[object WeakMap]",QN="[object ArrayBuffer]",ZN="[object DataView]",eI="[object Float32Array]",tI="[object Float64Array]",nI="[object Int8Array]",rI="[object Int16Array]",iI="[object Int32Array]",aI="[object Uint8Array]",sI="[object Uint8ClampedArray]",oI="[object Uint16Array]",lI="[object Uint32Array]",Jt={};Jt[eI]=Jt[tI]=Jt[nI]=Jt[rI]=Jt[iI]=Jt[aI]=Jt[sI]=Jt[oI]=Jt[lI]=!0;Jt[HN]=Jt[DN]=Jt[QN]=Jt[zN]=Jt[ZN]=Jt[WN]=Jt[UN]=Jt[VN]=Jt[qN]=Jt[jN]=Jt[GN]=Jt[KN]=Jt[YN]=Jt[XN]=Jt[JN]=!1;function cI(e){return Lo(e)&&T4(e.length)&&!!Jt[Ko(e)]}function uI(e){return function(t){return e(t)}}var k4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,U0=k4&&typeof module=="object"&&module&&!module.nodeType&&module,fI=U0&&U0.exports===k4,zd=fI&&x4.process,dI=function(){try{var e=U0&&U0.require&&U0.require("util").types;return e||zd&&zd.binding&&zd.binding("util")}catch{}}();const Ym=dI;var Xm=Ym&&Ym.isTypedArray,hI=Xm?uI(Xm):cI;const O4=hI;var pI=Object.prototype,gI=pI.hasOwnProperty;function vI(e,t){var n=$s(e),r=!n&&LN(e),i=!n&&!r&&Wh(e),a=!n&&!r&&!i&&O4(e),s=n||r||i||a,l=s?AN(e.length,String):[],u=l.length;for(var c in e)(t||gI.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||CN(c,u)))&&l.push(c);return l}function mI(e,t){return function(n){return e(t(n))}}var bI=mI(Object.keys,Object);const yI=bI;var wI=Object.prototype,_I=wI.hasOwnProperty;function xI(e){if(!EN(e))return yI(e);var t=[];for(var n in Object(e))_I.call(e,n)&&n!="constructor"&&t.push(n);return t}function MI(e){return SN(e)?vI(e):xI(e)}var CI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PI=/^\w*$/;function SI(e,t){if($s(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||nf(e)?!0:PI.test(e)||!CI.test(e)||t!=null&&e in Object(t)}var TI=Yo(Object,"create");const sl=TI;function EI(){this.__data__=sl?sl(null):{},this.size=0}function AI(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var kI="__lodash_hash_undefined__",OI=Object.prototype,NI=OI.hasOwnProperty;function II(e){var t=this.__data__;if(sl){var n=t[e];return n===kI?void 0:n}return NI.call(t,e)?t[e]:void 0}var LI=Object.prototype,$I=LI.hasOwnProperty;function BI(e){var t=this.__data__;return sl?t[e]!==void 0:$I.call(t,e)}var RI="__lodash_hash_undefined__";function FI(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=sl&&t===void 0?RI:t,this}function Bs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Bs.prototype.clear=EI;Bs.prototype.delete=AI;Bs.prototype.get=II;Bs.prototype.has=BI;Bs.prototype.set=FI;function HI(){this.__data__=[],this.size=0}function rf(e,t){for(var n=e.length;n--;)if(S4(e[n][0],t))return n;return-1}var DI=Array.prototype,zI=DI.splice;function WI(e){var t=this.__data__,n=rf(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():zI.call(t,n,1),--this.size,!0}function UI(e){var t=this.__data__,n=rf(t,e);return n<0?void 0:t[n][1]}function VI(e){return rf(this.__data__,e)>-1}function qI(e,t){var n=this.__data__,r=rf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function da(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}da.prototype.clear=HI;da.prototype.delete=WI;da.prototype.get=UI;da.prototype.has=VI;da.prototype.set=qI;var jI=Yo(Ni,"Map");const ol=jI;function GI(){this.size=0,this.__data__={hash:new Bs,map:new(ol||da),string:new Bs}}function KI(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function af(e,t){var n=e.__data__;return KI(t)?n[typeof t=="string"?"string":"hash"]:n.map}function YI(e){var t=af(this,e).delete(e);return this.size-=t?1:0,t}function XI(e){return af(this,e).get(e)}function JI(e){return af(this,e).has(e)}function QI(e,t){var n=af(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function ha(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ha.prototype.clear=GI;ha.prototype.delete=YI;ha.prototype.get=XI;ha.prototype.has=JI;ha.prototype.set=QI;var ZI="Expected a function";function Q1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ZI);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(Q1.Cache||ha),n}Q1.Cache=ha;var eL=500;function tL(e){var t=Q1(e,function(r){return n.size===eL&&n.clear(),r}),n=t.cache;return t}var nL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rL=/\\(\\)?/g,iL=tL(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(nL,function(n,r,i,a){t.push(i?a.replace(rL,"$1"):r||n)}),t});const aL=iL;function sL(e){return e==null?"":C4(e)}function oL(e,t){return $s(e)?e:SI(e,t)?[e]:aL(sL(e))}var lL=1/0;function cL(e){if(typeof e=="string"||nf(e))return e;var t=e+"";return t=="0"&&1/e==-lL?"-0":t}function uL(e,t){t=oL(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[cL(t[n++])];return n&&n==r?e:void 0}function Rr(e,t,n){var r=e==null?void 0:uL(e,t);return r===void 0?n:r}function fL(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function dL(){this.__data__=new da,this.size=0}function hL(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function pL(e){return this.__data__.get(e)}function gL(e){return this.__data__.has(e)}var vL=200;function mL(e,t){var n=this.__data__;if(n instanceof da){var r=n.__data__;if(!ol||r.length<vL-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ha(r)}return n.set(e,t),this.size=n.size,this}function Wa(e){var t=this.__data__=new da(e);this.size=t.size}Wa.prototype.clear=dL;Wa.prototype.delete=hL;Wa.prototype.get=pL;Wa.prototype.has=gL;Wa.prototype.set=mL;function bL(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}function yL(){return[]}var wL=Object.prototype,_L=wL.propertyIsEnumerable,Jm=Object.getOwnPropertySymbols,xL=Jm?function(e){return e==null?[]:(e=Object(e),bL(Jm(e),function(t){return _L.call(e,t)}))}:yL;const ML=xL;function CL(e,t,n){var r=t(e);return $s(e)?r:fL(r,n(e))}function Qm(e){return CL(e,MI,ML)}var PL=Yo(Ni,"DataView");const Uh=PL;var SL=Yo(Ni,"Promise");const Vh=SL;var TL=Yo(Ni,"Set");const qh=TL;var Zm="[object Map]",EL="[object Object]",e3="[object Promise]",t3="[object Set]",n3="[object WeakMap]",r3="[object DataView]",AL=zs(Uh),kL=zs(ol),OL=zs(Vh),NL=zs(qh),IL=zs(zh),bs=Ko;(Uh&&bs(new Uh(new ArrayBuffer(1)))!=r3||ol&&bs(new ol)!=Zm||Vh&&bs(Vh.resolve())!=e3||qh&&bs(new qh)!=t3||zh&&bs(new zh)!=n3)&&(bs=function(e){var t=Ko(e),n=t==EL?e.constructor:void 0,r=n?zs(n):"";if(r)switch(r){case AL:return r3;case kL:return Zm;case OL:return e3;case NL:return t3;case IL:return n3}return t});const i3=bs;var LL=Ni.Uint8Array;const a3=LL;var $L="__lodash_hash_undefined__";function BL(e){return this.__data__.set(e,$L),this}function RL(e){return this.__data__.has(e)}function Tu(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ha;++t<n;)this.add(e[t])}Tu.prototype.add=Tu.prototype.push=BL;Tu.prototype.has=RL;function FL(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function HL(e,t){return e.has(t)}var DL=1,zL=2;function N4(e,t,n,r,i,a){var s=n&DL,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var h=-1,p=!0,m=n&zL?new Tu:void 0;for(a.set(e,t),a.set(t,e);++h<l;){var v=e[h],b=t[h];if(r)var w=s?r(b,v,h,t,e,a):r(v,b,h,e,t,a);if(w!==void 0){if(w)continue;p=!1;break}if(m){if(!FL(t,function(x,C){if(!HL(m,C)&&(v===x||i(v,x,n,r,a)))return m.push(C)})){p=!1;break}}else if(!(v===b||i(v,b,n,r,a))){p=!1;break}}return a.delete(e),a.delete(t),p}function WL(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function UL(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var VL=1,qL=2,jL="[object Boolean]",GL="[object Date]",KL="[object Error]",YL="[object Map]",XL="[object Number]",JL="[object RegExp]",QL="[object Set]",ZL="[object String]",e$="[object Symbol]",t$="[object ArrayBuffer]",n$="[object DataView]",s3=ja?ja.prototype:void 0,Wd=s3?s3.valueOf:void 0;function r$(e,t,n,r,i,a,s){switch(n){case n$:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case t$:return!(e.byteLength!=t.byteLength||!a(new a3(e),new a3(t)));case jL:case GL:case XL:return S4(+e,+t);case KL:return e.name==t.name&&e.message==t.message;case JL:case ZL:return e==t+"";case YL:var l=WL;case QL:var u=r&VL;if(l||(l=UL),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=qL,s.set(e,t);var f=N4(l(e),l(t),r,i,a,s);return s.delete(e),f;case e$:if(Wd)return Wd.call(e)==Wd.call(t)}return!1}var i$=1,a$=Object.prototype,s$=a$.hasOwnProperty;function o$(e,t,n,r,i,a){var s=n&i$,l=Qm(e),u=l.length,c=Qm(t),f=c.length;if(u!=f&&!s)return!1;for(var h=u;h--;){var p=l[h];if(!(s?p in t:s$.call(t,p)))return!1}var m=a.get(e),v=a.get(t);if(m&&v)return m==t&&v==e;var b=!0;a.set(e,t),a.set(t,e);for(var w=s;++h<u;){p=l[h];var x=e[p],C=t[p];if(r)var S=s?r(C,x,p,t,e,a):r(x,C,p,e,t,a);if(!(S===void 0?x===C||i(x,C,n,r,a):S)){b=!1;break}w||(w=p=="constructor")}if(b&&!w){var _=e.constructor,M=t.constructor;_!=M&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof M=="function"&&M instanceof M)&&(b=!1)}return a.delete(e),a.delete(t),b}var l$=1,o3="[object Arguments]",l3="[object Array]",$c="[object Object]",c$=Object.prototype,c3=c$.hasOwnProperty;function u$(e,t,n,r,i,a){var s=$s(e),l=$s(t),u=s?l3:i3(e),c=l?l3:i3(t);u=u==o3?$c:u,c=c==o3?$c:c;var f=u==$c,h=c==$c,p=u==c;if(p&&Wh(e)){if(!Wh(t))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new Wa),s||O4(e)?N4(e,t,n,r,i,a):r$(e,t,u,n,r,i,a);if(!(n&l$)){var m=f&&c3.call(e,"__wrapped__"),v=h&&c3.call(t,"__wrapped__");if(m||v){var b=m?e.value():e,w=v?t.value():t;return a||(a=new Wa),i(b,w,n,r,a)}}return p?(a||(a=new Wa),o$(e,t,n,r,i,a)):!1}function I4(e,t,n,r,i){return e===t?!0:e==null||t==null||!Lo(e)&&!Lo(t)?e!==e&&t!==t:u$(e,t,n,r,I4,i)}var f$=function(){return Ni.Date.now()};const Ud=f$;var d$="Expected a function",h$=Math.max,p$=Math.min;function Eu(e,t,n){var r,i,a,s,l,u,c=0,f=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(d$);t=Vm(t)||0,al(n)&&(f=!!n.leading,h="maxWait"in n,a=h?h$(Vm(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function m(P){var A=r,k=i;return r=i=void 0,c=P,s=e.apply(k,A),s}function v(P){return c=P,l=setTimeout(x,t),f?m(P):s}function b(P){var A=P-u,k=P-c,B=t-A;return h?p$(B,a-k):B}function w(P){var A=P-u,k=P-c;return u===void 0||A>=t||A<0||h&&k>=a}function x(){var P=Ud();if(w(P))return C(P);l=setTimeout(x,b(P))}function C(P){return l=void 0,p&&r?m(P):(r=i=void 0,s)}function S(){l!==void 0&&clearTimeout(l),c=0,r=u=i=l=void 0}function _(){return l===void 0?s:C(Ud())}function M(){var P=Ud(),A=w(P);if(r=arguments,i=this,u=P,A){if(l===void 0)return v(u);if(h)return clearTimeout(l),l=setTimeout(x,t),m(u)}return l===void 0&&(l=setTimeout(x,t)),s}return M.cancel=S,M.flush=_,M}function Au(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function u3(e,t){return I4(e,t)}function na(e){return e==null}function g$(e){return e===void 0}const L0=e=>e===void 0,ks=e=>typeof e=="boolean",Vt=e=>typeof e=="number",ll=e=>typeof Element>"u"?!1:e instanceof Element,v$=e=>_t(e)?!Number.isNaN(Number(e)):!1,m$=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d");class b$ extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Z1(e,t){throw new b$(`[${e}] ${t}`)}function cl(e,t="px"){if(!e)return"";if(Vt(e)||v$(e))return`${e}${t}`;if(_t(e))return e}function y$(e,t){if(!Xn)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const i=t.offsetTop+n.reduce((u,c)=>u+c.offsetTop,0),a=i+t.offsetHeight,s=e.scrollTop,l=s+e.clientHeight;i<s?e.scrollTop=i:a>l&&(e.scrollTop=a-e.clientHeight)}/*! Element Plus Icons Vue v2.1.0 */var Ii=(e,t)=>{let n=e.__vccOpts||e;for(let[r,i]of t)n[r]=i;return n},w$={name:"ArrowDown"},_$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},x$=Ae("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),M$=[x$];function C$(e,t,n,r,i,a){return re(),Le("svg",_$,M$)}var L4=Ii(w$,[["render",C$],["__file","arrow-down.vue"]]),P$={name:"ArrowUp"},S$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},T$=Ae("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),E$=[T$];function A$(e,t,n,r,i,a){return re(),Le("svg",S$,E$)}var k$=Ii(P$,[["render",A$],["__file","arrow-up.vue"]]),O$={name:"CircleCheck"},N$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},I$=Ae("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),L$=Ae("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),$$=[I$,L$];function B$(e,t,n,r,i,a){return re(),Le("svg",N$,$$)}var R$=Ii(O$,[["render",B$],["__file","circle-check.vue"]]),F$={name:"CircleClose"},H$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},D$=Ae("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),z$=Ae("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),W$=[D$,z$];function U$(e,t,n,r,i,a){return re(),Le("svg",H$,W$)}var ep=Ii(F$,[["render",U$],["__file","circle-close.vue"]]),V$={name:"Close"},q$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},j$=Ae("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),G$=[j$];function K$(e,t,n,r,i,a){return re(),Le("svg",q$,G$)}var f3=Ii(V$,[["render",K$],["__file","close.vue"]]),Y$={name:"Hide"},X$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},J$=Ae("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),Q$=Ae("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),Z$=[J$,Q$];function eB(e,t,n,r,i,a){return re(),Le("svg",X$,Z$)}var tB=Ii(Y$,[["render",eB],["__file","hide.vue"]]),nB={name:"Loading"},rB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},iB=Ae("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),aB=[iB];function sB(e,t,n,r,i,a){return re(),Le("svg",rB,aB)}var tp=Ii(nB,[["render",sB],["__file","loading.vue"]]),oB={name:"Minus"},lB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cB=Ae("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),uB=[cB];function fB(e,t,n,r,i,a){return re(),Le("svg",lB,uB)}var dB=Ii(oB,[["render",fB],["__file","minus.vue"]]),hB={name:"Plus"},pB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gB=Ae("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),vB=[gB];function mB(e,t,n,r,i,a){return re(),Le("svg",pB,vB)}var bB=Ii(hB,[["render",mB],["__file","plus.vue"]]),yB={name:"View"},wB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_B=Ae("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),xB=[_B];function MB(e,t,n,r,i,a){return re(),Le("svg",wB,xB)}var CB=Ii(yB,[["render",MB],["__file","view.vue"]]);const $4="__epPropKey",ut=e=>e,PB=e=>Ot(e)&&!!e[$4],sf=(e,t)=>{if(!Ot(e)||PB(e))return e;const{values:n,required:r,default:i,type:a,validator:s}=e,u={type:a,required:!!r,validator:n||s?c=>{let f=!1,h=[];if(n&&(h=Array.from(n),Tt(e,"default")&&h.push(i),f||(f=h.includes(c))),s&&(f||(f=s(c))),!f&&h.length>0){const p=[...new Set(h)].map(m=>JSON.stringify(m)).join(", ");ES(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${p}], got value ${JSON.stringify(c)}.`)}return f}:void 0,[$4]:!0};return Tt(e,"default")&&(u.default=i),u},Zt=e=>Au(Object.entries(e).map(([t,n])=>[t,sf(n,t)])),sa=ut([String,Object,Function]),SB={validating:tp,success:R$,error:ep},Gr=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},TB=(e,t)=>(e.install=n=>{n.directive(t,e)},e),np=e=>(e.install=Wn,e),Rs={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},rn="update:modelValue",oa="change",Ti="input",rp=["","default","small","large"],EB={large:40,default:32,small:24},AB=e=>EB[e||"default"],B4=e=>["",...rp].includes(e),R4=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),kB=e=>e,OB=["class","style"],NB=/^on[A-Z]/,IB=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=ie(()=>((n==null?void 0:n.value)||[]).concat(OB)),i=Ln();return ie(i?()=>{var a;return Au(Object.entries((a=i.proxy)==null?void 0:a.$attrs).filter(([s])=>!r.value.includes(s)&&!(t&&NB.test(s))))}:()=>({}))},ip=({from:e,replacement:t,scope:n,version:r,ref:i,type:a="API"},s)=>{Ue(()=>T(s),l=>{},{immediate:!0})},LB=e=>({focus:()=>{var t,n;(n=(t=e.value)==null?void 0:t.focus)==null||n.call(t)}});var $B={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const BB=e=>(t,n)=>RB(t,n,T(e)),RB=(e,t,n)=>Rr(n,e,e).replace(/\{(\w+)\}/g,(r,i)=>{var a;return`${(a=t==null?void 0:t[i])!=null?a:`{${i}}`}`}),FB=e=>{const t=ie(()=>T(e).name),n=dt(e)?e:Se(e);return{lang:t,locale:n,t:BB(e)}},HB=Symbol("localeContextKey"),yl=e=>{const t=e||kt(HB,Se());return FB(ie(()=>t.value||$B))},d3="el",DB="is-",fs=(e,t,n,r,i)=>{let a=`${e}-${t}`;return n&&(a+=`-${n}`),r&&(a+=`__${r}`),i&&(a+=`--${i}`),a},zB=Symbol("namespaceContextKey"),ap=e=>{const t=e||kt(zB,Se(d3));return ie(()=>T(t)||d3)},Gt=(e,t)=>{const n=ap(t);return{namespace:n,b:(b="")=>fs(n.value,e,b,"",""),e:b=>b?fs(n.value,e,"",b,""):"",m:b=>b?fs(n.value,e,"","",b):"",be:(b,w)=>b&&w?fs(n.value,e,b,w,""):"",em:(b,w)=>b&&w?fs(n.value,e,"",b,w):"",bm:(b,w)=>b&&w?fs(n.value,e,b,"",w):"",bem:(b,w,x)=>b&&w&&x?fs(n.value,e,b,w,x):"",is:(b,...w)=>{const x=w.length>=1?w[0]:!0;return b&&x?`${DB}${b}`:""},cssVar:b=>{const w={};for(const x in b)b[x]&&(w[`--${n.value}-${x}`]=b[x]);return w},cssVarName:b=>`--${n.value}-${b}`,cssVarBlock:b=>{const w={};for(const x in b)b[x]&&(w[`--${n.value}-${e}-${x}`]=b[x]);return w},cssVarBlockName:b=>`--${n.value}-${e}-${b}`}},WB=sf({type:ut(Boolean),default:null}),UB=sf({type:ut(Function)}),F4=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],i={[e]:WB,[n]:UB};return{useModelToggle:({indicator:s,toggleReason:l,shouldHideWhenRouteChanges:u,shouldProceed:c,onShow:f,onHide:h})=>{const p=Ln(),{emit:m}=p,v=p.props,b=ie(()=>Je(v[n])),w=ie(()=>v[e]===null),x=A=>{s.value!==!0&&(s.value=!0,l&&(l.value=A),Je(f)&&f(A))},C=A=>{s.value!==!1&&(s.value=!1,l&&(l.value=A),Je(h)&&h(A))},S=A=>{if(v.disabled===!0||Je(c)&&!c())return;const k=b.value&&Xn;k&&m(t,!0),(w.value||!k)&&x(A)},_=A=>{if(v.disabled===!0||!Xn)return;const k=b.value&&Xn;k&&m(t,!1),(w.value||!k)&&C(A)},M=A=>{ks(A)&&(v.disabled&&A?b.value&&m(t,!1):s.value!==A&&(A?x():C()))},P=()=>{s.value?_():S()};return Ue(()=>v[e],M),u&&p.appContext.config.globalProperties.$route!==void 0&&Ue(()=>({...p.proxy.$route}),()=>{u.value&&s.value&&_()}),Kt(()=>{M(v[e])}),{hide:_,show:S,toggle:P,hasUpdateHandler:b}},useModelToggleProps:i,useModelToggleEmits:r}};F4("modelValue");const H4=e=>{const t=Ln();return ie(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})};var or="top",Ur="bottom",Vr="right",lr="left",sp="auto",wl=[or,Ur,Vr,lr],$o="start",ul="end",VB="clippingParents",D4="viewport",M0="popper",qB="reference",h3=wl.reduce(function(e,t){return e.concat([t+"-"+$o,t+"-"+ul])},[]),Xo=[].concat(wl,[sp]).reduce(function(e,t){return e.concat([t,t+"-"+$o,t+"-"+ul])},[]),jB="beforeRead",GB="read",KB="afterRead",YB="beforeMain",XB="main",JB="afterMain",QB="beforeWrite",ZB="write",eR="afterWrite",tR=[jB,GB,KB,YB,XB,JB,QB,ZB,eR];function ki(e){return e?(e.nodeName||"").toLowerCase():null}function pi(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Bo(e){var t=pi(e).Element;return e instanceof t||e instanceof Element}function Wr(e){var t=pi(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function op(e){if(typeof ShadowRoot>"u")return!1;var t=pi(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function nR(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},a=t.elements[n];!Wr(a)||!ki(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(s){var l=i[s];l===!1?a.removeAttribute(s):a.setAttribute(s,l===!0?"":l)}))})}function rR(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],a=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=s.reduce(function(u,c){return u[c]="",u},{});!Wr(i)||!ki(i)||(Object.assign(i.style,l),Object.keys(a).forEach(function(u){i.removeAttribute(u)}))})}}var z4={name:"applyStyles",enabled:!0,phase:"write",fn:nR,effect:rR,requires:["computeStyles"]};function Ei(e){return e.split("-")[0]}var Os=Math.max,ku=Math.min,Ro=Math.round;function Fo(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(Wr(e)&&t){var a=e.offsetHeight,s=e.offsetWidth;s>0&&(r=Ro(n.width)/s||1),a>0&&(i=Ro(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function lp(e){var t=Fo(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function W4(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&op(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function la(e){return pi(e).getComputedStyle(e)}function iR(e){return["table","td","th"].indexOf(ki(e))>=0}function Ka(e){return((Bo(e)?e.ownerDocument:e.document)||window.document).documentElement}function of(e){return ki(e)==="html"?e:e.assignedSlot||e.parentNode||(op(e)?e.host:null)||Ka(e)}function p3(e){return!Wr(e)||la(e).position==="fixed"?null:e.offsetParent}function aR(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Wr(e)){var r=la(e);if(r.position==="fixed")return null}var i=of(e);for(op(i)&&(i=i.host);Wr(i)&&["html","body"].indexOf(ki(i))<0;){var a=la(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function _l(e){for(var t=pi(e),n=p3(e);n&&iR(n)&&la(n).position==="static";)n=p3(n);return n&&(ki(n)==="html"||ki(n)==="body"&&la(n).position==="static")?t:n||aR(e)||t}function cp(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function V0(e,t,n){return Os(e,ku(t,n))}function sR(e,t,n){var r=V0(e,t,n);return r>n?n:r}function U4(){return{top:0,right:0,bottom:0,left:0}}function V4(e){return Object.assign({},U4(),e)}function q4(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var oR=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,V4(typeof e!="number"?e:q4(e,wl))};function lR(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,l=Ei(n.placement),u=cp(l),c=[lr,Vr].indexOf(l)>=0,f=c?"height":"width";if(!(!a||!s)){var h=oR(i.padding,n),p=lp(a),m=u==="y"?or:lr,v=u==="y"?Ur:Vr,b=n.rects.reference[f]+n.rects.reference[u]-s[u]-n.rects.popper[f],w=s[u]-n.rects.reference[u],x=_l(a),C=x?u==="y"?x.clientHeight||0:x.clientWidth||0:0,S=b/2-w/2,_=h[m],M=C-p[f]-h[v],P=C/2-p[f]/2+S,A=V0(_,P,M),k=u;n.modifiersData[r]=(t={},t[k]=A,t.centerOffset=A-P,t)}}function cR(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!W4(t.elements.popper,i)||(t.elements.arrow=i))}var uR={name:"arrow",enabled:!0,phase:"main",fn:lR,effect:cR,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ho(e){return e.split("-")[1]}var fR={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dR(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Ro(t*i)/i||0,y:Ro(n*i)/i||0}}function g3(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,l=e.position,u=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,h=e.isFixed,p=s.x,m=p===void 0?0:p,v=s.y,b=v===void 0?0:v,w=typeof f=="function"?f({x:m,y:b}):{x:m,y:b};m=w.x,b=w.y;var x=s.hasOwnProperty("x"),C=s.hasOwnProperty("y"),S=lr,_=or,M=window;if(c){var P=_l(n),A="clientHeight",k="clientWidth";if(P===pi(n)&&(P=Ka(n),la(P).position!=="static"&&l==="absolute"&&(A="scrollHeight",k="scrollWidth")),P=P,i===or||(i===lr||i===Vr)&&a===ul){_=Ur;var B=h&&P===M&&M.visualViewport?M.visualViewport.height:P[A];b-=B-r.height,b*=u?1:-1}if(i===lr||(i===or||i===Ur)&&a===ul){S=Vr;var F=h&&P===M&&M.visualViewport?M.visualViewport.width:P[k];m-=F-r.width,m*=u?1:-1}}var U=Object.assign({position:l},c&&fR),R=f===!0?dR({x:m,y:b}):{x:m,y:b};if(m=R.x,b=R.y,u){var L;return Object.assign({},U,(L={},L[_]=C?"0":"",L[S]=x?"0":"",L.transform=(M.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",L))}return Object.assign({},U,(t={},t[_]=C?b+"px":"",t[S]=x?m+"px":"",t.transform="",t))}function hR(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,s=a===void 0?!0:a,l=n.roundOffsets,u=l===void 0?!0:l,c={placement:Ei(t.placement),variation:Ho(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,g3(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,g3(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var j4={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:hR,data:{}},Bc={passive:!0};function pR(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,s=r.resize,l=s===void 0?!0:s,u=pi(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(f){f.addEventListener("scroll",n.update,Bc)}),l&&u.addEventListener("resize",n.update,Bc),function(){a&&c.forEach(function(f){f.removeEventListener("scroll",n.update,Bc)}),l&&u.removeEventListener("resize",n.update,Bc)}}var G4={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:pR,data:{}},gR={left:"right",right:"left",bottom:"top",top:"bottom"};function ou(e){return e.replace(/left|right|bottom|top/g,function(t){return gR[t]})}var vR={start:"end",end:"start"};function v3(e){return e.replace(/start|end/g,function(t){return vR[t]})}function up(e){var t=pi(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function fp(e){return Fo(Ka(e)).left+up(e).scrollLeft}function mR(e){var t=pi(e),n=Ka(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,s=0,l=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,l=r.offsetTop)),{width:i,height:a,x:s+fp(e),y:l}}function bR(e){var t,n=Ka(e),r=up(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=Os(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Os(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+fp(e),u=-r.scrollTop;return la(i||n).direction==="rtl"&&(l+=Os(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:l,y:u}}function dp(e){var t=la(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function K4(e){return["html","body","#document"].indexOf(ki(e))>=0?e.ownerDocument.body:Wr(e)&&dp(e)?e:K4(of(e))}function q0(e,t){var n;t===void 0&&(t=[]);var r=K4(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=pi(r),s=i?[a].concat(a.visualViewport||[],dp(r)?r:[]):r,l=t.concat(s);return i?l:l.concat(q0(of(s)))}function jh(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function yR(e){var t=Fo(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function m3(e,t){return t===D4?jh(mR(e)):Bo(t)?yR(t):jh(bR(Ka(e)))}function wR(e){var t=q0(of(e)),n=["absolute","fixed"].indexOf(la(e).position)>=0,r=n&&Wr(e)?_l(e):e;return Bo(r)?t.filter(function(i){return Bo(i)&&W4(i,r)&&ki(i)!=="body"}):[]}function _R(e,t,n){var r=t==="clippingParents"?wR(e):[].concat(t),i=[].concat(r,[n]),a=i[0],s=i.reduce(function(l,u){var c=m3(e,u);return l.top=Os(c.top,l.top),l.right=ku(c.right,l.right),l.bottom=ku(c.bottom,l.bottom),l.left=Os(c.left,l.left),l},m3(e,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Y4(e){var t=e.reference,n=e.element,r=e.placement,i=r?Ei(r):null,a=r?Ho(r):null,s=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,u;switch(i){case or:u={x:s,y:t.y-n.height};break;case Ur:u={x:s,y:t.y+t.height};break;case Vr:u={x:t.x+t.width,y:l};break;case lr:u={x:t.x-n.width,y:l};break;default:u={x:t.x,y:t.y}}var c=i?cp(i):null;if(c!=null){var f=c==="y"?"height":"width";switch(a){case $o:u[c]=u[c]-(t[f]/2-n[f]/2);break;case ul:u[c]=u[c]+(t[f]/2-n[f]/2);break}}return u}function fl(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.boundary,s=a===void 0?VB:a,l=n.rootBoundary,u=l===void 0?D4:l,c=n.elementContext,f=c===void 0?M0:c,h=n.altBoundary,p=h===void 0?!1:h,m=n.padding,v=m===void 0?0:m,b=V4(typeof v!="number"?v:q4(v,wl)),w=f===M0?qB:M0,x=e.rects.popper,C=e.elements[p?w:f],S=_R(Bo(C)?C:C.contextElement||Ka(e.elements.popper),s,u),_=Fo(e.elements.reference),M=Y4({reference:_,element:x,strategy:"absolute",placement:i}),P=jh(Object.assign({},x,M)),A=f===M0?P:_,k={top:S.top-A.top+b.top,bottom:A.bottom-S.bottom+b.bottom,left:S.left-A.left+b.left,right:A.right-S.right+b.right},B=e.modifiersData.offset;if(f===M0&&B){var F=B[i];Object.keys(k).forEach(function(U){var R=[Vr,Ur].indexOf(U)>=0?1:-1,L=[or,Ur].indexOf(U)>=0?"y":"x";k[U]+=F[L]*R})}return k}function xR(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,s=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?Xo:u,f=Ho(r),h=f?l?h3:h3.filter(function(v){return Ho(v)===f}):wl,p=h.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=h);var m=p.reduce(function(v,b){return v[b]=fl(e,{placement:b,boundary:i,rootBoundary:a,padding:s})[Ei(b)],v},{});return Object.keys(m).sort(function(v,b){return m[v]-m[b]})}function MR(e){if(Ei(e)===sp)return[];var t=ou(e);return[v3(e),t,v3(t)]}function CR(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!0:s,u=n.fallbackPlacements,c=n.padding,f=n.boundary,h=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,v=m===void 0?!0:m,b=n.allowedAutoPlacements,w=t.options.placement,x=Ei(w),C=x===w,S=u||(C||!v?[ou(w)]:MR(w)),_=[w].concat(S).reduce(function(He,$e){return He.concat(Ei($e)===sp?xR(t,{placement:$e,boundary:f,rootBoundary:h,padding:c,flipVariations:v,allowedAutoPlacements:b}):$e)},[]),M=t.rects.reference,P=t.rects.popper,A=new Map,k=!0,B=_[0],F=0;F<_.length;F++){var U=_[F],R=Ei(U),L=Ho(U)===$o,D=[or,Ur].indexOf(R)>=0,q=D?"width":"height",N=fl(t,{placement:U,boundary:f,rootBoundary:h,altBoundary:p,padding:c}),O=D?L?Vr:lr:L?Ur:or;M[q]>P[q]&&(O=ou(O));var H=ou(O),V=[];if(a&&V.push(N[R]<=0),l&&V.push(N[O]<=0,N[H]<=0),V.every(function(He){return He})){B=U,k=!1;break}A.set(U,V)}if(k)for(var ne=v?3:1,_e=function(He){var $e=_.find(function(Ce){var Ie=A.get(Ce);if(Ie)return Ie.slice(0,He).every(function(xe){return xe})});if($e)return B=$e,"break"},ae=ne;ae>0;ae--){var Ne=_e(ae);if(Ne==="break")break}t.placement!==B&&(t.modifiersData[r]._skip=!0,t.placement=B,t.reset=!0)}}var PR={name:"flip",enabled:!0,phase:"main",fn:CR,requiresIfExists:["offset"],data:{_skip:!1}};function b3(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function y3(e){return[or,Vr,Ur,lr].some(function(t){return e[t]>=0})}function SR(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,s=fl(t,{elementContext:"reference"}),l=fl(t,{altBoundary:!0}),u=b3(s,r),c=b3(l,i,a),f=y3(u),h=y3(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":h})}var TR={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:SR};function ER(e,t,n){var r=Ei(e),i=[lr,or].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=a[0],l=a[1];return s=s||0,l=(l||0)*i,[lr,Vr].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function AR(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,s=Xo.reduce(function(f,h){return f[h]=ER(h,t.rects,a),f},{}),l=s[t.placement],u=l.x,c=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}var kR={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:AR};function OR(e){var t=e.state,n=e.name;t.modifiersData[n]=Y4({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var X4={name:"popperOffsets",enabled:!0,phase:"read",fn:OR,data:{}};function NR(e){return e==="x"?"y":"x"}function IR(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!1:s,u=n.boundary,c=n.rootBoundary,f=n.altBoundary,h=n.padding,p=n.tether,m=p===void 0?!0:p,v=n.tetherOffset,b=v===void 0?0:v,w=fl(t,{boundary:u,rootBoundary:c,padding:h,altBoundary:f}),x=Ei(t.placement),C=Ho(t.placement),S=!C,_=cp(x),M=NR(_),P=t.modifiersData.popperOffsets,A=t.rects.reference,k=t.rects.popper,B=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,F=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),U=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(P){if(a){var L,D=_==="y"?or:lr,q=_==="y"?Ur:Vr,N=_==="y"?"height":"width",O=P[_],H=O+w[D],V=O-w[q],ne=m?-k[N]/2:0,_e=C===$o?A[N]:k[N],ae=C===$o?-k[N]:-A[N],Ne=t.elements.arrow,He=m&&Ne?lp(Ne):{width:0,height:0},$e=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:U4(),Ce=$e[D],Ie=$e[q],xe=V0(0,A[N],He[N]),rt=S?A[N]/2-ne-xe-Ce-F.mainAxis:_e-xe-Ce-F.mainAxis,De=S?-A[N]/2+ne+xe+Ie+F.mainAxis:ae+xe+Ie+F.mainAxis,Ve=t.elements.arrow&&_l(t.elements.arrow),z=Ve?_==="y"?Ve.clientTop||0:Ve.clientLeft||0:0,j=(L=U==null?void 0:U[_])!=null?L:0,Q=O+rt-j-z,fe=O+De-j,de=V0(m?ku(H,Q):H,O,m?Os(V,fe):V);P[_]=de,R[_]=de-O}if(l){var be,Ee=_==="x"?or:lr,ve=_==="x"?Ur:Vr,Z=P[M],se=M==="y"?"height":"width",Fe=Z+w[Ee],Te=Z-w[ve],te=[or,lr].indexOf(x)!==-1,ke=(be=U==null?void 0:U[M])!=null?be:0,We=te?Fe:Z-A[se]-k[se]-ke+F.altAxis,Qe=te?Z+A[se]+k[se]-ke-F.altAxis:Te,Ze=m&&te?sR(We,Z,Qe):V0(m?We:Fe,Z,m?Qe:Te);P[M]=Ze,R[M]=Ze-Z}t.modifiersData[r]=R}}var LR={name:"preventOverflow",enabled:!0,phase:"main",fn:IR,requiresIfExists:["offset"]};function $R(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function BR(e){return e===pi(e)||!Wr(e)?up(e):$R(e)}function RR(e){var t=e.getBoundingClientRect(),n=Ro(t.width)/e.offsetWidth||1,r=Ro(t.height)/e.offsetHeight||1;return n!==1||r!==1}function FR(e,t,n){n===void 0&&(n=!1);var r=Wr(t),i=Wr(t)&&RR(t),a=Ka(t),s=Fo(e,i),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((ki(t)!=="body"||dp(a))&&(l=BR(t)),Wr(t)?(u=Fo(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=fp(a))),{x:s.left+l.scrollLeft-u.x,y:s.top+l.scrollTop-u.y,width:s.width,height:s.height}}function HR(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function i(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var u=t.get(l);u&&i(u)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||i(a)}),r}function DR(e){var t=HR(e);return tR.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function zR(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function WR(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var w3={placement:"bottom",modifiers:[],strategy:"absolute"};function _3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function hp(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?w3:i;return function(s,l,u){u===void 0&&(u=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},w3,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:c,setOptions:function(b){var w=typeof b=="function"?b(c.options):b;v(),c.options=Object.assign({},a,c.options,w),c.scrollParents={reference:Bo(s)?q0(s):s.contextElement?q0(s.contextElement):[],popper:q0(l)};var x=DR(WR([].concat(r,c.options.modifiers)));return c.orderedModifiers=x.filter(function(C){return C.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var b=c.elements,w=b.reference,x=b.popper;if(_3(w,x)){c.rects={reference:FR(w,_l(x),c.options.strategy==="fixed"),popper:lp(x)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(k){return c.modifiersData[k.name]=Object.assign({},k.data)});for(var C=0;C<c.orderedModifiers.length;C++){if(c.reset===!0){c.reset=!1,C=-1;continue}var S=c.orderedModifiers[C],_=S.fn,M=S.options,P=M===void 0?{}:M,A=S.name;typeof _=="function"&&(c=_({state:c,options:P,name:A,instance:p})||c)}}}},update:zR(function(){return new Promise(function(b){p.forceUpdate(),b(c)})}),destroy:function(){v(),h=!0}};if(!_3(s,l))return p;p.setOptions(u).then(function(b){!h&&u.onFirstUpdate&&u.onFirstUpdate(b)});function m(){c.orderedModifiers.forEach(function(b){var w=b.name,x=b.options,C=x===void 0?{}:x,S=b.effect;if(typeof S=="function"){var _=S({state:c,name:w,instance:p,options:C}),M=function(){};f.push(_||M)}})}function v(){f.forEach(function(b){return b()}),f=[]}return p}}hp();var UR=[G4,X4,j4,z4];hp({defaultModifiers:UR});var VR=[G4,X4,j4,z4,kR,PR,LR,uR,TR],qR=hp({defaultModifiers:VR});const jR=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:u})=>{const c=GR(u);Object.assign(s.value,c)},requires:["computeStyles"]},i=ie(()=>{const{onFirstUpdate:u,placement:c,strategy:f,modifiers:h}=T(n);return{onFirstUpdate:u,placement:c||"bottom",strategy:f||"absolute",modifiers:[...h||[],r,{name:"applyStyles",enabled:!1}]}}),a=Ts(),s=Se({styles:{popper:{position:T(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return Ue(i,u=>{const c=T(a);c&&c.setOptions(u)},{deep:!0}),Ue([e,t],([u,c])=>{l(),!(!u||!c)&&(a.value=qR(u,c,T(i)))}),ur(()=>{l()}),{state:ie(()=>{var u;return{...((u=T(a))==null?void 0:u.state)||{}}}),styles:ie(()=>T(s).styles),attributes:ie(()=>T(s).attributes),update:()=>{var u;return(u=T(a))==null?void 0:u.update()},forceUpdate:()=>{var u;return(u=T(a))==null?void 0:u.forceUpdate()},instanceRef:ie(()=>T(a))}};function GR(e){const t=Object.keys(e.elements),n=Au(t.map(i=>[i,e.styles[i]||{}])),r=Au(t.map(i=>[i,e.attributes[i]]));return{styles:n,attributes:r}}function x3(){let e;const t=(r,i)=>{n(),e=window.setTimeout(r,i)},n=()=>window.clearTimeout(e);return X1(()=>n()),{registerTimeout:t,cancelTimeout:n}}const M3={prefix:Math.floor(Math.random()*1e4),current:0},KR=Symbol("elIdInjection"),J4=()=>Ln()?kt(KR,M3):M3,Q4=e=>{const t=J4(),n=ap();return ie(()=>T(e)||`${n.value}-id-${t.prefix}-${t.current++}`)};let wo=[];const C3=e=>{const t=e;t.key===Rs.esc&&wo.forEach(n=>n(t))},YR=e=>{Kt(()=>{wo.length===0&&document.addEventListener("keydown",C3),Xn&&wo.push(e)}),ur(()=>{wo=wo.filter(t=>t!==e),wo.length===0&&Xn&&document.removeEventListener("keydown",C3)})};let P3;const Z4=()=>{const e=ap(),t=J4(),n=ie(()=>`${e.value}-popper-container-${t.prefix}`),r=ie(()=>`#${n.value}`);return{id:n,selector:r}},XR=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},JR=()=>{const{id:e,selector:t}=Z4();return h6(()=>{Xn&&!P3&&!document.body.querySelector(t.value)&&(P3=XR(e.value))}),{id:e,selector:t}},QR=Zt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),ZR=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:i})=>{const{registerTimeout:a}=x3(),{registerTimeout:s,cancelTimeout:l}=x3();return{onOpen:f=>{a(()=>{r(f);const h=T(n);Vt(h)&&h>0&&s(()=>{i(f)},h)},T(e))},onClose:f=>{l(),a(()=>{i(f)},T(t))}}},ey=Symbol("elForwardRef"),eF=e=>{Jn(ey,{setForwardRef:n=>{e.value=n}})},tF=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),S3=Se(0),nF=2e3,rF=Symbol("zIndexContextKey"),iF=e=>{const t=e||kt(rF,void 0),n=ie(()=>{const a=T(t);return Vt(a)?a:nF}),r=ie(()=>n.value+S3.value);return{initialZIndex:n,currentZIndex:r,nextZIndex:()=>(S3.value++,r.value)}};function aF(e){const t=Se();function n(){if(e.value==null)return;const{selectionStart:i,selectionEnd:a,value:s}=e.value;if(i==null||a==null)return;const l=s.slice(0,Math.max(0,i)),u=s.slice(Math.max(0,a));t.value={selectionStart:i,selectionEnd:a,value:s,beforeTxt:l,afterTxt:u}}function r(){if(e.value==null||t.value==null)return;const{value:i}=e.value,{beforeTxt:a,afterTxt:s,selectionStart:l}=t.value;if(a==null||s==null||l==null)return;let u=i.length;if(i.endsWith(s))u=i.length-s.length;else if(i.startsWith(a))u=a.length;else{const c=a[l-1],f=i.indexOf(c,l-1);f!==-1&&(u=f+1)}e.value.setSelectionRange(u,u)}return[n,r]}const dl=sf({type:String,values:rp,required:!1}),sF=Symbol("size"),oF=()=>{const e=kt(sF,{});return ie(()=>T(e.size)||"")},lF=Zt({size:{type:ut([Number,String])},color:{type:String}});var qt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const cF=ot({name:"ElIcon",inheritAttrs:!1}),uF=ot({...cF,props:lF,setup(e){const t=e,n=Gt("icon"),r=ie(()=>{const{size:i,color:a}=t;return!i&&!a?{}:{fontSize:L0(i)?void 0:cl(i),"--color":a}});return(i,a)=>(re(),Le("i",Si({class:T(n).b(),style:T(r)},i.$attrs),[Rt(i.$slots,"default")],16))}});var fF=qt(uF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const zn=Gr(fF),pp=Symbol("formContextKey"),Ou=Symbol("formItemContextKey"),Ws=(e,t={})=>{const n=Se(void 0),r=t.prop?n:H4("size"),i=t.global?n:oF(),a=t.form?{size:void 0}:kt(pp,void 0),s=t.formItem?{size:void 0}:kt(Ou,void 0);return ie(()=>r.value||T(e)||(s==null?void 0:s.size)||(a==null?void 0:a.size)||i.value||"")},xl=e=>{const t=H4("disabled"),n=kt(pp,void 0);return ie(()=>t.value||T(e)||(n==null?void 0:n.disabled)||!1)},Jo=()=>{const e=kt(pp,void 0),t=kt(Ou,void 0);return{form:e,formItem:t}},gp=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=Se(!1)),r||(r=Se(!1));const i=Se();let a;const s=ie(()=>{var l;return!!(!e.label&&t&&t.inputIds&&((l=t.inputIds)==null?void 0:l.length)<=1)});return Kt(()=>{a=Ue([Yn(e,"id"),n],([l,u])=>{const c=l??(u?void 0:Q4().value);c!==i.value&&(t!=null&&t.removeInputId&&(i.value&&t.removeInputId(i.value),!(r!=null&&r.value)&&!u&&c&&t.addInputId(c)),i.value=c)},{immediate:!0})}),B1(()=>{a&&a(),t!=null&&t.removeInputId&&i.value&&t.removeInputId(i.value)}),{isLabeledByFormItem:s,inputId:i}};let ni;const dF=`
  height:0 !important;
  visibility:hidden !important;
  ${IO()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,hF=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function pF(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),i=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:hF.map(s=>`${s}:${t.getPropertyValue(s)}`).join(";"),paddingSize:r,borderSize:i,boxSizing:n}}function T3(e,t=1,n){var r;ni||(ni=document.createElement("textarea"),document.body.appendChild(ni));const{paddingSize:i,borderSize:a,boxSizing:s,contextStyle:l}=pF(e);ni.setAttribute("style",`${l};${dF}`),ni.value=e.value||e.placeholder||"";let u=ni.scrollHeight;const c={};s==="border-box"?u=u+a:s==="content-box"&&(u=u-i),ni.value="";const f=ni.scrollHeight-i;if(Vt(t)){let h=f*t;s==="border-box"&&(h=h+i+a),u=Math.max(h,u),c.minHeight=`${h}px`}if(Vt(n)){let h=f*n;s==="border-box"&&(h=h+i+a),u=Math.min(h,u)}return c.height=`${u}px`,(r=ni.parentNode)==null||r.removeChild(ni),ni=void 0,c}const gF=Zt({id:{type:String,default:void 0},size:dl,disabled:Boolean,modelValue:{type:ut([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ut([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:sa},prefixIcon:{type:sa},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ut([Object,Array,String]),default:()=>kB({})}}),vF={[rn]:e=>_t(e),input:e=>_t(e),change:e=>_t(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},mF=["role"],bF=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],yF=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],wF=ot({name:"ElInput",inheritAttrs:!1}),_F=ot({...wF,props:gF,emits:vF,setup(e,{expose:t,emit:n}){const r=e,i=$T(),a=N6(),s=ie(()=>{const te={};return r.containerRole==="combobox"&&(te["aria-haspopup"]=i["aria-haspopup"],te["aria-owns"]=i["aria-owns"],te["aria-expanded"]=i["aria-expanded"]),te}),l=ie(()=>[r.type==="textarea"?w.b():b.b(),b.m(m.value),b.is("disabled",v.value),b.is("exceed",_e.value),{[b.b("group")]:a.prepend||a.append,[b.bm("group","append")]:a.append,[b.bm("group","prepend")]:a.prepend,[b.m("prefix")]:a.prefix||r.prefixIcon,[b.m("suffix")]:a.suffix||r.suffixIcon||r.clearable||r.showPassword,[b.bm("suffix","password-clear")]:O.value&&H.value},i.class]),u=ie(()=>[b.e("wrapper"),b.is("focus",S.value)]),c=IB({excludeKeys:ie(()=>Object.keys(s.value))}),{form:f,formItem:h}=Jo(),{inputId:p}=gp(r,{formItemContext:h}),m=Ws(),v=xl(),b=Gt("input"),w=Gt("textarea"),x=Ts(),C=Ts(),S=Se(!1),_=Se(!1),M=Se(!1),P=Se(!1),A=Se(),k=Ts(r.inputStyle),B=ie(()=>x.value||C.value),F=ie(()=>{var te;return(te=f==null?void 0:f.statusIcon)!=null?te:!1}),U=ie(()=>(h==null?void 0:h.validateState)||""),R=ie(()=>U.value&&SB[U.value]),L=ie(()=>P.value?CB:tB),D=ie(()=>[i.style,r.inputStyle]),q=ie(()=>[r.inputStyle,k.value,{resize:r.resize}]),N=ie(()=>na(r.modelValue)?"":String(r.modelValue)),O=ie(()=>r.clearable&&!v.value&&!r.readonly&&!!N.value&&(S.value||_.value)),H=ie(()=>r.showPassword&&!v.value&&!r.readonly&&!!N.value&&(!!N.value||S.value)),V=ie(()=>r.showWordLimit&&!!c.value.maxlength&&(r.type==="text"||r.type==="textarea")&&!v.value&&!r.readonly&&!r.showPassword),ne=ie(()=>N.value.length),_e=ie(()=>!!V.value&&ne.value>Number(c.value.maxlength)),ae=ie(()=>!!a.suffix||!!r.suffixIcon||O.value||r.showPassword||V.value||!!U.value&&F.value),[Ne,He]=aF(x);tf(C,te=>{if(Ie(),!V.value||r.resize!=="both")return;const ke=te[0],{width:We}=ke.contentRect;A.value={right:`calc(100% - ${We+15+6}px)`}});const $e=()=>{const{type:te,autosize:ke}=r;if(!(!Xn||te!=="textarea"||!C.value))if(ke){const We=Ot(ke)?ke.minRows:void 0,Qe=Ot(ke)?ke.maxRows:void 0,Ze=T3(C.value,We,Qe);k.value={overflowY:"hidden",...Ze},Et(()=>{C.value.offsetHeight,k.value=Ze})}else k.value={minHeight:T3(C.value).minHeight}},Ie=(te=>{let ke=!1;return()=>{var We;if(ke||!r.autosize)return;((We=C.value)==null?void 0:We.offsetParent)===null||(te(),ke=!0)}})($e),xe=()=>{const te=B.value;!te||te.value===N.value||(te.value=N.value)},rt=async te=>{Ne();let{value:ke}=te.target;if(r.formatter&&(ke=r.parser?r.parser(ke):ke,ke=r.formatter(ke)),!M.value){if(ke===N.value){xe();return}n(rn,ke),n("input",ke),await Et(),xe(),He()}},De=te=>{n("change",te.target.value)},Ve=te=>{n("compositionstart",te),M.value=!0},z=te=>{var ke;n("compositionupdate",te);const We=(ke=te.target)==null?void 0:ke.value,Qe=We[We.length-1]||"";M.value=!R4(Qe)},j=te=>{n("compositionend",te),M.value&&(M.value=!1,rt(te))},Q=()=>{P.value=!P.value,fe()},fe=async()=>{var te;await Et(),(te=B.value)==null||te.focus()},de=()=>{var te;return(te=B.value)==null?void 0:te.blur()},be=te=>{S.value=!0,n("focus",te)},Ee=te=>{var ke;S.value=!1,n("blur",te),r.validateEvent&&((ke=h==null?void 0:h.validate)==null||ke.call(h,"blur").catch(We=>void 0))},ve=te=>{_.value=!1,n("mouseleave",te)},Z=te=>{_.value=!0,n("mouseenter",te)},se=te=>{n("keydown",te)},Fe=()=>{var te;(te=B.value)==null||te.select()},Te=()=>{n(rn,""),n("change",""),n("clear"),n("input","")};return Ue(()=>r.modelValue,()=>{var te;Et(()=>$e()),r.validateEvent&&((te=h==null?void 0:h.validate)==null||te.call(h,"change").catch(ke=>void 0))}),Ue(N,()=>xe()),Ue(()=>r.type,async()=>{await Et(),xe(),$e()}),Kt(()=>{!r.formatter&&r.parser,xe(),Et($e)}),t({input:x,textarea:C,ref:B,textareaStyle:q,autosize:Yn(r,"autosize"),focus:fe,blur:de,select:Fe,clear:Te,resizeTextarea:$e}),(te,ke)=>ui((re(),Le("div",Si(T(s),{class:T(l),style:T(D),role:te.containerRole,onMouseenter:Z,onMouseleave:ve}),[Ke(" input "),te.type!=="textarea"?(re(),Le(Ct,{key:0},[Ke(" prepend slot "),te.$slots.prepend?(re(),Le("div",{key:0,class:Re(T(b).be("group","prepend"))},[Rt(te.$slots,"prepend")],2)):Ke("v-if",!0),Ae("div",{class:Re(T(u))},[Ke(" prefix slot "),te.$slots.prefix||te.prefixIcon?(re(),Le("span",{key:0,class:Re(T(b).e("prefix"))},[Ae("span",{class:Re(T(b).e("prefix-inner")),onClick:fe},[Rt(te.$slots,"prefix"),te.prefixIcon?(re(),qe(T(zn),{key:0,class:Re(T(b).e("icon"))},{default:Oe(()=>[(re(),qe(ar(te.prefixIcon)))]),_:1},8,["class"])):Ke("v-if",!0)],2)],2)):Ke("v-if",!0),Ae("input",Si({id:T(p),ref_key:"input",ref:x,class:T(b).e("inner")},T(c),{type:te.showPassword?P.value?"text":"password":te.type,disabled:T(v),formatter:te.formatter,parser:te.parser,readonly:te.readonly,autocomplete:te.autocomplete,tabindex:te.tabindex,"aria-label":te.label,placeholder:te.placeholder,style:te.inputStyle,form:r.form,onCompositionstart:Ve,onCompositionupdate:z,onCompositionend:j,onInput:rt,onFocus:be,onBlur:Ee,onChange:De,onKeydown:se}),null,16,bF),Ke(" suffix slot "),T(ae)?(re(),Le("span",{key:1,class:Re(T(b).e("suffix"))},[Ae("span",{class:Re(T(b).e("suffix-inner")),onClick:fe},[!T(O)||!T(H)||!T(V)?(re(),Le(Ct,{key:0},[Rt(te.$slots,"suffix"),te.suffixIcon?(re(),qe(T(zn),{key:0,class:Re(T(b).e("icon"))},{default:Oe(()=>[(re(),qe(ar(te.suffixIcon)))]),_:1},8,["class"])):Ke("v-if",!0)],64)):Ke("v-if",!0),T(O)?(re(),qe(T(zn),{key:1,class:Re([T(b).e("icon"),T(b).e("clear")]),onMousedown:Hn(T(Wn),["prevent"]),onClick:Te},{default:Oe(()=>[Pe(T(ep))]),_:1},8,["class","onMousedown"])):Ke("v-if",!0),T(H)?(re(),qe(T(zn),{key:2,class:Re([T(b).e("icon"),T(b).e("password")]),onClick:Q},{default:Oe(()=>[(re(),qe(ar(T(L))))]),_:1},8,["class"])):Ke("v-if",!0),T(V)?(re(),Le("span",{key:3,class:Re(T(b).e("count"))},[Ae("span",{class:Re(T(b).e("count-inner"))},cn(T(ne))+" / "+cn(T(c).maxlength),3)],2)):Ke("v-if",!0),T(U)&&T(R)&&T(F)?(re(),qe(T(zn),{key:4,class:Re([T(b).e("icon"),T(b).e("validateIcon"),T(b).is("loading",T(U)==="validating")])},{default:Oe(()=>[(re(),qe(ar(T(R))))]),_:1},8,["class"])):Ke("v-if",!0)],2)],2)):Ke("v-if",!0)],2),Ke(" append slot "),te.$slots.append?(re(),Le("div",{key:1,class:Re(T(b).be("group","append"))},[Rt(te.$slots,"append")],2)):Ke("v-if",!0)],64)):(re(),Le(Ct,{key:1},[Ke(" textarea "),Ae("textarea",Si({id:T(p),ref_key:"textarea",ref:C,class:T(w).e("inner")},T(c),{tabindex:te.tabindex,disabled:T(v),readonly:te.readonly,autocomplete:te.autocomplete,style:T(q),"aria-label":te.label,placeholder:te.placeholder,form:r.form,onCompositionstart:Ve,onCompositionupdate:z,onCompositionend:j,onInput:rt,onFocus:be,onBlur:Ee,onChange:De,onKeydown:se}),null,16,yF),T(V)?(re(),Le("span",{key:0,style:Wt(A.value),class:Re(T(b).e("count"))},cn(T(ne))+" / "+cn(T(c).maxlength),7)):Ke("v-if",!0)],64))],16,mF)),[[qo,te.type!=="hidden"]])}});var xF=qt(_F,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const vp=Gr(xF),Ia=new Map;let E3;Xn&&(document.addEventListener("mousedown",e=>E3=e),document.addEventListener("mouseup",e=>{for(const t of Ia.values())for(const{documentHandler:n}of t)n(e,E3)}));function A3(e,t){let n=[];return Array.isArray(t.arg)?n=t.arg:ll(t.arg)&&n.push(t.arg),function(r,i){const a=t.instance.popperRef,s=r.target,l=i==null?void 0:i.target,u=!t||!t.instance,c=!s||!l,f=e.contains(s)||e.contains(l),h=e===s,p=n.length&&n.some(v=>v==null?void 0:v.contains(s))||n.length&&n.includes(l),m=a&&(a.contains(s)||a.contains(l));u||c||f||h||p||m||t.value(r,i)}}const MF={beforeMount(e,t){Ia.has(e)||Ia.set(e,[]),Ia.get(e).push({documentHandler:A3(e,t),bindingFn:t.value})},updated(e,t){Ia.has(e)||Ia.set(e,[]);const n=Ia.get(e),r=n.findIndex(a=>a.bindingFn===t.oldValue),i={documentHandler:A3(e,t),bindingFn:t.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(e){Ia.delete(e)}},CF=100,PF=600,k3={beforeMount(e,t){const n=t.value,{interval:r=CF,delay:i=PF}=Je(n)?{}:n;let a,s;const l=()=>Je(n)?n():n.handler(),u=()=>{s&&(clearTimeout(s),s=void 0),a&&(clearInterval(a),a=void 0)};e.addEventListener("mousedown",c=>{c.button===0&&(u(),l(),document.addEventListener("mouseup",()=>u(),{once:!0}),s=setTimeout(()=>{a=setInterval(()=>{l()},r)},i))})}},SF=Zt({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:dl,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Vt(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),TF={[oa]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Ti]:e=>Vt(e)||na(e),[rn]:e=>Vt(e)||na(e)},EF=["aria-label","onKeydown"],AF=["aria-label","onKeydown"],kF=ot({name:"ElInputNumber"}),OF=ot({...kF,props:SF,emits:TF,setup(e,{expose:t,emit:n}){const r=e,{t:i}=yl(),a=Gt("input-number"),s=Se(),l=Cn({currentValue:r.modelValue,userInput:null}),{formItem:u}=Jo(),c=ie(()=>Vt(r.modelValue)&&r.modelValue<=r.min),f=ie(()=>Vt(r.modelValue)&&r.modelValue>=r.max),h=ie(()=>{const L=x(r.step);return L0(r.precision)?Math.max(x(r.modelValue),L):(L>r.precision,r.precision)}),p=ie(()=>r.controls&&r.controlsPosition==="right"),m=Ws(),v=xl(),b=ie(()=>{if(l.userInput!==null)return l.userInput;let L=l.currentValue;if(na(L))return"";if(Vt(L)){if(Number.isNaN(L))return"";L0(r.precision)||(L=L.toFixed(r.precision))}return L}),w=(L,D)=>{if(L0(D)&&(D=h.value),D===0)return Math.round(L);let q=String(L);const N=q.indexOf(".");if(N===-1||!q.replace(".","").split("")[N+D])return L;const V=q.length;return q.charAt(V-1)==="5"&&(q=`${q.slice(0,Math.max(0,V-1))}6`),Number.parseFloat(Number(q).toFixed(D))},x=L=>{if(na(L))return 0;const D=L.toString(),q=D.indexOf(".");let N=0;return q!==-1&&(N=D.length-q-1),N},C=(L,D=1)=>Vt(L)?w(L+r.step*D):l.currentValue,S=()=>{if(r.readonly||v.value||f.value)return;const L=Number(b.value)||0,D=C(L);P(D),n(Ti,l.currentValue)},_=()=>{if(r.readonly||v.value||c.value)return;const L=Number(b.value)||0,D=C(L,-1);P(D),n(Ti,l.currentValue)},M=(L,D)=>{const{max:q,min:N,step:O,precision:H,stepStrictly:V,valueOnClear:ne}=r;let _e=Number(L);if(na(L)||Number.isNaN(_e))return null;if(L===""){if(ne===null)return null;_e=_t(ne)?{min:N,max:q}[ne]:ne}return V&&(_e=w(Math.round(_e/O)*O,H)),L0(H)||(_e=w(_e,H)),(_e>q||_e<N)&&(_e=_e>q?q:N,D&&n(rn,_e)),_e},P=(L,D=!0)=>{var q;const N=l.currentValue,O=M(L);if(!D){n(rn,O);return}N!==O&&(l.userInput=null,n(rn,O),n(oa,O,N),r.validateEvent&&((q=u==null?void 0:u.validate)==null||q.call(u,"change").catch(H=>void 0)),l.currentValue=O)},A=L=>{l.userInput=L;const D=L===""?null:Number(L);n(Ti,D),P(D,!1)},k=L=>{const D=L!==""?Number(L):"";(Vt(D)&&!Number.isNaN(D)||L==="")&&P(D),l.userInput=null},B=()=>{var L,D;(D=(L=s.value)==null?void 0:L.focus)==null||D.call(L)},F=()=>{var L,D;(D=(L=s.value)==null?void 0:L.blur)==null||D.call(L)},U=L=>{n("focus",L)},R=L=>{var D;n("blur",L),r.validateEvent&&((D=u==null?void 0:u.validate)==null||D.call(u,"blur").catch(q=>void 0))};return Ue(()=>r.modelValue,L=>{const D=M(l.userInput),q=M(L,!0);!Vt(D)&&(!D||D!==q)&&(l.currentValue=q,l.userInput=null)},{immediate:!0}),Kt(()=>{var L;const{min:D,max:q,modelValue:N}=r,O=(L=s.value)==null?void 0:L.input;if(O.setAttribute("role","spinbutton"),Number.isFinite(q)?O.setAttribute("aria-valuemax",String(q)):O.removeAttribute("aria-valuemax"),Number.isFinite(D)?O.setAttribute("aria-valuemin",String(D)):O.removeAttribute("aria-valuemin"),O.setAttribute("aria-valuenow",String(l.currentValue)),O.setAttribute("aria-disabled",String(v.value)),!Vt(N)&&N!=null){let H=Number(N);Number.isNaN(H)&&(H=null),n(rn,H)}}),$1(()=>{var L;const D=(L=s.value)==null?void 0:L.input;D==null||D.setAttribute("aria-valuenow",`${l.currentValue}`)}),t({focus:B,blur:F}),(L,D)=>(re(),Le("div",{class:Re([T(a).b(),T(a).m(T(m)),T(a).is("disabled",T(v)),T(a).is("without-controls",!L.controls),T(a).is("controls-right",T(p))]),onDragstart:D[1]||(D[1]=Hn(()=>{},["prevent"]))},[L.controls?ui((re(),Le("span",{key:0,role:"button","aria-label":T(i)("el.inputNumber.decrease"),class:Re([T(a).e("decrease"),T(a).is("disabled",T(c))]),onKeydown:Fn(_,["enter"])},[Pe(T(zn),null,{default:Oe(()=>[T(p)?(re(),qe(T(L4),{key:0})):(re(),qe(T(dB),{key:1}))]),_:1})],42,EF)),[[T(k3),_]]):Ke("v-if",!0),L.controls?ui((re(),Le("span",{key:1,role:"button","aria-label":T(i)("el.inputNumber.increase"),class:Re([T(a).e("increase"),T(a).is("disabled",T(f))]),onKeydown:Fn(S,["enter"])},[Pe(T(zn),null,{default:Oe(()=>[T(p)?(re(),qe(T(k$),{key:0})):(re(),qe(T(bB),{key:1}))]),_:1})],42,AF)),[[T(k3),S]]):Ke("v-if",!0),Pe(T(vp),{id:L.id,ref_key:"input",ref:s,type:"number",step:L.step,"model-value":T(b),placeholder:L.placeholder,readonly:L.readonly,disabled:T(v),size:T(m),max:L.max,min:L.min,name:L.name,label:L.label,"validate-event":!1,onWheel:D[0]||(D[0]=Hn(()=>{},["prevent"])),onKeydown:[Fn(Hn(S,["prevent"]),["up"]),Fn(Hn(_,["prevent"]),["down"])],onBlur:R,onFocus:U,onInput:A,onChange:k},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var NF=qt(OF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const ty=Gr(NF),ny=Symbol("sliderContextKey"),IF=Zt({modelValue:{type:ut([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:dl,inputSize:dl,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:ut(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:ut(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Xo,default:"top"},marks:{type:ut(Object)},validateEvent:{type:Boolean,default:!0}}),Vd=e=>Vt(e)||nt(e)&&e.every(Vt),LF={[rn]:Vd,[Ti]:Vd,[oa]:Vd},mp=Symbol("popper"),ry=Symbol("popperContent"),$F=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],iy=Zt({role:{type:String,values:$F,default:"tooltip"}}),BF=ot({name:"ElPopper",inheritAttrs:!1}),RF=ot({...BF,props:iy,setup(e,{expose:t}){const n=e,r=Se(),i=Se(),a=Se(),s=Se(),l=ie(()=>n.role),u={triggerRef:r,popperInstanceRef:i,contentRef:a,referenceRef:s,role:l};return t(u),Jn(mp,u),(c,f)=>Rt(c.$slots,"default")}});var FF=qt(RF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const ay=Zt({arrowOffset:{type:Number,default:5}}),HF=ot({name:"ElPopperArrow",inheritAttrs:!1}),DF=ot({...HF,props:ay,setup(e,{expose:t}){const n=e,r=Gt("popper"),{arrowOffset:i,arrowRef:a,arrowStyle:s}=kt(ry,void 0);return Ue(()=>n.arrowOffset,l=>{i.value=l}),ur(()=>{a.value=void 0}),t({arrowRef:a}),(l,u)=>(re(),Le("span",{ref_key:"arrowRef",ref:a,class:Re(T(r).e("arrow")),style:Wt(T(s)),"data-popper-arrow":""},null,6))}});var zF=qt(DF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const WF="ElOnlyChild",UF=ot({name:WF,setup(e,{slots:t,attrs:n}){var r;const i=kt(ey),a=tF((r=i==null?void 0:i.setForwardRef)!=null?r:Wn);return()=>{var s;const l=(s=t.default)==null?void 0:s.call(t,n);if(!l||l.length>1)return null;const u=sy(l);return u?ui(aa(u,n),[[a]]):null}}});function sy(e){if(!e)return null;const t=e;for(const n of t){if(Ot(n))switch(n.type){case Un:continue;case Va:case"svg":return O3(n);case Ct:return sy(n.children);default:return n}return O3(n)}return null}function O3(e){const t=Gt("only-child");return Pe("span",{class:t.e("content")},[e])}const oy=Zt({virtualRef:{type:ut(Object)},virtualTriggering:Boolean,onMouseenter:{type:ut(Function)},onMouseleave:{type:ut(Function)},onClick:{type:ut(Function)},onKeydown:{type:ut(Function)},onFocus:{type:ut(Function)},onBlur:{type:ut(Function)},onContextmenu:{type:ut(Function)},id:String,open:Boolean}),VF=ot({name:"ElPopperTrigger",inheritAttrs:!1}),qF=ot({...VF,props:oy,setup(e,{expose:t}){const n=e,{role:r,triggerRef:i}=kt(mp,void 0);eF(i);const a=ie(()=>l.value?n.id:void 0),s=ie(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),l=ie(()=>{if(r&&r.value!=="tooltip")return r.value}),u=ie(()=>l.value?`${n.open}`:void 0);let c;return Kt(()=>{Ue(()=>n.virtualRef,f=>{f&&(i.value=Ra(f))},{immediate:!0}),Ue(i,(f,h)=>{c==null||c(),c=void 0,ll(f)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(p=>{var m;const v=n[p];v&&(f.addEventListener(p.slice(2).toLowerCase(),v),(m=h==null?void 0:h.removeEventListener)==null||m.call(h,p.slice(2).toLowerCase(),v))}),c=Ue([a,s,l,u],p=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((m,v)=>{na(p[v])?f.removeAttribute(m):f.setAttribute(m,p[v])})},{immediate:!0})),ll(h)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(p=>h.removeAttribute(p))},{immediate:!0})}),ur(()=>{c==null||c(),c=void 0}),t({triggerRef:i}),(f,h)=>f.virtualTriggering?Ke("v-if",!0):(re(),qe(T(UF),Si({key:0},f.$attrs,{"aria-controls":T(a),"aria-describedby":T(s),"aria-expanded":T(u),"aria-haspopup":T(l)}),{default:Oe(()=>[Rt(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var jF=qt(qF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const qd="focus-trap.focus-after-trapped",jd="focus-trap.focus-after-released",GF="focus-trap.focusout-prevented",N3={cancelable:!0,bubbles:!1},KF={cancelable:!0,bubbles:!1},I3="focusAfterTrapped",L3="focusAfterReleased",YF=Symbol("elFocusTrap"),bp=Se(),lf=Se(0),yp=Se(0);let Rc=0;const ly=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},$3=(e,t)=>{for(const n of e)if(!XF(n,t))return n},XF=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},JF=e=>{const t=ly(e),n=$3(t,e),r=$3(t.reverse(),e);return[n,r]},QF=e=>e instanceof HTMLInputElement&&"select"in e,La=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),yp.value=window.performance.now(),e!==n&&QF(e)&&t&&e.select()}};function B3(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const ZF=()=>{let e=[];return{push:r=>{const i=e[0];i&&r!==i&&i.pause(),e=B3(e,r),e.unshift(r)},remove:r=>{var i,a;e=B3(e,r),(a=(i=e[0])==null?void 0:i.resume)==null||a.call(i)}}},eH=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(La(r,t),document.activeElement!==n)return},R3=ZF(),tH=()=>lf.value>yp.value,Fc=()=>{bp.value="pointer",lf.value=window.performance.now()},F3=()=>{bp.value="keyboard",lf.value=window.performance.now()},nH=()=>(Kt(()=>{Rc===0&&(document.addEventListener("mousedown",Fc),document.addEventListener("touchstart",Fc),document.addEventListener("keydown",F3)),Rc++}),ur(()=>{Rc--,Rc<=0&&(document.removeEventListener("mousedown",Fc),document.removeEventListener("touchstart",Fc),document.removeEventListener("keydown",F3))}),{focusReason:bp,lastUserFocusTimestamp:lf,lastAutomatedFocusTimestamp:yp}),Hc=e=>new CustomEvent(GF,{...KF,detail:e}),rH=ot({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[I3,L3,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=Se();let r,i;const{focusReason:a}=nH();YR(v=>{e.trapped&&!s.paused&&t("release-requested",v)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},l=v=>{if(!e.loop&&!e.trapped||s.paused)return;const{key:b,altKey:w,ctrlKey:x,metaKey:C,currentTarget:S,shiftKey:_}=v,{loop:M}=e,P=b===Rs.tab&&!w&&!x&&!C,A=document.activeElement;if(P&&A){const k=S,[B,F]=JF(k);if(B&&F){if(!_&&A===F){const R=Hc({focusReason:a.value});t("focusout-prevented",R),R.defaultPrevented||(v.preventDefault(),M&&La(B,!0))}else if(_&&[B,k].includes(A)){const R=Hc({focusReason:a.value});t("focusout-prevented",R),R.defaultPrevented||(v.preventDefault(),M&&La(F,!0))}}else if(A===k){const R=Hc({focusReason:a.value});t("focusout-prevented",R),R.defaultPrevented||v.preventDefault()}}};Jn(YF,{focusTrapRef:n,onKeydown:l}),Ue(()=>e.focusTrapEl,v=>{v&&(n.value=v)},{immediate:!0}),Ue([n],([v],[b])=>{v&&(v.addEventListener("keydown",l),v.addEventListener("focusin",f),v.addEventListener("focusout",h)),b&&(b.removeEventListener("keydown",l),b.removeEventListener("focusin",f),b.removeEventListener("focusout",h))});const u=v=>{t(I3,v)},c=v=>t(L3,v),f=v=>{const b=T(n);if(!b)return;const w=v.target,x=v.relatedTarget,C=w&&b.contains(w);e.trapped||x&&b.contains(x)||(r=x),C&&t("focusin",v),!s.paused&&e.trapped&&(C?i=w:La(i,!0))},h=v=>{const b=T(n);if(!(s.paused||!b))if(e.trapped){const w=v.relatedTarget;!na(w)&&!b.contains(w)&&setTimeout(()=>{if(!s.paused&&e.trapped){const x=Hc({focusReason:a.value});t("focusout-prevented",x),x.defaultPrevented||La(i,!0)}},0)}else{const w=v.target;w&&b.contains(w)||t("focusout",v)}};async function p(){await Et();const v=T(n);if(v){R3.push(s);const b=v.contains(document.activeElement)?r:document.activeElement;if(r=b,!v.contains(b)){const x=new Event(qd,N3);v.addEventListener(qd,u),v.dispatchEvent(x),x.defaultPrevented||Et(()=>{let C=e.focusStartEl;_t(C)||(La(C),document.activeElement!==C&&(C="first")),C==="first"&&eH(ly(v),!0),(document.activeElement===b||C==="container")&&La(v)})}}}function m(){const v=T(n);if(v){v.removeEventListener(qd,u);const b=new CustomEvent(jd,{...N3,detail:{focusReason:a.value}});v.addEventListener(jd,c),v.dispatchEvent(b),!b.defaultPrevented&&(a.value=="keyboard"||!tH()||v.contains(document.activeElement))&&La(r??document.body),v.removeEventListener(jd,u),R3.remove(s)}}return Kt(()=>{e.trapped&&p(),Ue(()=>e.trapped,v=>{v?p():m()})}),ur(()=>{e.trapped&&m()}),{onKeydown:l}}});function iH(e,t,n,r,i,a){return Rt(e.$slots,"default",{handleKeydown:e.onKeydown})}var aH=qt(rH,[["render",iH],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const sH=["fixed","absolute"],oH=Zt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ut(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Xo,default:"bottom"},popperOptions:{type:ut(Object),default:()=>({})},strategy:{type:String,values:sH,default:"absolute"}}),cy=Zt({...oH,id:String,style:{type:ut([String,Array,Object])},className:{type:ut([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ut([String,Array,Object])},popperStyle:{type:ut([String,Array,Object])},referenceEl:{type:ut(Object)},triggerTargetEl:{type:ut(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),lH={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},cH=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:i}=e,a={placement:n,strategy:r,...i,modifiers:[...fH(e),...t]};return dH(a,i==null?void 0:i.modifiers),a},uH=e=>{if(Xn)return Ra(e)};function fH(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function dH(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const hH=0,pH=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:i}=kt(mp,void 0),a=Se(),s=Se(),l=ie(()=>({name:"eventListeners",enabled:!!e.visible})),u=ie(()=>{var x;const C=T(a),S=(x=T(s))!=null?x:hH;return{name:"arrow",enabled:!g$(C),options:{element:C,padding:S}}}),c=ie(()=>({onFirstUpdate:()=>{v()},...cH(e,[T(u),T(l)])})),f=ie(()=>uH(e.referenceEl)||T(r)),{attributes:h,state:p,styles:m,update:v,forceUpdate:b,instanceRef:w}=jR(f,n,c);return Ue(w,x=>t.value=x),Kt(()=>{Ue(()=>{var x;return(x=T(f))==null?void 0:x.getBoundingClientRect()},()=>{v()})}),{attributes:h,arrowRef:a,contentRef:n,instanceRef:w,state:p,styles:m,role:i,forceUpdate:b,update:v}},gH=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:i}=iF(),a=Gt("popper"),s=ie(()=>T(t).popper),l=Se(e.zIndex||i()),u=ie(()=>[a.b(),a.is("pure",e.pure),a.is(e.effect),e.popperClass]),c=ie(()=>[{zIndex:T(l)},e.popperStyle||{},T(n).popper]),f=ie(()=>r.value==="dialog"?"false":void 0),h=ie(()=>T(n).arrow||{});return{ariaModal:f,arrowStyle:h,contentAttrs:s,contentClass:u,contentStyle:c,contentZIndex:l,updateZIndex:()=>{l.value=e.zIndex||i()}}},vH=(e,t)=>{const n=Se(!1),r=Se();return{focusStartRef:r,trapped:n,onFocusAfterReleased:c=>{var f;((f=c.detail)==null?void 0:f.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:c=>{e.visible&&!n.value&&(c.target&&(r.value=c.target),n.value=!0)},onFocusoutPrevented:c=>{e.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},mH=ot({name:"ElPopperContent"}),bH=ot({...mH,props:cy,emits:lH,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:i,trapped:a,onFocusAfterReleased:s,onFocusAfterTrapped:l,onFocusInTrap:u,onFocusoutPrevented:c,onReleaseRequested:f}=vH(r,n),{attributes:h,arrowRef:p,contentRef:m,styles:v,instanceRef:b,role:w,update:x}=pH(r),{ariaModal:C,arrowStyle:S,contentAttrs:_,contentClass:M,contentStyle:P,updateZIndex:A}=gH(r,{styles:v,attributes:h,role:w}),k=kt(Ou,void 0),B=Se();Jn(ry,{arrowStyle:S,arrowRef:p,arrowOffset:B}),k&&(k.addInputId||k.removeInputId)&&Jn(Ou,{...k,addInputId:Wn,removeInputId:Wn});let F;const U=(L=!0)=>{x(),L&&A()},R=()=>{U(!1),r.visible&&r.focusOnShow?a.value=!0:r.visible===!1&&(a.value=!1)};return Kt(()=>{Ue(()=>r.triggerTargetEl,(L,D)=>{F==null||F(),F=void 0;const q=T(L||m.value),N=T(D||m.value);ll(q)&&(F=Ue([w,()=>r.ariaLabel,C,()=>r.id],O=>{["role","aria-label","aria-modal","id"].forEach((H,V)=>{na(O[V])?q.removeAttribute(H):q.setAttribute(H,O[V])})},{immediate:!0})),N!==q&&ll(N)&&["role","aria-label","aria-modal","id"].forEach(O=>{N.removeAttribute(O)})},{immediate:!0}),Ue(()=>r.visible,R,{immediate:!0})}),ur(()=>{F==null||F(),F=void 0}),t({popperContentRef:m,popperInstanceRef:b,updatePopper:U,contentStyle:P}),(L,D)=>(re(),Le("div",Si({ref_key:"contentRef",ref:m},T(_),{style:T(P),class:T(M),tabindex:"-1",onMouseenter:D[0]||(D[0]=q=>L.$emit("mouseenter",q)),onMouseleave:D[1]||(D[1]=q=>L.$emit("mouseleave",q))}),[Pe(T(aH),{trapped:T(a),"trap-on-focus-in":!0,"focus-trap-el":T(m),"focus-start-el":T(i),onFocusAfterTrapped:T(l),onFocusAfterReleased:T(s),onFocusin:T(u),onFocusoutPrevented:T(c),onReleaseRequested:T(f)},{default:Oe(()=>[Rt(L.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var yH=qt(bH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const wH=Gr(FF),wp=Symbol("elTooltip"),Cr=Zt({...QR,...cy,appendTo:{type:ut([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:ut(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),hl=Zt({...oy,disabled:Boolean,trigger:{type:ut([String,Array]),default:"hover"},triggerKeys:{type:ut(Array),default:()=>[Rs.enter,Rs.space]}}),{useModelToggleProps:_H,useModelToggleEmits:xH,useModelToggle:MH}=F4("visible"),CH=Zt({...iy,..._H,...Cr,...hl,...ay,showArrow:{type:Boolean,default:!0}}),PH=[...xH,"before-show","before-hide","show","hide","open","close"],SH=(e,t)=>nt(e)?e.includes(t):e===t,co=(e,t,n)=>r=>{SH(T(e),t)&&n(r)},TH=ot({name:"ElTooltipTrigger"}),EH=ot({...TH,props:hl,setup(e,{expose:t}){const n=e,r=Gt("tooltip"),{controlled:i,id:a,open:s,onOpen:l,onClose:u,onToggle:c}=kt(wp,void 0),f=Se(null),h=()=>{if(T(i)||n.disabled)return!0},p=Yn(n,"trigger"),m=Zi(h,co(p,"hover",l)),v=Zi(h,co(p,"hover",u)),b=Zi(h,co(p,"click",_=>{_.button===0&&c(_)})),w=Zi(h,co(p,"focus",l)),x=Zi(h,co(p,"focus",u)),C=Zi(h,co(p,"contextmenu",_=>{_.preventDefault(),c(_)})),S=Zi(h,_=>{const{code:M}=_;n.triggerKeys.includes(M)&&(_.preventDefault(),c(_))});return t({triggerRef:f}),(_,M)=>(re(),qe(T(jF),{id:T(a),"virtual-ref":_.virtualRef,open:T(s),"virtual-triggering":_.virtualTriggering,class:Re(T(r).e("trigger")),onBlur:T(x),onClick:T(b),onContextmenu:T(C),onFocus:T(w),onMouseenter:T(m),onMouseleave:T(v),onKeydown:T(S)},{default:Oe(()=>[Rt(_.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var AH=qt(EH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const kH=ot({name:"ElTooltipContent",inheritAttrs:!1}),OH=ot({...kH,props:Cr,setup(e,{expose:t}){const n=e,{selector:r}=Z4(),i=Gt("tooltip"),a=Se(null),s=Se(!1),{controlled:l,id:u,open:c,trigger:f,onClose:h,onOpen:p,onShow:m,onHide:v,onBeforeShow:b,onBeforeHide:w}=kt(wp,void 0),x=ie(()=>n.transition||`${i.namespace.value}-fade-in-linear`),C=ie(()=>n.persistent);ur(()=>{s.value=!0});const S=ie(()=>T(C)?!0:T(c)),_=ie(()=>n.disabled?!1:T(c)),M=ie(()=>n.appendTo||r.value),P=ie(()=>{var O;return(O=n.style)!=null?O:{}}),A=ie(()=>!T(c)),k=()=>{v()},B=()=>{if(T(l))return!0},F=Zi(B,()=>{n.enterable&&T(f)==="hover"&&p()}),U=Zi(B,()=>{T(f)==="hover"&&h()}),R=()=>{var O,H;(H=(O=a.value)==null?void 0:O.updatePopper)==null||H.call(O),b==null||b()},L=()=>{w==null||w()},D=()=>{m(),N=MO(ie(()=>{var O;return(O=a.value)==null?void 0:O.popperContentRef}),()=>{if(T(l))return;T(f)!=="hover"&&h()})},q=()=>{n.virtualTriggering||h()};let N;return Ue(()=>T(c),O=>{O||N==null||N()},{flush:"post"}),Ue(()=>n.content,()=>{var O,H;(H=(O=a.value)==null?void 0:O.updatePopper)==null||H.call(O)}),t({contentRef:a}),(O,H)=>(re(),qe(CT,{disabled:!O.teleported,to:T(M)},[Pe(qa,{name:T(x),onAfterLeave:k,onBeforeEnter:R,onAfterEnter:D,onBeforeLeave:L},{default:Oe(()=>[T(S)?ui((re(),qe(T(yH),Si({key:0,id:T(u),ref_key:"contentRef",ref:a},O.$attrs,{"aria-label":O.ariaLabel,"aria-hidden":T(A),"boundaries-padding":O.boundariesPadding,"fallback-placements":O.fallbackPlacements,"gpu-acceleration":O.gpuAcceleration,offset:O.offset,placement:O.placement,"popper-options":O.popperOptions,strategy:O.strategy,effect:O.effect,enterable:O.enterable,pure:O.pure,"popper-class":O.popperClass,"popper-style":[O.popperStyle,T(P)],"reference-el":O.referenceEl,"trigger-target-el":O.triggerTargetEl,visible:T(_),"z-index":O.zIndex,onMouseenter:T(F),onMouseleave:T(U),onBlur:q,onClose:T(h)}),{default:Oe(()=>[s.value?Ke("v-if",!0):Rt(O.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[qo,T(_)]]):Ke("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var NH=qt(OH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const IH=["innerHTML"],LH={key:1},$H=ot({name:"ElTooltip"}),BH=ot({...$H,props:CH,emits:PH,setup(e,{expose:t,emit:n}){const r=e;JR();const i=Q4(),a=Se(),s=Se(),l=()=>{var x;const C=T(a);C&&((x=C.popperInstanceRef)==null||x.update())},u=Se(!1),c=Se(),{show:f,hide:h,hasUpdateHandler:p}=MH({indicator:u,toggleReason:c}),{onOpen:m,onClose:v}=ZR({showAfter:Yn(r,"showAfter"),hideAfter:Yn(r,"hideAfter"),autoClose:Yn(r,"autoClose"),open:f,close:h}),b=ie(()=>ks(r.visible)&&!p.value);Jn(wp,{controlled:b,id:i,open:C1(u),trigger:Yn(r,"trigger"),onOpen:x=>{m(x)},onClose:x=>{v(x)},onToggle:x=>{T(u)?v(x):m(x)},onShow:()=>{n("show",c.value)},onHide:()=>{n("hide",c.value)},onBeforeShow:()=>{n("before-show",c.value)},onBeforeHide:()=>{n("before-hide",c.value)},updatePopper:l}),Ue(()=>r.disabled,x=>{x&&u.value&&(u.value=!1)});const w=()=>{var x,C;const S=(C=(x=s.value)==null?void 0:x.contentRef)==null?void 0:C.popperContentRef;return S&&S.contains(document.activeElement)};return L1(()=>u.value&&h()),t({popperRef:a,contentRef:s,isFocusInsideContent:w,updatePopper:l,onOpen:m,onClose:v,hide:h}),(x,C)=>(re(),qe(T(wH),{ref_key:"popperRef",ref:a,role:x.role},{default:Oe(()=>[Pe(AH,{disabled:x.disabled,trigger:x.trigger,"trigger-keys":x.triggerKeys,"virtual-ref":x.virtualRef,"virtual-triggering":x.virtualTriggering},{default:Oe(()=>[x.$slots.default?Rt(x.$slots,"default",{key:0}):Ke("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Pe(NH,{ref_key:"contentRef",ref:s,"aria-label":x.ariaLabel,"boundaries-padding":x.boundariesPadding,content:x.content,disabled:x.disabled,effect:x.effect,enterable:x.enterable,"fallback-placements":x.fallbackPlacements,"hide-after":x.hideAfter,"gpu-acceleration":x.gpuAcceleration,offset:x.offset,persistent:x.persistent,"popper-class":x.popperClass,"popper-style":x.popperStyle,placement:x.placement,"popper-options":x.popperOptions,pure:x.pure,"raw-content":x.rawContent,"reference-el":x.referenceEl,"trigger-target-el":x.triggerTargetEl,"show-after":x.showAfter,strategy:x.strategy,teleported:x.teleported,transition:x.transition,"virtual-triggering":x.virtualTriggering,"z-index":x.zIndex,"append-to":x.appendTo},{default:Oe(()=>[Rt(x.$slots,"content",{},()=>[x.rawContent?(re(),Le("span",{key:0,innerHTML:x.content},null,8,IH)):(re(),Le("span",LH,cn(x.content),1))]),x.showArrow?(re(),qe(T(zF),{key:0,"arrow-offset":x.arrowOffset},null,8,["arrow-offset"])):Ke("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var RH=qt(BH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const _p=Gr(RH),FH=(e,t,n)=>{const r=Se();return Kt(async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),As(window,"resize",n),await Et(),n()}),{sliderWrapper:r}},HH=e=>ie(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),DH=(e,t,n)=>{const{form:r,formItem:i}=Jo(),a=Ts(),s=Se(),l=Se(),u={firstButton:s,secondButton:l},c=ie(()=>e.disabled||(r==null?void 0:r.disabled)||!1),f=ie(()=>Math.min(t.firstValue,t.secondValue)),h=ie(()=>Math.max(t.firstValue,t.secondValue)),p=ie(()=>e.range?`${100*(h.value-f.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),m=ie(()=>e.range?`${100*(f.value-e.min)/(e.max-e.min)}%`:"0%"),v=ie(()=>e.vertical?{height:e.height}:{}),b=ie(()=>e.vertical?{height:p.value,bottom:m.value}:{width:p.value,left:m.value}),w=()=>{a.value&&(t.sliderSize=a.value[`client${e.vertical?"Height":"Width"}`])},x=U=>{const R=e.min+U*(e.max-e.min)/100;if(!e.range)return s;let L;return Math.abs(f.value-R)<Math.abs(h.value-R)?L=t.firstValue<t.secondValue?"firstButton":"secondButton":L=t.firstValue>t.secondValue?"firstButton":"secondButton",u[L]},C=U=>{const R=x(U);return R.value.setPosition(U),R},S=U=>{t.firstValue=U,M(e.range?[f.value,h.value]:U)},_=U=>{t.secondValue=U,e.range&&M([f.value,h.value])},M=U=>{n(rn,U),n(Ti,U)},P=async()=>{await Et(),n(oa,e.range?[f.value,h.value]:e.modelValue)},A=U=>{var R,L,D,q,N,O;if(c.value||t.dragging)return;w();let H=0;if(e.vertical){const V=(D=(L=(R=U.touches)==null?void 0:R.item(0))==null?void 0:L.clientY)!=null?D:U.clientY;H=(a.value.getBoundingClientRect().bottom-V)/t.sliderSize*100}else{const V=(O=(N=(q=U.touches)==null?void 0:q.item(0))==null?void 0:N.clientX)!=null?O:U.clientX,ne=a.value.getBoundingClientRect().left;H=(V-ne)/t.sliderSize*100}if(!(H<0||H>100))return C(H)};return{elFormItem:i,slider:a,firstButton:s,secondButton:l,sliderDisabled:c,minValue:f,maxValue:h,runwayStyle:v,barStyle:b,resetSize:w,setPosition:C,emitChange:P,onSliderWrapperPrevent:U=>{var R,L;((R=u.firstButton.value)!=null&&R.dragging||(L=u.secondButton.value)!=null&&L.dragging)&&U.preventDefault()},onSliderClick:U=>{A(U)&&P()},onSliderDown:async U=>{const R=A(U);R&&(await Et(),R.value.onButtonDown(U))},setFirstValue:S,setSecondValue:_}},{left:zH,down:WH,right:UH,up:VH,home:qH,end:jH,pageUp:GH,pageDown:KH}=Rs,YH=(e,t,n)=>{const r=Se(),i=Se(!1),a=ie(()=>t.value instanceof Function),s=ie(()=>a.value&&t.value(e.modelValue)||e.modelValue),l=Eu(()=>{n.value&&(i.value=!0)},50),u=Eu(()=>{n.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:s,displayTooltip:l,hideTooltip:u}},XH=(e,t,n)=>{const{disabled:r,min:i,max:a,step:s,showTooltip:l,precision:u,sliderSize:c,formatTooltip:f,emitChange:h,resetSize:p,updateDragging:m}=kt(ny),{tooltip:v,tooltipVisible:b,formatValue:w,displayTooltip:x,hideTooltip:C}=YH(e,f,l),S=Se(),_=ie(()=>`${(e.modelValue-i.value)/(a.value-i.value)*100}%`),M=ie(()=>e.vertical?{bottom:_.value}:{left:_.value}),P=()=>{t.hovering=!0,x()},A=()=>{t.hovering=!1,t.dragging||C()},k=ae=>{r.value||(ae.preventDefault(),H(ae),window.addEventListener("mousemove",V),window.addEventListener("touchmove",V),window.addEventListener("mouseup",ne),window.addEventListener("touchend",ne),window.addEventListener("contextmenu",ne),S.value.focus())},B=ae=>{r.value||(t.newPosition=Number.parseFloat(_.value)+ae/(a.value-i.value)*100,_e(t.newPosition),h())},F=()=>{B(-s.value)},U=()=>{B(s.value)},R=()=>{B(-s.value*4)},L=()=>{B(s.value*4)},D=()=>{r.value||(_e(0),h())},q=()=>{r.value||(_e(100),h())},N=ae=>{let Ne=!0;[zH,WH].includes(ae.key)?F():[UH,VH].includes(ae.key)?U():ae.key===qH?D():ae.key===jH?q():ae.key===KH?R():ae.key===GH?L():Ne=!1,Ne&&ae.preventDefault()},O=ae=>{let Ne,He;return ae.type.startsWith("touch")?(He=ae.touches[0].clientY,Ne=ae.touches[0].clientX):(He=ae.clientY,Ne=ae.clientX),{clientX:Ne,clientY:He}},H=ae=>{t.dragging=!0,t.isClick=!0;const{clientX:Ne,clientY:He}=O(ae);e.vertical?t.startY=He:t.startX=Ne,t.startPosition=Number.parseFloat(_.value),t.newPosition=t.startPosition},V=ae=>{if(t.dragging){t.isClick=!1,x(),p();let Ne;const{clientX:He,clientY:$e}=O(ae);e.vertical?(t.currentY=$e,Ne=(t.startY-t.currentY)/c.value*100):(t.currentX=He,Ne=(t.currentX-t.startX)/c.value*100),t.newPosition=t.startPosition+Ne,_e(t.newPosition)}},ne=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||C(),t.isClick||_e(t.newPosition),h()},0),window.removeEventListener("mousemove",V),window.removeEventListener("touchmove",V),window.removeEventListener("mouseup",ne),window.removeEventListener("touchend",ne),window.removeEventListener("contextmenu",ne))},_e=async ae=>{if(ae===null||Number.isNaN(+ae))return;ae<0?ae=0:ae>100&&(ae=100);const Ne=100/((a.value-i.value)/s.value);let $e=Math.round(ae/Ne)*Ne*(a.value-i.value)*.01+i.value;$e=Number.parseFloat($e.toFixed(u.value)),$e!==e.modelValue&&n(rn,$e),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Et(),t.dragging&&x(),v.value.updatePopper()};return Ue(()=>t.dragging,ae=>{m(ae)}),{disabled:r,button:S,tooltip:v,tooltipVisible:b,showTooltip:l,wrapperStyle:M,formatValue:w,handleMouseEnter:P,handleMouseLeave:A,onButtonDown:k,onKeyDown:N,setPosition:_e}},JH=(e,t,n,r)=>({stops:ie(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const s=(e.max-e.min)/e.step,l=100*e.step/(e.max-e.min),u=Array.from({length:s-1}).map((c,f)=>(f+1)*l);return e.range?u.filter(c=>c<100*(n.value-e.min)/(e.max-e.min)||c>100*(r.value-e.min)/(e.max-e.min)):u.filter(c=>c>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:s=>e.vertical?{bottom:`${s}%`}:{left:`${s}%`}}),QH=(e,t,n,r,i,a)=>{const s=c=>{i(rn,c),i(Ti,c)},l=()=>e.range?![n.value,r.value].every((c,f)=>c===t.oldValue[f]):e.modelValue!==t.oldValue,u=()=>{var c,f;e.min>e.max&&Z1("Slider","min should not be greater than max.");const h=e.modelValue;e.range&&Array.isArray(h)?h[1]<e.min?s([e.min,e.min]):h[0]>e.max?s([e.max,e.max]):h[0]<e.min?s([e.min,h[1]]):h[1]>e.max?s([h[0],e.max]):(t.firstValue=h[0],t.secondValue=h[1],l()&&(e.validateEvent&&((c=a==null?void 0:a.validate)==null||c.call(a,"change").catch(p=>void 0)),t.oldValue=h.slice())):!e.range&&typeof h=="number"&&!Number.isNaN(h)&&(h<e.min?s(e.min):h>e.max?s(e.max):(t.firstValue=h,l()&&(e.validateEvent&&((f=a==null?void 0:a.validate)==null||f.call(a,"change").catch(p=>void 0)),t.oldValue=h)))};u(),Ue(()=>t.dragging,c=>{c||u()}),Ue(()=>e.modelValue,(c,f)=>{t.dragging||Array.isArray(c)&&Array.isArray(f)&&c.every((h,p)=>h===f[p])&&t.firstValue===c[0]&&t.secondValue===c[1]||u()},{deep:!0}),Ue(()=>[e.min,e.max],()=>{u()})},ZH=Zt({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Xo,default:"top"}}),eD={[rn]:e=>Vt(e)},tD=["tabindex"],nD=ot({name:"ElSliderButton"}),rD=ot({...nD,props:ZH,emits:eD,setup(e,{expose:t,emit:n}){const r=e,i=Gt("slider"),a=Cn({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:s,button:l,tooltip:u,showTooltip:c,tooltipVisible:f,wrapperStyle:h,formatValue:p,handleMouseEnter:m,handleMouseLeave:v,onButtonDown:b,onKeyDown:w,setPosition:x}=XH(r,a,n),{hovering:C,dragging:S}=Ls(a);return t({onButtonDown:b,onKeyDown:w,setPosition:x,hovering:C,dragging:S}),(_,M)=>(re(),Le("div",{ref_key:"button",ref:l,class:Re([T(i).e("button-wrapper"),{hover:T(C),dragging:T(S)}]),style:Wt(T(h)),tabindex:T(s)?-1:0,onMouseenter:M[0]||(M[0]=(...P)=>T(m)&&T(m)(...P)),onMouseleave:M[1]||(M[1]=(...P)=>T(v)&&T(v)(...P)),onMousedown:M[2]||(M[2]=(...P)=>T(b)&&T(b)(...P)),onTouchstart:M[3]||(M[3]=(...P)=>T(b)&&T(b)(...P)),onFocus:M[4]||(M[4]=(...P)=>T(m)&&T(m)(...P)),onBlur:M[5]||(M[5]=(...P)=>T(v)&&T(v)(...P)),onKeydown:M[6]||(M[6]=(...P)=>T(w)&&T(w)(...P))},[Pe(T(_p),{ref_key:"tooltip",ref:u,visible:T(f),placement:_.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":_.tooltipClass,disabled:!T(c),persistent:""},{content:Oe(()=>[Ae("span",null,cn(T(p)),1)]),default:Oe(()=>[Ae("div",{class:Re([T(i).e("button"),{hover:T(C),dragging:T(S)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,tD))}});var H3=qt(rD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const iD=Zt({mark:{type:ut([String,Object]),default:void 0}});var aD=ot({name:"ElSliderMarker",props:iD,setup(e){const t=Gt("slider"),n=ie(()=>_t(e.mark)?e.mark:e.mark.label),r=ie(()=>_t(e.mark)?void 0:e.mark.style);return()=>U1("div",{class:t.e("marks-text"),style:r.value},n.value)}});const sD=["id","role","aria-label","aria-labelledby"],oD={key:1},lD=ot({name:"ElSlider"}),cD=ot({...lD,props:IF,emits:LF,setup(e,{expose:t,emit:n}){const r=e,i=Gt("slider"),{t:a}=yl(),s=Cn({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:l,slider:u,firstButton:c,secondButton:f,sliderDisabled:h,minValue:p,maxValue:m,runwayStyle:v,barStyle:b,resetSize:w,emitChange:x,onSliderWrapperPrevent:C,onSliderClick:S,onSliderDown:_,setFirstValue:M,setSecondValue:P}=DH(r,s,n),{stops:A,getStopStyle:k}=JH(r,s,p,m),{inputId:B,isLabeledByFormItem:F}=gp(r,{formItemContext:l}),U=Ws(),R=ie(()=>r.inputSize||U.value),L=ie(()=>r.label||a("el.slider.defaultLabel",{min:r.min,max:r.max})),D=ie(()=>r.range?r.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):L.value),q=ie(()=>r.formatValueText?r.formatValueText(ae.value):`${ae.value}`),N=ie(()=>r.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),O=ie(()=>r.formatValueText?r.formatValueText(Ne.value):`${Ne.value}`),H=ie(()=>[i.b(),i.m(U.value),i.is("vertical",r.vertical),{[i.m("with-input")]:r.showInput}]),V=HH(r);QH(r,s,p,m,n,l);const ne=ie(()=>{const Ce=[r.min,r.max,r.step].map(Ie=>{const xe=`${Ie}`.split(".")[1];return xe?xe.length:0});return Math.max.apply(null,Ce)}),{sliderWrapper:_e}=FH(r,s,w),{firstValue:ae,secondValue:Ne,sliderSize:He}=Ls(s),$e=Ce=>{s.dragging=Ce};return Jn(ny,{...Ls(r),sliderSize:He,disabled:h,precision:ne,emitChange:x,resetSize:w,updateDragging:$e}),t({onSliderClick:S}),(Ce,Ie)=>{var xe,rt;return re(),Le("div",{id:Ce.range?T(B):void 0,ref_key:"sliderWrapper",ref:_e,class:Re(T(H)),role:Ce.range?"group":void 0,"aria-label":Ce.range&&!T(F)?T(L):void 0,"aria-labelledby":Ce.range&&T(F)?(xe=T(l))==null?void 0:xe.labelId:void 0,onTouchstart:Ie[2]||(Ie[2]=(...De)=>T(C)&&T(C)(...De)),onTouchmove:Ie[3]||(Ie[3]=(...De)=>T(C)&&T(C)(...De))},[Ae("div",{ref_key:"slider",ref:u,class:Re([T(i).e("runway"),{"show-input":Ce.showInput&&!Ce.range},T(i).is("disabled",T(h))]),style:Wt(T(v)),onMousedown:Ie[0]||(Ie[0]=(...De)=>T(_)&&T(_)(...De)),onTouchstart:Ie[1]||(Ie[1]=(...De)=>T(_)&&T(_)(...De))},[Ae("div",{class:Re(T(i).e("bar")),style:Wt(T(b))},null,6),Pe(H3,{id:Ce.range?void 0:T(B),ref_key:"firstButton",ref:c,"model-value":T(ae),vertical:Ce.vertical,"tooltip-class":Ce.tooltipClass,placement:Ce.placement,role:"slider","aria-label":Ce.range||!T(F)?T(D):void 0,"aria-labelledby":!Ce.range&&T(F)?(rt=T(l))==null?void 0:rt.labelId:void 0,"aria-valuemin":Ce.min,"aria-valuemax":Ce.range?T(Ne):Ce.max,"aria-valuenow":T(ae),"aria-valuetext":T(q),"aria-orientation":Ce.vertical?"vertical":"horizontal","aria-disabled":T(h),"onUpdate:modelValue":T(M)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Ce.range?(re(),qe(H3,{key:0,ref_key:"secondButton",ref:f,"model-value":T(Ne),vertical:Ce.vertical,"tooltip-class":Ce.tooltipClass,placement:Ce.placement,role:"slider","aria-label":T(N),"aria-valuemin":T(ae),"aria-valuemax":Ce.max,"aria-valuenow":T(Ne),"aria-valuetext":T(O),"aria-orientation":Ce.vertical?"vertical":"horizontal","aria-disabled":T(h),"onUpdate:modelValue":T(P)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Ke("v-if",!0),Ce.showStops?(re(),Le("div",oD,[(re(!0),Le(Ct,null,sr(T(A),(De,Ve)=>(re(),Le("div",{key:Ve,class:Re(T(i).e("stop")),style:Wt(T(k)(De))},null,6))),128))])):Ke("v-if",!0),T(V).length>0?(re(),Le(Ct,{key:2},[Ae("div",null,[(re(!0),Le(Ct,null,sr(T(V),(De,Ve)=>(re(),Le("div",{key:Ve,style:Wt(T(k)(De.position)),class:Re([T(i).e("stop"),T(i).e("marks-stop")])},null,6))),128))]),Ae("div",{class:Re(T(i).e("marks"))},[(re(!0),Le(Ct,null,sr(T(V),(De,Ve)=>(re(),qe(T(aD),{key:Ve,mark:De.mark,style:Wt(T(k)(De.position))},null,8,["mark","style"]))),128))],2)],64)):Ke("v-if",!0)],38),Ce.showInput&&!Ce.range?(re(),qe(T(ty),{key:0,ref:"input","model-value":T(ae),class:Re(T(i).e("input")),step:Ce.step,disabled:T(h),controls:Ce.showInputControls,min:Ce.min,max:Ce.max,debounce:Ce.debounce,size:T(R),"onUpdate:modelValue":T(M),onChange:T(x)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):Ke("v-if",!0)],42,sD)}}});var uD=qt(cD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const fD=Gr(uD),dD=Symbol(),D3=Se();function hD(e,t=void 0){const n=Ln()?kt(dD,D3):D3;return e?ie(()=>{var r,i;return(i=(r=n.value)==null?void 0:r[e])!=null?i:t}):n}const uy=Symbol("buttonGroupContextKey"),pD=(e,t)=>{ip({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},ie(()=>e.type==="text"));const n=kt(uy,void 0),r=hD("button"),{form:i}=Jo(),a=Ws(ie(()=>n==null?void 0:n.size)),s=xl(),l=Se(),u=N6(),c=ie(()=>e.type||(n==null?void 0:n.type)||""),f=ie(()=>{var v,b,w;return(w=(b=e.autoInsertSpace)!=null?b:(v=r.value)==null?void 0:v.autoInsertSpace)!=null?w:!1}),h=ie(()=>e.tag==="button"?{ariaDisabled:s.value||e.loading,disabled:s.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),p=ie(()=>{var v;const b=(v=u.default)==null?void 0:v.call(u);if(f.value&&(b==null?void 0:b.length)===1){const w=b[0];if((w==null?void 0:w.type)===Va){const x=w.children;return/^\p{Unified_Ideograph}{2}$/u.test(x.trim())}}return!1});return{_disabled:s,_size:a,_type:c,_ref:l,_props:h,shouldAddSpace:p,handleClick:v=>{e.nativeType==="reset"&&(i==null||i.resetFields()),t("click",v)}}},gD=["default","primary","success","warning","info","danger","text",""],vD=["button","submit","reset"],Gh=Zt({size:dl,disabled:Boolean,type:{type:String,values:gD,default:""},icon:{type:sa},nativeType:{type:String,values:vD,default:"button"},loading:Boolean,loadingIcon:{type:sa,default:()=>tp},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:ut([String,Object]),default:"button"}}),mD={click:e=>e instanceof MouseEvent};function On(e,t){bD(e)&&(e="100%");var n=yD(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function Dc(e){return Math.min(1,Math.max(0,e))}function bD(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function yD(e){return typeof e=="string"&&e.indexOf("%")!==-1}function fy(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function zc(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Cs(e){return e.length===1?"0"+e:String(e)}function wD(e,t,n){return{r:On(e,255)*255,g:On(t,255)*255,b:On(n,255)*255}}function z3(e,t,n){e=On(e,255),t=On(t,255),n=On(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,s=0,l=(r+i)/2;if(r===i)s=0,a=0;else{var u=r-i;switch(s=l>.5?u/(2-r-i):u/(r+i),r){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4;break}a/=6}return{h:a,s,l}}function Gd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _D(e,t,n){var r,i,a;if(e=On(e,360),t=On(t,100),n=On(n,100),t===0)i=n,a=n,r=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=Gd(l,s,e+1/3),i=Gd(l,s,e),a=Gd(l,s,e-1/3)}return{r:r*255,g:i*255,b:a*255}}function W3(e,t,n){e=On(e,255),t=On(t,255),n=On(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,s=r,l=r-i,u=r===0?0:l/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4;break}a/=6}return{h:a,s:u,v:s}}function xD(e,t,n){e=On(e,360)*6,t=On(t,100),n=On(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),s=n*(1-i*t),l=n*(1-(1-i)*t),u=r%6,c=[n,s,a,a,l,n][u],f=[l,n,n,s,a,a][u],h=[a,a,l,n,n,s][u];return{r:c*255,g:f*255,b:h*255}}function U3(e,t,n,r){var i=[Cs(Math.round(e).toString(16)),Cs(Math.round(t).toString(16)),Cs(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function MD(e,t,n,r,i){var a=[Cs(Math.round(e).toString(16)),Cs(Math.round(t).toString(16)),Cs(Math.round(n).toString(16)),Cs(CD(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function CD(e){return Math.round(parseFloat(e)*255).toString(16)}function V3(e){return wr(e)/255}function wr(e){return parseInt(e,16)}function PD(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Kh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function SD(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,s=!1,l=!1;return typeof e=="string"&&(e=AD(e)),typeof e=="object"&&(Gi(e.r)&&Gi(e.g)&&Gi(e.b)?(t=wD(e.r,e.g,e.b),s=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Gi(e.h)&&Gi(e.s)&&Gi(e.v)?(r=zc(e.s),i=zc(e.v),t=xD(e.h,r,i),s=!0,l="hsv"):Gi(e.h)&&Gi(e.s)&&Gi(e.l)&&(r=zc(e.s),a=zc(e.l),t=_D(e.h,r,a),s=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=fy(n),{ok:s,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var TD="[-\\+]?\\d+%?",ED="[-\\+]?\\d*\\.\\d+%?",Fa="(?:".concat(ED,")|(?:").concat(TD,")"),Kd="[\\s|\\(]+(".concat(Fa,")[,|\\s]+(").concat(Fa,")[,|\\s]+(").concat(Fa,")\\s*\\)?"),Yd="[\\s|\\(]+(".concat(Fa,")[,|\\s]+(").concat(Fa,")[,|\\s]+(").concat(Fa,")[,|\\s]+(").concat(Fa,")\\s*\\)?"),ii={CSS_UNIT:new RegExp(Fa),rgb:new RegExp("rgb"+Kd),rgba:new RegExp("rgba"+Yd),hsl:new RegExp("hsl"+Kd),hsla:new RegExp("hsla"+Yd),hsv:new RegExp("hsv"+Kd),hsva:new RegExp("hsva"+Yd),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function AD(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(Kh[e])e=Kh[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=ii.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=ii.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ii.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=ii.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ii.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=ii.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ii.hex8.exec(e),n?{r:wr(n[1]),g:wr(n[2]),b:wr(n[3]),a:V3(n[4]),format:t?"name":"hex8"}:(n=ii.hex6.exec(e),n?{r:wr(n[1]),g:wr(n[2]),b:wr(n[3]),format:t?"name":"hex"}:(n=ii.hex4.exec(e),n?{r:wr(n[1]+n[1]),g:wr(n[2]+n[2]),b:wr(n[3]+n[3]),a:V3(n[4]+n[4]),format:t?"name":"hex8"}:(n=ii.hex3.exec(e),n?{r:wr(n[1]+n[1]),g:wr(n[2]+n[2]),b:wr(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Gi(e){return!!ii.CSS_UNIT.exec(String(e))}var kD=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=PD(t)),this.originalInput=t;var i=SD(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,i,a=t.r/255,s=t.g/255,l=t.b/255;return a<=.03928?n=a/12.92:n=Math.pow((a+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),l<=.03928?i=l/12.92:i=Math.pow((l+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=fy(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=W3(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=W3(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=z3(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=z3(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),U3(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),MD(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(On(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(On(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+U3(this.r,this.g,this.b,!1),n=0,r=Object.entries(Kh);n<r.length;n++){var i=r[n],a=i[0],s=i[1];if(t===s)return a}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,i=this.a<1&&this.a>=0,a=!n&&i&&(t.startsWith("hex")||t==="name");return a?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=Dc(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=Dc(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=Dc(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=Dc(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),a=n/100,s={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return new e(s)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,a=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,a=n.v,s=[],l=1/t;t--;)s.push(new e({h:r,s:i,v:a})),a=(a+l)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),i=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],a=360/t,s=1;s<t;s++)i.push(new e({h:(r+s*a)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function ka(e,t=20){return e.mix("#141414",t).toString()}function OD(e){const t=xl(),n=Gt("button");return ie(()=>{let r={};const i=e.color;if(i){const a=new kD(i),s=e.dark?a.tint(20).toString():ka(a,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?ka(a,90):a.tint(90).toString(),"text-color":i,"border-color":e.dark?ka(a,50):a.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":s,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":s}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?ka(a,90):a.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?ka(a,50):a.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?ka(a,80):a.tint(80).toString());else{const l=e.dark?ka(a,30):a.tint(30).toString(),u=a.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":i,"text-color":u,"border-color":i,"hover-bg-color":l,"hover-text-color":u,"hover-border-color":l,"active-bg-color":s,"active-border-color":s}),t.value){const c=e.dark?ka(a,50):a.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=c,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=c}}}return r})}const ND=ot({name:"ElButton"}),ID=ot({...ND,props:Gh,emits:mD,setup(e,{expose:t,emit:n}){const r=e,i=OD(r),a=Gt("button"),{_ref:s,_size:l,_type:u,_disabled:c,_props:f,shouldAddSpace:h,handleClick:p}=pD(r,n);return t({ref:s,size:l,type:u,disabled:c,shouldAddSpace:h}),(m,v)=>(re(),qe(ar(m.tag),Si({ref_key:"_ref",ref:s},T(f),{class:[T(a).b(),T(a).m(T(u)),T(a).m(T(l)),T(a).is("disabled",T(c)),T(a).is("loading",m.loading),T(a).is("plain",m.plain),T(a).is("round",m.round),T(a).is("circle",m.circle),T(a).is("text",m.text),T(a).is("link",m.link),T(a).is("has-bg",m.bg)],style:T(i),onClick:T(p)}),{default:Oe(()=>[m.loading?(re(),Le(Ct,{key:0},[m.$slots.loading?Rt(m.$slots,"loading",{key:0}):(re(),qe(T(zn),{key:1,class:Re(T(a).is("loading"))},{default:Oe(()=>[(re(),qe(ar(m.loadingIcon)))]),_:1},8,["class"]))],64)):m.icon||m.$slots.icon?(re(),qe(T(zn),{key:1},{default:Oe(()=>[m.icon?(re(),qe(ar(m.icon),{key:0})):Rt(m.$slots,"icon",{key:1})]),_:3})):Ke("v-if",!0),m.$slots.default?(re(),Le("span",{key:2,class:Re({[T(a).em("text","expand")]:T(h)})},[Rt(m.$slots,"default")],2)):Ke("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var LD=qt(ID,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const $D={size:Gh.size,type:Gh.type},BD=ot({name:"ElButtonGroup"}),RD=ot({...BD,props:$D,setup(e){const t=e;Jn(uy,Cn({size:Yn(t,"size"),type:Yn(t,"type")}));const n=Gt("button");return(r,i)=>(re(),Le("div",{class:Re(`${T(n).b("group")}`)},[Rt(r.$slots,"default")],2))}});var dy=qt(RD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const FD=Gr(LD,{ButtonGroup:dy});np(dy);const _o=4,HD={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},DD=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),hy=Symbol("scrollbarContextKey"),zD=Zt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),WD="Thumb",UD=ot({__name:"thumb",props:zD,setup(e){const t=e,n=kt(hy),r=Gt("scrollbar");n||Z1(WD,"can not inject scrollbar context");const i=Se(),a=Se(),s=Se({}),l=Se(!1);let u=!1,c=!1,f=Xn?document.onselectstart:null;const h=ie(()=>HD[t.vertical?"vertical":"horizontal"]),p=ie(()=>DD({size:t.size,move:t.move,bar:h.value})),m=ie(()=>i.value[h.value.offset]**2/n.wrapElement[h.value.scrollSize]/t.ratio/a.value[h.value.offset]),v=P=>{var A;if(P.stopPropagation(),P.ctrlKey||[1,2].includes(P.button))return;(A=window.getSelection())==null||A.removeAllRanges(),w(P);const k=P.currentTarget;k&&(s.value[h.value.axis]=k[h.value.offset]-(P[h.value.client]-k.getBoundingClientRect()[h.value.direction]))},b=P=>{if(!a.value||!i.value||!n.wrapElement)return;const A=Math.abs(P.target.getBoundingClientRect()[h.value.direction]-P[h.value.client]),k=a.value[h.value.offset]/2,B=(A-k)*100*m.value/i.value[h.value.offset];n.wrapElement[h.value.scroll]=B*n.wrapElement[h.value.scrollSize]/100},w=P=>{P.stopImmediatePropagation(),u=!0,document.addEventListener("mousemove",x),document.addEventListener("mouseup",C),f=document.onselectstart,document.onselectstart=()=>!1},x=P=>{if(!i.value||!a.value||u===!1)return;const A=s.value[h.value.axis];if(!A)return;const k=(i.value.getBoundingClientRect()[h.value.direction]-P[h.value.client])*-1,B=a.value[h.value.offset]-A,F=(k-B)*100*m.value/i.value[h.value.offset];n.wrapElement[h.value.scroll]=F*n.wrapElement[h.value.scrollSize]/100},C=()=>{u=!1,s.value[h.value.axis]=0,document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",C),M(),c&&(l.value=!1)},S=()=>{c=!1,l.value=!!t.size},_=()=>{c=!0,l.value=u};ur(()=>{M(),document.removeEventListener("mouseup",C)});const M=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return As(Yn(n,"scrollbarElement"),"mousemove",S),As(Yn(n,"scrollbarElement"),"mouseleave",_),(P,A)=>(re(),qe(qa,{name:T(r).b("fade"),persisted:""},{default:Oe(()=>[ui(Ae("div",{ref_key:"instance",ref:i,class:Re([T(r).e("bar"),T(r).is(T(h).key)]),onMousedown:b},[Ae("div",{ref_key:"thumb",ref:a,class:Re(T(r).e("thumb")),style:Wt(T(p)),onMousedown:v},null,38)],34),[[qo,P.always||l.value]])]),_:1},8,["name"]))}});var q3=qt(UD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const VD=Zt({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),qD=ot({__name:"bar",props:VD,setup(e,{expose:t}){const n=e,r=Se(0),i=Se(0);return t({handleScroll:s=>{if(s){const l=s.offsetHeight-_o,u=s.offsetWidth-_o;i.value=s.scrollTop*100/l*n.ratioY,r.value=s.scrollLeft*100/u*n.ratioX}}}),(s,l)=>(re(),Le(Ct,null,[Pe(q3,{move:r.value,ratio:s.ratioX,size:s.width,always:s.always},null,8,["move","ratio","size","always"]),Pe(q3,{move:i.value,ratio:s.ratioY,size:s.height,vertical:"",always:s.always},null,8,["move","ratio","size","always"])],64))}});var jD=qt(qD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const GD=Zt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ut([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),KD={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(Vt)},YD="ElScrollbar",XD=ot({name:YD}),JD=ot({...XD,props:GD,emits:KD,setup(e,{expose:t,emit:n}){const r=e,i=Gt("scrollbar");let a,s;const l=Se(),u=Se(),c=Se(),f=Se("0"),h=Se("0"),p=Se(),m=Se(1),v=Se(1),b=ie(()=>{const A={};return r.height&&(A.height=cl(r.height)),r.maxHeight&&(A.maxHeight=cl(r.maxHeight)),[r.wrapStyle,A]}),w=ie(()=>[r.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!r.native}]),x=ie(()=>[i.e("view"),r.viewClass]),C=()=>{var A;u.value&&((A=p.value)==null||A.handleScroll(u.value),n("scroll",{scrollTop:u.value.scrollTop,scrollLeft:u.value.scrollLeft}))};function S(A,k){Ot(A)?u.value.scrollTo(A):Vt(A)&&Vt(k)&&u.value.scrollTo(A,k)}const _=A=>{Vt(A)&&(u.value.scrollTop=A)},M=A=>{Vt(A)&&(u.value.scrollLeft=A)},P=()=>{if(!u.value)return;const A=u.value.offsetHeight-_o,k=u.value.offsetWidth-_o,B=A**2/u.value.scrollHeight,F=k**2/u.value.scrollWidth,U=Math.max(B,r.minSize),R=Math.max(F,r.minSize);m.value=B/(A-B)/(U/(A-U)),v.value=F/(k-F)/(R/(k-R)),h.value=U+_o<A?`${U}px`:"",f.value=R+_o<k?`${R}px`:""};return Ue(()=>r.noresize,A=>{A?(a==null||a(),s==null||s()):({stop:a}=tf(c,P),s=As("resize",P))},{immediate:!0}),Ue(()=>[r.maxHeight,r.height],()=>{r.native||Et(()=>{var A;P(),u.value&&((A=p.value)==null||A.handleScroll(u.value))})}),Jn(hy,Cn({scrollbarElement:l,wrapElement:u})),Kt(()=>{r.native||Et(()=>{P()})}),$1(()=>P()),t({wrapRef:u,update:P,scrollTo:S,setScrollTop:_,setScrollLeft:M,handleScroll:C}),(A,k)=>(re(),Le("div",{ref_key:"scrollbarRef",ref:l,class:Re(T(i).b())},[Ae("div",{ref_key:"wrapRef",ref:u,class:Re(T(w)),style:Wt(T(b)),onScroll:C},[(re(),qe(ar(A.tag),{ref_key:"resizeRef",ref:c,class:Re(T(x)),style:Wt(A.viewStyle)},{default:Oe(()=>[Rt(A.$slots,"default")]),_:3},8,["class","style"]))],38),A.native?Ke("v-if",!0):(re(),qe(jD,{key:0,ref_key:"barRef",ref:p,height:h.value,width:f.value,always:A.always,"ratio-x":v.value,"ratio-y":m.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var QD=qt(JD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const ZD=Gr(QD),ez=ot({inheritAttrs:!1});function tz(e,t,n,r,i,a){return Rt(e.$slots,"default")}var nz=qt(ez,[["render",tz],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const rz=ot({name:"ElCollectionItem",inheritAttrs:!1});function iz(e,t,n,r,i,a){return Rt(e.$slots,"default")}var az=qt(rz,[["render",iz],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const sz="data-el-collection-item",oz=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),i=Symbol(n),a={...nz,name:t,setup(){const l=Se(null),u=new Map;Jn(r,{itemMap:u,getItems:()=>{const f=T(l);if(!f)return[];const h=Array.from(f.querySelectorAll(`[${sz}]`));return[...u.values()].sort((m,v)=>h.indexOf(m.ref)-h.indexOf(v.ref))},collectionRef:l})}},s={...az,name:n,setup(l,{attrs:u}){const c=Se(null),f=kt(r,void 0);Jn(i,{collectionItemRef:c}),Kt(()=>{const h=T(c);h&&f.itemMap.set(h,{ref:h,...u})}),ur(()=>{const h=T(c);f.itemMap.delete(h)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:a,ElCollectionItem:s}},Xd=Zt({trigger:hl.trigger,effect:{...Cr.effect,default:"light"},type:{type:ut(String)},placement:{type:ut(String),default:"bottom"},popperOptions:{type:ut(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:ut([Number,String]),default:0},maxHeight:{type:ut([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:ut(Object)},teleported:Cr.teleported});Zt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:sa}});Zt({onKeydown:{type:ut(Function)}});oz("Dropdown");const lz=Zt({trigger:hl.trigger,placement:Xd.placement,disabled:hl.disabled,visible:Cr.visible,transition:Cr.transition,popperOptions:Xd.popperOptions,tabindex:Xd.tabindex,content:Cr.content,popperStyle:Cr.popperStyle,popperClass:Cr.popperClass,enterable:{...Cr.enterable,default:!0},effect:{...Cr.effect,default:"light"},teleported:Cr.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),cz={"update:visible":e=>ks(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},uz="onUpdate:visible",fz=ot({name:"ElPopover"}),dz=ot({...fz,props:lz,emits:cz,setup(e,{expose:t,emit:n}){const r=e,i=ie(()=>r[uz]),a=Gt("popover"),s=Se(),l=ie(()=>{var w;return(w=T(s))==null?void 0:w.popperRef}),u=ie(()=>[{width:cl(r.width)},r.popperStyle]),c=ie(()=>[a.b(),r.popperClass,{[a.m("plain")]:!!r.content}]),f=ie(()=>r.transition===`${a.namespace.value}-fade-in-linear`),h=()=>{var w;(w=s.value)==null||w.hide()},p=()=>{n("before-enter")},m=()=>{n("before-leave")},v=()=>{n("after-enter")},b=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:l,hide:h}),(w,x)=>(re(),qe(T(_p),Si({ref_key:"tooltipRef",ref:s},w.$attrs,{trigger:w.trigger,placement:w.placement,disabled:w.disabled,visible:w.visible,transition:w.transition,"popper-options":w.popperOptions,tabindex:w.tabindex,content:w.content,offset:w.offset,"show-after":w.showAfter,"hide-after":w.hideAfter,"auto-close":w.autoClose,"show-arrow":w.showArrow,"aria-label":w.title,effect:w.effect,enterable:w.enterable,"popper-class":T(c),"popper-style":T(u),teleported:w.teleported,persistent:w.persistent,"gpu-acceleration":T(f),"onUpdate:visible":T(i),onBeforeShow:p,onBeforeHide:m,onShow:v,onHide:b}),{content:Oe(()=>[w.title?(re(),Le("div",{key:0,class:Re(T(a).e("title")),role:"title"},cn(w.title),3)):Ke("v-if",!0),Rt(w.$slots,"default",{},()=>[bn(cn(w.content),1)])]),default:Oe(()=>[w.$slots.reference?Rt(w.$slots,"reference",{key:0}):Ke("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var hz=qt(dz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const j3=(e,t)=>{const n=t.arg||t.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=e)};var pz={mounted(e,t){j3(e,t)},updated(e,t){j3(e,t)}};const gz="popover",vz=TB(pz,gz),mz=Gr(hz,{directive:vz}),xp=ot({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t,attrs:n}){const r=Se(!1);return Kt(()=>{r.value=!0}),i=>{var u;if(r.value)return(u=t.default)==null?void 0:u.call(t);const a=t.fallback||t.placeholder;if(a)return a();const s=i.fallback||i.placeholder||"",l=i.fallbackTag||i.placeholderTag||"span";return Le(l,n,s)}}}),py=Zt({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:rp,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),bz={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},yz=ot({name:"ElTag"}),wz=ot({...yz,props:py,emits:bz,setup(e,{emit:t}){const n=e,r=Ws(),i=Gt("tag"),a=ie(()=>{const{type:u,hit:c,effect:f,closable:h,round:p}=n;return[i.b(),i.is("closable",h),i.m(u),i.m(r.value),i.m(f),i.is("hit",c),i.is("round",p)]}),s=u=>{t("close",u)},l=u=>{t("click",u)};return(u,c)=>u.disableTransitions?(re(),Le("span",{key:0,class:Re(T(a)),style:Wt({backgroundColor:u.color}),onClick:l},[Ae("span",{class:Re(T(i).e("content"))},[Rt(u.$slots,"default")],2),u.closable?(re(),qe(T(zn),{key:0,class:Re(T(i).e("close")),onClick:Hn(s,["stop"])},{default:Oe(()=>[Pe(T(f3))]),_:1},8,["class","onClick"])):Ke("v-if",!0)],6)):(re(),qe(qa,{key:1,name:`${T(i).namespace.value}-zoom-in-center`,appear:""},{default:Oe(()=>[Ae("span",{class:Re(T(a)),style:Wt({backgroundColor:u.color}),onClick:l},[Ae("span",{class:Re(T(i).e("content"))},[Rt(u.$slots,"default")],2),u.closable?(re(),qe(T(zn),{key:0,class:Re(T(i).e("close")),onClick:Hn(s,["stop"])},{default:Oe(()=>[Pe(T(f3))]),_:1},8,["class","onClick"])):Ke("v-if",!0)],6)]),_:3},8,["name"]))}});var _z=qt(wz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const xz=Gr(_z),gy=Symbol("ElSelectGroup"),cf=Symbol("ElSelect");function Mz(e,t){const n=kt(cf),r=kt(gy,{disabled:!1}),i=ie(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),a=ie(()=>n.props.multiple?h(n.props.modelValue,e.value):p(e.value,n.props.modelValue)),s=ie(()=>{if(n.props.multiple){const b=n.props.modelValue||[];return!a.value&&b.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),l=ie(()=>e.label||(i.value?"":e.value)),u=ie(()=>e.value||e.label||""),c=ie(()=>e.disabled||t.groupDisabled||s.value),f=Ln(),h=(b=[],w)=>{if(i.value){const x=n.props.valueKey;return b&&b.some(C=>mt(Rr(C,x))===Rr(w,x))}else return b&&b.includes(w)},p=(b,w)=>{if(i.value){const{valueKey:x}=n.props;return Rr(b,x)===Rr(w,x)}else return b===w},m=()=>{!e.disabled&&!r.disabled&&(n.hoverIndex=n.optionsArray.indexOf(f.proxy))};Ue(()=>l.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),Ue(()=>e.value,(b,w)=>{const{remote:x,valueKey:C}=n.props;if(Object.is(b,w)||(n.onOptionDestroy(w,f.proxy),n.onOptionCreate(f.proxy)),!e.created&&!x){if(C&&typeof b=="object"&&typeof w=="object"&&b[C]===w[C])return;n.setSelected()}}),Ue(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0});const{queryChange:v}=mt(n);return Ue(v,b=>{const{query:w}=T(b),x=new RegExp(m$(w),"i");t.visible=x.test(l.value)||e.created,t.visible||n.filteredOptionsCount--},{immediate:!0}),{select:n,currentLabel:l,currentValue:u,itemSelected:a,isDisabled:c,hoverItem:m}}const Cz=ot({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=Gt("select"),n=Cn({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:r,itemSelected:i,isDisabled:a,select:s,hoverItem:l}=Mz(e,n),{visible:u,hover:c}=Ls(n),f=Ln().proxy;s.onOptionCreate(f),ur(()=>{const p=f.value,{selected:m}=s,b=(s.props.multiple?m:[m]).some(w=>w.value===f.value);Et(()=>{s.cachedOptions.get(p)===f&&!b&&s.cachedOptions.delete(p)}),s.onOptionDestroy(p,f)});function h(){e.disabled!==!0&&n.groupDisabled!==!0&&s.handleOptionSelect(f,!0)}return{ns:t,currentLabel:r,itemSelected:i,isDisabled:a,select:s,hoverItem:l,visible:u,hover:c,selectOptionClick:h,states:n}}});function Pz(e,t,n,r,i,a){return ui((re(),Le("li",{class:Re([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:t[0]||(t[0]=(...s)=>e.hoverItem&&e.hoverItem(...s)),onClick:t[1]||(t[1]=Hn((...s)=>e.selectOptionClick&&e.selectOptionClick(...s),["stop"]))},[Rt(e.$slots,"default",{},()=>[Ae("span",null,cn(e.currentLabel),1)])],34)),[[qo,e.visible]])}var Mp=qt(Cz,[["render",Pz],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Sz=ot({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=kt(cf),t=Gt("select"),n=ie(()=>e.props.popperClass),r=ie(()=>e.props.multiple),i=ie(()=>e.props.fitInputWidth),a=Se("");function s(){var l;a.value=`${(l=e.selectWrapper)==null?void 0:l.offsetWidth}px`}return Kt(()=>{s(),tf(e.selectWrapper,s)}),{ns:t,minWidth:a,popperClass:n,isMultiple:r,isFitInputWidth:i}}});function Tz(e,t,n,r,i,a){return re(),Le("div",{class:Re([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Wt({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[Rt(e.$slots,"default")],6)}var Ez=qt(Sz,[["render",Tz],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Az(e){const{t}=yl();return Cn({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}const kz=(e,t,n)=>{const{t:r}=yl(),i=Gt("select");ip({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},ie(()=>e.suffixTransition===!1));const a=Se(null),s=Se(null),l=Se(null),u=Se(null),c=Se(null),f=Se(null),h=Se(null),p=Se(-1),m=Ts({query:""}),v=Ts(""),b=Se([]);let w=0;const{form:x,formItem:C}=Jo(),S=ie(()=>!e.filterable||e.multiple||!t.visible),_=ie(()=>e.disabled||(x==null?void 0:x.disabled)),M=ie(()=>{const ee=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!_.value&&t.inputHovering&&ee}),P=ie(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),A=ie(()=>i.is("reverse",P.value&&t.visible&&e.suffixTransition)),k=ie(()=>e.remote?300:0),B=ie(()=>e.loading?e.loadingText||r("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||r("el.select.noMatch"):t.options.size===0?e.noDataText||r("el.select.noData"):null),F=ie(()=>{const ee=Array.from(t.options.values()),ye=[];return b.value.forEach(je=>{const it=ee.findIndex(Ft=>Ft.currentLabel===je);it>-1&&ye.push(ee[it])}),ye.length?ye:ee}),U=ie(()=>Array.from(t.cachedOptions.values())),R=ie(()=>{const ee=F.value.filter(ye=>!ye.created).some(ye=>ye.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!ee}),L=Ws(),D=ie(()=>["small"].includes(L.value)?"small":"default"),q=ie({get(){return t.visible&&B.value!==!1},set(ee){t.visible=ee}});Ue([()=>_.value,()=>L.value,()=>x==null?void 0:x.size],()=>{Et(()=>{N()})}),Ue(()=>e.placeholder,ee=>{t.cachedPlaceHolder=t.currentPlaceholder=ee}),Ue(()=>e.modelValue,(ee,ye)=>{e.multiple&&(N(),ee&&ee.length>0||s.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",O(t.query))),ne(),e.filterable&&!e.multiple&&(t.inputLength=20),!u3(ee,ye)&&e.validateEvent&&(C==null||C.validate("change").catch(je=>void 0))},{flush:"post",deep:!0}),Ue(()=>t.visible,ee=>{var ye,je,it,Ft,G;ee?((je=(ye=u.value)==null?void 0:ye.updatePopper)==null||je.call(ye),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,(Ft=(it=l.value)==null?void 0:it.focus)==null||Ft.call(it),e.multiple?(G=s.value)==null||G.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),O(t.query),!e.multiple&&!e.remote&&(m.value.query="",b0(m),b0(v)))):(e.filterable&&(Je(e.filterMethod)&&e.filterMethod(""),Je(e.remoteMethod)&&e.remoteMethod("")),s.value&&s.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,ae(),Et(()=>{s.value&&s.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),n.emit("visible-change",ee)}),Ue(()=>t.options.entries(),()=>{var ee,ye,je;if(!Xn)return;(ye=(ee=u.value)==null?void 0:ee.updatePopper)==null||ye.call(ee),e.multiple&&N();const it=((je=f.value)==null?void 0:je.querySelectorAll("input"))||[];Array.from(it).includes(document.activeElement)||ne(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&V()},{flush:"post"}),Ue(()=>t.hoverIndex,ee=>{Vt(ee)&&ee>-1?p.value=F.value[ee]||{}:p.value={},F.value.forEach(ye=>{ye.hover=p.value===ye})});const N=()=>{Et(()=>{var ee,ye;if(!a.value)return;const je=a.value.$el.querySelector("input");w=w||(je.clientHeight>0?je.clientHeight+2:0);const it=c.value,Ft=AB(L.value||(x==null?void 0:x.size)),G=L.value||Ft===w||w<=0?Ft:w;!(je.offsetParent===null)&&(je.style.height=`${(t.selected.length===0?G:Math.max(it?it.clientHeight+(it.clientHeight>G?6:0):0,G))-2}px`),t.tagInMultiLine=Number.parseFloat(je.style.height)>=G,t.visible&&B.value!==!1&&((ye=(ee=u.value)==null?void 0:ee.updatePopper)==null||ye.call(ee))})},O=async ee=>{if(!(t.previousQuery===ee||t.isOnComposition)){if(t.previousQuery===null&&(Je(e.filterMethod)||Je(e.remoteMethod))){t.previousQuery=ee;return}t.previousQuery=ee,Et(()=>{var ye,je;t.visible&&((je=(ye=u.value)==null?void 0:ye.updatePopper)==null||je.call(ye))}),t.hoverIndex=-1,e.multiple&&e.filterable&&Et(()=>{const ye=s.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,ye):ye,H(),N()}),e.remote&&Je(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(ee)):Je(e.filterMethod)?(e.filterMethod(ee),b0(v)):(t.filteredOptionsCount=t.optionsCount,m.value.query=ee,b0(m),b0(v)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await Et(),V())}},H=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=s.value.value?"":t.cachedPlaceHolder)},V=()=>{const ee=F.value.filter(it=>it.visible&&!it.disabled&&!it.states.groupDisabled),ye=ee.find(it=>it.created),je=ee[0];t.hoverIndex=j(F.value,ye||je)},ne=()=>{var ee;if(e.multiple)t.selectedLabel="";else{const je=_e(e.modelValue);(ee=je.props)!=null&&ee.created?(t.createdLabel=je.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=je.currentLabel,t.selected=je,e.filterable&&(t.query=t.selectedLabel);return}const ye=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(je=>{ye.push(_e(je))}),t.selected=ye,Et(()=>{N()})},_e=ee=>{let ye;const je=ru(ee).toLowerCase()==="object",it=ru(ee).toLowerCase()==="null",Ft=ru(ee).toLowerCase()==="undefined";for(let oe=t.cachedOptions.size-1;oe>=0;oe--){const ue=U.value[oe];if(je?Rr(ue.value,e.valueKey)===Rr(ee,e.valueKey):ue.value===ee){ye={value:ee,currentLabel:ue.currentLabel,isDisabled:ue.isDisabled};break}}if(ye)return ye;const G=je?ee.label:!it&&!Ft?ee:"",le={value:ee,currentLabel:G};return e.multiple&&(le.hitState=!1),le},ae=()=>{setTimeout(()=>{const ee=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(ye=>F.value.findIndex(je=>Rr(je,ee)===Rr(ye,ee)))):t.hoverIndex=-1:t.hoverIndex=F.value.findIndex(ye=>At(ye)===At(t.selected))},300)},Ne=()=>{var ee,ye;He(),(ye=(ee=u.value)==null?void 0:ee.updatePopper)==null||ye.call(ee),e.multiple&&N()},He=()=>{var ee;t.inputWidth=(ee=a.value)==null?void 0:ee.$el.offsetWidth},$e=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,O(t.query))},Ce=Eu(()=>{$e()},k.value),Ie=Eu(ee=>{O(ee.target.value)},k.value),xe=ee=>{u3(e.modelValue,ee)||n.emit(oa,ee)},rt=ee=>{if(ee.code!==Rs.delete){if(ee.target.value.length<=0&&!ve()){const ye=e.modelValue.slice();ye.pop(),n.emit(rn,ye),xe(ye)}ee.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}},De=(ee,ye)=>{const je=t.selected.indexOf(ye);if(je>-1&&!_.value){const it=e.modelValue.slice();it.splice(je,1),n.emit(rn,it),xe(it),n.emit("remove-tag",ye.value)}ee.stopPropagation()},Ve=ee=>{ee.stopPropagation();const ye=e.multiple?[]:"";if(!_t(ye))for(const je of t.selected)je.isDisabled&&ye.push(je.value);n.emit(rn,ye),xe(ye),t.hoverIndex=-1,t.visible=!1,n.emit("clear")},z=(ee,ye)=>{var je;if(e.multiple){const it=(e.modelValue||[]).slice(),Ft=j(it,ee.value);Ft>-1?it.splice(Ft,1):(e.multipleLimit<=0||it.length<e.multipleLimit)&&it.push(ee.value),n.emit(rn,it),xe(it),ee.created&&(t.query="",O(""),t.inputLength=20),e.filterable&&((je=s.value)==null||je.focus())}else n.emit(rn,ee.value),xe(ee.value),t.visible=!1;t.isSilentBlur=ye,Q(),!t.visible&&Et(()=>{fe(ee)})},j=(ee=[],ye)=>{if(!Ot(ye))return ee.indexOf(ye);const je=e.valueKey;let it=-1;return ee.some((Ft,G)=>mt(Rr(Ft,je))===Rr(ye,je)?(it=G,!0):!1),it},Q=()=>{t.softFocus=!0;const ee=s.value||a.value;ee&&(ee==null||ee.focus())},fe=ee=>{var ye,je,it,Ft,G;const le=Array.isArray(ee)?ee[0]:ee;let oe=null;if(le!=null&&le.value){const ue=F.value.filter(pe=>pe.value===le.value);ue.length>0&&(oe=ue[0].$el)}if(u.value&&oe){const ue=(Ft=(it=(je=(ye=u.value)==null?void 0:ye.popperRef)==null?void 0:je.contentRef)==null?void 0:it.querySelector)==null?void 0:Ft.call(it,`.${i.be("dropdown","wrap")}`);ue&&y$(ue,oe)}(G=h.value)==null||G.handleScroll()},de=ee=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(ee.value,ee),t.cachedOptions.set(ee.value,ee)},be=(ee,ye)=>{t.options.get(ee)===ye&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(ee))},Ee=ee=>{ee.code!==Rs.backspace&&ve(!1),t.inputLength=s.value.value.length*15+20,N()},ve=ee=>{if(!Array.isArray(t.selected))return;const ye=t.selected[t.selected.length-1];if(ye)return ee===!0||ee===!1?(ye.hitState=ee,ee):(ye.hitState=!ye.hitState,ye.hitState)},Z=ee=>{const ye=ee.target.value;if(ee.type==="compositionend")t.isOnComposition=!1,Et(()=>O(ye));else{const je=ye[ye.length-1]||"";t.isOnComposition=!R4(je)}},se=()=>{Et(()=>fe(t.selected))},Fe=ee=>{t.softFocus?t.softFocus=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),n.emit("focus",ee))},Te=()=>{var ee,ye,je;t.visible=!1,(ee=a.value)==null||ee.blur(),(je=(ye=l.value)==null?void 0:ye.blur)==null||je.call(ye)},te=ee=>{Et(()=>{t.isSilentBlur?t.isSilentBlur=!1:n.emit("blur",ee)}),t.softFocus=!1},ke=ee=>{Ve(ee)},We=()=>{t.visible=!1},Qe=ee=>{t.visible&&(ee.preventDefault(),ee.stopPropagation(),t.visible=!1)},Ze=ee=>{var ye;ee&&!t.mouseEnter||_.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:(!u.value||!u.value.isFocusInsideContent())&&(t.visible=!t.visible),t.visible&&((ye=s.value||a.value)==null||ye.focus()))},bt=()=>{t.visible?F.value[t.hoverIndex]&&z(F.value[t.hoverIndex],void 0):Ze()},At=ee=>Ot(ee.value)?Rr(ee.value,e.valueKey):ee.value,Yt=ie(()=>F.value.filter(ee=>ee.visible).every(ee=>ee.disabled)),an=ie(()=>t.selected.slice(0,e.maxCollapseTags)),zt=ie(()=>t.selected.slice(e.maxCollapseTags)),Pt=ee=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!Yt.value){ee==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):ee==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const ye=F.value[t.hoverIndex];(ye.disabled===!0||ye.states.groupDisabled===!0||!ye.visible)&&Pt(ee),Et(()=>fe(p.value))}};return{optionList:b,optionsArray:F,selectSize:L,handleResize:Ne,debouncedOnInputChange:Ce,debouncedQueryChange:Ie,deletePrevTag:rt,deleteTag:De,deleteSelected:Ve,handleOptionSelect:z,scrollToOption:fe,readonly:S,resetInputHeight:N,showClose:M,iconComponent:P,iconReverse:A,showNewOption:R,collapseTagSize:D,setSelected:ne,managePlaceholder:H,selectDisabled:_,emptyText:B,toggleLastOptionHitState:ve,resetInputState:Ee,handleComposition:Z,onOptionCreate:de,onOptionDestroy:be,handleMenuEnter:se,handleFocus:Fe,blur:Te,handleBlur:te,handleClearClick:ke,handleClose:We,handleKeydownEscape:Qe,toggleMenu:Ze,selectOption:bt,getValueKey:At,navigateOptions:Pt,dropMenuVisible:q,queryChange:m,groupQueryChange:v,showTagList:an,collapseTagList:zt,reference:a,input:s,iOSInput:l,tooltipRef:u,tags:c,selectWrapper:f,scrollbar:h,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var Oz=ot({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:n}){let r=[];function i(a,s){if(a.length!==s.length)return!1;for(const[l]of a.entries())if(a[l]!=s[l])return!1;return!0}return()=>{var a,s;const l=(a=t.default)==null?void 0:a.call(t),u=[];function c(f){Array.isArray(f)&&f.forEach(h=>{var p,m,v,b;const w=(p=(h==null?void 0:h.type)||{})==null?void 0:p.name;w==="ElOptionGroup"?c(!_t(h.children)&&!Array.isArray(h.children)&&Je((m=h.children)==null?void 0:m.default)?(v=h.children)==null?void 0:v.default():h.children):w==="ElOption"?u.push((b=h.props)==null?void 0:b.label):Array.isArray(h.children)&&c(h.children)})}return l.length&&c((s=l[0])==null?void 0:s.children),i(u,r)||(r=u,n("update-options",u)),l}}});const G3="ElSelect",Nz=ot({name:G3,componentName:G3,components:{ElInput:vp,ElSelectMenu:Ez,ElOption:Mp,ElOptions:Oz,ElTag:xz,ElScrollbar:ZD,ElTooltip:_p,ElIcon:zn},directives:{ClickOutside:MF},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:B4},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:Cr.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:sa,default:ep},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:sa,default:L4},tagType:{...py.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Xo,default:"bottom-start"}},emits:[rn,oa,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const n=Gt("select"),r=Gt("input"),{t:i}=yl(),a=Az(e),{optionList:s,optionsArray:l,selectSize:u,readonly:c,handleResize:f,collapseTagSize:h,debouncedOnInputChange:p,debouncedQueryChange:m,deletePrevTag:v,deleteTag:b,deleteSelected:w,handleOptionSelect:x,scrollToOption:C,setSelected:S,resetInputHeight:_,managePlaceholder:M,showClose:P,selectDisabled:A,iconComponent:k,iconReverse:B,showNewOption:F,emptyText:U,toggleLastOptionHitState:R,resetInputState:L,handleComposition:D,onOptionCreate:q,onOptionDestroy:N,handleMenuEnter:O,handleFocus:H,blur:V,handleBlur:ne,handleClearClick:_e,handleClose:ae,handleKeydownEscape:Ne,toggleMenu:He,selectOption:$e,getValueKey:Ce,navigateOptions:Ie,dropMenuVisible:xe,reference:rt,input:De,iOSInput:Ve,tooltipRef:z,tags:j,selectWrapper:Q,scrollbar:fe,queryChange:de,groupQueryChange:be,handleMouseEnter:Ee,handleMouseLeave:ve,showTagList:Z,collapseTagList:se}=kz(e,a,t),{focus:Fe}=LB(rt),{inputWidth:Te,selected:te,inputLength:ke,filteredOptionsCount:We,visible:Qe,softFocus:Ze,selectedLabel:bt,hoverIndex:At,query:Yt,inputHovering:an,currentPlaceholder:zt,menuVisibleOnFocus:Pt,isOnComposition:ht,isSilentBlur:pt,options:ee,cachedOptions:ye,optionsCount:je,prefixWidth:it,tagInMultiLine:Ft}=Ls(a),G=ie(()=>{const Be=[n.b()],et=T(u);return et&&Be.push(n.m(et)),e.disabled&&Be.push(n.m("disabled")),Be}),le=ie(()=>({maxWidth:`${T(Te)-32}px`,width:"100%"})),oe=ie(()=>({maxWidth:`${T(Te)>123?T(Te)-123:T(Te)-75}px`}));Jn(cf,Cn({props:e,options:ee,optionsArray:l,cachedOptions:ye,optionsCount:je,filteredOptionsCount:We,hoverIndex:At,handleOptionSelect:x,onOptionCreate:q,onOptionDestroy:N,selectWrapper:Q,selected:te,setSelected:S,queryChange:de,groupQueryChange:be})),Kt(()=>{a.cachedPlaceHolder=zt.value=e.placeholder||(()=>i("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(zt.value=""),tf(Q,f),e.remote&&e.multiple&&_(),Et(()=>{const Be=rt.value&&rt.value.$el;if(Be&&(Te.value=Be.getBoundingClientRect().width,t.slots.prefix)){const et=Be.querySelector(`.${r.e("prefix")}`);it.value=Math.max(et.getBoundingClientRect().width+5,30)}}),S()}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(rn,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(rn,"");const ue=ie(()=>{var Be,et;return(et=(Be=z.value)==null?void 0:Be.popperRef)==null?void 0:et.contentRef});return{isIOS:w4,onOptionsRendered:Be=>{s.value=Be},tagInMultiLine:Ft,prefixWidth:it,selectSize:u,readonly:c,handleResize:f,collapseTagSize:h,debouncedOnInputChange:p,debouncedQueryChange:m,deletePrevTag:v,deleteTag:b,deleteSelected:w,handleOptionSelect:x,scrollToOption:C,inputWidth:Te,selected:te,inputLength:ke,filteredOptionsCount:We,visible:Qe,softFocus:Ze,selectedLabel:bt,hoverIndex:At,query:Yt,inputHovering:an,currentPlaceholder:zt,menuVisibleOnFocus:Pt,isOnComposition:ht,isSilentBlur:pt,options:ee,resetInputHeight:_,managePlaceholder:M,showClose:P,selectDisabled:A,iconComponent:k,iconReverse:B,showNewOption:F,emptyText:U,toggleLastOptionHitState:R,resetInputState:L,handleComposition:D,handleMenuEnter:O,handleFocus:H,blur:V,handleBlur:ne,handleClearClick:_e,handleClose:ae,handleKeydownEscape:Ne,toggleMenu:He,selectOption:$e,getValueKey:Ce,navigateOptions:Ie,dropMenuVisible:xe,focus:Fe,reference:rt,input:De,iOSInput:Ve,tooltipRef:z,popperPaneRef:ue,tags:j,selectWrapper:Q,scrollbar:fe,wrapperKls:G,selectTagsStyle:le,nsSelect:n,tagTextStyle:oe,handleMouseEnter:Ee,handleMouseLeave:ve,showTagList:Z,collapseTagList:se}}}),Iz=["disabled","autocomplete"],Lz=["disabled"],$z={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function Bz(e,t,n,r,i,a){const s=Sa("el-tag"),l=Sa("el-tooltip"),u=Sa("el-icon"),c=Sa("el-input"),f=Sa("el-option"),h=Sa("el-options"),p=Sa("el-scrollbar"),m=Sa("el-select-menu"),v=nT("click-outside");return ui((re(),Le("div",{ref:"selectWrapper",class:Re(e.wrapperKls),onMouseenter:t[21]||(t[21]=(...b)=>e.handleMouseEnter&&e.handleMouseEnter(...b)),onMouseleave:t[22]||(t[22]=(...b)=>e.handleMouseLeave&&e.handleMouseLeave(...b)),onClick:t[23]||(t[23]=Hn((...b)=>e.toggleMenu&&e.toggleMenu(...b),["stop"]))},[Pe(l,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:Oe(()=>[Ae("div",{class:"select-trigger",onMouseenter:t[19]||(t[19]=b=>e.inputHovering=!0),onMouseleave:t[20]||(t[20]=b=>e.inputHovering=!1)},[e.multiple?(re(),Le("div",{key:0,ref:"tags",class:Re([e.nsSelect.e("tags"),e.nsSelect.is("disabled",e.selectDisabled)]),style:Wt(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(re(),qe(qa,{key:0,onAfterLeave:e.resetInputHeight},{default:Oe(()=>[Ae("span",{class:Re([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(re(!0),Le(Ct,null,sr(e.showTagList,b=>(re(),qe(s,{key:e.getValueKey(b),closable:!e.selectDisabled&&!b.isDisabled,size:e.collapseTagSize,hit:b.hitState,type:e.tagType,"disable-transitions":"",onClose:w=>e.deleteTag(w,b)},{default:Oe(()=>[Ae("span",{class:Re(e.nsSelect.e("tags-text")),style:Wt(e.tagTextStyle)},cn(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(re(),qe(s,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:Oe(()=>[e.collapseTagsTooltip?(re(),qe(l,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:Oe(()=>[Ae("span",{class:Re(e.nsSelect.e("tags-text"))},"+ "+cn(e.selected.length-e.maxCollapseTags),3)]),content:Oe(()=>[Ae("div",{class:Re(e.nsSelect.e("collapse-tags"))},[(re(!0),Le(Ct,null,sr(e.collapseTagList,b=>(re(),Le("div",{key:e.getValueKey(b),class:Re(e.nsSelect.e("collapse-tag"))},[Pe(s,{class:"in-tooltip",closable:!e.selectDisabled&&!b.isDisabled,size:e.collapseTagSize,hit:b.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:w=>e.deleteTag(w,b)},{default:Oe(()=>[Ae("span",{class:Re(e.nsSelect.e("tags-text")),style:Wt({maxWidth:e.inputWidth-75+"px"})},cn(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(re(),Le("span",{key:1,class:Re(e.nsSelect.e("tags-text"))},"+ "+cn(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):Ke("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):Ke("v-if",!0),e.collapseTags?Ke("v-if",!0):(re(),qe(qa,{key:1,onAfterLeave:e.resetInputHeight},{default:Oe(()=>[Ae("span",{class:Re([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(re(!0),Le(Ct,null,sr(e.selected,b=>(re(),qe(s,{key:e.getValueKey(b),closable:!e.selectDisabled&&!b.isDisabled,size:e.collapseTagSize,hit:b.hitState,type:e.tagType,"disable-transitions":"",onClose:w=>e.deleteTag(w,b)},{default:Oe(()=>[Ae("span",{class:Re(e.nsSelect.e("tags-text")),style:Wt({maxWidth:e.inputWidth-75+"px"})},cn(b.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),e.filterable?ui((re(),Le("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=b=>e.query=b),type:"text",class:Re([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.is("disabled",e.selectDisabled)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Wt({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:t[1]||(t[1]=(...b)=>e.handleFocus&&e.handleFocus(...b)),onBlur:t[2]||(t[2]=(...b)=>e.handleBlur&&e.handleBlur(...b)),onKeyup:t[3]||(t[3]=(...b)=>e.managePlaceholder&&e.managePlaceholder(...b)),onKeydown:[t[4]||(t[4]=(...b)=>e.resetInputState&&e.resetInputState(...b)),t[5]||(t[5]=Fn(Hn(b=>e.navigateOptions("next"),["prevent"]),["down"])),t[6]||(t[6]=Fn(Hn(b=>e.navigateOptions("prev"),["prevent"]),["up"])),t[7]||(t[7]=Fn((...b)=>e.handleKeydownEscape&&e.handleKeydownEscape(...b),["esc"])),t[8]||(t[8]=Fn(Hn((...b)=>e.selectOption&&e.selectOption(...b),["stop","prevent"]),["enter"])),t[9]||(t[9]=Fn((...b)=>e.deletePrevTag&&e.deletePrevTag(...b),["delete"])),t[10]||(t[10]=Fn(b=>e.visible=!1,["tab"]))],onCompositionstart:t[11]||(t[11]=(...b)=>e.handleComposition&&e.handleComposition(...b)),onCompositionupdate:t[12]||(t[12]=(...b)=>e.handleComposition&&e.handleComposition(...b)),onCompositionend:t[13]||(t[13]=(...b)=>e.handleComposition&&e.handleComposition(...b)),onInput:t[14]||(t[14]=(...b)=>e.debouncedQueryChange&&e.debouncedQueryChange(...b))},null,46,Iz)),[[sE,e.query]]):Ke("v-if",!0)],6)):Ke("v-if",!0),Ke(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(re(),Le("input",{key:1,ref:"iOSInput",class:Re([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.em("input","iOS")]),disabled:e.selectDisabled,type:"text"},null,10,Lz)):Ke("v-if",!0),Pe(c,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[15]||(t[15]=b=>e.selectedLabel=b),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:Re([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[16]||(t[16]=Fn(Hn(b=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[17]||(t[17]=Fn(Hn(b=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),Fn(Hn(e.selectOption,["stop","prevent"]),["enter"]),Fn(e.handleKeydownEscape,["esc"]),t[18]||(t[18]=Fn(b=>e.visible=!1,["tab"]))]},rT({suffix:Oe(()=>[e.iconComponent&&!e.showClose?(re(),qe(u,{key:0,class:Re([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:Oe(()=>[(re(),qe(ar(e.iconComponent)))]),_:1},8,["class"])):Ke("v-if",!0),e.showClose&&e.clearIcon?(re(),qe(u,{key:1,class:Re([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:Oe(()=>[(re(),qe(ar(e.clearIcon)))]),_:1},8,["class","onClick"])):Ke("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:Oe(()=>[Ae("div",$z,[Rt(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:Oe(()=>[Pe(m,null,{default:Oe(()=>[ui(Pe(p,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:Re([e.nsSelect.is("empty",!e.allowCreate&&!!e.query&&e.filteredOptionsCount===0)])},{default:Oe(()=>[e.showNewOption?(re(),qe(f,{key:0,value:e.query,created:!0},null,8,["value"])):Ke("v-if",!0),Pe(h,{onUpdateOptions:e.onOptionsRendered},{default:Oe(()=>[Rt(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[qo,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(re(),Le(Ct,{key:0},[e.$slots.empty?Rt(e.$slots,"empty",{key:0}):(re(),Le("p",{key:1,class:Re(e.nsSelect.be("dropdown","empty"))},cn(e.emptyText),3))],64)):Ke("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[v,e.handleClose,e.popperPaneRef]])}var Rz=qt(Nz,[["render",Bz],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Fz=ot({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=Gt("select"),n=Se(!0),r=Ln(),i=Se([]);Jn(gy,Cn({...Ls(e)}));const a=kt(cf);Kt(()=>{i.value=s(r.subTree)});const s=u=>{const c=[];return Array.isArray(u.children)&&u.children.forEach(f=>{var h;f.type&&f.type.name==="ElOption"&&f.component&&f.component.proxy?c.push(f.component.proxy):(h=f.children)!=null&&h.length&&c.push(...s(f))}),c},{groupQueryChange:l}=mt(a);return Ue(l,()=>{n.value=i.value.some(u=>u.visible===!0)},{flush:"post"}),{visible:n,ns:t}}});function Hz(e,t,n,r,i,a){return ui((re(),Le("ul",{class:Re(e.ns.be("group","wrap"))},[Ae("li",{class:Re(e.ns.be("group","title"))},cn(e.label),3),Ae("li",null,[Ae("ul",{class:Re(e.ns.b("group"))},[Rt(e.$slots,"default")],2)])],2)),[[qo,e.visible]])}var vy=qt(Fz,[["render",Hz],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Cp=Gr(Rz,{Option:Mp,OptionGroup:vy}),Pp=np(Mp);np(vy);let Nu=[],Yh=[],Wc,ra;function Dz(e){Wc=Nu.find(t=>t.name===e),Wc&&(Nu.forEach(t=>t.onmidimessage=null),Wc.onmidimessage=Uz,console.log("listening on ",Wc.name))}function zz(e){ra=Yh.find(t=>t.name===e)}function Wz(e){return{command:e.data[0]>>4,channel:e.data[0]&15,note:e.data[1],velocity:e.data[2]}}function K3(e,t){t>0&&this.$bus.$emit("trigger-in",{noteValue:e,velocity:t})}function Uz(e){const{command:t,channel:n,note:r,velocity:i}=Wz(e);t===8?n===0&&K3(r,-i):t===9&&n===0&&K3(r,i)}function Vz(){return window.navigator.requestMIDIAccess().then(e=>(e.inputs.forEach(t=>Nu.push(t)),e.outputs.forEach(t=>Yh.push(t)),{inputs:Nu.map(t=>t.name),outputs:Yh.map(t=>t.name)}))}function qz(e,t,n){const r=144+e-1;if(!ra)throw"error sending noteOn: no output configured";ra&&ra.send([r,t,n])}function jz(e,t,n){const r=128+e-1;ra&&ra.send([r,t,n])}function Gz(e,t,n){if(typeof e!="number"){console.error("channel not specified");return}if(typeof t!="number"){console.error("controllerNumber not specified");return}if(typeof n!="number"){console.error("controllerValue not specified");return}if(!ra){console.error("midi output not specified");return}console.log("controllerNumber",t),ra&&ra.send([176+e-1,t,n])}const Iu={getPortNames:Vz,setInput:Dz,setOutput:zz,noteOn:qz,noteOff:jz,sendControlChange:Gz};var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kz(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(t,i);return new a}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Lu={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Lu.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,f="__lodash_placeholder__",h=1,p=2,m=4,v=1,b=2,w=1,x=2,C=4,S=8,_=16,M=32,P=64,A=128,k=256,B=512,F=30,U="...",R=800,L=16,D=1,q=2,N=3,O=1/0,H=9007199254740991,V=17976931348623157e292,ne=0/0,_e=4294967295,ae=_e-1,Ne=_e>>>1,He=[["ary",A],["bind",w],["bindKey",x],["curry",S],["curryRight",_],["flip",B],["partial",M],["partialRight",P],["rearg",k]],$e="[object Arguments]",Ce="[object Array]",Ie="[object AsyncFunction]",xe="[object Boolean]",rt="[object Date]",De="[object DOMException]",Ve="[object Error]",z="[object Function]",j="[object GeneratorFunction]",Q="[object Map]",fe="[object Number]",de="[object Null]",be="[object Object]",Ee="[object Promise]",ve="[object Proxy]",Z="[object RegExp]",se="[object Set]",Fe="[object String]",Te="[object Symbol]",te="[object Undefined]",ke="[object WeakMap]",We="[object WeakSet]",Qe="[object ArrayBuffer]",Ze="[object DataView]",bt="[object Float32Array]",At="[object Float64Array]",Yt="[object Int8Array]",an="[object Int16Array]",zt="[object Int32Array]",Pt="[object Uint8Array]",ht="[object Uint8ClampedArray]",pt="[object Uint16Array]",ee="[object Uint32Array]",ye=/\b__p \+= '';/g,je=/\b(__p \+=) '' \+/g,it=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ft=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,le=RegExp(Ft.source),oe=RegExp(G.source),ue=/<%-([\s\S]+?)%>/g,pe=/<%([\s\S]+?)%>/g,Be=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nt=/^\w*$/,Xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yt=/[\\^$.*+?()[\]{}|]/g,It=RegExp(yt.source),$t=/^\s+/,xt=/\s/,tn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Jr=/\{\n\/\* \[wrapped with (.+)\] \*/,Pn=/,? & /,Ri=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dn=/[()=,{}\[\]\/\s]/,Lt=/\\(\\)?/g,ga=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Il=/\w*$/,w9=/^[-+]0x[0-9a-f]+$/i,_9=/^0b[01]+$/i,x9=/^\[object .+?Constructor\]$/,M9=/^0o[0-7]+$/i,C9=/^(?:0|[1-9]\d*)$/,P9=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ll=/($^)/,S9=/['\n\r\u2028\u2029\\]/g,$l="\\ud800-\\udfff",T9="\\u0300-\\u036f",E9="\\ufe20-\\ufe2f",A9="\\u20d0-\\u20ff",cg=T9+E9+A9,ug="\\u2700-\\u27bf",fg="a-z\\xdf-\\xf6\\xf8-\\xff",k9="\\xac\\xb1\\xd7\\xf7",O9="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",N9="\\u2000-\\u206f",I9=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dg="A-Z\\xc0-\\xd6\\xd8-\\xde",hg="\\ufe0e\\ufe0f",pg=k9+O9+N9+I9,mf="['’]",L9="["+$l+"]",gg="["+pg+"]",Bl="["+cg+"]",vg="\\d+",$9="["+ug+"]",mg="["+fg+"]",bg="[^"+$l+pg+vg+ug+fg+dg+"]",bf="\\ud83c[\\udffb-\\udfff]",B9="(?:"+Bl+"|"+bf+")",yg="[^"+$l+"]",yf="(?:\\ud83c[\\udde6-\\uddff]){2}",wf="[\\ud800-\\udbff][\\udc00-\\udfff]",js="["+dg+"]",wg="\\u200d",_g="(?:"+mg+"|"+bg+")",R9="(?:"+js+"|"+bg+")",xg="(?:"+mf+"(?:d|ll|m|re|s|t|ve))?",Mg="(?:"+mf+"(?:D|LL|M|RE|S|T|VE))?",Cg=B9+"?",Pg="["+hg+"]?",F9="(?:"+wg+"(?:"+[yg,yf,wf].join("|")+")"+Pg+Cg+")*",H9="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",D9="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Sg=Pg+Cg+F9,z9="(?:"+[$9,yf,wf].join("|")+")"+Sg,W9="(?:"+[yg+Bl+"?",Bl,yf,wf,L9].join("|")+")",U9=RegExp(mf,"g"),V9=RegExp(Bl,"g"),_f=RegExp(bf+"(?="+bf+")|"+W9+Sg,"g"),q9=RegExp([js+"?"+mg+"+"+xg+"(?="+[gg,js,"$"].join("|")+")",R9+"+"+Mg+"(?="+[gg,js+_g,"$"].join("|")+")",js+"?"+_g+"+"+xg,js+"+"+Mg,D9,H9,vg,z9].join("|"),"g"),j9=RegExp("["+wg+$l+cg+hg+"]"),G9=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,K9=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Y9=-1,Xt={};Xt[bt]=Xt[At]=Xt[Yt]=Xt[an]=Xt[zt]=Xt[Pt]=Xt[ht]=Xt[pt]=Xt[ee]=!0,Xt[$e]=Xt[Ce]=Xt[Qe]=Xt[xe]=Xt[Ze]=Xt[rt]=Xt[Ve]=Xt[z]=Xt[Q]=Xt[fe]=Xt[be]=Xt[Z]=Xt[se]=Xt[Fe]=Xt[ke]=!1;var jt={};jt[$e]=jt[Ce]=jt[Qe]=jt[Ze]=jt[xe]=jt[rt]=jt[bt]=jt[At]=jt[Yt]=jt[an]=jt[zt]=jt[Q]=jt[fe]=jt[be]=jt[Z]=jt[se]=jt[Fe]=jt[Te]=jt[Pt]=jt[ht]=jt[pt]=jt[ee]=!0,jt[Ve]=jt[z]=jt[ke]=!1;var X9={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},J9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Q9={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Z9={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},e8=parseFloat,t8=parseInt,Tg=typeof C0=="object"&&C0&&C0.Object===Object&&C0,n8=typeof self=="object"&&self&&self.Object===Object&&self,En=Tg||n8||Function("return this")(),xf=t&&!t.nodeType&&t,Za=xf&&!0&&e&&!e.nodeType&&e,Eg=Za&&Za.exports===xf,Mf=Eg&&Tg.process,Pr=function(){try{var Y=Za&&Za.require&&Za.require("util").types;return Y||Mf&&Mf.binding&&Mf.binding("util")}catch{}}(),Ag=Pr&&Pr.isArrayBuffer,kg=Pr&&Pr.isDate,Og=Pr&&Pr.isMap,Ng=Pr&&Pr.isRegExp,Ig=Pr&&Pr.isSet,Lg=Pr&&Pr.isTypedArray;function pr(Y,he,ce){switch(ce.length){case 0:return Y.call(he);case 1:return Y.call(he,ce[0]);case 2:return Y.call(he,ce[0],ce[1]);case 3:return Y.call(he,ce[0],ce[1],ce[2])}return Y.apply(he,ce)}function r8(Y,he,ce,Ge){for(var lt=-1,Bt=Y==null?0:Y.length;++lt<Bt;){var wn=Y[lt];he(Ge,wn,ce(wn),Y)}return Ge}function Sr(Y,he){for(var ce=-1,Ge=Y==null?0:Y.length;++ce<Ge&&he(Y[ce],ce,Y)!==!1;);return Y}function i8(Y,he){for(var ce=Y==null?0:Y.length;ce--&&he(Y[ce],ce,Y)!==!1;);return Y}function $g(Y,he){for(var ce=-1,Ge=Y==null?0:Y.length;++ce<Ge;)if(!he(Y[ce],ce,Y))return!1;return!0}function va(Y,he){for(var ce=-1,Ge=Y==null?0:Y.length,lt=0,Bt=[];++ce<Ge;){var wn=Y[ce];he(wn,ce,Y)&&(Bt[lt++]=wn)}return Bt}function Rl(Y,he){var ce=Y==null?0:Y.length;return!!ce&&Gs(Y,he,0)>-1}function Cf(Y,he,ce){for(var Ge=-1,lt=Y==null?0:Y.length;++Ge<lt;)if(ce(he,Y[Ge]))return!0;return!1}function nn(Y,he){for(var ce=-1,Ge=Y==null?0:Y.length,lt=Array(Ge);++ce<Ge;)lt[ce]=he(Y[ce],ce,Y);return lt}function ma(Y,he){for(var ce=-1,Ge=he.length,lt=Y.length;++ce<Ge;)Y[lt+ce]=he[ce];return Y}function Pf(Y,he,ce,Ge){var lt=-1,Bt=Y==null?0:Y.length;for(Ge&&Bt&&(ce=Y[++lt]);++lt<Bt;)ce=he(ce,Y[lt],lt,Y);return ce}function a8(Y,he,ce,Ge){var lt=Y==null?0:Y.length;for(Ge&&lt&&(ce=Y[--lt]);lt--;)ce=he(ce,Y[lt],lt,Y);return ce}function Sf(Y,he){for(var ce=-1,Ge=Y==null?0:Y.length;++ce<Ge;)if(he(Y[ce],ce,Y))return!0;return!1}var s8=Tf("length");function o8(Y){return Y.split("")}function l8(Y){return Y.match(Ri)||[]}function Bg(Y,he,ce){var Ge;return ce(Y,function(lt,Bt,wn){if(he(lt,Bt,wn))return Ge=Bt,!1}),Ge}function Fl(Y,he,ce,Ge){for(var lt=Y.length,Bt=ce+(Ge?1:-1);Ge?Bt--:++Bt<lt;)if(he(Y[Bt],Bt,Y))return Bt;return-1}function Gs(Y,he,ce){return he===he?w8(Y,he,ce):Fl(Y,Rg,ce)}function c8(Y,he,ce,Ge){for(var lt=ce-1,Bt=Y.length;++lt<Bt;)if(Ge(Y[lt],he))return lt;return-1}function Rg(Y){return Y!==Y}function Fg(Y,he){var ce=Y==null?0:Y.length;return ce?Af(Y,he)/ce:ne}function Tf(Y){return function(he){return he==null?n:he[Y]}}function Ef(Y){return function(he){return Y==null?n:Y[he]}}function Hg(Y,he,ce,Ge,lt){return lt(Y,function(Bt,wn,Ut){ce=Ge?(Ge=!1,Bt):he(ce,Bt,wn,Ut)}),ce}function u8(Y,he){var ce=Y.length;for(Y.sort(he);ce--;)Y[ce]=Y[ce].value;return Y}function Af(Y,he){for(var ce,Ge=-1,lt=Y.length;++Ge<lt;){var Bt=he(Y[Ge]);Bt!==n&&(ce=ce===n?Bt:ce+Bt)}return ce}function kf(Y,he){for(var ce=-1,Ge=Array(Y);++ce<Y;)Ge[ce]=he(ce);return Ge}function f8(Y,he){return nn(he,function(ce){return[ce,Y[ce]]})}function Dg(Y){return Y&&Y.slice(0,Vg(Y)+1).replace($t,"")}function gr(Y){return function(he){return Y(he)}}function Of(Y,he){return nn(he,function(ce){return Y[ce]})}function r0(Y,he){return Y.has(he)}function zg(Y,he){for(var ce=-1,Ge=Y.length;++ce<Ge&&Gs(he,Y[ce],0)>-1;);return ce}function Wg(Y,he){for(var ce=Y.length;ce--&&Gs(he,Y[ce],0)>-1;);return ce}function d8(Y,he){for(var ce=Y.length,Ge=0;ce--;)Y[ce]===he&&++Ge;return Ge}var h8=Ef(X9),p8=Ef(J9);function g8(Y){return"\\"+Z9[Y]}function v8(Y,he){return Y==null?n:Y[he]}function Ks(Y){return j9.test(Y)}function m8(Y){return G9.test(Y)}function b8(Y){for(var he,ce=[];!(he=Y.next()).done;)ce.push(he.value);return ce}function Nf(Y){var he=-1,ce=Array(Y.size);return Y.forEach(function(Ge,lt){ce[++he]=[lt,Ge]}),ce}function Ug(Y,he){return function(ce){return Y(he(ce))}}function ba(Y,he){for(var ce=-1,Ge=Y.length,lt=0,Bt=[];++ce<Ge;){var wn=Y[ce];(wn===he||wn===f)&&(Y[ce]=f,Bt[lt++]=ce)}return Bt}function Hl(Y){var he=-1,ce=Array(Y.size);return Y.forEach(function(Ge){ce[++he]=Ge}),ce}function y8(Y){var he=-1,ce=Array(Y.size);return Y.forEach(function(Ge){ce[++he]=[Ge,Ge]}),ce}function w8(Y,he,ce){for(var Ge=ce-1,lt=Y.length;++Ge<lt;)if(Y[Ge]===he)return Ge;return-1}function _8(Y,he,ce){for(var Ge=ce+1;Ge--;)if(Y[Ge]===he)return Ge;return Ge}function Ys(Y){return Ks(Y)?M8(Y):s8(Y)}function Qr(Y){return Ks(Y)?C8(Y):o8(Y)}function Vg(Y){for(var he=Y.length;he--&&xt.test(Y.charAt(he)););return he}var x8=Ef(Q9);function M8(Y){for(var he=_f.lastIndex=0;_f.test(Y);)++he;return he}function C8(Y){return Y.match(_f)||[]}function P8(Y){return Y.match(q9)||[]}var S8=function Y(he){he=he==null?En:Xs.defaults(En.Object(),he,Xs.pick(En,K9));var ce=he.Array,Ge=he.Date,lt=he.Error,Bt=he.Function,wn=he.Math,Ut=he.Object,If=he.RegExp,T8=he.String,Tr=he.TypeError,Dl=ce.prototype,E8=Bt.prototype,Js=Ut.prototype,zl=he["__core-js_shared__"],Wl=E8.toString,Dt=Js.hasOwnProperty,A8=0,qg=function(){var o=/[^.]+$/.exec(zl&&zl.keys&&zl.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Ul=Js.toString,k8=Wl.call(Ut),O8=En._,N8=If("^"+Wl.call(Dt).replace(yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vl=Eg?he.Buffer:n,ya=he.Symbol,ql=he.Uint8Array,jg=Vl?Vl.allocUnsafe:n,jl=Ug(Ut.getPrototypeOf,Ut),Gg=Ut.create,Kg=Js.propertyIsEnumerable,Gl=Dl.splice,Yg=ya?ya.isConcatSpreadable:n,i0=ya?ya.iterator:n,es=ya?ya.toStringTag:n,Kl=function(){try{var o=as(Ut,"defineProperty");return o({},"",{}),o}catch{}}(),I8=he.clearTimeout!==En.clearTimeout&&he.clearTimeout,L8=Ge&&Ge.now!==En.Date.now&&Ge.now,$8=he.setTimeout!==En.setTimeout&&he.setTimeout,Yl=wn.ceil,Xl=wn.floor,Lf=Ut.getOwnPropertySymbols,B8=Vl?Vl.isBuffer:n,Xg=he.isFinite,R8=Dl.join,F8=Ug(Ut.keys,Ut),_n=wn.max,Bn=wn.min,H8=Ge.now,D8=he.parseInt,Jg=wn.random,z8=Dl.reverse,$f=as(he,"DataView"),a0=as(he,"Map"),Bf=as(he,"Promise"),Qs=as(he,"Set"),s0=as(he,"WeakMap"),o0=as(Ut,"create"),Jl=s0&&new s0,Zs={},W8=ss($f),U8=ss(a0),V8=ss(Bf),q8=ss(Qs),j8=ss(s0),Ql=ya?ya.prototype:n,l0=Ql?Ql.valueOf:n,Qg=Ql?Ql.toString:n;function I(o){if(ln(o)&&!ct(o)&&!(o instanceof Mt)){if(o instanceof Er)return o;if(Dt.call(o,"__wrapped__"))return Zv(o)}return new Er(o)}var eo=function(){function o(){}return function(d){if(!sn(d))return{};if(Gg)return Gg(d);o.prototype=d;var g=new o;return o.prototype=n,g}}();function Zl(){}function Er(o,d){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}I.templateSettings={escape:ue,evaluate:pe,interpolate:Be,variable:"",imports:{_:I}},I.prototype=Zl.prototype,I.prototype.constructor=I,Er.prototype=eo(Zl.prototype),Er.prototype.constructor=Er;function Mt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function G8(){var o=new Mt(this.__wrapped__);return o.__actions__=Zn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Zn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Zn(this.__views__),o}function K8(){if(this.__filtered__){var o=new Mt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Y8(){var o=this.__wrapped__.value(),d=this.__dir__,g=ct(o),y=d<0,E=g?o.length:0,$=o_(0,E,this.__views__),W=$.start,K=$.end,X=K-W,me=y?K:W-1,we=this.__iteratees__,Me=we.length,ze=0,Ye=Bn(X,this.__takeCount__);if(!g||!y&&E==X&&Ye==X)return xv(o,this.__actions__);var at=[];e:for(;X--&&ze<Ye;){me+=d;for(var gt=-1,st=o[me];++gt<Me;){var wt=we[gt],St=wt.iteratee,br=wt.type,Gn=St(st);if(br==q)st=Gn;else if(!Gn){if(br==D)continue e;break e}}at[ze++]=st}return at}Mt.prototype=eo(Zl.prototype),Mt.prototype.constructor=Mt;function ts(o){var d=-1,g=o==null?0:o.length;for(this.clear();++d<g;){var y=o[d];this.set(y[0],y[1])}}function X8(){this.__data__=o0?o0(null):{},this.size=0}function J8(o){var d=this.has(o)&&delete this.__data__[o];return this.size-=d?1:0,d}function Q8(o){var d=this.__data__;if(o0){var g=d[o];return g===u?n:g}return Dt.call(d,o)?d[o]:n}function Z8(o){var d=this.__data__;return o0?d[o]!==n:Dt.call(d,o)}function ew(o,d){var g=this.__data__;return this.size+=this.has(o)?0:1,g[o]=o0&&d===n?u:d,this}ts.prototype.clear=X8,ts.prototype.delete=J8,ts.prototype.get=Q8,ts.prototype.has=Z8,ts.prototype.set=ew;function Fi(o){var d=-1,g=o==null?0:o.length;for(this.clear();++d<g;){var y=o[d];this.set(y[0],y[1])}}function tw(){this.__data__=[],this.size=0}function nw(o){var d=this.__data__,g=ec(d,o);if(g<0)return!1;var y=d.length-1;return g==y?d.pop():Gl.call(d,g,1),--this.size,!0}function rw(o){var d=this.__data__,g=ec(d,o);return g<0?n:d[g][1]}function iw(o){return ec(this.__data__,o)>-1}function aw(o,d){var g=this.__data__,y=ec(g,o);return y<0?(++this.size,g.push([o,d])):g[y][1]=d,this}Fi.prototype.clear=tw,Fi.prototype.delete=nw,Fi.prototype.get=rw,Fi.prototype.has=iw,Fi.prototype.set=aw;function Hi(o){var d=-1,g=o==null?0:o.length;for(this.clear();++d<g;){var y=o[d];this.set(y[0],y[1])}}function sw(){this.size=0,this.__data__={hash:new ts,map:new(a0||Fi),string:new ts}}function ow(o){var d=dc(this,o).delete(o);return this.size-=d?1:0,d}function lw(o){return dc(this,o).get(o)}function cw(o){return dc(this,o).has(o)}function uw(o,d){var g=dc(this,o),y=g.size;return g.set(o,d),this.size+=g.size==y?0:1,this}Hi.prototype.clear=sw,Hi.prototype.delete=ow,Hi.prototype.get=lw,Hi.prototype.has=cw,Hi.prototype.set=uw;function ns(o){var d=-1,g=o==null?0:o.length;for(this.__data__=new Hi;++d<g;)this.add(o[d])}function fw(o){return this.__data__.set(o,u),this}function dw(o){return this.__data__.has(o)}ns.prototype.add=ns.prototype.push=fw,ns.prototype.has=dw;function Zr(o){var d=this.__data__=new Fi(o);this.size=d.size}function hw(){this.__data__=new Fi,this.size=0}function pw(o){var d=this.__data__,g=d.delete(o);return this.size=d.size,g}function gw(o){return this.__data__.get(o)}function vw(o){return this.__data__.has(o)}function mw(o,d){var g=this.__data__;if(g instanceof Fi){var y=g.__data__;if(!a0||y.length<i-1)return y.push([o,d]),this.size=++g.size,this;g=this.__data__=new Hi(y)}return g.set(o,d),this.size=g.size,this}Zr.prototype.clear=hw,Zr.prototype.delete=pw,Zr.prototype.get=gw,Zr.prototype.has=vw,Zr.prototype.set=mw;function Zg(o,d){var g=ct(o),y=!g&&os(o),E=!g&&!y&&Ca(o),$=!g&&!y&&!E&&io(o),W=g||y||E||$,K=W?kf(o.length,T8):[],X=K.length;for(var me in o)(d||Dt.call(o,me))&&!(W&&(me=="length"||E&&(me=="offset"||me=="parent")||$&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||Ui(me,X)))&&K.push(me);return K}function ev(o){var d=o.length;return d?o[Gf(0,d-1)]:n}function bw(o,d){return hc(Zn(o),rs(d,0,o.length))}function yw(o){return hc(Zn(o))}function Rf(o,d,g){(g!==n&&!ei(o[d],g)||g===n&&!(d in o))&&Di(o,d,g)}function c0(o,d,g){var y=o[d];(!(Dt.call(o,d)&&ei(y,g))||g===n&&!(d in o))&&Di(o,d,g)}function ec(o,d){for(var g=o.length;g--;)if(ei(o[g][0],d))return g;return-1}function ww(o,d,g,y){return wa(o,function(E,$,W){d(y,E,g(E),W)}),y}function tv(o,d){return o&&mi(d,Sn(d),o)}function _w(o,d){return o&&mi(d,tr(d),o)}function Di(o,d,g){d=="__proto__"&&Kl?Kl(o,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):o[d]=g}function Ff(o,d){for(var g=-1,y=d.length,E=ce(y),$=o==null;++g<y;)E[g]=$?n:bd(o,d[g]);return E}function rs(o,d,g){return o===o&&(g!==n&&(o=o<=g?o:g),d!==n&&(o=o>=d?o:d)),o}function Ar(o,d,g,y,E,$){var W,K=d&h,X=d&p,me=d&m;if(g&&(W=E?g(o,y,E,$):g(o)),W!==n)return W;if(!sn(o))return o;var we=ct(o);if(we){if(W=c_(o),!K)return Zn(o,W)}else{var Me=Rn(o),ze=Me==z||Me==j;if(Ca(o))return Pv(o,K);if(Me==be||Me==$e||ze&&!E){if(W=X||ze?{}:Vv(o),!K)return X?Qw(o,_w(W,o)):Jw(o,tv(W,o))}else{if(!jt[Me])return E?o:{};W=u_(o,Me,K)}}$||($=new Zr);var Ye=$.get(o);if(Ye)return Ye;$.set(o,W),y2(o)?o.forEach(function(st){W.add(Ar(st,d,g,st,o,$))}):m2(o)&&o.forEach(function(st,wt){W.set(wt,Ar(st,d,g,wt,o,$))});var at=me?X?id:rd:X?tr:Sn,gt=we?n:at(o);return Sr(gt||o,function(st,wt){gt&&(wt=st,st=o[wt]),c0(W,wt,Ar(st,d,g,wt,o,$))}),W}function xw(o){var d=Sn(o);return function(g){return nv(g,o,d)}}function nv(o,d,g){var y=g.length;if(o==null)return!y;for(o=Ut(o);y--;){var E=g[y],$=d[E],W=o[E];if(W===n&&!(E in o)||!$(W))return!1}return!0}function rv(o,d,g){if(typeof o!="function")throw new Tr(s);return v0(function(){o.apply(n,g)},d)}function u0(o,d,g,y){var E=-1,$=Rl,W=!0,K=o.length,X=[],me=d.length;if(!K)return X;g&&(d=nn(d,gr(g))),y?($=Cf,W=!1):d.length>=i&&($=r0,W=!1,d=new ns(d));e:for(;++E<K;){var we=o[E],Me=g==null?we:g(we);if(we=y||we!==0?we:0,W&&Me===Me){for(var ze=me;ze--;)if(d[ze]===Me)continue e;X.push(we)}else $(d,Me,y)||X.push(we)}return X}var wa=kv(vi),iv=kv(Df,!0);function Mw(o,d){var g=!0;return wa(o,function(y,E,$){return g=!!d(y,E,$),g}),g}function tc(o,d,g){for(var y=-1,E=o.length;++y<E;){var $=o[y],W=d($);if(W!=null&&(K===n?W===W&&!mr(W):g(W,K)))var K=W,X=$}return X}function Cw(o,d,g,y){var E=o.length;for(g=ft(g),g<0&&(g=-g>E?0:E+g),y=y===n||y>E?E:ft(y),y<0&&(y+=E),y=g>y?0:_2(y);g<y;)o[g++]=d;return o}function av(o,d){var g=[];return wa(o,function(y,E,$){d(y,E,$)&&g.push(y)}),g}function An(o,d,g,y,E){var $=-1,W=o.length;for(g||(g=d_),E||(E=[]);++$<W;){var K=o[$];d>0&&g(K)?d>1?An(K,d-1,g,y,E):ma(E,K):y||(E[E.length]=K)}return E}var Hf=Ov(),sv=Ov(!0);function vi(o,d){return o&&Hf(o,d,Sn)}function Df(o,d){return o&&sv(o,d,Sn)}function nc(o,d){return va(d,function(g){return Vi(o[g])})}function is(o,d){d=xa(d,o);for(var g=0,y=d.length;o!=null&&g<y;)o=o[bi(d[g++])];return g&&g==y?o:n}function ov(o,d,g){var y=d(o);return ct(o)?y:ma(y,g(o))}function qn(o){return o==null?o===n?te:de:es&&es in Ut(o)?s_(o):y_(o)}function zf(o,d){return o>d}function Pw(o,d){return o!=null&&Dt.call(o,d)}function Sw(o,d){return o!=null&&d in Ut(o)}function Tw(o,d,g){return o>=Bn(d,g)&&o<_n(d,g)}function Wf(o,d,g){for(var y=g?Cf:Rl,E=o[0].length,$=o.length,W=$,K=ce($),X=1/0,me=[];W--;){var we=o[W];W&&d&&(we=nn(we,gr(d))),X=Bn(we.length,X),K[W]=!g&&(d||E>=120&&we.length>=120)?new ns(W&&we):n}we=o[0];var Me=-1,ze=K[0];e:for(;++Me<E&&me.length<X;){var Ye=we[Me],at=d?d(Ye):Ye;if(Ye=g||Ye!==0?Ye:0,!(ze?r0(ze,at):y(me,at,g))){for(W=$;--W;){var gt=K[W];if(!(gt?r0(gt,at):y(o[W],at,g)))continue e}ze&&ze.push(at),me.push(Ye)}}return me}function Ew(o,d,g,y){return vi(o,function(E,$,W){d(y,g(E),$,W)}),y}function f0(o,d,g){d=xa(d,o),o=Kv(o,d);var y=o==null?o:o[bi(Or(d))];return y==null?n:pr(y,o,g)}function lv(o){return ln(o)&&qn(o)==$e}function Aw(o){return ln(o)&&qn(o)==Qe}function kw(o){return ln(o)&&qn(o)==rt}function d0(o,d,g,y,E){return o===d?!0:o==null||d==null||!ln(o)&&!ln(d)?o!==o&&d!==d:Ow(o,d,g,y,d0,E)}function Ow(o,d,g,y,E,$){var W=ct(o),K=ct(d),X=W?Ce:Rn(o),me=K?Ce:Rn(d);X=X==$e?be:X,me=me==$e?be:me;var we=X==be,Me=me==be,ze=X==me;if(ze&&Ca(o)){if(!Ca(d))return!1;W=!0,we=!1}if(ze&&!we)return $||($=new Zr),W||io(o)?zv(o,d,g,y,E,$):i_(o,d,X,g,y,E,$);if(!(g&v)){var Ye=we&&Dt.call(o,"__wrapped__"),at=Me&&Dt.call(d,"__wrapped__");if(Ye||at){var gt=Ye?o.value():o,st=at?d.value():d;return $||($=new Zr),E(gt,st,g,y,$)}}return ze?($||($=new Zr),a_(o,d,g,y,E,$)):!1}function Nw(o){return ln(o)&&Rn(o)==Q}function Uf(o,d,g,y){var E=g.length,$=E,W=!y;if(o==null)return!$;for(o=Ut(o);E--;){var K=g[E];if(W&&K[2]?K[1]!==o[K[0]]:!(K[0]in o))return!1}for(;++E<$;){K=g[E];var X=K[0],me=o[X],we=K[1];if(W&&K[2]){if(me===n&&!(X in o))return!1}else{var Me=new Zr;if(y)var ze=y(me,we,X,o,d,Me);if(!(ze===n?d0(we,me,v|b,y,Me):ze))return!1}}return!0}function cv(o){if(!sn(o)||p_(o))return!1;var d=Vi(o)?N8:x9;return d.test(ss(o))}function Iw(o){return ln(o)&&qn(o)==Z}function Lw(o){return ln(o)&&Rn(o)==se}function $w(o){return ln(o)&&yc(o.length)&&!!Xt[qn(o)]}function uv(o){return typeof o=="function"?o:o==null?nr:typeof o=="object"?ct(o)?hv(o[0],o[1]):dv(o):N2(o)}function Vf(o){if(!g0(o))return F8(o);var d=[];for(var g in Ut(o))Dt.call(o,g)&&g!="constructor"&&d.push(g);return d}function Bw(o){if(!sn(o))return b_(o);var d=g0(o),g=[];for(var y in o)y=="constructor"&&(d||!Dt.call(o,y))||g.push(y);return g}function qf(o,d){return o<d}function fv(o,d){var g=-1,y=er(o)?ce(o.length):[];return wa(o,function(E,$,W){y[++g]=d(E,$,W)}),y}function dv(o){var d=sd(o);return d.length==1&&d[0][2]?jv(d[0][0],d[0][1]):function(g){return g===o||Uf(g,o,d)}}function hv(o,d){return ld(o)&&qv(d)?jv(bi(o),d):function(g){var y=bd(g,o);return y===n&&y===d?yd(g,o):d0(d,y,v|b)}}function rc(o,d,g,y,E){o!==d&&Hf(d,function($,W){if(E||(E=new Zr),sn($))Rw(o,d,W,g,rc,y,E);else{var K=y?y(ud(o,W),$,W+"",o,d,E):n;K===n&&(K=$),Rf(o,W,K)}},tr)}function Rw(o,d,g,y,E,$,W){var K=ud(o,g),X=ud(d,g),me=W.get(X);if(me){Rf(o,g,me);return}var we=$?$(K,X,g+"",o,d,W):n,Me=we===n;if(Me){var ze=ct(X),Ye=!ze&&Ca(X),at=!ze&&!Ye&&io(X);we=X,ze||Ye||at?ct(K)?we=K:hn(K)?we=Zn(K):Ye?(Me=!1,we=Pv(X,!0)):at?(Me=!1,we=Sv(X,!0)):we=[]:m0(X)||os(X)?(we=K,os(K)?we=x2(K):(!sn(K)||Vi(K))&&(we=Vv(X))):Me=!1}Me&&(W.set(X,we),E(we,X,y,$,W),W.delete(X)),Rf(o,g,we)}function pv(o,d){var g=o.length;if(g)return d+=d<0?g:0,Ui(d,g)?o[d]:n}function gv(o,d,g){d.length?d=nn(d,function($){return ct($)?function(W){return is(W,$.length===1?$[0]:$)}:$}):d=[nr];var y=-1;d=nn(d,gr(tt()));var E=fv(o,function($,W,K){var X=nn(d,function(me){return me($)});return{criteria:X,index:++y,value:$}});return u8(E,function($,W){return Xw($,W,g)})}function Fw(o,d){return vv(o,d,function(g,y){return yd(o,y)})}function vv(o,d,g){for(var y=-1,E=d.length,$={};++y<E;){var W=d[y],K=is(o,W);g(K,W)&&h0($,xa(W,o),K)}return $}function Hw(o){return function(d){return is(d,o)}}function jf(o,d,g,y){var E=y?c8:Gs,$=-1,W=d.length,K=o;for(o===d&&(d=Zn(d)),g&&(K=nn(o,gr(g)));++$<W;)for(var X=0,me=d[$],we=g?g(me):me;(X=E(K,we,X,y))>-1;)K!==o&&Gl.call(K,X,1),Gl.call(o,X,1);return o}function mv(o,d){for(var g=o?d.length:0,y=g-1;g--;){var E=d[g];if(g==y||E!==$){var $=E;Ui(E)?Gl.call(o,E,1):Xf(o,E)}}return o}function Gf(o,d){return o+Xl(Jg()*(d-o+1))}function Dw(o,d,g,y){for(var E=-1,$=_n(Yl((d-o)/(g||1)),0),W=ce($);$--;)W[y?$:++E]=o,o+=g;return W}function Kf(o,d){var g="";if(!o||d<1||d>H)return g;do d%2&&(g+=o),d=Xl(d/2),d&&(o+=o);while(d);return g}function vt(o,d){return fd(Gv(o,d,nr),o+"")}function zw(o){return ev(ao(o))}function Ww(o,d){var g=ao(o);return hc(g,rs(d,0,g.length))}function h0(o,d,g,y){if(!sn(o))return o;d=xa(d,o);for(var E=-1,$=d.length,W=$-1,K=o;K!=null&&++E<$;){var X=bi(d[E]),me=g;if(X==="__proto__"||X==="constructor"||X==="prototype")return o;if(E!=W){var we=K[X];me=y?y(we,X,K):n,me===n&&(me=sn(we)?we:Ui(d[E+1])?[]:{})}c0(K,X,me),K=K[X]}return o}var bv=Jl?function(o,d){return Jl.set(o,d),o}:nr,Uw=Kl?function(o,d){return Kl(o,"toString",{configurable:!0,enumerable:!1,value:_d(d),writable:!0})}:nr;function Vw(o){return hc(ao(o))}function kr(o,d,g){var y=-1,E=o.length;d<0&&(d=-d>E?0:E+d),g=g>E?E:g,g<0&&(g+=E),E=d>g?0:g-d>>>0,d>>>=0;for(var $=ce(E);++y<E;)$[y]=o[y+d];return $}function qw(o,d){var g;return wa(o,function(y,E,$){return g=d(y,E,$),!g}),!!g}function ic(o,d,g){var y=0,E=o==null?y:o.length;if(typeof d=="number"&&d===d&&E<=Ne){for(;y<E;){var $=y+E>>>1,W=o[$];W!==null&&!mr(W)&&(g?W<=d:W<d)?y=$+1:E=$}return E}return Yf(o,d,nr,g)}function Yf(o,d,g,y){var E=0,$=o==null?0:o.length;if($===0)return 0;d=g(d);for(var W=d!==d,K=d===null,X=mr(d),me=d===n;E<$;){var we=Xl((E+$)/2),Me=g(o[we]),ze=Me!==n,Ye=Me===null,at=Me===Me,gt=mr(Me);if(W)var st=y||at;else me?st=at&&(y||ze):K?st=at&&ze&&(y||!Ye):X?st=at&&ze&&!Ye&&(y||!gt):Ye||gt?st=!1:st=y?Me<=d:Me<d;st?E=we+1:$=we}return Bn($,ae)}function yv(o,d){for(var g=-1,y=o.length,E=0,$=[];++g<y;){var W=o[g],K=d?d(W):W;if(!g||!ei(K,X)){var X=K;$[E++]=W===0?0:W}}return $}function wv(o){return typeof o=="number"?o:mr(o)?ne:+o}function vr(o){if(typeof o=="string")return o;if(ct(o))return nn(o,vr)+"";if(mr(o))return Qg?Qg.call(o):"";var d=o+"";return d=="0"&&1/o==-O?"-0":d}function _a(o,d,g){var y=-1,E=Rl,$=o.length,W=!0,K=[],X=K;if(g)W=!1,E=Cf;else if($>=i){var me=d?null:n_(o);if(me)return Hl(me);W=!1,E=r0,X=new ns}else X=d?[]:K;e:for(;++y<$;){var we=o[y],Me=d?d(we):we;if(we=g||we!==0?we:0,W&&Me===Me){for(var ze=X.length;ze--;)if(X[ze]===Me)continue e;d&&X.push(Me),K.push(we)}else E(X,Me,g)||(X!==K&&X.push(Me),K.push(we))}return K}function Xf(o,d){return d=xa(d,o),o=Kv(o,d),o==null||delete o[bi(Or(d))]}function _v(o,d,g,y){return h0(o,d,g(is(o,d)),y)}function ac(o,d,g,y){for(var E=o.length,$=y?E:-1;(y?$--:++$<E)&&d(o[$],$,o););return g?kr(o,y?0:$,y?$+1:E):kr(o,y?$+1:0,y?E:$)}function xv(o,d){var g=o;return g instanceof Mt&&(g=g.value()),Pf(d,function(y,E){return E.func.apply(E.thisArg,ma([y],E.args))},g)}function Jf(o,d,g){var y=o.length;if(y<2)return y?_a(o[0]):[];for(var E=-1,$=ce(y);++E<y;)for(var W=o[E],K=-1;++K<y;)K!=E&&($[E]=u0($[E]||W,o[K],d,g));return _a(An($,1),d,g)}function Mv(o,d,g){for(var y=-1,E=o.length,$=d.length,W={};++y<E;){var K=y<$?d[y]:n;g(W,o[y],K)}return W}function Qf(o){return hn(o)?o:[]}function Zf(o){return typeof o=="function"?o:nr}function xa(o,d){return ct(o)?o:ld(o,d)?[o]:Qv(Ht(o))}var jw=vt;function Ma(o,d,g){var y=o.length;return g=g===n?y:g,!d&&g>=y?o:kr(o,d,g)}var Cv=I8||function(o){return En.clearTimeout(o)};function Pv(o,d){if(d)return o.slice();var g=o.length,y=jg?jg(g):new o.constructor(g);return o.copy(y),y}function ed(o){var d=new o.constructor(o.byteLength);return new ql(d).set(new ql(o)),d}function Gw(o,d){var g=d?ed(o.buffer):o.buffer;return new o.constructor(g,o.byteOffset,o.byteLength)}function Kw(o){var d=new o.constructor(o.source,Il.exec(o));return d.lastIndex=o.lastIndex,d}function Yw(o){return l0?Ut(l0.call(o)):{}}function Sv(o,d){var g=d?ed(o.buffer):o.buffer;return new o.constructor(g,o.byteOffset,o.length)}function Tv(o,d){if(o!==d){var g=o!==n,y=o===null,E=o===o,$=mr(o),W=d!==n,K=d===null,X=d===d,me=mr(d);if(!K&&!me&&!$&&o>d||$&&W&&X&&!K&&!me||y&&W&&X||!g&&X||!E)return 1;if(!y&&!$&&!me&&o<d||me&&g&&E&&!y&&!$||K&&g&&E||!W&&E||!X)return-1}return 0}function Xw(o,d,g){for(var y=-1,E=o.criteria,$=d.criteria,W=E.length,K=g.length;++y<W;){var X=Tv(E[y],$[y]);if(X){if(y>=K)return X;var me=g[y];return X*(me=="desc"?-1:1)}}return o.index-d.index}function Ev(o,d,g,y){for(var E=-1,$=o.length,W=g.length,K=-1,X=d.length,me=_n($-W,0),we=ce(X+me),Me=!y;++K<X;)we[K]=d[K];for(;++E<W;)(Me||E<$)&&(we[g[E]]=o[E]);for(;me--;)we[K++]=o[E++];return we}function Av(o,d,g,y){for(var E=-1,$=o.length,W=-1,K=g.length,X=-1,me=d.length,we=_n($-K,0),Me=ce(we+me),ze=!y;++E<we;)Me[E]=o[E];for(var Ye=E;++X<me;)Me[Ye+X]=d[X];for(;++W<K;)(ze||E<$)&&(Me[Ye+g[W]]=o[E++]);return Me}function Zn(o,d){var g=-1,y=o.length;for(d||(d=ce(y));++g<y;)d[g]=o[g];return d}function mi(o,d,g,y){var E=!g;g||(g={});for(var $=-1,W=d.length;++$<W;){var K=d[$],X=y?y(g[K],o[K],K,g,o):n;X===n&&(X=o[K]),E?Di(g,K,X):c0(g,K,X)}return g}function Jw(o,d){return mi(o,od(o),d)}function Qw(o,d){return mi(o,Wv(o),d)}function sc(o,d){return function(g,y){var E=ct(g)?r8:ww,$=d?d():{};return E(g,o,tt(y,2),$)}}function to(o){return vt(function(d,g){var y=-1,E=g.length,$=E>1?g[E-1]:n,W=E>2?g[2]:n;for($=o.length>3&&typeof $=="function"?(E--,$):n,W&&jn(g[0],g[1],W)&&($=E<3?n:$,E=1),d=Ut(d);++y<E;){var K=g[y];K&&o(d,K,y,$)}return d})}function kv(o,d){return function(g,y){if(g==null)return g;if(!er(g))return o(g,y);for(var E=g.length,$=d?E:-1,W=Ut(g);(d?$--:++$<E)&&y(W[$],$,W)!==!1;);return g}}function Ov(o){return function(d,g,y){for(var E=-1,$=Ut(d),W=y(d),K=W.length;K--;){var X=W[o?K:++E];if(g($[X],X,$)===!1)break}return d}}function Zw(o,d,g){var y=d&w,E=p0(o);function $(){var W=this&&this!==En&&this instanceof $?E:o;return W.apply(y?g:this,arguments)}return $}function Nv(o){return function(d){d=Ht(d);var g=Ks(d)?Qr(d):n,y=g?g[0]:d.charAt(0),E=g?Ma(g,1).join(""):d.slice(1);return y[o]()+E}}function no(o){return function(d){return Pf(k2(A2(d).replace(U9,"")),o,"")}}function p0(o){return function(){var d=arguments;switch(d.length){case 0:return new o;case 1:return new o(d[0]);case 2:return new o(d[0],d[1]);case 3:return new o(d[0],d[1],d[2]);case 4:return new o(d[0],d[1],d[2],d[3]);case 5:return new o(d[0],d[1],d[2],d[3],d[4]);case 6:return new o(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new o(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var g=eo(o.prototype),y=o.apply(g,d);return sn(y)?y:g}}function e_(o,d,g){var y=p0(o);function E(){for(var $=arguments.length,W=ce($),K=$,X=ro(E);K--;)W[K]=arguments[K];var me=$<3&&W[0]!==X&&W[$-1]!==X?[]:ba(W,X);if($-=me.length,$<g)return Rv(o,d,oc,E.placeholder,n,W,me,n,n,g-$);var we=this&&this!==En&&this instanceof E?y:o;return pr(we,this,W)}return E}function Iv(o){return function(d,g,y){var E=Ut(d);if(!er(d)){var $=tt(g,3);d=Sn(d),g=function(K){return $(E[K],K,E)}}var W=o(d,g,y);return W>-1?E[$?d[W]:W]:n}}function Lv(o){return Wi(function(d){var g=d.length,y=g,E=Er.prototype.thru;for(o&&d.reverse();y--;){var $=d[y];if(typeof $!="function")throw new Tr(s);if(E&&!W&&fc($)=="wrapper")var W=new Er([],!0)}for(y=W?y:g;++y<g;){$=d[y];var K=fc($),X=K=="wrapper"?ad($):n;X&&cd(X[0])&&X[1]==(A|S|M|k)&&!X[4].length&&X[9]==1?W=W[fc(X[0])].apply(W,X[3]):W=$.length==1&&cd($)?W[K]():W.thru($)}return function(){var me=arguments,we=me[0];if(W&&me.length==1&&ct(we))return W.plant(we).value();for(var Me=0,ze=g?d[Me].apply(this,me):we;++Me<g;)ze=d[Me].call(this,ze);return ze}})}function oc(o,d,g,y,E,$,W,K,X,me){var we=d&A,Me=d&w,ze=d&x,Ye=d&(S|_),at=d&B,gt=ze?n:p0(o);function st(){for(var wt=arguments.length,St=ce(wt),br=wt;br--;)St[br]=arguments[br];if(Ye)var Gn=ro(st),yr=d8(St,Gn);if(y&&(St=Ev(St,y,E,Ye)),$&&(St=Av(St,$,W,Ye)),wt-=yr,Ye&&wt<me){var pn=ba(St,Gn);return Rv(o,d,oc,st.placeholder,g,St,pn,K,X,me-wt)}var ti=Me?g:this,ji=ze?ti[o]:o;return wt=St.length,K?St=w_(St,K):at&&wt>1&&St.reverse(),we&&X<wt&&(St.length=X),this&&this!==En&&this instanceof st&&(ji=gt||p0(ji)),ji.apply(ti,St)}return st}function $v(o,d){return function(g,y){return Ew(g,o,d(y),{})}}function lc(o,d){return function(g,y){var E;if(g===n&&y===n)return d;if(g!==n&&(E=g),y!==n){if(E===n)return y;typeof g=="string"||typeof y=="string"?(g=vr(g),y=vr(y)):(g=wv(g),y=wv(y)),E=o(g,y)}return E}}function td(o){return Wi(function(d){return d=nn(d,gr(tt())),vt(function(g){var y=this;return o(d,function(E){return pr(E,y,g)})})})}function cc(o,d){d=d===n?" ":vr(d);var g=d.length;if(g<2)return g?Kf(d,o):d;var y=Kf(d,Yl(o/Ys(d)));return Ks(d)?Ma(Qr(y),0,o).join(""):y.slice(0,o)}function t_(o,d,g,y){var E=d&w,$=p0(o);function W(){for(var K=-1,X=arguments.length,me=-1,we=y.length,Me=ce(we+X),ze=this&&this!==En&&this instanceof W?$:o;++me<we;)Me[me]=y[me];for(;X--;)Me[me++]=arguments[++K];return pr(ze,E?g:this,Me)}return W}function Bv(o){return function(d,g,y){return y&&typeof y!="number"&&jn(d,g,y)&&(g=y=n),d=qi(d),g===n?(g=d,d=0):g=qi(g),y=y===n?d<g?1:-1:qi(y),Dw(d,g,y,o)}}function uc(o){return function(d,g){return typeof d=="string"&&typeof g=="string"||(d=Nr(d),g=Nr(g)),o(d,g)}}function Rv(o,d,g,y,E,$,W,K,X,me){var we=d&S,Me=we?W:n,ze=we?n:W,Ye=we?$:n,at=we?n:$;d|=we?M:P,d&=~(we?P:M),d&C||(d&=~(w|x));var gt=[o,d,E,Ye,Me,at,ze,K,X,me],st=g.apply(n,gt);return cd(o)&&Yv(st,gt),st.placeholder=y,Xv(st,o,d)}function nd(o){var d=wn[o];return function(g,y){if(g=Nr(g),y=y==null?0:Bn(ft(y),292),y&&Xg(g)){var E=(Ht(g)+"e").split("e"),$=d(E[0]+"e"+(+E[1]+y));return E=(Ht($)+"e").split("e"),+(E[0]+"e"+(+E[1]-y))}return d(g)}}var n_=Qs&&1/Hl(new Qs([,-0]))[1]==O?function(o){return new Qs(o)}:Cd;function Fv(o){return function(d){var g=Rn(d);return g==Q?Nf(d):g==se?y8(d):f8(d,o(d))}}function zi(o,d,g,y,E,$,W,K){var X=d&x;if(!X&&typeof o!="function")throw new Tr(s);var me=y?y.length:0;if(me||(d&=~(M|P),y=E=n),W=W===n?W:_n(ft(W),0),K=K===n?K:ft(K),me-=E?E.length:0,d&P){var we=y,Me=E;y=E=n}var ze=X?n:ad(o),Ye=[o,d,g,y,E,we,Me,$,W,K];if(ze&&m_(Ye,ze),o=Ye[0],d=Ye[1],g=Ye[2],y=Ye[3],E=Ye[4],K=Ye[9]=Ye[9]===n?X?0:o.length:_n(Ye[9]-me,0),!K&&d&(S|_)&&(d&=~(S|_)),!d||d==w)var at=Zw(o,d,g);else d==S||d==_?at=e_(o,d,K):(d==M||d==(w|M))&&!E.length?at=t_(o,d,g,y):at=oc.apply(n,Ye);var gt=ze?bv:Yv;return Xv(gt(at,Ye),o,d)}function Hv(o,d,g,y){return o===n||ei(o,Js[g])&&!Dt.call(y,g)?d:o}function Dv(o,d,g,y,E,$){return sn(o)&&sn(d)&&($.set(d,o),rc(o,d,n,Dv,$),$.delete(d)),o}function r_(o){return m0(o)?n:o}function zv(o,d,g,y,E,$){var W=g&v,K=o.length,X=d.length;if(K!=X&&!(W&&X>K))return!1;var me=$.get(o),we=$.get(d);if(me&&we)return me==d&&we==o;var Me=-1,ze=!0,Ye=g&b?new ns:n;for($.set(o,d),$.set(d,o);++Me<K;){var at=o[Me],gt=d[Me];if(y)var st=W?y(gt,at,Me,d,o,$):y(at,gt,Me,o,d,$);if(st!==n){if(st)continue;ze=!1;break}if(Ye){if(!Sf(d,function(wt,St){if(!r0(Ye,St)&&(at===wt||E(at,wt,g,y,$)))return Ye.push(St)})){ze=!1;break}}else if(!(at===gt||E(at,gt,g,y,$))){ze=!1;break}}return $.delete(o),$.delete(d),ze}function i_(o,d,g,y,E,$,W){switch(g){case Ze:if(o.byteLength!=d.byteLength||o.byteOffset!=d.byteOffset)return!1;o=o.buffer,d=d.buffer;case Qe:return!(o.byteLength!=d.byteLength||!$(new ql(o),new ql(d)));case xe:case rt:case fe:return ei(+o,+d);case Ve:return o.name==d.name&&o.message==d.message;case Z:case Fe:return o==d+"";case Q:var K=Nf;case se:var X=y&v;if(K||(K=Hl),o.size!=d.size&&!X)return!1;var me=W.get(o);if(me)return me==d;y|=b,W.set(o,d);var we=zv(K(o),K(d),y,E,$,W);return W.delete(o),we;case Te:if(l0)return l0.call(o)==l0.call(d)}return!1}function a_(o,d,g,y,E,$){var W=g&v,K=rd(o),X=K.length,me=rd(d),we=me.length;if(X!=we&&!W)return!1;for(var Me=X;Me--;){var ze=K[Me];if(!(W?ze in d:Dt.call(d,ze)))return!1}var Ye=$.get(o),at=$.get(d);if(Ye&&at)return Ye==d&&at==o;var gt=!0;$.set(o,d),$.set(d,o);for(var st=W;++Me<X;){ze=K[Me];var wt=o[ze],St=d[ze];if(y)var br=W?y(St,wt,ze,d,o,$):y(wt,St,ze,o,d,$);if(!(br===n?wt===St||E(wt,St,g,y,$):br)){gt=!1;break}st||(st=ze=="constructor")}if(gt&&!st){var Gn=o.constructor,yr=d.constructor;Gn!=yr&&"constructor"in o&&"constructor"in d&&!(typeof Gn=="function"&&Gn instanceof Gn&&typeof yr=="function"&&yr instanceof yr)&&(gt=!1)}return $.delete(o),$.delete(d),gt}function Wi(o){return fd(Gv(o,n,n2),o+"")}function rd(o){return ov(o,Sn,od)}function id(o){return ov(o,tr,Wv)}var ad=Jl?function(o){return Jl.get(o)}:Cd;function fc(o){for(var d=o.name+"",g=Zs[d],y=Dt.call(Zs,d)?g.length:0;y--;){var E=g[y],$=E.func;if($==null||$==o)return E.name}return d}function ro(o){var d=Dt.call(I,"placeholder")?I:o;return d.placeholder}function tt(){var o=I.iteratee||xd;return o=o===xd?uv:o,arguments.length?o(arguments[0],arguments[1]):o}function dc(o,d){var g=o.__data__;return h_(d)?g[typeof d=="string"?"string":"hash"]:g.map}function sd(o){for(var d=Sn(o),g=d.length;g--;){var y=d[g],E=o[y];d[g]=[y,E,qv(E)]}return d}function as(o,d){var g=v8(o,d);return cv(g)?g:n}function s_(o){var d=Dt.call(o,es),g=o[es];try{o[es]=n;var y=!0}catch{}var E=Ul.call(o);return y&&(d?o[es]=g:delete o[es]),E}var od=Lf?function(o){return o==null?[]:(o=Ut(o),va(Lf(o),function(d){return Kg.call(o,d)}))}:Pd,Wv=Lf?function(o){for(var d=[];o;)ma(d,od(o)),o=jl(o);return d}:Pd,Rn=qn;($f&&Rn(new $f(new ArrayBuffer(1)))!=Ze||a0&&Rn(new a0)!=Q||Bf&&Rn(Bf.resolve())!=Ee||Qs&&Rn(new Qs)!=se||s0&&Rn(new s0)!=ke)&&(Rn=function(o){var d=qn(o),g=d==be?o.constructor:n,y=g?ss(g):"";if(y)switch(y){case W8:return Ze;case U8:return Q;case V8:return Ee;case q8:return se;case j8:return ke}return d});function o_(o,d,g){for(var y=-1,E=g.length;++y<E;){var $=g[y],W=$.size;switch($.type){case"drop":o+=W;break;case"dropRight":d-=W;break;case"take":d=Bn(d,o+W);break;case"takeRight":o=_n(o,d-W);break}}return{start:o,end:d}}function l_(o){var d=o.match(Jr);return d?d[1].split(Pn):[]}function Uv(o,d,g){d=xa(d,o);for(var y=-1,E=d.length,$=!1;++y<E;){var W=bi(d[y]);if(!($=o!=null&&g(o,W)))break;o=o[W]}return $||++y!=E?$:(E=o==null?0:o.length,!!E&&yc(E)&&Ui(W,E)&&(ct(o)||os(o)))}function c_(o){var d=o.length,g=new o.constructor(d);return d&&typeof o[0]=="string"&&Dt.call(o,"index")&&(g.index=o.index,g.input=o.input),g}function Vv(o){return typeof o.constructor=="function"&&!g0(o)?eo(jl(o)):{}}function u_(o,d,g){var y=o.constructor;switch(d){case Qe:return ed(o);case xe:case rt:return new y(+o);case Ze:return Gw(o,g);case bt:case At:case Yt:case an:case zt:case Pt:case ht:case pt:case ee:return Sv(o,g);case Q:return new y;case fe:case Fe:return new y(o);case Z:return Kw(o);case se:return new y;case Te:return Yw(o)}}function f_(o,d){var g=d.length;if(!g)return o;var y=g-1;return d[y]=(g>1?"& ":"")+d[y],d=d.join(g>2?", ":" "),o.replace(tn,`{
/* [wrapped with `+d+`] */
`)}function d_(o){return ct(o)||os(o)||!!(Yg&&o&&o[Yg])}function Ui(o,d){var g=typeof o;return d=d??H,!!d&&(g=="number"||g!="symbol"&&C9.test(o))&&o>-1&&o%1==0&&o<d}function jn(o,d,g){if(!sn(g))return!1;var y=typeof d;return(y=="number"?er(g)&&Ui(d,g.length):y=="string"&&d in g)?ei(g[d],o):!1}function ld(o,d){if(ct(o))return!1;var g=typeof o;return g=="number"||g=="symbol"||g=="boolean"||o==null||mr(o)?!0:Nt.test(o)||!et.test(o)||d!=null&&o in Ut(d)}function h_(o){var d=typeof o;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?o!=="__proto__":o===null}function cd(o){var d=fc(o),g=I[d];if(typeof g!="function"||!(d in Mt.prototype))return!1;if(o===g)return!0;var y=ad(g);return!!y&&o===y[0]}function p_(o){return!!qg&&qg in o}var g_=zl?Vi:Sd;function g0(o){var d=o&&o.constructor,g=typeof d=="function"&&d.prototype||Js;return o===g}function qv(o){return o===o&&!sn(o)}function jv(o,d){return function(g){return g==null?!1:g[o]===d&&(d!==n||o in Ut(g))}}function v_(o){var d=mc(o,function(y){return g.size===c&&g.clear(),y}),g=d.cache;return d}function m_(o,d){var g=o[1],y=d[1],E=g|y,$=E<(w|x|A),W=y==A&&g==S||y==A&&g==k&&o[7].length<=d[8]||y==(A|k)&&d[7].length<=d[8]&&g==S;if(!($||W))return o;y&w&&(o[2]=d[2],E|=g&w?0:C);var K=d[3];if(K){var X=o[3];o[3]=X?Ev(X,K,d[4]):K,o[4]=X?ba(o[3],f):d[4]}return K=d[5],K&&(X=o[5],o[5]=X?Av(X,K,d[6]):K,o[6]=X?ba(o[5],f):d[6]),K=d[7],K&&(o[7]=K),y&A&&(o[8]=o[8]==null?d[8]:Bn(o[8],d[8])),o[9]==null&&(o[9]=d[9]),o[0]=d[0],o[1]=E,o}function b_(o){var d=[];if(o!=null)for(var g in Ut(o))d.push(g);return d}function y_(o){return Ul.call(o)}function Gv(o,d,g){return d=_n(d===n?o.length-1:d,0),function(){for(var y=arguments,E=-1,$=_n(y.length-d,0),W=ce($);++E<$;)W[E]=y[d+E];E=-1;for(var K=ce(d+1);++E<d;)K[E]=y[E];return K[d]=g(W),pr(o,this,K)}}function Kv(o,d){return d.length<2?o:is(o,kr(d,0,-1))}function w_(o,d){for(var g=o.length,y=Bn(d.length,g),E=Zn(o);y--;){var $=d[y];o[y]=Ui($,g)?E[$]:n}return o}function ud(o,d){if(!(d==="constructor"&&typeof o[d]=="function")&&d!="__proto__")return o[d]}var Yv=Jv(bv),v0=$8||function(o,d){return En.setTimeout(o,d)},fd=Jv(Uw);function Xv(o,d,g){var y=d+"";return fd(o,f_(y,__(l_(y),g)))}function Jv(o){var d=0,g=0;return function(){var y=H8(),E=L-(y-g);if(g=y,E>0){if(++d>=R)return arguments[0]}else d=0;return o.apply(n,arguments)}}function hc(o,d){var g=-1,y=o.length,E=y-1;for(d=d===n?y:d;++g<d;){var $=Gf(g,E),W=o[$];o[$]=o[g],o[g]=W}return o.length=d,o}var Qv=v_(function(o){var d=[];return o.charCodeAt(0)===46&&d.push(""),o.replace(Xe,function(g,y,E,$){d.push(E?$.replace(Lt,"$1"):y||g)}),d});function bi(o){if(typeof o=="string"||mr(o))return o;var d=o+"";return d=="0"&&1/o==-O?"-0":d}function ss(o){if(o!=null){try{return Wl.call(o)}catch{}try{return o+""}catch{}}return""}function __(o,d){return Sr(He,function(g){var y="_."+g[0];d&g[1]&&!Rl(o,y)&&o.push(y)}),o.sort()}function Zv(o){if(o instanceof Mt)return o.clone();var d=new Er(o.__wrapped__,o.__chain__);return d.__actions__=Zn(o.__actions__),d.__index__=o.__index__,d.__values__=o.__values__,d}function x_(o,d,g){(g?jn(o,d,g):d===n)?d=1:d=_n(ft(d),0);var y=o==null?0:o.length;if(!y||d<1)return[];for(var E=0,$=0,W=ce(Yl(y/d));E<y;)W[$++]=kr(o,E,E+=d);return W}function M_(o){for(var d=-1,g=o==null?0:o.length,y=0,E=[];++d<g;){var $=o[d];$&&(E[y++]=$)}return E}function C_(){var o=arguments.length;if(!o)return[];for(var d=ce(o-1),g=arguments[0],y=o;y--;)d[y-1]=arguments[y];return ma(ct(g)?Zn(g):[g],An(d,1))}var P_=vt(function(o,d){return hn(o)?u0(o,An(d,1,hn,!0)):[]}),S_=vt(function(o,d){var g=Or(d);return hn(g)&&(g=n),hn(o)?u0(o,An(d,1,hn,!0),tt(g,2)):[]}),T_=vt(function(o,d){var g=Or(d);return hn(g)&&(g=n),hn(o)?u0(o,An(d,1,hn,!0),n,g):[]});function E_(o,d,g){var y=o==null?0:o.length;return y?(d=g||d===n?1:ft(d),kr(o,d<0?0:d,y)):[]}function A_(o,d,g){var y=o==null?0:o.length;return y?(d=g||d===n?1:ft(d),d=y-d,kr(o,0,d<0?0:d)):[]}function k_(o,d){return o&&o.length?ac(o,tt(d,3),!0,!0):[]}function O_(o,d){return o&&o.length?ac(o,tt(d,3),!0):[]}function N_(o,d,g,y){var E=o==null?0:o.length;return E?(g&&typeof g!="number"&&jn(o,d,g)&&(g=0,y=E),Cw(o,d,g,y)):[]}function e2(o,d,g){var y=o==null?0:o.length;if(!y)return-1;var E=g==null?0:ft(g);return E<0&&(E=_n(y+E,0)),Fl(o,tt(d,3),E)}function t2(o,d,g){var y=o==null?0:o.length;if(!y)return-1;var E=y-1;return g!==n&&(E=ft(g),E=g<0?_n(y+E,0):Bn(E,y-1)),Fl(o,tt(d,3),E,!0)}function n2(o){var d=o==null?0:o.length;return d?An(o,1):[]}function I_(o){var d=o==null?0:o.length;return d?An(o,O):[]}function L_(o,d){var g=o==null?0:o.length;return g?(d=d===n?1:ft(d),An(o,d)):[]}function $_(o){for(var d=-1,g=o==null?0:o.length,y={};++d<g;){var E=o[d];y[E[0]]=E[1]}return y}function r2(o){return o&&o.length?o[0]:n}function B_(o,d,g){var y=o==null?0:o.length;if(!y)return-1;var E=g==null?0:ft(g);return E<0&&(E=_n(y+E,0)),Gs(o,d,E)}function R_(o){var d=o==null?0:o.length;return d?kr(o,0,-1):[]}var F_=vt(function(o){var d=nn(o,Qf);return d.length&&d[0]===o[0]?Wf(d):[]}),H_=vt(function(o){var d=Or(o),g=nn(o,Qf);return d===Or(g)?d=n:g.pop(),g.length&&g[0]===o[0]?Wf(g,tt(d,2)):[]}),D_=vt(function(o){var d=Or(o),g=nn(o,Qf);return d=typeof d=="function"?d:n,d&&g.pop(),g.length&&g[0]===o[0]?Wf(g,n,d):[]});function z_(o,d){return o==null?"":R8.call(o,d)}function Or(o){var d=o==null?0:o.length;return d?o[d-1]:n}function W_(o,d,g){var y=o==null?0:o.length;if(!y)return-1;var E=y;return g!==n&&(E=ft(g),E=E<0?_n(y+E,0):Bn(E,y-1)),d===d?_8(o,d,E):Fl(o,Rg,E,!0)}function U_(o,d){return o&&o.length?pv(o,ft(d)):n}var V_=vt(i2);function i2(o,d){return o&&o.length&&d&&d.length?jf(o,d):o}function q_(o,d,g){return o&&o.length&&d&&d.length?jf(o,d,tt(g,2)):o}function j_(o,d,g){return o&&o.length&&d&&d.length?jf(o,d,n,g):o}var G_=Wi(function(o,d){var g=o==null?0:o.length,y=Ff(o,d);return mv(o,nn(d,function(E){return Ui(E,g)?+E:E}).sort(Tv)),y});function K_(o,d){var g=[];if(!(o&&o.length))return g;var y=-1,E=[],$=o.length;for(d=tt(d,3);++y<$;){var W=o[y];d(W,y,o)&&(g.push(W),E.push(y))}return mv(o,E),g}function dd(o){return o==null?o:z8.call(o)}function Y_(o,d,g){var y=o==null?0:o.length;return y?(g&&typeof g!="number"&&jn(o,d,g)?(d=0,g=y):(d=d==null?0:ft(d),g=g===n?y:ft(g)),kr(o,d,g)):[]}function X_(o,d){return ic(o,d)}function J_(o,d,g){return Yf(o,d,tt(g,2))}function Q_(o,d){var g=o==null?0:o.length;if(g){var y=ic(o,d);if(y<g&&ei(o[y],d))return y}return-1}function Z_(o,d){return ic(o,d,!0)}function ex(o,d,g){return Yf(o,d,tt(g,2),!0)}function tx(o,d){var g=o==null?0:o.length;if(g){var y=ic(o,d,!0)-1;if(ei(o[y],d))return y}return-1}function nx(o){return o&&o.length?yv(o):[]}function rx(o,d){return o&&o.length?yv(o,tt(d,2)):[]}function ix(o){var d=o==null?0:o.length;return d?kr(o,1,d):[]}function ax(o,d,g){return o&&o.length?(d=g||d===n?1:ft(d),kr(o,0,d<0?0:d)):[]}function sx(o,d,g){var y=o==null?0:o.length;return y?(d=g||d===n?1:ft(d),d=y-d,kr(o,d<0?0:d,y)):[]}function ox(o,d){return o&&o.length?ac(o,tt(d,3),!1,!0):[]}function lx(o,d){return o&&o.length?ac(o,tt(d,3)):[]}var cx=vt(function(o){return _a(An(o,1,hn,!0))}),ux=vt(function(o){var d=Or(o);return hn(d)&&(d=n),_a(An(o,1,hn,!0),tt(d,2))}),fx=vt(function(o){var d=Or(o);return d=typeof d=="function"?d:n,_a(An(o,1,hn,!0),n,d)});function dx(o){return o&&o.length?_a(o):[]}function hx(o,d){return o&&o.length?_a(o,tt(d,2)):[]}function px(o,d){return d=typeof d=="function"?d:n,o&&o.length?_a(o,n,d):[]}function hd(o){if(!(o&&o.length))return[];var d=0;return o=va(o,function(g){if(hn(g))return d=_n(g.length,d),!0}),kf(d,function(g){return nn(o,Tf(g))})}function a2(o,d){if(!(o&&o.length))return[];var g=hd(o);return d==null?g:nn(g,function(y){return pr(d,n,y)})}var gx=vt(function(o,d){return hn(o)?u0(o,d):[]}),vx=vt(function(o){return Jf(va(o,hn))}),mx=vt(function(o){var d=Or(o);return hn(d)&&(d=n),Jf(va(o,hn),tt(d,2))}),bx=vt(function(o){var d=Or(o);return d=typeof d=="function"?d:n,Jf(va(o,hn),n,d)}),yx=vt(hd);function wx(o,d){return Mv(o||[],d||[],c0)}function _x(o,d){return Mv(o||[],d||[],h0)}var xx=vt(function(o){var d=o.length,g=d>1?o[d-1]:n;return g=typeof g=="function"?(o.pop(),g):n,a2(o,g)});function s2(o){var d=I(o);return d.__chain__=!0,d}function Mx(o,d){return d(o),o}function pc(o,d){return d(o)}var Cx=Wi(function(o){var d=o.length,g=d?o[0]:0,y=this.__wrapped__,E=function($){return Ff($,o)};return d>1||this.__actions__.length||!(y instanceof Mt)||!Ui(g)?this.thru(E):(y=y.slice(g,+g+(d?1:0)),y.__actions__.push({func:pc,args:[E],thisArg:n}),new Er(y,this.__chain__).thru(function($){return d&&!$.length&&$.push(n),$}))});function Px(){return s2(this)}function Sx(){return new Er(this.value(),this.__chain__)}function Tx(){this.__values__===n&&(this.__values__=w2(this.value()));var o=this.__index__>=this.__values__.length,d=o?n:this.__values__[this.__index__++];return{done:o,value:d}}function Ex(){return this}function Ax(o){for(var d,g=this;g instanceof Zl;){var y=Zv(g);y.__index__=0,y.__values__=n,d?E.__wrapped__=y:d=y;var E=y;g=g.__wrapped__}return E.__wrapped__=o,d}function kx(){var o=this.__wrapped__;if(o instanceof Mt){var d=o;return this.__actions__.length&&(d=new Mt(this)),d=d.reverse(),d.__actions__.push({func:pc,args:[dd],thisArg:n}),new Er(d,this.__chain__)}return this.thru(dd)}function Ox(){return xv(this.__wrapped__,this.__actions__)}var Nx=sc(function(o,d,g){Dt.call(o,g)?++o[g]:Di(o,g,1)});function Ix(o,d,g){var y=ct(o)?$g:Mw;return g&&jn(o,d,g)&&(d=n),y(o,tt(d,3))}function Lx(o,d){var g=ct(o)?va:av;return g(o,tt(d,3))}var $x=Iv(e2),Bx=Iv(t2);function Rx(o,d){return An(gc(o,d),1)}function Fx(o,d){return An(gc(o,d),O)}function Hx(o,d,g){return g=g===n?1:ft(g),An(gc(o,d),g)}function o2(o,d){var g=ct(o)?Sr:wa;return g(o,tt(d,3))}function l2(o,d){var g=ct(o)?i8:iv;return g(o,tt(d,3))}var Dx=sc(function(o,d,g){Dt.call(o,g)?o[g].push(d):Di(o,g,[d])});function zx(o,d,g,y){o=er(o)?o:ao(o),g=g&&!y?ft(g):0;var E=o.length;return g<0&&(g=_n(E+g,0)),wc(o)?g<=E&&o.indexOf(d,g)>-1:!!E&&Gs(o,d,g)>-1}var Wx=vt(function(o,d,g){var y=-1,E=typeof d=="function",$=er(o)?ce(o.length):[];return wa(o,function(W){$[++y]=E?pr(d,W,g):f0(W,d,g)}),$}),Ux=sc(function(o,d,g){Di(o,g,d)});function gc(o,d){var g=ct(o)?nn:fv;return g(o,tt(d,3))}function Vx(o,d,g,y){return o==null?[]:(ct(d)||(d=d==null?[]:[d]),g=y?n:g,ct(g)||(g=g==null?[]:[g]),gv(o,d,g))}var qx=sc(function(o,d,g){o[g?0:1].push(d)},function(){return[[],[]]});function jx(o,d,g){var y=ct(o)?Pf:Hg,E=arguments.length<3;return y(o,tt(d,4),g,E,wa)}function Gx(o,d,g){var y=ct(o)?a8:Hg,E=arguments.length<3;return y(o,tt(d,4),g,E,iv)}function Kx(o,d){var g=ct(o)?va:av;return g(o,bc(tt(d,3)))}function Yx(o){var d=ct(o)?ev:zw;return d(o)}function Xx(o,d,g){(g?jn(o,d,g):d===n)?d=1:d=ft(d);var y=ct(o)?bw:Ww;return y(o,d)}function Jx(o){var d=ct(o)?yw:Vw;return d(o)}function Qx(o){if(o==null)return 0;if(er(o))return wc(o)?Ys(o):o.length;var d=Rn(o);return d==Q||d==se?o.size:Vf(o).length}function Zx(o,d,g){var y=ct(o)?Sf:qw;return g&&jn(o,d,g)&&(d=n),y(o,tt(d,3))}var eM=vt(function(o,d){if(o==null)return[];var g=d.length;return g>1&&jn(o,d[0],d[1])?d=[]:g>2&&jn(d[0],d[1],d[2])&&(d=[d[0]]),gv(o,An(d,1),[])}),vc=L8||function(){return En.Date.now()};function tM(o,d){if(typeof d!="function")throw new Tr(s);return o=ft(o),function(){if(--o<1)return d.apply(this,arguments)}}function c2(o,d,g){return d=g?n:d,d=o&&d==null?o.length:d,zi(o,A,n,n,n,n,d)}function u2(o,d){var g;if(typeof d!="function")throw new Tr(s);return o=ft(o),function(){return--o>0&&(g=d.apply(this,arguments)),o<=1&&(d=n),g}}var pd=vt(function(o,d,g){var y=w;if(g.length){var E=ba(g,ro(pd));y|=M}return zi(o,y,d,g,E)}),f2=vt(function(o,d,g){var y=w|x;if(g.length){var E=ba(g,ro(f2));y|=M}return zi(d,y,o,g,E)});function d2(o,d,g){d=g?n:d;var y=zi(o,S,n,n,n,n,n,d);return y.placeholder=d2.placeholder,y}function h2(o,d,g){d=g?n:d;var y=zi(o,_,n,n,n,n,n,d);return y.placeholder=h2.placeholder,y}function p2(o,d,g){var y,E,$,W,K,X,me=0,we=!1,Me=!1,ze=!0;if(typeof o!="function")throw new Tr(s);d=Nr(d)||0,sn(g)&&(we=!!g.leading,Me="maxWait"in g,$=Me?_n(Nr(g.maxWait)||0,d):$,ze="trailing"in g?!!g.trailing:ze);function Ye(pn){var ti=y,ji=E;return y=E=n,me=pn,W=o.apply(ji,ti),W}function at(pn){return me=pn,K=v0(wt,d),we?Ye(pn):W}function gt(pn){var ti=pn-X,ji=pn-me,I2=d-ti;return Me?Bn(I2,$-ji):I2}function st(pn){var ti=pn-X,ji=pn-me;return X===n||ti>=d||ti<0||Me&&ji>=$}function wt(){var pn=vc();if(st(pn))return St(pn);K=v0(wt,gt(pn))}function St(pn){return K=n,ze&&y?Ye(pn):(y=E=n,W)}function br(){K!==n&&Cv(K),me=0,y=X=E=K=n}function Gn(){return K===n?W:St(vc())}function yr(){var pn=vc(),ti=st(pn);if(y=arguments,E=this,X=pn,ti){if(K===n)return at(X);if(Me)return Cv(K),K=v0(wt,d),Ye(X)}return K===n&&(K=v0(wt,d)),W}return yr.cancel=br,yr.flush=Gn,yr}var nM=vt(function(o,d){return rv(o,1,d)}),rM=vt(function(o,d,g){return rv(o,Nr(d)||0,g)});function iM(o){return zi(o,B)}function mc(o,d){if(typeof o!="function"||d!=null&&typeof d!="function")throw new Tr(s);var g=function(){var y=arguments,E=d?d.apply(this,y):y[0],$=g.cache;if($.has(E))return $.get(E);var W=o.apply(this,y);return g.cache=$.set(E,W)||$,W};return g.cache=new(mc.Cache||Hi),g}mc.Cache=Hi;function bc(o){if(typeof o!="function")throw new Tr(s);return function(){var d=arguments;switch(d.length){case 0:return!o.call(this);case 1:return!o.call(this,d[0]);case 2:return!o.call(this,d[0],d[1]);case 3:return!o.call(this,d[0],d[1],d[2])}return!o.apply(this,d)}}function aM(o){return u2(2,o)}var sM=jw(function(o,d){d=d.length==1&&ct(d[0])?nn(d[0],gr(tt())):nn(An(d,1),gr(tt()));var g=d.length;return vt(function(y){for(var E=-1,$=Bn(y.length,g);++E<$;)y[E]=d[E].call(this,y[E]);return pr(o,this,y)})}),gd=vt(function(o,d){var g=ba(d,ro(gd));return zi(o,M,n,d,g)}),g2=vt(function(o,d){var g=ba(d,ro(g2));return zi(o,P,n,d,g)}),oM=Wi(function(o,d){return zi(o,k,n,n,n,d)});function lM(o,d){if(typeof o!="function")throw new Tr(s);return d=d===n?d:ft(d),vt(o,d)}function cM(o,d){if(typeof o!="function")throw new Tr(s);return d=d==null?0:_n(ft(d),0),vt(function(g){var y=g[d],E=Ma(g,0,d);return y&&ma(E,y),pr(o,this,E)})}function uM(o,d,g){var y=!0,E=!0;if(typeof o!="function")throw new Tr(s);return sn(g)&&(y="leading"in g?!!g.leading:y,E="trailing"in g?!!g.trailing:E),p2(o,d,{leading:y,maxWait:d,trailing:E})}function fM(o){return c2(o,1)}function dM(o,d){return gd(Zf(d),o)}function hM(){if(!arguments.length)return[];var o=arguments[0];return ct(o)?o:[o]}function pM(o){return Ar(o,m)}function gM(o,d){return d=typeof d=="function"?d:n,Ar(o,m,d)}function vM(o){return Ar(o,h|m)}function mM(o,d){return d=typeof d=="function"?d:n,Ar(o,h|m,d)}function bM(o,d){return d==null||nv(o,d,Sn(d))}function ei(o,d){return o===d||o!==o&&d!==d}var yM=uc(zf),wM=uc(function(o,d){return o>=d}),os=lv(function(){return arguments}())?lv:function(o){return ln(o)&&Dt.call(o,"callee")&&!Kg.call(o,"callee")},ct=ce.isArray,_M=Ag?gr(Ag):Aw;function er(o){return o!=null&&yc(o.length)&&!Vi(o)}function hn(o){return ln(o)&&er(o)}function xM(o){return o===!0||o===!1||ln(o)&&qn(o)==xe}var Ca=B8||Sd,MM=kg?gr(kg):kw;function CM(o){return ln(o)&&o.nodeType===1&&!m0(o)}function PM(o){if(o==null)return!0;if(er(o)&&(ct(o)||typeof o=="string"||typeof o.splice=="function"||Ca(o)||io(o)||os(o)))return!o.length;var d=Rn(o);if(d==Q||d==se)return!o.size;if(g0(o))return!Vf(o).length;for(var g in o)if(Dt.call(o,g))return!1;return!0}function SM(o,d){return d0(o,d)}function TM(o,d,g){g=typeof g=="function"?g:n;var y=g?g(o,d):n;return y===n?d0(o,d,n,g):!!y}function vd(o){if(!ln(o))return!1;var d=qn(o);return d==Ve||d==De||typeof o.message=="string"&&typeof o.name=="string"&&!m0(o)}function EM(o){return typeof o=="number"&&Xg(o)}function Vi(o){if(!sn(o))return!1;var d=qn(o);return d==z||d==j||d==Ie||d==ve}function v2(o){return typeof o=="number"&&o==ft(o)}function yc(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=H}function sn(o){var d=typeof o;return o!=null&&(d=="object"||d=="function")}function ln(o){return o!=null&&typeof o=="object"}var m2=Og?gr(Og):Nw;function AM(o,d){return o===d||Uf(o,d,sd(d))}function kM(o,d,g){return g=typeof g=="function"?g:n,Uf(o,d,sd(d),g)}function OM(o){return b2(o)&&o!=+o}function NM(o){if(g_(o))throw new lt(a);return cv(o)}function IM(o){return o===null}function LM(o){return o==null}function b2(o){return typeof o=="number"||ln(o)&&qn(o)==fe}function m0(o){if(!ln(o)||qn(o)!=be)return!1;var d=jl(o);if(d===null)return!0;var g=Dt.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&Wl.call(g)==k8}var md=Ng?gr(Ng):Iw;function $M(o){return v2(o)&&o>=-H&&o<=H}var y2=Ig?gr(Ig):Lw;function wc(o){return typeof o=="string"||!ct(o)&&ln(o)&&qn(o)==Fe}function mr(o){return typeof o=="symbol"||ln(o)&&qn(o)==Te}var io=Lg?gr(Lg):$w;function BM(o){return o===n}function RM(o){return ln(o)&&Rn(o)==ke}function FM(o){return ln(o)&&qn(o)==We}var HM=uc(qf),DM=uc(function(o,d){return o<=d});function w2(o){if(!o)return[];if(er(o))return wc(o)?Qr(o):Zn(o);if(i0&&o[i0])return b8(o[i0]());var d=Rn(o),g=d==Q?Nf:d==se?Hl:ao;return g(o)}function qi(o){if(!o)return o===0?o:0;if(o=Nr(o),o===O||o===-O){var d=o<0?-1:1;return d*V}return o===o?o:0}function ft(o){var d=qi(o),g=d%1;return d===d?g?d-g:d:0}function _2(o){return o?rs(ft(o),0,_e):0}function Nr(o){if(typeof o=="number")return o;if(mr(o))return ne;if(sn(o)){var d=typeof o.valueOf=="function"?o.valueOf():o;o=sn(d)?d+"":d}if(typeof o!="string")return o===0?o:+o;o=Dg(o);var g=_9.test(o);return g||M9.test(o)?t8(o.slice(2),g?2:8):w9.test(o)?ne:+o}function x2(o){return mi(o,tr(o))}function zM(o){return o?rs(ft(o),-H,H):o===0?o:0}function Ht(o){return o==null?"":vr(o)}var WM=to(function(o,d){if(g0(d)||er(d)){mi(d,Sn(d),o);return}for(var g in d)Dt.call(d,g)&&c0(o,g,d[g])}),M2=to(function(o,d){mi(d,tr(d),o)}),_c=to(function(o,d,g,y){mi(d,tr(d),o,y)}),UM=to(function(o,d,g,y){mi(d,Sn(d),o,y)}),VM=Wi(Ff);function qM(o,d){var g=eo(o);return d==null?g:tv(g,d)}var jM=vt(function(o,d){o=Ut(o);var g=-1,y=d.length,E=y>2?d[2]:n;for(E&&jn(d[0],d[1],E)&&(y=1);++g<y;)for(var $=d[g],W=tr($),K=-1,X=W.length;++K<X;){var me=W[K],we=o[me];(we===n||ei(we,Js[me])&&!Dt.call(o,me))&&(o[me]=$[me])}return o}),GM=vt(function(o){return o.push(n,Dv),pr(C2,n,o)});function KM(o,d){return Bg(o,tt(d,3),vi)}function YM(o,d){return Bg(o,tt(d,3),Df)}function XM(o,d){return o==null?o:Hf(o,tt(d,3),tr)}function JM(o,d){return o==null?o:sv(o,tt(d,3),tr)}function QM(o,d){return o&&vi(o,tt(d,3))}function ZM(o,d){return o&&Df(o,tt(d,3))}function eC(o){return o==null?[]:nc(o,Sn(o))}function tC(o){return o==null?[]:nc(o,tr(o))}function bd(o,d,g){var y=o==null?n:is(o,d);return y===n?g:y}function nC(o,d){return o!=null&&Uv(o,d,Pw)}function yd(o,d){return o!=null&&Uv(o,d,Sw)}var rC=$v(function(o,d,g){d!=null&&typeof d.toString!="function"&&(d=Ul.call(d)),o[d]=g},_d(nr)),iC=$v(function(o,d,g){d!=null&&typeof d.toString!="function"&&(d=Ul.call(d)),Dt.call(o,d)?o[d].push(g):o[d]=[g]},tt),aC=vt(f0);function Sn(o){return er(o)?Zg(o):Vf(o)}function tr(o){return er(o)?Zg(o,!0):Bw(o)}function sC(o,d){var g={};return d=tt(d,3),vi(o,function(y,E,$){Di(g,d(y,E,$),y)}),g}function oC(o,d){var g={};return d=tt(d,3),vi(o,function(y,E,$){Di(g,E,d(y,E,$))}),g}var lC=to(function(o,d,g){rc(o,d,g)}),C2=to(function(o,d,g,y){rc(o,d,g,y)}),cC=Wi(function(o,d){var g={};if(o==null)return g;var y=!1;d=nn(d,function($){return $=xa($,o),y||(y=$.length>1),$}),mi(o,id(o),g),y&&(g=Ar(g,h|p|m,r_));for(var E=d.length;E--;)Xf(g,d[E]);return g});function uC(o,d){return P2(o,bc(tt(d)))}var fC=Wi(function(o,d){return o==null?{}:Fw(o,d)});function P2(o,d){if(o==null)return{};var g=nn(id(o),function(y){return[y]});return d=tt(d),vv(o,g,function(y,E){return d(y,E[0])})}function dC(o,d,g){d=xa(d,o);var y=-1,E=d.length;for(E||(E=1,o=n);++y<E;){var $=o==null?n:o[bi(d[y])];$===n&&(y=E,$=g),o=Vi($)?$.call(o):$}return o}function hC(o,d,g){return o==null?o:h0(o,d,g)}function pC(o,d,g,y){return y=typeof y=="function"?y:n,o==null?o:h0(o,d,g,y)}var S2=Fv(Sn),T2=Fv(tr);function gC(o,d,g){var y=ct(o),E=y||Ca(o)||io(o);if(d=tt(d,4),g==null){var $=o&&o.constructor;E?g=y?new $:[]:sn(o)?g=Vi($)?eo(jl(o)):{}:g={}}return(E?Sr:vi)(o,function(W,K,X){return d(g,W,K,X)}),g}function vC(o,d){return o==null?!0:Xf(o,d)}function mC(o,d,g){return o==null?o:_v(o,d,Zf(g))}function bC(o,d,g,y){return y=typeof y=="function"?y:n,o==null?o:_v(o,d,Zf(g),y)}function ao(o){return o==null?[]:Of(o,Sn(o))}function yC(o){return o==null?[]:Of(o,tr(o))}function wC(o,d,g){return g===n&&(g=d,d=n),g!==n&&(g=Nr(g),g=g===g?g:0),d!==n&&(d=Nr(d),d=d===d?d:0),rs(Nr(o),d,g)}function _C(o,d,g){return d=qi(d),g===n?(g=d,d=0):g=qi(g),o=Nr(o),Tw(o,d,g)}function xC(o,d,g){if(g&&typeof g!="boolean"&&jn(o,d,g)&&(d=g=n),g===n&&(typeof d=="boolean"?(g=d,d=n):typeof o=="boolean"&&(g=o,o=n)),o===n&&d===n?(o=0,d=1):(o=qi(o),d===n?(d=o,o=0):d=qi(d)),o>d){var y=o;o=d,d=y}if(g||o%1||d%1){var E=Jg();return Bn(o+E*(d-o+e8("1e-"+((E+"").length-1))),d)}return Gf(o,d)}var MC=no(function(o,d,g){return d=d.toLowerCase(),o+(g?E2(d):d)});function E2(o){return wd(Ht(o).toLowerCase())}function A2(o){return o=Ht(o),o&&o.replace(P9,h8).replace(V9,"")}function CC(o,d,g){o=Ht(o),d=vr(d);var y=o.length;g=g===n?y:rs(ft(g),0,y);var E=g;return g-=d.length,g>=0&&o.slice(g,E)==d}function PC(o){return o=Ht(o),o&&oe.test(o)?o.replace(G,p8):o}function SC(o){return o=Ht(o),o&&It.test(o)?o.replace(yt,"\\$&"):o}var TC=no(function(o,d,g){return o+(g?"-":"")+d.toLowerCase()}),EC=no(function(o,d,g){return o+(g?" ":"")+d.toLowerCase()}),AC=Nv("toLowerCase");function kC(o,d,g){o=Ht(o),d=ft(d);var y=d?Ys(o):0;if(!d||y>=d)return o;var E=(d-y)/2;return cc(Xl(E),g)+o+cc(Yl(E),g)}function OC(o,d,g){o=Ht(o),d=ft(d);var y=d?Ys(o):0;return d&&y<d?o+cc(d-y,g):o}function NC(o,d,g){o=Ht(o),d=ft(d);var y=d?Ys(o):0;return d&&y<d?cc(d-y,g)+o:o}function IC(o,d,g){return g||d==null?d=0:d&&(d=+d),D8(Ht(o).replace($t,""),d||0)}function LC(o,d,g){return(g?jn(o,d,g):d===n)?d=1:d=ft(d),Kf(Ht(o),d)}function $C(){var o=arguments,d=Ht(o[0]);return o.length<3?d:d.replace(o[1],o[2])}var BC=no(function(o,d,g){return o+(g?"_":"")+d.toLowerCase()});function RC(o,d,g){return g&&typeof g!="number"&&jn(o,d,g)&&(d=g=n),g=g===n?_e:g>>>0,g?(o=Ht(o),o&&(typeof d=="string"||d!=null&&!md(d))&&(d=vr(d),!d&&Ks(o))?Ma(Qr(o),0,g):o.split(d,g)):[]}var FC=no(function(o,d,g){return o+(g?" ":"")+wd(d)});function HC(o,d,g){return o=Ht(o),g=g==null?0:rs(ft(g),0,o.length),d=vr(d),o.slice(g,g+d.length)==d}function DC(o,d,g){var y=I.templateSettings;g&&jn(o,d,g)&&(d=n),o=Ht(o),d=_c({},d,y,Hv);var E=_c({},d.imports,y.imports,Hv),$=Sn(E),W=Of(E,$),K,X,me=0,we=d.interpolate||Ll,Me="__p += '",ze=If((d.escape||Ll).source+"|"+we.source+"|"+(we===Be?ga:Ll).source+"|"+(d.evaluate||Ll).source+"|$","g"),Ye="//# sourceURL="+(Dt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Y9+"]")+`
`;o.replace(ze,function(st,wt,St,br,Gn,yr){return St||(St=br),Me+=o.slice(me,yr).replace(S9,g8),wt&&(K=!0,Me+=`' +
__e(`+wt+`) +
'`),Gn&&(X=!0,Me+=`';
`+Gn+`;
__p += '`),St&&(Me+=`' +
((__t = (`+St+`)) == null ? '' : __t) +
'`),me=yr+st.length,st}),Me+=`';
`;var at=Dt.call(d,"variable")&&d.variable;if(!at)Me=`with (obj) {
`+Me+`
}
`;else if(dn.test(at))throw new lt(l);Me=(X?Me.replace(ye,""):Me).replace(je,"$1").replace(it,"$1;"),Me="function("+(at||"obj")+`) {
`+(at?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(K?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Me+`return __p
}`;var gt=O2(function(){return Bt($,Ye+"return "+Me).apply(n,W)});if(gt.source=Me,vd(gt))throw gt;return gt}function zC(o){return Ht(o).toLowerCase()}function WC(o){return Ht(o).toUpperCase()}function UC(o,d,g){if(o=Ht(o),o&&(g||d===n))return Dg(o);if(!o||!(d=vr(d)))return o;var y=Qr(o),E=Qr(d),$=zg(y,E),W=Wg(y,E)+1;return Ma(y,$,W).join("")}function VC(o,d,g){if(o=Ht(o),o&&(g||d===n))return o.slice(0,Vg(o)+1);if(!o||!(d=vr(d)))return o;var y=Qr(o),E=Wg(y,Qr(d))+1;return Ma(y,0,E).join("")}function qC(o,d,g){if(o=Ht(o),o&&(g||d===n))return o.replace($t,"");if(!o||!(d=vr(d)))return o;var y=Qr(o),E=zg(y,Qr(d));return Ma(y,E).join("")}function jC(o,d){var g=F,y=U;if(sn(d)){var E="separator"in d?d.separator:E;g="length"in d?ft(d.length):g,y="omission"in d?vr(d.omission):y}o=Ht(o);var $=o.length;if(Ks(o)){var W=Qr(o);$=W.length}if(g>=$)return o;var K=g-Ys(y);if(K<1)return y;var X=W?Ma(W,0,K).join(""):o.slice(0,K);if(E===n)return X+y;if(W&&(K+=X.length-K),md(E)){if(o.slice(K).search(E)){var me,we=X;for(E.global||(E=If(E.source,Ht(Il.exec(E))+"g")),E.lastIndex=0;me=E.exec(we);)var Me=me.index;X=X.slice(0,Me===n?K:Me)}}else if(o.indexOf(vr(E),K)!=K){var ze=X.lastIndexOf(E);ze>-1&&(X=X.slice(0,ze))}return X+y}function GC(o){return o=Ht(o),o&&le.test(o)?o.replace(Ft,x8):o}var KC=no(function(o,d,g){return o+(g?" ":"")+d.toUpperCase()}),wd=Nv("toUpperCase");function k2(o,d,g){return o=Ht(o),d=g?n:d,d===n?m8(o)?P8(o):l8(o):o.match(d)||[]}var O2=vt(function(o,d){try{return pr(o,n,d)}catch(g){return vd(g)?g:new lt(g)}}),YC=Wi(function(o,d){return Sr(d,function(g){g=bi(g),Di(o,g,pd(o[g],o))}),o});function XC(o){var d=o==null?0:o.length,g=tt();return o=d?nn(o,function(y){if(typeof y[1]!="function")throw new Tr(s);return[g(y[0]),y[1]]}):[],vt(function(y){for(var E=-1;++E<d;){var $=o[E];if(pr($[0],this,y))return pr($[1],this,y)}})}function JC(o){return xw(Ar(o,h))}function _d(o){return function(){return o}}function QC(o,d){return o==null||o!==o?d:o}var ZC=Lv(),eP=Lv(!0);function nr(o){return o}function xd(o){return uv(typeof o=="function"?o:Ar(o,h))}function tP(o){return dv(Ar(o,h))}function nP(o,d){return hv(o,Ar(d,h))}var rP=vt(function(o,d){return function(g){return f0(g,o,d)}}),iP=vt(function(o,d){return function(g){return f0(o,g,d)}});function Md(o,d,g){var y=Sn(d),E=nc(d,y);g==null&&!(sn(d)&&(E.length||!y.length))&&(g=d,d=o,o=this,E=nc(d,Sn(d)));var $=!(sn(g)&&"chain"in g)||!!g.chain,W=Vi(o);return Sr(E,function(K){var X=d[K];o[K]=X,W&&(o.prototype[K]=function(){var me=this.__chain__;if($||me){var we=o(this.__wrapped__),Me=we.__actions__=Zn(this.__actions__);return Me.push({func:X,args:arguments,thisArg:o}),we.__chain__=me,we}return X.apply(o,ma([this.value()],arguments))})}),o}function aP(){return En._===this&&(En._=O8),this}function Cd(){}function sP(o){return o=ft(o),vt(function(d){return pv(d,o)})}var oP=td(nn),lP=td($g),cP=td(Sf);function N2(o){return ld(o)?Tf(bi(o)):Hw(o)}function uP(o){return function(d){return o==null?n:is(o,d)}}var fP=Bv(),dP=Bv(!0);function Pd(){return[]}function Sd(){return!1}function hP(){return{}}function pP(){return""}function gP(){return!0}function vP(o,d){if(o=ft(o),o<1||o>H)return[];var g=_e,y=Bn(o,_e);d=tt(d),o-=_e;for(var E=kf(y,d);++g<o;)d(g);return E}function mP(o){return ct(o)?nn(o,bi):mr(o)?[o]:Zn(Qv(Ht(o)))}function bP(o){var d=++A8;return Ht(o)+d}var yP=lc(function(o,d){return o+d},0),wP=nd("ceil"),_P=lc(function(o,d){return o/d},1),xP=nd("floor");function MP(o){return o&&o.length?tc(o,nr,zf):n}function CP(o,d){return o&&o.length?tc(o,tt(d,2),zf):n}function PP(o){return Fg(o,nr)}function SP(o,d){return Fg(o,tt(d,2))}function TP(o){return o&&o.length?tc(o,nr,qf):n}function EP(o,d){return o&&o.length?tc(o,tt(d,2),qf):n}var AP=lc(function(o,d){return o*d},1),kP=nd("round"),OP=lc(function(o,d){return o-d},0);function NP(o){return o&&o.length?Af(o,nr):0}function IP(o,d){return o&&o.length?Af(o,tt(d,2)):0}return I.after=tM,I.ary=c2,I.assign=WM,I.assignIn=M2,I.assignInWith=_c,I.assignWith=UM,I.at=VM,I.before=u2,I.bind=pd,I.bindAll=YC,I.bindKey=f2,I.castArray=hM,I.chain=s2,I.chunk=x_,I.compact=M_,I.concat=C_,I.cond=XC,I.conforms=JC,I.constant=_d,I.countBy=Nx,I.create=qM,I.curry=d2,I.curryRight=h2,I.debounce=p2,I.defaults=jM,I.defaultsDeep=GM,I.defer=nM,I.delay=rM,I.difference=P_,I.differenceBy=S_,I.differenceWith=T_,I.drop=E_,I.dropRight=A_,I.dropRightWhile=k_,I.dropWhile=O_,I.fill=N_,I.filter=Lx,I.flatMap=Rx,I.flatMapDeep=Fx,I.flatMapDepth=Hx,I.flatten=n2,I.flattenDeep=I_,I.flattenDepth=L_,I.flip=iM,I.flow=ZC,I.flowRight=eP,I.fromPairs=$_,I.functions=eC,I.functionsIn=tC,I.groupBy=Dx,I.initial=R_,I.intersection=F_,I.intersectionBy=H_,I.intersectionWith=D_,I.invert=rC,I.invertBy=iC,I.invokeMap=Wx,I.iteratee=xd,I.keyBy=Ux,I.keys=Sn,I.keysIn=tr,I.map=gc,I.mapKeys=sC,I.mapValues=oC,I.matches=tP,I.matchesProperty=nP,I.memoize=mc,I.merge=lC,I.mergeWith=C2,I.method=rP,I.methodOf=iP,I.mixin=Md,I.negate=bc,I.nthArg=sP,I.omit=cC,I.omitBy=uC,I.once=aM,I.orderBy=Vx,I.over=oP,I.overArgs=sM,I.overEvery=lP,I.overSome=cP,I.partial=gd,I.partialRight=g2,I.partition=qx,I.pick=fC,I.pickBy=P2,I.property=N2,I.propertyOf=uP,I.pull=V_,I.pullAll=i2,I.pullAllBy=q_,I.pullAllWith=j_,I.pullAt=G_,I.range=fP,I.rangeRight=dP,I.rearg=oM,I.reject=Kx,I.remove=K_,I.rest=lM,I.reverse=dd,I.sampleSize=Xx,I.set=hC,I.setWith=pC,I.shuffle=Jx,I.slice=Y_,I.sortBy=eM,I.sortedUniq=nx,I.sortedUniqBy=rx,I.split=RC,I.spread=cM,I.tail=ix,I.take=ax,I.takeRight=sx,I.takeRightWhile=ox,I.takeWhile=lx,I.tap=Mx,I.throttle=uM,I.thru=pc,I.toArray=w2,I.toPairs=S2,I.toPairsIn=T2,I.toPath=mP,I.toPlainObject=x2,I.transform=gC,I.unary=fM,I.union=cx,I.unionBy=ux,I.unionWith=fx,I.uniq=dx,I.uniqBy=hx,I.uniqWith=px,I.unset=vC,I.unzip=hd,I.unzipWith=a2,I.update=mC,I.updateWith=bC,I.values=ao,I.valuesIn=yC,I.without=gx,I.words=k2,I.wrap=dM,I.xor=vx,I.xorBy=mx,I.xorWith=bx,I.zip=yx,I.zipObject=wx,I.zipObjectDeep=_x,I.zipWith=xx,I.entries=S2,I.entriesIn=T2,I.extend=M2,I.extendWith=_c,Md(I,I),I.add=yP,I.attempt=O2,I.camelCase=MC,I.capitalize=E2,I.ceil=wP,I.clamp=wC,I.clone=pM,I.cloneDeep=vM,I.cloneDeepWith=mM,I.cloneWith=gM,I.conformsTo=bM,I.deburr=A2,I.defaultTo=QC,I.divide=_P,I.endsWith=CC,I.eq=ei,I.escape=PC,I.escapeRegExp=SC,I.every=Ix,I.find=$x,I.findIndex=e2,I.findKey=KM,I.findLast=Bx,I.findLastIndex=t2,I.findLastKey=YM,I.floor=xP,I.forEach=o2,I.forEachRight=l2,I.forIn=XM,I.forInRight=JM,I.forOwn=QM,I.forOwnRight=ZM,I.get=bd,I.gt=yM,I.gte=wM,I.has=nC,I.hasIn=yd,I.head=r2,I.identity=nr,I.includes=zx,I.indexOf=B_,I.inRange=_C,I.invoke=aC,I.isArguments=os,I.isArray=ct,I.isArrayBuffer=_M,I.isArrayLike=er,I.isArrayLikeObject=hn,I.isBoolean=xM,I.isBuffer=Ca,I.isDate=MM,I.isElement=CM,I.isEmpty=PM,I.isEqual=SM,I.isEqualWith=TM,I.isError=vd,I.isFinite=EM,I.isFunction=Vi,I.isInteger=v2,I.isLength=yc,I.isMap=m2,I.isMatch=AM,I.isMatchWith=kM,I.isNaN=OM,I.isNative=NM,I.isNil=LM,I.isNull=IM,I.isNumber=b2,I.isObject=sn,I.isObjectLike=ln,I.isPlainObject=m0,I.isRegExp=md,I.isSafeInteger=$M,I.isSet=y2,I.isString=wc,I.isSymbol=mr,I.isTypedArray=io,I.isUndefined=BM,I.isWeakMap=RM,I.isWeakSet=FM,I.join=z_,I.kebabCase=TC,I.last=Or,I.lastIndexOf=W_,I.lowerCase=EC,I.lowerFirst=AC,I.lt=HM,I.lte=DM,I.max=MP,I.maxBy=CP,I.mean=PP,I.meanBy=SP,I.min=TP,I.minBy=EP,I.stubArray=Pd,I.stubFalse=Sd,I.stubObject=hP,I.stubString=pP,I.stubTrue=gP,I.multiply=AP,I.nth=U_,I.noConflict=aP,I.noop=Cd,I.now=vc,I.pad=kC,I.padEnd=OC,I.padStart=NC,I.parseInt=IC,I.random=xC,I.reduce=jx,I.reduceRight=Gx,I.repeat=LC,I.replace=$C,I.result=dC,I.round=kP,I.runInContext=Y,I.sample=Yx,I.size=Qx,I.snakeCase=BC,I.some=Zx,I.sortedIndex=X_,I.sortedIndexBy=J_,I.sortedIndexOf=Q_,I.sortedLastIndex=Z_,I.sortedLastIndexBy=ex,I.sortedLastIndexOf=tx,I.startCase=FC,I.startsWith=HC,I.subtract=OP,I.sum=NP,I.sumBy=IP,I.template=DC,I.times=vP,I.toFinite=qi,I.toInteger=ft,I.toLength=_2,I.toLower=zC,I.toNumber=Nr,I.toSafeInteger=zM,I.toString=Ht,I.toUpper=WC,I.trim=UC,I.trimEnd=VC,I.trimStart=qC,I.truncate=jC,I.unescape=GC,I.uniqueId=bP,I.upperCase=KC,I.upperFirst=wd,I.each=o2,I.eachRight=l2,I.first=r2,Md(I,function(){var o={};return vi(I,function(d,g){Dt.call(I.prototype,g)||(o[g]=d)}),o}(),{chain:!1}),I.VERSION=r,Sr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){I[o].placeholder=I}),Sr(["drop","take"],function(o,d){Mt.prototype[o]=function(g){g=g===n?1:_n(ft(g),0);var y=this.__filtered__&&!d?new Mt(this):this.clone();return y.__filtered__?y.__takeCount__=Bn(g,y.__takeCount__):y.__views__.push({size:Bn(g,_e),type:o+(y.__dir__<0?"Right":"")}),y},Mt.prototype[o+"Right"]=function(g){return this.reverse()[o](g).reverse()}}),Sr(["filter","map","takeWhile"],function(o,d){var g=d+1,y=g==D||g==N;Mt.prototype[o]=function(E){var $=this.clone();return $.__iteratees__.push({iteratee:tt(E,3),type:g}),$.__filtered__=$.__filtered__||y,$}}),Sr(["head","last"],function(o,d){var g="take"+(d?"Right":"");Mt.prototype[o]=function(){return this[g](1).value()[0]}}),Sr(["initial","tail"],function(o,d){var g="drop"+(d?"":"Right");Mt.prototype[o]=function(){return this.__filtered__?new Mt(this):this[g](1)}}),Mt.prototype.compact=function(){return this.filter(nr)},Mt.prototype.find=function(o){return this.filter(o).head()},Mt.prototype.findLast=function(o){return this.reverse().find(o)},Mt.prototype.invokeMap=vt(function(o,d){return typeof o=="function"?new Mt(this):this.map(function(g){return f0(g,o,d)})}),Mt.prototype.reject=function(o){return this.filter(bc(tt(o)))},Mt.prototype.slice=function(o,d){o=ft(o);var g=this;return g.__filtered__&&(o>0||d<0)?new Mt(g):(o<0?g=g.takeRight(-o):o&&(g=g.drop(o)),d!==n&&(d=ft(d),g=d<0?g.dropRight(-d):g.take(d-o)),g)},Mt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Mt.prototype.toArray=function(){return this.take(_e)},vi(Mt.prototype,function(o,d){var g=/^(?:filter|find|map|reject)|While$/.test(d),y=/^(?:head|last)$/.test(d),E=I[y?"take"+(d=="last"?"Right":""):d],$=y||/^find/.test(d);E&&(I.prototype[d]=function(){var W=this.__wrapped__,K=y?[1]:arguments,X=W instanceof Mt,me=K[0],we=X||ct(W),Me=function(wt){var St=E.apply(I,ma([wt],K));return y&&ze?St[0]:St};we&&g&&typeof me=="function"&&me.length!=1&&(X=we=!1);var ze=this.__chain__,Ye=!!this.__actions__.length,at=$&&!ze,gt=X&&!Ye;if(!$&&we){W=gt?W:new Mt(this);var st=o.apply(W,K);return st.__actions__.push({func:pc,args:[Me],thisArg:n}),new Er(st,ze)}return at&&gt?o.apply(this,K):(st=this.thru(Me),at?y?st.value()[0]:st.value():st)})}),Sr(["pop","push","shift","sort","splice","unshift"],function(o){var d=Dl[o],g=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",y=/^(?:pop|shift)$/.test(o);I.prototype[o]=function(){var E=arguments;if(y&&!this.__chain__){var $=this.value();return d.apply(ct($)?$:[],E)}return this[g](function(W){return d.apply(ct(W)?W:[],E)})}}),vi(Mt.prototype,function(o,d){var g=I[d];if(g){var y=g.name+"";Dt.call(Zs,y)||(Zs[y]=[]),Zs[y].push({name:d,func:g})}}),Zs[oc(n,x).name]=[{name:"wrapper",func:n}],Mt.prototype.clone=G8,Mt.prototype.reverse=K8,Mt.prototype.value=Y8,I.prototype.at=Cx,I.prototype.chain=Px,I.prototype.commit=Sx,I.prototype.next=Tx,I.prototype.plant=Ax,I.prototype.reverse=kx,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=Ox,I.prototype.first=I.prototype.head,i0&&(I.prototype[i0]=Ex),I},Xs=S8();Za?((Za.exports=Xs)._=Xs,xf._=Xs):En._=Xs}).call(C0)})(Lu,Lu.exports);var Yz=Lu.exports;const xn=uf(Yz);var $u=(e,t)=>Array(Math.abs(t)+1).join(e);function Xz(e,t,n){return function(...r){return console.warn(`${e} is deprecated. Use ${t}.`),n.apply(this,r)}}function my(e){return e!==null&&typeof e=="object"&&typeof e.name=="string"}function by(e){return e!==null&&typeof e=="object"&&typeof e.step=="number"&&typeof e.alt=="number"}var yy=[0,2,4,-1,1,3,5],wy=yy.map(e=>Math.floor(e*7/12));function _y(e){const{step:t,alt:n,oct:r,dir:i=1}=e,a=yy[t]+7*n;if(r===void 0)return[i*a];const s=r-wy[t]-4*n;return[i*a,i*s]}var Jz=[3,0,4,1,5,2,6];function xy(e){const[t,n,r]=e,i=Jz[Qz(t)],a=Math.floor((t+1)/7);if(n===void 0)return{step:i,alt:a,dir:r};const s=n+4*a+wy[i];return{step:i,alt:a,oct:s,dir:r}}function Qz(e){const t=(e+1)%7;return t<0?7+t:t}var My={empty:!0,name:"",pc:"",acc:""},Y3=new Map,Zz=e=>"CDEFGAB".charAt(e),eW=e=>e<0?$u("b",-e):$u("#",e),tW=e=>e[0]==="b"?-e.length:e.length;function yn(e){const t=JSON.stringify(e),n=Y3.get(t);if(n)return n;const r=typeof e=="string"?sW(e):by(e)?yn(oW(e)):my(e)?yn(e.name):My;return Y3.set(t,r),r}var nW=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function rW(e){const t=nW.exec(e);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}function iW(e){return yn(xy(e))}var aW=(e,t)=>(e%t+t)%t,Jd=[0,2,4,5,7,9,11];function sW(e){const t=rW(e);if(t[0]===""||t[3]!=="")return My;const n=t[0],r=t[1],i=t[2],a=(n.charCodeAt(0)+3)%7,s=tW(r),l=i.length?+i:void 0,u=_y({step:a,alt:s,oct:l}),c=n+r+i,f=n+r,h=(Jd[a]+s+120)%12,p=l===void 0?aW(Jd[a]+s,12)-12*99:Jd[a]+s+12*(l+1),m=p>=0&&p<=127?p:null,v=l===void 0?null:Math.pow(2,(p-69)/12)*440;return{empty:!1,acc:r,alt:s,chroma:h,coord:u,freq:v,height:p,letter:n,midi:m,name:c,oct:l,pc:f,step:a}}function oW(e){const{step:t,alt:n,oct:r}=e,i=Zz(t);if(!i)return"";const a=i+eW(n);return r||r===0?a+r:a}var Xh={empty:!0,name:"",acc:""},lW="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",cW="(AA|A|P|M|m|d|dd)([-+]?\\d+)",uW=new RegExp("^"+lW+"|"+cW+"$");function fW(e){const t=uW.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var X3={};function Qn(e){return typeof e=="string"?X3[e]||(X3[e]=dW(e)):by(e)?Qn(pW(e)):my(e)?Qn(e.name):Xh}var J3=[0,2,4,5,7,9,11],Cy="PMMPPMM";function dW(e){const t=fW(e);if(t[0]==="")return Xh;const n=+t[0],r=t[1],i=(Math.abs(n)-1)%7,a=Cy[i];if(a==="M"&&r==="P")return Xh;const s=a==="M"?"majorable":"perfectable",l=""+n+r,u=n<0?-1:1,c=n===8||n===-8?n:u*(i+1),f=hW(s,r),h=Math.floor((Math.abs(n)-1)/7),p=u*(J3[i]+f+12*h),m=(u*(J3[i]+f)%12+12)%12,v=_y({step:i,alt:f,oct:h,dir:u});return{empty:!1,name:l,num:n,q:r,step:i,alt:f,dir:u,type:s,simple:c,semitones:p,chroma:m,coord:v,oct:h}}function Sp(e,t){const[n,r=0]=e,i=n*7+r*12<0,a=t||i?[-n,-r,-1]:[n,r,1];return Qn(xy(a))}function hW(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function pW(e){const{step:t,alt:n,oct:r=0,dir:i}=e;if(!i)return"";const a=t+1+7*r,s=a===0?t+1:a,l=i<0?"-":"",u=Cy[t]==="M"?"majorable":"perfectable";return l+s+gW(u,n)}function gW(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?$u("A",t):$u("d",e==="perfectable"?t:t+1)}function Do(e,t){const n=yn(e),r=Array.isArray(t)?t:Qn(t).coord;if(n.empty||!r||r.length<2)return"";const i=n.coord,a=i.length===1?[i[0]+r[0]]:[i[0]+r[0],i[1]+r[1]];return iW(a).name}function Py(e,t){const n=e.length;return r=>{if(!t)return"";const i=r<0?(n- -r%n)%n:r%n,a=Math.floor(r/n),s=Do(t,[0,a]);return Do(s,e[i])}}function vW(e,t){const n=yn(e),r=yn(t);if(n.empty||r.empty)return"";const i=n.coord,a=r.coord,s=a[0]-i[0],l=i.length===2&&a.length===2?a[1]-i[1]:-Math.floor(s*7/12),u=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return Sp([s,l],u).name}function mW(e,t){const n=[];for(;t--;n[t]=t+e);return n}function bW(e,t){const n=[];for(;t--;n[t]=e-t);return n}function yW(e,t){return e<t?mW(e,t-e+1):bW(e,e-t+1)}function Ml(e,t){const n=t.length,r=(e%n+n)%n;return t.slice(r,n).concat(t.slice(0,r))}function wW(e){return e.filter(t=>t===0||t)}var Fs={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Sy=e=>Number(e).toString(2),Q3=e=>parseInt(e,2),_W=/^[01]{12}$/;function Tp(e){return _W.test(e)}var xW=e=>typeof e=="number"&&e>=0&&e<=4095,MW=e=>e&&Tp(e.chroma),Z3={[Fs.chroma]:Fs};function Ga(e){const t=Tp(e)?e:xW(e)?Sy(e):Array.isArray(e)?OW(e):MW(e)?e.chroma:Fs.chroma;return Z3[t]=Z3[t]||kW(t)}var CW=e=>Ga(e).chroma,PW=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function SW(e){const t=[];for(let n=0;n<12;n++)e.charAt(n)==="1"&&t.push(PW[n]);return t}function TW(e,t=!0){const r=Ga(e).chroma.split("");return wW(r.map((i,a)=>{const s=Ml(a,r);return t&&s[0]==="0"?null:s.join("")}))}function Ty(e){const t=Ga(e).setNum;return n=>{const r=Ga(n).setNum;return t&&t!==r&&(r&t)===r}}function EW(e){const t=Ga(e).setNum;return n=>{const r=Ga(n).setNum;return t&&t!==r&&(r|t)===r}}function AW(e){const t=e.split("");return t.map((n,r)=>Ml(r,t).join(""))}function kW(e){const t=Q3(e),n=AW(e).map(Q3).filter(a=>a>=2048).sort()[0],r=Sy(n),i=SW(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:r,intervals:i}}function OW(e){if(e.length===0)return Fs.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++)t=yn(e[r]),t.empty&&(t=Qn(e[r])),t.empty||(n[t.chroma]=1);return n.join("")}var NW=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],IW=NW;({...Fs});var Ep=[],lu={};function LW(){return Ep.slice()}function $W(e,t,n){const r=RW(e),i={...Ga(e),name:n||"",quality:r,intervals:e,aliases:t};Ep.push(i),i.name&&(lu[i.name]=i),lu[i.setNum]=i,lu[i.chroma]=i,i.aliases.forEach(a=>BW(i,a))}function BW(e,t){lu[t]=e}function RW(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}IW.forEach(([e,t,n])=>$W(e.split(" "),n.split(" "),t));Ep.sort((e,t)=>e.setNum-t.setNum);var FW=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],HW=FW,DW={...Fs,intervals:[],aliases:[]},Ap=[],j0={};function zW(){return Ap.map(e=>e.name)}function Ey(e){return j0[e]||DW}function kp(){return Ap.slice()}function WW(e,t,n=[]){const r={...Ga(e),name:t,intervals:e,aliases:n};return Ap.push(r),j0[r.name]=r,j0[r.setNum]=r,j0[r.chroma]=r,r.aliases.forEach(i=>UW(r,i)),r}function UW(e,t){j0[t]=e}HW.forEach(([e,t,...n])=>WW(e.split(" "),t,n));function VW(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var Ay=Qn,qW=e=>Qn(e).name,jW=e=>Qn(e).semitones,GW=e=>Qn(e).q,KW=e=>Qn(e).num;function YW(e){const t=Qn(e);return t.empty?"":t.simple+t.q}function XW(e){const t=Qn(e);if(t.empty)return"";const n=(7-t.step)%7,r=t.type==="perfectable"?-t.alt:-(t.alt+1);return Qn({step:n,alt:r,oct:t.oct,dir:t.dir}).name}var JW=[1,2,2,3,3,4,5,5,6,6,7,7],QW="P m M m M P d P m M m M".split(" ");function ZW(e){const t=e<0?-1:1,n=Math.abs(e),r=n%12,i=Math.floor(n/12);return t*(JW[r]+7*i)+QW[r]}var eU=vW,ky=Oy((e,t)=>[e[0]+t[0],e[1]+t[1]]),tU=e=>t=>ky(e,t),nU=Oy((e,t)=>[e[0]-t[0],e[1]-t[1]]);function rU(e,t){const n=Ay(e);if(n.empty)return"";const[r,i,a]=n.coord;return Sp([r+t,i,a]).name}var eb={names:VW,get:Ay,name:qW,num:KW,semitones:jW,quality:GW,fromSemitones:ZW,distance:eU,invert:XW,simplify:YW,add:ky,addTo:tU,substract:nU,transposeFifths:rU};function Oy(e){return(t,n)=>{const r=Qn(t).coord,i=Qn(n).coord;if(r&&i){const a=e(r,i);return Sp(a).name}}}function Ny(e){return+e>=0&&+e<=127}function iU(e){if(Ny(e))return+e;const t=yn(e);return t.empty?null:t.midi}function aU(e,t=440){return Math.pow(2,(e-69)/12)*t}var sU=Math.log(2),oU=Math.log(440);function Op(e){const t=12*(Math.log(e)-oU)/sU+69;return Math.round(t*100)/100}var lU="C C# D D# E F F# G G# A A# B".split(" "),cU="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Us(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const r=(t.sharps===!0?lU:cU)[e%12];if(t.pitchClass)return r;const i=Math.floor(e/12)-1;return r+i}function Np(e){return e%12}function uU(e){return e.split("").reduce((t,n,r)=>(r<12&&n==="1"&&t.push(r),t),[])}function fU(e){return e.map(Np).sort((t,n)=>t-n).filter((t,n,r)=>n===0||t!==r[n-1])}function Ip(e){return Array.isArray(e)?fU(e):uU(e)}function dU(e){const t=Ip(e);return n=>{const r=Np(n);for(let i=0;i<12;i++){if(t.includes(r+i))return n+i;if(t.includes(r-i))return n-i}}}function Iy(e,t){const n=Ip(e),r=n.length;return i=>{const a=i<0?(r- -i%r)%r:i%r,s=Math.floor(i/r);return n[a]+s*12+t}}function hU(e,t){const n=Iy(e,t);return r=>{if(r!==0)return n(r>0?r-1:r)}}var pU={chroma:Np,freqToMidi:Op,isMidi:Ny,midiToFreq:aU,midiToNoteName:Us,pcsetNearest:dU,pcset:Ip,pcsetDegrees:hU,pcsetSteps:Iy,toMidi:iU},gU=["C","D","E","F","G","A","B"],Ly=e=>e.name,$y=e=>e.map(yn).filter(t=>!t.empty);function vU(e){return e===void 0?gU.slice():Array.isArray(e)?$y(e).map(Ly):[]}var di=yn,mU=e=>di(e).name,bU=e=>di(e).pc,yU=e=>di(e).acc,wU=e=>di(e).oct,_U=e=>di(e).midi,xU=e=>di(e).freq,MU=e=>di(e).chroma;function By(e){return Us(e)}function CU(e){return Us(Op(e))}function PU(e){return Us(Op(e),{sharps:!0})}function SU(e){return Us(e,{sharps:!0})}var Cl=Do,TU=Do,Ry=e=>t=>Cl(t,e),EU=Ry,Fy=e=>t=>Cl(e,t),AU=Fy;function Hy(e,t){return Cl(e,[t,0])}var kU=Hy;function OU(e,t){return Cl(e,[0,t])}var Lp=(e,t)=>e.height-t.height,NU=(e,t)=>t.height-e.height;function Dy(e,t){return t=t||Lp,$y(e).sort(t).map(Ly)}function zy(e){return Dy(e,Lp).filter((t,n,r)=>n===0||t!==r[n-1])}var IU=e=>{const t=di(e);return t.empty?"":Us(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:t.midi===null})};function Wy(e,t){const n=di(e);if(n.empty)return"";const r=di(t||Us(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(n.oct===void 0)return r.pc;const i=n.chroma-n.alt,a=r.chroma-r.alt,s=i>11||a<0?-1:i<0||a>11?1:0,l=n.oct+s;return r.pc+l}var tb={names:vU,get:di,name:mU,pitchClass:bU,accidentals:yU,octave:wU,midi:_U,ascending:Lp,descending:NU,sortedNames:Dy,sortedUniqNames:zy,fromMidi:By,fromMidiSharps:SU,freq:xU,fromFreq:CU,fromFreqSharps:PU,chroma:MU,transpose:Cl,tr:TU,transposeBy:Ry,trBy:EU,transposeFrom:Fy,trFrom:AU,transposeFifths:Hy,transposeOctaves:OU,trFifths:kU,simplify:IU,enharmonic:Wy},$p=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],nb={...Fs,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},LU=$p.map($U),Jh={};LU.forEach(e=>{Jh[e.name]=e,e.aliases.forEach(t=>{Jh[t]=e})});function Uy(e){return typeof e=="string"?Jh[e.toLowerCase()]||nb:e&&e.name?Uy(e.name):nb}function $U(e){const[t,n,r,i,a,s,l]=e,u=l?[l]:[],c=Number(n).toString(2);return{empty:!1,intervals:Ey(i).intervals,modeNum:t,chroma:c,normalized:c,name:i,setNum:n,alt:r,triad:a,seventh:s,aliases:u}}function Vy(e){return(t,n)=>{const r=Uy(t);if(r.empty)return[];const i=Ml(r.modeNum,e),a=r.intervals.map(s=>Do(n,s));return i.map((s,l)=>a[l]+s)}}Vy($p.map(e=>e[4]));Vy($p.map(e=>e[5]));var BU={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function qy(e){if(typeof e!="string")return["",""];const t=e.indexOf(" "),n=yn(e.substring(0,t));if(n.empty){const i=yn(e);return i.empty?["",e]:[i.name,""]}const r=e.substring(n.name.length+1);return[n.name,r.length?r:""]}var RU=zW;function Oi(e){const t=Array.isArray(e)?e:qy(e),n=yn(t[0]).name,r=Ey(t[1]);if(r.empty)return BU;const i=r.name,a=n?r.intervals.map(l=>Do(n,l)):[],s=n?n+" "+i:i;return{...r,name:s,type:i,tonic:n,notes:a}}var FU=Xz("Scale.scale","Scale.get",Oi);function HU(e,t={}){const n=CW(e),r=yn(t.tonic??e[0]??""),i=r.chroma;if(i===void 0)return[];const a=n.split("");a[i]="1";const s=Ml(i,a).join(""),l=kp().find(c=>c.chroma===s),u=[];return l&&u.push(r.name+" "+l.name),t.match==="exact"||jy(s).forEach(c=>{u.push(r.name+" "+c)}),u}function DU(e){const t=Oi(e),n=Ty(t.chroma);return LW().filter(r=>n(r.chroma)).map(r=>r.aliases[0])}function jy(e){const t=Tp(e)?e:Oi(e).chroma,n=EW(t);return kp().filter(r=>n(r.chroma)).map(r=>r.name)}function zU(e){const t=Ty(Oi(e).chroma);return kp().filter(n=>t(n.chroma)).map(n=>n.name)}function Gy(e){const t=e.map(i=>yn(i).pc).filter(i=>i),n=t[0],r=zy(t);return Ml(r.indexOf(n),r)}function WU(e){const t=Oi(e);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return TW(t.chroma).map((r,i)=>{const a=Oi(r).name;return a?[n[i],a]:["",""]}).filter(r=>r[0])}function UU(e){const t=Array.isArray(e)?Gy(e):Oi(e).notes,n=t.map(r=>yn(r).chroma);return r=>{const i=yn(typeof r=="number"?By(r):r),a=i.height;if(a===void 0)return;const s=a%12,l=n.indexOf(s);if(l!==-1)return Wy(i.name,t[l])}}function VU(e){const t=UU(e);return(n,r)=>{const i=yn(n).height,a=yn(r).height;return i===void 0||a===void 0?[]:yW(i,a).map(t).filter(s=>s)}}function qU(e){const{intervals:t,tonic:n}=Oi(e),r=Py(t,n);return i=>i?r(i>0?i-1:i):""}function jU(e){const{intervals:t,tonic:n}=Oi(e);return Py(t,n)}var GU={degrees:qU,detect:HU,extended:jy,get:Oi,modeNames:WU,names:RU,rangeOf:VU,reduced:zU,scaleChords:DU,scaleNotes:Gy,steps:jU,tokenize:qy,scale:FU},KU={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]};function YU(e,t,n){return e*(1-n)+t*n}module.exports=YU;const XU=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),JU=Kz(XU);var rb=KU,Uc=JU,QU=ZU;function ZU(e){var t,n,r,i,a,s,l,u,p,c,f;if(e||(e={}),u=(e.nshades||72)-1,l=e.format||"hex",s=e.colormap,s||(s="jet"),typeof s=="string"){if(s=s.toLowerCase(),!rb[s])throw Error(s+" not a supported colorscale");a=rb[s]}else if(Array.isArray(s))a=s.slice();else throw Error("unsupported colormap option",s);if(a.length>u+1)throw new Error(s+" map requires nshades to be at least size "+a.length);Array.isArray(e.alpha)?e.alpha.length!==2?c=[1,1]:c=e.alpha.slice():typeof e.alpha=="number"?c=[e.alpha,e.alpha]:c=[1,1],t=a.map(function(b){return Math.round(b.index*u)}),c[0]=Math.min(Math.max(c[0],0),1),c[1]=Math.min(Math.max(c[1],0),1);var h=a.map(function(b,w){var x=a[w].index,C=a[w].rgb.slice();return C.length===4&&C[3]>=0&&C[3]<=1||(C[3]=c[0]+(c[1]-c[0])*x),C}),p=[];for(f=0;f<t.length-1;++f){i=t[f+1]-t[f],n=h[f],r=h[f+1];for(var m=0;m<i;m++){var v=m/i;p.push([Math.round(Uc(n[0],r[0],v)),Math.round(Uc(n[1],r[1],v)),Math.round(Uc(n[2],r[2],v)),Uc(n[3],r[3],v)])}}return p.push(a[a.length-1].rgb.concat(c[1])),l==="hex"?p=p.map(tV):l==="rgbaString"?p=p.map(nV):l==="float"&&(p=p.map(eV)),p}function eV(e){return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function tV(e){for(var t,n="#",r=0;r<3;++r)t=e[r],t=t.toString(16),n+=("00"+t).substr(t.length);return n}function nV(e){return"rgba("+e.join(",")+")"}const rV=uf(QU);var iV=function(t,n){if(n===void 0&&(n=440),typeof t!="number")throw new TypeError("'mtof' expects its first argument to be a number.");if(typeof n!="number")throw new TypeError("'mtof' expects its second argument to be a number.");return Math.pow(2,(t-69)/12)*n};const aV=uf(iV);class sV{constructor(t){xc(this,"numberOfVoices");xc(this,"voices");xc(this,"hasStarted");const n=new AudioContext,r="sine";this.numberOfVoices=t,this.hasStarted=!1,this.voices=xn.times(t).map(()=>({ctx:n,oscillatorNode:n.createOscillator(),gainNode:n.createGain(),panNode:n.createStereoPanner()})),console.log("this.voices",this.voices),this.voices.forEach((i,a)=>{i.gainNode.gain.setValueAtTime(0,0),i.oscillatorNode.connect(i.gainNode),i.gainNode.connect(i.panNode),i.panNode.connect(n.destination),i.oscillatorNode.type=r,i.panNode.pan.setValueAtTime(-1+a*(2/(t-1)),0)})}playNote(t,n,r){var c,f,h;const i=this.voices[t];console.log("voice",i),console.log("this.voices",this.voices),console.log("voiceIndex",t);let a=aV(n);const s=r*.5,l=r-s,u=(c=i.ctx)==null?void 0:c.currentTime;a*=-1+Math.floor(t/2),(h=(f=i==null?void 0:i.oscillatorNode)==null?void 0:f.frequency)==null||h.setValueAtTime(a,u),i.gainNode.gain.linearRampToValueAtTime(.3,u+s/1e3),i.gainNode.gain.linearRampToValueAtTime(0,u+s/1e3+l/1e3)}start(){this.hasStarted||(this.voices.forEach(t=>t.oscillatorNode.start()),this.hasStarted=!0)}}var ib="C C# Db D D# Eb E F F# Gb G G# Ab A A# Bb B".split(" "),Ky=function(e){return typeof e!="string"?ib.slice():ib.filter(function(t){var n=t[1]||" ";return e.indexOf(n)!==-1})};Ky(" #");Ky(" b");var oV=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Yy(e){typeof e!="string"&&(e="");var t=oV.exec(e);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}var lV=Object.freeze({pc:null,name:null,step:null,alt:null,oct:null,octStr:null,chroma:null,midi:null,freq:null}),ab=[0,2,4,5,7,9,11],cV=function(e){var t=Yy(e);if(t[0]===""||t[3]!=="")return lV;var n=t[0],r=t[1],i=t[2],a={letter:n,acc:r,octStr:i,pc:n+r,name:n+r+i,step:(n.charCodeAt(0)+3)%7,alt:r[0]==="b"?-r.length:r.length,oct:i.length?+i:null,chroma:0,midi:null,freq:null};return a.chroma=(ab[a.step]+a.alt+120)%12,a.midi=a.oct!==null?ab[a.step]+a.alt+12*(a.oct+1):null,a.freq=fV(a.midi),Object.freeze(a)},uV=function(e,t){return t===void 0&&(t={}),function(n){return t[n]||(t[n]=e(n))}},Bp=uV(cV),fV=function(e,t){return t===void 0&&(t=440),typeof e=="number"?Math.pow(2,(e-69)/12)*t:null},dV=function(e){return Bp(e).chroma},hV="CDEFGAB",pV=function(e){return hV[e]},sb=function(e,t){return Array(t+1).join(e)},gV=function(e,t){return typeof e!="number"?"":t(e)},vV=function(e){return gV(e,function(t){return t<0?sb("b",-t):sb("#",t)})},mV=function(e,t){e===void 0&&(e={}),t===void 0&&(t=null);var n=t?Object.assign({},Bp(t),e):e,r=n.step,i=n.alt,a=n.oct;if(typeof r!="number")return null;var s=pV(r);if(!s)return null;var l=s+vV(i);return a||a===0?l+a:l},bV=mV,yV="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",wV="(AA|A|P|M|m|d|dd)([-+]?\\d+)",_V=new RegExp("^"+yV+"|"+wV+"$"),ob=[0,2,4,5,7,9,11],xV="PMMPPMM",MV=function(e){var t=_V.exec(""+e);return t===null?null:t[1]?[t[1],t[2]]:[t[4],t[3]]},Qh=Object.freeze({name:null,num:null,q:null,step:null,alt:null,dir:null,type:null,simple:null,semitones:null,chroma:null,oct:null}),CV=function(e,t){return t==="M"&&e==="M"||t==="P"&&e==="P"?0:t==="m"&&e==="M"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?e==="P"?-t.length:-t.length-1:null},PV=function(e){return(Math.abs(e)-1)%7},SV=function(e){var t=MV(e);if(t===null)return Qh;var n={num:0,q:"d",name:"",type:"M",step:0,dir:-1,simple:1,alt:0,oct:0,semitones:0,chroma:0,ic:0};return n.num=+t[0],n.q=t[1],n.step=PV(n.num),n.type=xV[n.step],n.type==="M"&&n.q==="P"?Qh:(n.name=""+n.num+n.q,n.dir=n.num<0?-1:1,n.simple=n.num===8||n.num===-8?n.num:n.dir*(n.step+1),n.alt=CV(n.type,n.q),n.oct=Math.floor((Math.abs(n.num)-1)/7),n.semitones=n.dir*(ob[n.step]+n.alt+12*n.oct),n.chroma=(n.dir*(ob[n.step]+n.alt)%12+12)%12,Object.freeze(n))},lb={};function Xy(e){return typeof e!="string"?Qh:lb[e]||(lb[e]=SV(e))}var TV=function(e){return Xy(e).chroma},Jy=[0,2,4,-1,1,3,5],EV=function(e){return Math.floor(e*7/12)},Qy=Jy.map(EV),AV=function(e){var t=e.step,n=e.alt,r=e.oct,i=e.dir;i===void 0&&(i=1);var a=Jy[t]+7*n;if(r===null)return[i*a];var s=r-Qy[t]-4*n;return[i*a,i*s]},kV=[3,0,4,1,5,2,6];function OV(e){var t=(e+1)%7;return t<0?7+t:t}var NV=function(e,t,n){var r=kV[OV(e)],i=Math.floor((e+1)/7);if(t===void 0)return{step:r,alt:i,dir:n};var a=t+4*i+Qy[r];return{step:r,alt:i,oct:a,dir:n}},IV=function(e,t){return t===void 0&&(t={}),function(n){return t[n]||(t[n]=e(n))}},Zy=function(e){return IV(function(t){var n=e(t);return n.name===null?null:AV(n)})},LV=Zy(Bp),$V=Zy(Xy);function Zh(e,t){if(arguments.length===1)return function(a){return Zh(e,a)};var n=LV(e),r=$V(t);if(n===null||r===null)return null;var i=n.length===1?[n[0]+r[0]]:[n[0]+r[0],n[1]+r[1]];return bV(NV(i[0],i[1]))}const BV=["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M"],RV=["1P 2M 3M 4A 5P 6M 7M"],FV=["1P 2M 3M 4P 5P 6M 7M",["ionian"]],HV=["1P 2M 3M 4P 5P 6M 7m",["dominant"]],DV=["1P 2M 3m 4P 5P 6M 7m"],zV=["1P 2M 3m 4P 5P 6m 7m",["minor"]],WV=["1P 2m 3m 4P 5P 6m 7m"],UV=["1P 2m 3m 4P 5d 6m 7m"],VV=["1P 2m 3m 3M 5d 6m 7m",["super locrian","diminished whole tone","pomeroy"]],qV=["1P 2M 3m 4P 5d 6m 6M 7M",["whole-half diminished"]],jV=["1P 2m 4P 5d 7m"],GV=["1P 2M 3m 5P 6m"],KV=["1P 2m 4P 5P 6m"],YV=["1P 2m 3m 5P 6m"],XV=["1P 2M 3M 4A 6M 7m"],JV=["1P 2M 4P 5P 6M"],QV=["1P 2m 3M 5P 6M"],ZV=["1P 2M 4P 5P 6M 7m"],eq=["1P 2A 3M 5P 5A 7M"],tq=["1P 2m 3m 4P 5P 6m 7M"],nq=["1P 2M 4P 5P 7m"],rq=["1P 2m 3M 4P 5d 6M 7m"],iq=["1P 2m 3m 3M 4A 5P 7m"],aq=["1P 2m 3m 4P 5P 6m 7M"],sq=["1P 2m 3M 4P 5d 6m 7M"],oq=["1P 2M 3M 4P 5P 6M 7m 7M"],lq=["1P 2m 3M 5d 6m 7m 7M"],cq=["1P 2M 3M 4P 5d 5P 6M 7M"],uq={chromatic:BV,lydian:RV,major:FV,mixolydian:HV,dorian:DV,aeolian:zV,phrygian:WV,locrian:UV,"melodic minor":["1P 2M 3m 4P 5P 6M 7M"],"melodic minor second mode":["1P 2m 3m 4P 5P 6M 7m"],"lydian augmented":["1P 2M 3M 4A 5A 6M 7M"],"lydian dominant":["1P 2M 3M 4A 5P 6M 7m",["lydian b7"]],"melodic minor fifth mode":["1P 2M 3M 4P 5P 6m 7m",["hindu","mixolydian b6M"]],"locrian #2":["1P 2M 3m 4P 5d 6m 7m",["half-diminished"]],altered:VV,"harmonic minor":["1P 2M 3m 4P 5P 6m 7M"],"phrygian dominant":["1P 2m 3M 4P 5P 6m 7m",["spanish","phrygian major"]],"half-whole diminished":["1P 2m 3m 3M 4A 5P 6M 7m",["dominant diminished"]],diminished:qV,"major pentatonic":["1P 2M 3M 5P 6M",["pentatonic"]],"lydian pentatonic":["1P 3M 4A 5P 7M",["chinese"]],"mixolydian pentatonic":["1P 3M 4P 5P 7m",["indian"]],"locrian pentatonic":["1P 3m 4P 5d 7m",["minor seven flat five pentatonic"]],"minor pentatonic":["1P 3m 4P 5P 7m"],"minor six pentatonic":["1P 3m 4P 5P 6M"],"minor hexatonic":["1P 2M 3m 4P 5P 7M"],"flat three pentatonic":["1P 2M 3m 5P 6M",["kumoi"]],"flat six pentatonic":["1P 2M 3M 5P 6m"],"major flat two pentatonic":["1P 2m 3M 5P 6M"],"whole tone pentatonic":["1P 3M 5d 6m 7m"],"ionian pentatonic":["1P 3M 4P 5P 7M"],"lydian #5P pentatonic":["1P 3M 4A 5A 7M"],"lydian dominant pentatonic":["1P 3M 4A 5P 7m"],"minor #7M pentatonic":["1P 3m 4P 5P 7M"],"super locrian pentatonic":["1P 3m 4d 5d 7m"],"in-sen":["1P 2m 4P 5P 7m"],iwato:jV,hirajoshi:GV,kumoijoshi:KV,pelog:YV,"vietnamese 1":["1P 3m 4P 5P 6m"],"vietnamese 2":["1P 3m 4P 5P 7m"],prometheus:XV,"prometheus neopolitan":["1P 2m 3M 4A 6M 7m"],ritusen:JV,scriabin:QV,piongio:ZV,"major blues":["1P 2M 3m 3M 5P 6M"],"minor blues":["1P 3m 4P 5d 5P 7m",["blues"]],"composite blues":["1P 2M 3m 3M 4P 5d 5P 6M 7m"],augmented:eq,"augmented heptatonic":["1P 2A 3M 4P 5P 5A 7M"],"dorian #4":["1P 2M 3m 4A 5P 6M 7m"],"lydian diminished":["1P 2M 3m 4A 5P 6M 7M"],"whole tone":["1P 2M 3M 4A 5A 7m"],"leading whole tone":["1P 2M 3M 4A 5A 7m 7M"],"lydian minor":["1P 2M 3M 4A 5P 6m 7m"],"locrian major":["1P 2M 3M 4P 5d 6m 7m",["arabian"]],neopolitan:tq,"neopolitan minor":["1P 2m 3m 4P 5P 6m 7M"],"neopolitan major":["1P 2m 3m 4P 5P 6M 7M",["dorian b2"]],"neopolitan major pentatonic":["1P 3M 4P 5d 7m"],"romanian minor":["1P 2M 3m 5d 5P 6M 7m"],"double harmonic lydian":["1P 2m 3M 4A 5P 6m 7M"],"harmonic major":["1P 2M 3M 4P 5P 6m 7M"],"double harmonic major":["1P 2m 3M 4P 5P 6m 7M",["gypsy"]],egyptian:nq,"hungarian minor":["1P 2M 3m 4A 5P 6m 7M"],"hungarian major":["1P 2A 3M 4A 5P 6M 7m"],oriental:rq,"spanish heptatonic":["1P 2m 3m 3M 4P 5P 6m 7m"],flamenco:iq,balinese:aq,"todi raga":["1P 2m 3m 4A 5P 6m 7M"],"malkos raga":["1P 3m 4P 6m 7m"],"kafi raga":["1P 3m 3M 4P 5P 6M 7m 7M"],"purvi raga":["1P 2m 3M 4P 4A 5P 6m 7M"],persian:sq,bebop:oq,"bebop dominant":["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop minor":["1P 2M 3m 3M 4P 5P 6M 7m"],"bebop major":["1P 2M 3M 4P 5P 5A 6M 7M"],"bebop locrian":["1P 2m 3m 4P 5d 5P 6m 7m"],"minor bebop":["1P 2M 3m 4P 5P 6m 7m 7M"],"mystery #1":["1P 2m 3M 5d 6m 7m"],enigmatic:lq,"minor six diminished":["1P 2M 3m 4P 5P 6m 6M 7M"],"ionian augmented":["1P 2M 3M 4P 5A 6M 7M"],"lydian #9":["1P 2m 3M 4A 5P 6M 7M"],ichikosucho:cq,"six tone symmetric":["1P 2m 3M 4P 5A 6M"]},fq=["1P 3M 5P",["Major",""]],dq=["1P 3M 5P 7M 9M 13M",["maj13","Maj13"]],hq=["1P 3M 5P 13M",["6"]],pq=["1P 3M 5P 6M 9M",["69"]],gq=["1P 3M 5P 6M 7M 9M"],vq=["1P 3M 5d 7M"],mq=["1P 3M 6m 7M"],bq=["1P 3M 5P 7M 9m"],yq=["1P 4P 5P 7M"],wq=["1P 3M 5P 7M 9M",["maj9","Maj9"]],_q=["1P 3M 5d 7M 9M"],xq=["1P 4P 5P 7M 9M"],Mq=["1P 3M 5P 9M",["2","add9","add2"]],Cq=["1P 3M 5P 7M",["maj7","M7"]],Pq=["1P 3M 5d"],Sq=["1P 3M 13m"],Tq=["1P 2M 5P",["add9no3","sus2"]],Eq=["1P 4P 5P",["sus","sus4"]],Aq=["1P 3M 5P 9m"],kq=["1P 3m 5P"],Oq=["1P 3m 5P 7m 9M 11P",["_11"]],Nq=["1P 3m 7m 12d 2M 4P",["h11","_11b5"]],Iq=["1P 3m 5P 7m 9M 11P 13M",["_13"]],Lq=["1P 3m 4P 5P 13M",["_6"]],$q=["1P 3m 5P 6M 9M",["_69"]],Bq=["1P 3m 5P 7m",["minor7","_","_7"]],Rq=["1P 3m 5P 7m 11P",["m7add4"]],Fq=["1P 3m 5d 7m",["half-diminished","h7","_7b5"]],Hq=["1P 3m 5P 7m 9M",["_9"]],Dq=["1P 3m 7m 12d 2M",["h9","-9b5"]],zq=["1P 3m 5P 7M",["mM7","_M7"]],Wq=["1P 3m 5P 6m 7M",["mM7b6"]],Uq=["1P 3m 5P 7M 9M",["mMaj9","-M9"]],Vq=["1P 3m 5P 6m 7M 9M",["mMaj9b6"]],qq=["1P 3m 6m 7M"],jq=["1P 3m 6m 9m"],Gq=["1P 3m 5d",["mb5","dim"]],Kq=["1P 3m 5d 13M",["diminished","m6b5","dim7"]],Yq=["1P 3m 5d 6M 7M"],Xq=["1P 3m 5d 7M"],Jq=["1P 2M 4P 5P",["sus4add9"]],Qq=["1P 3m 4P 5P"],Zq=["1P 3m 5P 9M"],ej={4:["1P 4P 7m 10m",["quartal"]],5:["1P 5P"],7:["1P 3M 5P 7m",["Dominant","Dom"]],9:["1P 3M 5P 7m 9M",["79"]],11:["1P 5P 7m 9M 11P"],13:["1P 3M 5P 7m 9M 13M",["13_"]],64:["5P 8P 10M"],M:fq,"M#5":["1P 3M 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1P 3M 5A 9M",["+add9"]],M13:dq,"M13#11":["1P 3M 5P 7M 9M 11A 13M",["maj13#11","Maj13#11","M13+4","M13#4"]],M6:hq,"M6#11":["1P 3M 5P 6M 11A",["M6b5","6#11","6b5"]],M69:pq,"M69#11":["1P 3M 5P 6M 9M 11A"],"M7#11":["1P 3M 5P 7M 11A",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1P 3M 5A 7M",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1P 4P 5A 7M"],"M7#9#11":["1P 3M 5P 7M 9A 11A"],M7add13:gq,M7b5:vq,M7b6:mq,M7b9:bq,M7sus4:yq,M9:wq,"M9#11":["1P 3M 5P 7M 9M 11A",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1P 3M 5A 7M 9M",["Maj9#5"]],"M9#5sus4":["1P 4P 5A 7M 9M"],M9b5:_q,M9sus4:xq,Madd9:Mq,Maj7:Cq,Mb5:Pq,Mb6:Sq,Msus2:Tq,Msus4:Eq,Maddb9:Aq,"11b9":["1P 5P 7m 9m 11P"],"13#11":["1P 3M 5P 7m 9M 11A 13M",["13+4","13#4"]],"13#9":["1P 3M 5P 7m 9A 13M",["13#9_"]],"13#9#11":["1P 3M 5P 7m 9A 11A 13M"],"13b5":["1P 3M 5d 6M 7m 9M"],"13b9":["1P 3M 5P 7m 9m 13M"],"13b9#11":["1P 3M 5P 7m 9m 11A 13M"],"13no5":["1P 3M 7m 9M 13M"],"13sus4":["1P 4P 5P 7m 9M 13M",["13sus"]],"69#11":["1P 3M 5P 6M 9M 11A"],"7#11":["1P 3M 5P 7m 11A",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1P 3M 5P 7m 11A 13m",["7b5b13"]],"7#5":["1P 3M 5A 7m",["+7","7aug","aug7"]],"7#5#9":["1P 3M 5A 7m 9A",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1P 3M 5A 7m 9m"],"7#5b9#11":["1P 3M 5A 7m 9m 11A"],"7#5sus4":["1P 4P 5A 7m"],"7#9":["1P 3M 5P 7m 9A",["7#9_"]],"7#9#11":["1P 3M 5P 7m 9A 11A",["7b5#9"]],"7#9#11b13":["1P 3M 5P 7m 9A 11A 13m"],"7#9b13":["1P 3M 5P 7m 9A 13m"],"7add6":["1P 3M 5P 7m 13M",["67","7add13"]],"7b13":["1P 3M 7m 13m"],"7b5":["1P 3M 5d 7m"],"7b6":["1P 3M 5P 6m 7m"],"7b9":["1P 3M 5P 7m 9m"],"7b9#11":["1P 3M 5P 7m 9m 11A",["7b5b9"]],"7b9#9":["1P 3M 5P 7m 9m 9A"],"7b9b13":["1P 3M 5P 7m 9m 13m"],"7b9b13#11":["1P 3M 5P 7m 9m 11A 13m",["7b9#11b13","7b5b9b13"]],"7no5":["1P 3M 7m"],"7sus4":["1P 4P 5P 7m",["7sus"]],"7sus4b9":["1P 4P 5P 7m 9m",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1P 4P 5P 7m 9m 13m",["7b9b13sus4"]],"9#11":["1P 3M 5P 7m 9M 11A",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1P 3M 5P 7m 9M 11A 13m",["9b5b13"]],"9#5":["1P 3M 5A 7m 9M",["9+"]],"9#5#11":["1P 3M 5A 7m 9M 11A"],"9b13":["1P 3M 7m 9M 13m"],"9b5":["1P 3M 5d 7m 9M"],"9no5":["1P 3M 7m 9M"],"9sus4":["1P 4P 5P 7m 9M",["9sus"]],m:kq,"m#5":["1P 3m 5A",["m+","mb6"]],m11:Oq,"m11A 5":["1P 3m 6m 7m 9M 11P"],m11b5:Nq,m13:Iq,m6:Lq,m69:$q,m7:Bq,"m7#5":["1P 3m 6m 7m"],m7add11:Rq,m7b5:Fq,m9:Hq,"m9#5":["1P 3m 6m 7m 9M"],m9b5:Dq,mMaj7:zq,mMaj7b6:Wq,mM9:Uq,mM9b6:Vq,mb6M7:qq,mb6b9:jq,o:Gq,o7:Kq,o7M7:Yq,oM7:Xq,sus24:Jq,"+add#9":["1P 3M 5A 9A"],madd4:Qq,madd9:Zq};var tj=function(e){return dV(e)||TV(e)||0};function e7(e){if(rj(e))return e;if(!Array.isArray(e))return"";var t=[0,0,0,0,0,0,0,0,0,0,0,0];return e.map(tj).forEach(function(n){t[n]=1}),t.join("")}var nj=/^[01]{12}$/;function rj(e){return nj.test(e)}var t7=function(e){var t=Object.keys(e).sort(),n=[],r=[],i=function(l,u,c){n[l]=u,r[c]=r[c]||[],r[c].push(l)};t.forEach(function(l){var u=e[l][0].split(" "),c=e[l][1],f=e7(u);i(l,u,f),c&&c.forEach(function(h){return i(h,u,f)})});var a=Object.keys(n).sort(),s=function(l){return n[l]};return s.names=function(l){return typeof l=="string"?(r[l]||[]).slice():(l===!0?a:t).slice()},s};t7(uq);var e1=t7(ej),ij=e1.names,aj=Object.freeze({name:null,names:[],intervals:[],chroma:null,setnum:null}),sj=function(e){var t=e1(e);if(!t)return aj;var n={intervals:t,name:e};return n.chroma=e7(t),n.setnum=parseInt(n.chroma,2),n.names=e1.names(n.chroma),n},oj=function(e,t){return t===void 0&&(t={}),function(n){return t[n]||(t[n]=e(n))}},t1=oj(sj),cb=function(e){return t1(n7(e)[1]).intervals};function Bu(e,t){if(t)return t1(t).intervals.map(Zh(e));var n=n7(e),r=n[0],i=n[1];return t1(i).intervals.map(Zh(r))}var lj=/^(6|64|7|9|11|13)$/;function n7(e){var t=Yy(e);return t[0]===""?["",e]:t[0]==="A"&&t[3]==="ug"?["","aug"]:lj.test(t[2])?[t[0]+t[1],t[2]+t[3]]:[t[0]+t[1]+t[2],t[3]]}const cj=["Ab","A","Bb","B","C","C#","Db","D","Eb","E","F","F#","G","G#"];function uj(e,t,n,r){const i=Bu(`${t}${e}`);let a=[];return r=Math.max(r,0),r===0?[tb.midi(`${i[0]}${n}`)]:(xn.times(r,s=>{const l=i.map(u=>tb.midi(`${u}${n+s}`));a.push(l)}),a=xn.flattenDeep(a),a)}function fj(e,t){const n=e[0],r=xn.max(e)-xn.min(e),i=n+t*r;return e.reduce((s,l)=>Math.abs(l-i)<Math.abs(s-i)?l:s,n)}const xs={names:GU.names(),tonics:cj,noteSet:uj,determineNote:fj},zo=V1("music-settings",{state:()=>({noteScale:"maj7",chordSizeFilter:4,rangeMin:4,rangeMax:6,sequenceType:"random",sequenceTypeOptions:["random"],sineHarmonics:1}),getters:{chordOptions:e=>ij().filter(n=>Bu(`C4${n}`).length===e.chordSizeFilter),noteOptions:e=>{const t="C",n=Math.max(e.rangeMax-e.rangeMin,0);return xs.noteSet(e.noteScale,t,e.rangeMin,n)||[]},waveformFn:e=>t=>{let n=0;return xn.times(Math.abs(e.sineHarmonics),r=>{const i=r+1;e.sineHarmonics>1?n+=1/i*Math.sin(i*t):n-=1/i*Math.sin(i*t)}),n}},actions:{handleRandomize(){Qo().initNotes()}}}),Ru=V1("weave-settings",{state:()=>({patternOptions:["weave","euclidean"],patternType:"euclidean",swatchWidth:16,swatchDepth:8,weaveX:1,weaveY:1,euclideanCount:4}),getters:{},actions:{}}),Qo=V1("main",{state:()=>({useWebAudio:!0,midiInputPort:null,midiOutputPort:null,isOn:!1,bpm:400,count:0,showConfigurationEdit:!0,webAudioSynth:null,warpNotes:[],notes:[],noteGrid:[],gridItemsKey:Date.now(),errorMsg:""}),getters:{bpmInterval:e=>60*(1e3/parseInt(e.bpm,10)),noteLength:e=>e.bpmInterval*.95,gridItems:e=>{const{noteGrid:t}=e;return xn.reduce(t,(n,r)=>xn.concat(n,r),[])},warpNoteColors:e=>{const t=zo(),n=(t.rangeMax-t.rangeMin)*12+1,r=rV({colormap:"jet",nshades:n,format:"hex",alpha:1});return e.notes.map(i=>{const a=i-12-t.rangeMin*12;return r[a]})},numberOfVoices:()=>Ru().swatchDepth,notesAsNames:e=>e.notes.map(t=>pU.midiToNoteName(t))},actions:{updateGridItemsKey(){this.gridItemsKey=Date.now()},initNotes(){const{sequenceType:e,noteOptions:t,waveformFn:n}=zo(),{swatchWidth:r}=Ru();e==="random"?this.notes=xn.times(r,()=>{const i=xn.random(0,t.length-1);return t[i]}):e==="sine"&&(this.notes=xn.times(r,i=>{const a=-2*Math.PI*i/r,s=n(a),l=xn.min(t),c=xn.max(t)-l,f=(s+1)/2,h=l+f*c;return xn.reduce(t,(m,v)=>Math.abs(h-v)<Math.abs(h-m)?v:m,t[0])}))},increment(){this.count++},initializeWebAudioSynth(){this.webAudioSynth=new sV(this.numberOfVoices)},startSynth(){var e;(e=this.webAudioSynth)==null||e.start()}}});const ff=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},r7=e=>(A1("data-v-b71e0b7a"),e=e(),k1(),e),dj={class:"midi-drivers"},hj=r7(()=>Ae("header",null,"MIDI Settings",-1)),pj={class:"drivers-wrapper"},gj={class:"drivers-item output"},vj=r7(()=>Ae("h4",null,"Select Output Port",-1)),mj={__name:"MidiDrivers",setup(e){const t=Qo(),{midiInputPort:n,midiOutputPort:r}=ta(t);let i=[];return Ue(r,a=>{Iu.setOutput(a)}),Kt(()=>{Iu.getPortNames().then(({inputs:a,outputs:s})=>{i=s;const[l]=s;r.value=l})}),(a,s)=>{const l=Pp,u=Cp,c=xp;return re(),qe(qa,null,{default:Oe(()=>[Ae("section",dj,[hj,Ae("div",pj,[Ae("div",gj,[vj,Pe(c,null,{default:Oe(()=>[Pe(u,{modelValue:T(r),"onUpdate:modelValue":s[0]||(s[0]=f=>dt(r)?r.value=f:null)},{default:Oe(()=>[(re(!0),Le(Ct,null,sr(T(i),f=>(re(),qe(l))),256))]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})}}},bj=ff(mj,[["__scopeId","data-v-b71e0b7a"]]),yj=Zt({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:sa},inactiveIcon:{type:sa},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:ut(Function)},size:{type:String,validator:B4},tabindex:{type:[String,Number]}}),wj={[rn]:e=>ks(e)||_t(e)||Vt(e),[oa]:e=>ks(e)||_t(e)||Vt(e),[Ti]:e=>ks(e)||_t(e)||Vt(e)},_j=["onClick"],xj=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Mj=["aria-hidden"],Cj=["aria-hidden"],Pj=["aria-hidden"],n1="ElSwitch",Sj=ot({name:n1}),Tj=ot({...Sj,props:yj,emits:wj,setup(e,{expose:t,emit:n}){const r=e,i=Ln(),{formItem:a}=Jo(),s=Ws(),l=Gt("switch");ip({from:'"value"',replacement:'"model-value" or "v-model"',scope:n1,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},ie(()=>{var M;return!!((M=i.vnode.props)!=null&&M.value)}));const{inputId:u}=gp(r,{formItemContext:a}),c=xl(ie(()=>r.loading)),f=Se(r.modelValue!==!1),h=Se(),p=Se(),m=ie(()=>[l.b(),l.m(s.value),l.is("disabled",c.value),l.is("checked",w.value)]),v=ie(()=>({width:cl(r.width)}));Ue(()=>r.modelValue,()=>{f.value=!0}),Ue(()=>r.value,()=>{f.value=!1});const b=ie(()=>f.value?r.modelValue:r.value),w=ie(()=>b.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(b.value)||(n(rn,r.inactiveValue),n(oa,r.inactiveValue),n(Ti,r.inactiveValue)),Ue(w,M=>{var P;h.value.checked=M,r.validateEvent&&((P=a==null?void 0:a.validate)==null||P.call(a,"change").catch(A=>void 0))});const x=()=>{const M=w.value?r.inactiveValue:r.activeValue;n(rn,M),n(oa,M),n(Ti,M),Et(()=>{h.value.checked=w.value})},C=()=>{if(c.value)return;const{beforeChange:M}=r;if(!M){x();return}const P=M();[du(P),ks(P)].includes(!0)||Z1(n1,"beforeChange must return type `Promise<boolean>` or `boolean`"),du(P)?P.then(k=>{k&&x()}).catch(k=>{}):P&&x()},S=ie(()=>l.cssVarBlock({...r.activeColor?{"on-color":r.activeColor}:null,...r.inactiveColor?{"off-color":r.inactiveColor}:null,...r.borderColor?{"border-color":r.borderColor}:null})),_=()=>{var M,P;(P=(M=h.value)==null?void 0:M.focus)==null||P.call(M)};return Kt(()=>{h.value.checked=w.value}),t({focus:_,checked:w}),(M,P)=>(re(),Le("div",{class:Re(T(m)),style:Wt(T(S)),onClick:Hn(C,["prevent"])},[Ae("input",{id:T(u),ref_key:"input",ref:h,class:Re(T(l).e("input")),type:"checkbox",role:"switch","aria-checked":T(w),"aria-disabled":T(c),name:M.name,"true-value":M.activeValue,"false-value":M.inactiveValue,disabled:T(c),tabindex:M.tabindex,onChange:x,onKeydown:Fn(C,["enter"])},null,42,xj),!M.inlinePrompt&&(M.inactiveIcon||M.inactiveText)?(re(),Le("span",{key:0,class:Re([T(l).e("label"),T(l).em("label","left"),T(l).is("active",!T(w))])},[M.inactiveIcon?(re(),qe(T(zn),{key:0},{default:Oe(()=>[(re(),qe(ar(M.inactiveIcon)))]),_:1})):Ke("v-if",!0),!M.inactiveIcon&&M.inactiveText?(re(),Le("span",{key:1,"aria-hidden":T(w)},cn(M.inactiveText),9,Mj)):Ke("v-if",!0)],2)):Ke("v-if",!0),Ae("span",{ref_key:"core",ref:p,class:Re(T(l).e("core")),style:Wt(T(v))},[M.inlinePrompt?(re(),Le("div",{key:0,class:Re(T(l).e("inner"))},[M.activeIcon||M.inactiveIcon?(re(),qe(T(zn),{key:0,class:Re(T(l).is("icon"))},{default:Oe(()=>[(re(),qe(ar(T(w)?M.activeIcon:M.inactiveIcon)))]),_:1},8,["class"])):M.activeText||M.inactiveText?(re(),Le("span",{key:1,class:Re(T(l).is("text")),"aria-hidden":!T(w)},cn(T(w)?M.activeText:M.inactiveText),11,Cj)):Ke("v-if",!0)],2)):Ke("v-if",!0),Ae("div",{class:Re(T(l).e("action"))},[M.loading?(re(),qe(T(zn),{key:0,class:Re(T(l).is("loading"))},{default:Oe(()=>[Pe(T(tp))]),_:1},8,["class"])):Ke("v-if",!0)],2)],6),!M.inlinePrompt&&(M.activeIcon||M.activeText)?(re(),Le("span",{key:1,class:Re([T(l).e("label"),T(l).em("label","right"),T(l).is("active",T(w))])},[M.activeIcon?(re(),qe(T(zn),{key:0},{default:Oe(()=>[(re(),qe(ar(M.activeIcon)))]),_:1})):Ke("v-if",!0),!M.activeIcon&&M.activeText?(re(),Le("span",{key:1,"aria-hidden":!T(w)},cn(M.activeText),9,Pj)):Ke("v-if",!0)],2)):Ke("v-if",!0)],14,_j))}});var Ej=qt(Tj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Aj=Gr(Ej);const kj=e=>(A1("data-v-d0673b8f"),e=e(),k1(),e),Oj={class:"top-nav"},Nj=kj(()=>Ae("h1",null,"Weaving Music",-1)),Ij={key:0,class:"error"},Lj={class:"switches"},$j={__name:"TopNav",setup(e){const t=Qo(),{useWebAudio:n,isOn:r,errorMsg:i}=ta(t);return(a,s)=>{const l=Aj;return re(),Le("nav",Oj,[Nj,T(i)?(re(),Le("p",Ij,cn(T(i)),1)):Ke("",!0),Ae("div",Lj,[Pe(l,{modelValue:T(n),"onUpdate:modelValue":s[0]||(s[0]=u=>dt(n)?n.value=u:null),"active-text":"Use Web Audio to Play","inactive-text":"Use External MIDI to Play"},null,8,["modelValue"]),Pe(l,{"active-text":"start","inactive-text":"stop",modelValue:T(r),"onUpdate:modelValue":s[1]||(s[1]=u=>dt(r)?r.value=u:null)},null,8,["modelValue"])])])}}},Bj=ff($j,[["__scopeId","data-v-d0673b8f"]]);const ub={__name:"Woof",props:{length:Number,type:String,active:Boolean,index:Number,tick:Number,note:Number,chord:String,mode:String},setup(e,{expose:t}){const n=e;In();const r=Qo(),i=zo(),{noteScale:a,rangeMin:s,rangeMax:l}=ta(i);let u=Se(0);const c=Cn({notes:[]}),f=ie({get:()=>{const C="C",S=Math.max(l.value-s.value,0);if(n.mode==="stack")return n.type==="warp"?(xs.noteSet(a.value,C,s.value,S)||[]).map(_=>`${_}`):cb(n.chord).map(P=>eb.semitones(P)).map(P=>`${P}`);if(n.mode==="single")return console.log("scale",xs),console.log("range",S),console.log("tonic",C),console.log("single",xs.noteSet(a.value,C,s.value,S)),(xs.noteSet(a.value,C,s.value,S)||[]).map(_=>`${_}`)}}),h=ie({get:()=>n.type==="warp"?n.length:1});function p(){const S=cb(n.chord).map(P=>eb.semitones(P)),_=parseInt(f.value[0]);console.log("baseNote",_);const M=_+S[u%S.length];return console.log("note",M),u+=1,M}function m(){r.initNotes(),c.notes=r.notes}function v(C){return c.notes[C]}function b(){return c.notes}function w(C,S){c.notes[C]=S}function x(C,S){const _=xs.determineNote(f.value.map(M=>parseInt(M)),C);w(S,_)}return Ue(()=>a.value,C=>{m()}),Ue(()=>n.chord,C=>{console.log("vall",C),m()}),Ue(n.index,()=>{}),Ue(n.tick,()=>{}),Ue(()=>n.length,()=>{m(),console.log("props.length",n.length)}),Ue(()=>s.value,()=>{m()}),Ue(()=>l.value,()=>{m()}),Kt(()=>{m()}),t({initNotes:m,updateNoteAtIndex:x,getNextNoteInChord:p,getNotes:b,getNote:v}),(C,S)=>{const _=Pp,M=Cp,P=xp;return re(),Le("div",{class:Re(["woof",e.type])},[Ae("div",{class:"woof-notes",style:Wt({gridTemplateColumns:"repeat("+T(h)+", 1fr)",width:50*e.length+"px"})},[Pe(P,null,{default:Oe(()=>[(re(!0),Le(Ct,null,sr(T(c).notes,(A,k)=>(re(),qe(M,{class:"woof-notes-select",key:k,modelValue:T(c).notes[k],"onUpdate:modelValue":B=>T(c).notes[k]=B},{default:Oe(()=>[(re(!0),Le(Ct,null,sr(T(f),B=>(re(),qe(_,{key:B,label:B,value:B},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))]),_:1})],4)],2)}}};function Fu(e,t,n,r){if(e===-1)t.unshift(!1);else if(e===-2)t.unshift(!0);else{if(!n)return;for(let i=0;i<n[e];i++)Fu(e-1,t,n,r);r[e]!=0&&Fu(e-2,t,n,r)}}function Rj(e,t){console.log("numSlots",e),console.log("numPulses",t);let n=e-t;const r=[t],i=new Array;let a=0;do i[a]=Math.floor(n/r[a]),r[a+1]=n%r[a],n=r[a],a+=1;while(r[a]>1);i[a]=n;const s=[];return Fu(a,s,i,r),s}const Fj={generateEuclideanSequence:Rj,buildString:Fu};function Hj(e,t,n,r){console.log("channel",e),console.log("note",t),r?r.playNote(e,t,n):(e=1,Iu.noteOn(e,t,127),n&&setTimeout(()=>{Iu.noteOff(e,t,127)},n))}const Dj={playNote:Hj};const zj={class:"swatch"},Wj=Ae("header",null,"Weaving Swatch",-1),Uj={class:"swatch-display"},Vj={__name:"Swatch",setup(e){const n=Qo(),r=Ru();zo();const{useWebAudio:i,webAudioSynth:a,warpNoteColors:s,gridItems:l,gridItemsKey:u,errorMsg:c}=ta(n),{swatchWidth:f,swatchDepth:h,patternType:p,weaveX:m,weaveY:v,euclideanCount:b}=ta(r),w=Se(),x=Se();let C=Se("stack");Se(xs.names),Se({});let S=Se(-1),_=Se(!1),M=Se(-1),P=Se(!1),A=Se(-1),k=Se(0),B=Se(0),F=Se("Maj7"),U=setTimeout(()=>{},0);const{$listen:R}=In();Ue(p,()=>{N()}),Ue(b,()=>{N()}),Ue(f,()=>{q()}),Ue(h,()=>{q()}),Ue(m,()=>{L()}),Ue(v,()=>{L()});function L(){const He=[m.value,v.value],$e=He.reduce((Ce,Ie)=>Ce+=Ie);n.noteGrid=[],xn.times(h.value,Ce=>{const Ie=[];xn.times(f.value,xe=>{Ie.push((Ce+f.value-xe)%$e<He[0])}),n.noteGrid.push(Ie),console.log("store.noteGrid",n.noteGrid)})}function D(He,$e){if(S.value++,He==="external"){const Ce=S.value%f.value;w.updateNoteAtIndex($e,Ce),console.log("value",$e)}_e(),clearTimeout(U),U=setTimeout(()=>{Ne()},1e4)}function q(){L(),S.value=0,n.initializeWebAudioSynth()}function N(){if(p.value==="euclidean")return O();L()}function O(){let He=Fj.generateEuclideanSequence(f.value,b.value);console.log("euclideanCount.value",b.value);let $e=(Ce,Ie)=>xn.clone(Ce).map((rt,De)=>{const Ve=(De+Ce.length-Ie)%Ce.length;return Ce[Ve]});n.noteGrid=[],xn.times(h.value,Ce=>{const Ie=$e(He,Ce);n.noteGrid.push(Ie)})}function H(He,$e,Ce){try{Dj.playNote(He,$e,n.noteLength,i.value&&a.value)}catch(Ie){n.isOn=!1,c.value=Ie,console.error(Ie)}}function V(){let He=S.value%f.value,$e=Math.floor(S.value/f.value)%h.value,Ce=n.noteGrid[$e][He];if(Ce){_=!0,P=!1,He=He;const Ie=parseInt(w.getNextNoteInChord());console.log("1: noteValue",Ie),H(1,Ie)}if(!Ce){_=!1,P=!0,$e=$e;const Ie=parseInt(x.getNextNoteInChord());console.log("2: noteValue",Ie),H(2,Ie),H(4,Ie-5)}S.value=S.value%(f.value*h.value)}function ne(){let He,$e=S.value%f.value;if(Math.floor(S.value/f.value)%h.value,!w){console.log("warp not found");return}He=parseInt(n.notes[$e]);const Ce=h.value;xn.times(Ce,Ie=>{n.noteGrid[Ie][$e]&&H(Ie,He)})}function _e(){C.value==="single"?V():C.value==="stack"&&ne()}function ae(He){return C.value==="single"?S.value===He:C.value==="stack"?S.value%f.value===He%f.value:!1}function Ne(){S.value=-1,_=!1,M=-1,P=!1,A=-1}return Kt(()=>{N(),R("tick",()=>D("internal")),R("clock-off",Ne),R("trigger-in",({noteValue:He,velocity:$e})=>D("external",He/127))}),(He,$e)=>(re(),Le("section",zj,[Wj,Ae("div",Uj,[Pe(T(ub),{ref_key:"warp",ref:w,length:T(f),mode:T(C),type:"warp",active:T(_),index:T(M),tick:T(S),note:T(k),chord:T(F)},null,8,["length","mode","active","index","tick","note","chord"]),Pe(T(ub),{ref_key:"weft",ref:x,length:T(h),mode:T(C),type:"weft",active:T(P),index:T(A),tick:T(S),note:T(B),chord:T(F)},null,8,["length","mode","active","index","tick","note","chord"]),Ae("div",{class:"swatch-grid",style:Wt({gridTemplateColumns:"repeat("+T(f)+", 1fr)"})},[(re(!0),Le(Ct,null,sr(T(l),(Ce,Ie)=>(re(),Le("div",{class:Re(["swatch-grid-note",{hide:!Ce,active:ae(Ie)}]),style:Wt({"background-color":Ce?T(s)[Ie%T(f)]:He.transparent}),key:`${T(u)}_${Ie}`},null,6))),128))],4)])]))}},qj={class:"settings-pane"},Qd={__name:"SettingsPane",props:{title:String},setup(e){const t=e;return(n,r)=>(re(),Le("div",qj,[Ae("header",null,cn(t.title),1),Rt(n.$slots,"default")]))}};var jj="6.2.2",Gj=jj,Kj=function(e,t){var n=this;if(t||(t={}),n.qpm=t.qpm?parseInt(t.qpm,10):null,!n.qpm){var r=e.metaText?e.metaText.tempo:null;n.qpm=e.getBpm(r)}n.extraMeasuresAtBeginning=t.extraMeasuresAtBeginning?parseInt(t.extraMeasuresAtBeginning,10):0,n.beatCallback=t.beatCallback,n.eventCallback=t.eventCallback,n.lineEndCallback=t.lineEndCallback,n.lineEndAnticipation=t.lineEndAnticipation?parseInt(t.lineEndAnticipation,10):0,n.beatSubdivisions=t.beatSubdivisions?parseInt(t.beatSubdivisions,10):1,n.joggerTimer=null,n.replaceTarget=function(a){n.noteTimings=a.setTiming(n.qpm,n.extraMeasuresAtBeginning),a.noteTimings.length===0&&(n.noteTimings=a.setTiming(0,0)),n.lineEndCallback&&(n.lineEndTimings=Yj(a.noteTimings,n.lineEndAnticipation)),n.startTime=null,n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.currentTime=0,n.isPaused=!1,n.isRunning=!1,n.pausedPercent=null,n.justUnpaused=!1,n.newSeekPercent=0,n.lastTimestamp=0,n.noteTimings.length!==0&&(n.millisecondsPerBeat=1e3/(n.qpm/60)/n.beatSubdivisions,n.lastMoment=n.noteTimings[n.noteTimings.length-1].milliseconds,n.totalBeats=Math.round(n.lastMoment/n.millisecondsPerBeat))},n.replaceTarget(e),n.doTiming=function(a){if(n.lastTimestamp!==a&&(n.lastTimestamp=a,n.startTime||(n.startTime=a),!n.isPaused&&n.isRunning)){for(n.currentTime=a-n.startTime,n.currentTime+=16;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<n.currentTime;){if(n.eventCallback&&n.noteTimings[n.currentEvent].type==="event"){var s=n.startTime;n.eventCallback(n.noteTimings[n.currentEvent]),s!==n.startTime&&(n.currentTime=a-n.startTime)}n.currentEvent++}if(n.lineEndCallback&&n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds<n.currentTime&&n.currentEvent<n.noteTimings.length){var l=n.noteTimings[n.currentEvent].milliseconds===n.currentTime?n.noteTimings[n.currentEvent]:n.noteTimings[n.currentEvent-1];n.lineEndCallback(n.lineEndTimings[n.currentLine],l,{line:n.currentLine,endTimings:n.lineEndTimings,currentTime:n.currentTime}),n.currentLine++}if(n.currentTime<n.lastMoment){if(requestAnimationFrame(n.doTiming),n.currentBeat*n.millisecondsPerBeat<n.currentTime){var u=n.doBeatCallback(a);u!==null&&(n.currentTime=u)}}else if(n.currentBeat<=n.totalBeats&&n.beatCallback){var c=n.doBeatCallback(a);c!==null&&(n.currentTime=c),requestAnimationFrame(n.doTiming)}if(n.currentTime>=n.lastMoment)if(n.eventCallback){var f=n.eventCallback(null);n.shouldStop(f).then(function(h){h&&n.stop()})}else n.stop()}},n.shouldStop=function(a){return new Promise(function(s){if(!a)return s(!0);if(a==="continue")return s(!1);a.then&&a.then(function(l){s(l!=="continue")})})},n.doBeatCallback=function(a){if(n.beatCallback){for(var s=n.currentEvent;s<n.noteTimings.length&&n.noteTimings[s].left===null;)s++;var l,u;if(s<n.noteTimings.length){for(l=n.noteTimings[s].milliseconds,s=Math.max(0,n.currentEvent-1);s>=0&&n.noteTimings[s].left===null;)s--;u=n.noteTimings[s]}var c={},f={};if(u){c.top=u.top,c.height=u.height;var h=Math.max(0,a-n.startTime-u.milliseconds),p=l-u.milliseconds,m=u.endX-u.left,v=p?h*m/p:0;c.left=u.left+v,n.currentEvent===0&&u.milliseconds>a-n.startTime&&(c.left=void 0),f={timestamp:a,startTime:n.startTime,ev:u,endMs:l,offMs:h,offPx:v,gapMs:p,gapPx:m}}else f={timestamp:a,startTime:n.startTime};var b=n.startTime;if(n.beatCallback(n.currentBeat/n.beatSubdivisions,n.totalBeats/n.beatSubdivisions,n.lastMoment,c,f),b!==n.startTime)return a-n.startTime;n.currentBeat++}return null};var i=60;n.animationJogger=function(){n.isRunning&&(n.doTiming(performance.now()),n.joggerTimer=setTimeout(n.animationJogger,i))},n.start=function(a,s){if(n.isRunning=!0,n.isPaused&&(n.isPaused=!1,a===void 0&&(n.justUnpaused=!0)),a)n.setProgress(a,s);else if(a===0)n.reset();else if(n.pausedPercent!==null){var l=performance.now();n.currentTime=n.lastMoment*n.pausedPercent,n.startTime=l-n.currentTime,n.pausedPercent=null,n.reportNext=!0}requestAnimationFrame(n.doTiming),n.joggerTimer=setTimeout(n.animationJogger,i)},n.pause=function(){n.isPaused=!0;var a=performance.now();n.pausedPercent=(a-n.startTime)/n.lastMoment,n.isRunning=!1,n.joggerTimer&&(clearTimeout(n.joggerTimer),n.joggerTimer=null)},n.currentMillisecond=function(){return n.currentTime},n.reset=function(){n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.startTime=null,n.pausedPercent=null},n.stop=function(){n.pause(),n.reset()},n.setProgress=function(a,s){var l;switch(s){case"seconds":n.currentTime=a*1e3,n.currentTime<0&&(n.currentTime=0),n.currentTime>n.lastMoment&&(n.currentTime=n.lastMoment),l=n.currentTime/n.lastMoment;break;case"beats":n.currentTime=a*n.millisecondsPerBeat*n.beatSubdivisions,n.currentTime<0&&(n.currentTime=0),n.currentTime>n.lastMoment&&(n.currentTime=n.lastMoment),l=n.currentTime/n.lastMoment;break;default:l=a,l<0&&(l=0),l>1&&(l=1),n.currentTime=n.lastMoment*l;break}n.isRunning||(n.pausedPercent=l);var u=performance.now();for(n.startTime=u-n.currentTime,n.currentEvent,n.currentEvent=0;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<n.currentTime;)n.currentEvent++;if(n.lineEndCallback)for(n.currentLine=0;n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds+n.lineEndAnticipation<n.currentTime;)n.currentLine++;var c=n.currentBeat;n.currentBeat=Math.floor(n.currentTime/n.millisecondsPerBeat),n.beatCallback&&c!==n.currentBeat&&n.doBeatCallback(n.startTime+n.currentTime),n.eventCallback&&n.currentEvent>=0&&n.noteTimings[n.currentEvent].type==="event"&&n.eventCallback(n.noteTimings[n.currentEvent]),n.lineEndCallback&&n.lineEndCallback(n.lineEndTimings[n.currentLine],n.noteTimings[n.currentEvent],{line:n.currentLine,endTimings:n.lineEndTimings}),n.joggerTimer=setTimeout(n.animationJogger,i)}};function Yj(e,t){for(var n=[],r=null,i=0;i<e.length;i++){var a=e[i];a.type!=="end"&&a.top!==r&&(n.push({measureNumber:a.measureNumber,milliseconds:a.milliseconds-t,top:a.top,bottom:a.top+a.height}),r=a.top)}return n}var Rp=Kj,Xj=Rp,cu={};(function(){var e,t;cu.startAnimation=function(n,r,i){e&&(e.stop(),e=void 0),i.showCursor&&(t=n.querySelector(".abcjs-cursor"),t||(t=document.createElement("DIV"),t.className="abcjs-cursor cursor",t.style.position="absolute",n.appendChild(t),n.style.position="relative"));function a(p){for(var m=0;m<p.length;m++){var v=p[m];v.classList.contains("abcjs-bar")||(v.style.display="none")}}var s;function l(p){if(s){var m=n.querySelectorAll(s);a(m)}s=p}function u(p){var m=n.querySelectorAll(p);a(m)}function c(p){i.hideCurrentMeasure?u(p):i.hideFinishedMeasures&&l(p)}function f(p){return".abcjs-l"+p.line+".abcjs-m"+p.measureNumber}function h(p){if(p){if(p.measureStart){var m=f(p);m&&c(m)}t&&(t.style.left=p.left+"px",t.style.top=p.top+"px",t.style.width=p.width+"px",t.style.height=p.height+"px")}else e.stop(),e=void 0}e=new Xj(r,{qpm:i.bpm,eventCallback:h}),e.start()},cu.pauseAnimation=function(n){e&&(n?e.pause():e.start())},cu.stopAnimation=function(){e&&(e.stop(),e=void 0)}})();var Jj=cu,qr={};qr.clone=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};qr.cloneArray=function(e){for(var t=[],n=0;n<e.length;n++)t.push(qr.clone(e[n]));return t};qr.cloneHashOfHash=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=qr.clone(e[n]));return t};qr.cloneHashOfArrayOfHash=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=qr.cloneArray(e[n]));return t};qr.strip=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")};qr.startsWith=function(e,t){return e.indexOf(t)===0};qr.endsWith=function(e,t){var n=e.length-t.length;return n>=0&&e.lastIndexOf(t)===n};qr.last=function(e){return e.length===0?null:e[e.length-1]};var dr=qr,fb=dr,ys={};(function(){var e,t,n,r,i;ys.initialize=function(N,O,H,V,ne){e=N,t=O,n=H,r=V,i=ne,a()};function a(){n.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},n.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},n.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},n.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},n.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},r.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},r.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},r.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},r.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},r.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},r.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},r.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},r.formatting.annotationfont=n.annotationfont,r.formatting.gchordfont=n.gchordfont,r.formatting.historyfont=n.historyfont,r.formatting.infofont=n.infofont,r.formatting.measurefont=n.measurefont,r.formatting.partsfont=n.partsfont,r.formatting.repeatfont=n.repeatfont,r.formatting.textfont=n.textfont,r.formatting.tripletfont=n.tripletfont,r.formatting.vocalfont=n.vocalfont,r.formatting.wordsfont=n.wordsfont}var s={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},l=function(N){switch(N){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},u=function(N,O,H,V,ne){function _e(){var Q=parseInt(N[0].token);return N.shift(),O?N.length===0?{face:O.face,weight:O.weight,style:O.style,decoration:O.decoration,size:Q}:N.length===1&&N[0].token==="box"&&s[ne]?{face:O.face,weight:O.weight,style:O.style,decoration:O.decoration,size:Q,box:!0}:(t("Extra parameters in font definition.",H,V),{face:O.face,weight:O.weight,style:O.style,decoration:O.decoration,size:Q}):(t("Can't set just the size of the font since there is no default value.",H,V),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:Q})}if(N[0].token==="*"){if(N.shift(),N[0].type==="number")return _e();t("Expected font size number after *.",H,V)}if(N[0].type==="number")return _e();for(var ae=[],Ne,He="normal",$e="normal",Ce="none",Ie=!1,xe="face",rt=!1;N.length;){var De=N.shift(),Ve=De.token.toLowerCase();switch(xe){case"face":rt||Ve!=="utf"&&De.type!=="number"&&Ve!=="bold"&&Ve!=="italic"&&Ve!=="underline"&&Ve!=="box"?ae.length>0&&De.token==="-"?(rt=!0,ae[ae.length-1]=ae[ae.length-1]+De.token):rt?(rt=!1,ae[ae.length-1]=ae[ae.length-1]+De.token):ae.push(De.token):De.type==="number"?(Ne?t("Font size specified twice in font definition.",H,V):Ne=De.token,xe="modifier"):Ve==="bold"?He="bold":Ve==="italic"?$e="italic":Ve==="underline"?Ce="underline":Ve==="box"?(s[ne]?Ie=!0:t(`This font style doesn't support "box"`,H,V),xe="finished"):Ve==="utf"?(De=N.shift(),xe="size"):t("Unknown parameter "+De.token+" in font definition.",H,V);break;case"size":De.type==="number"?Ne?t("Font size specified twice in font definition.",H,V):Ne=De.token:t("Expected font size in font definition.",H,V),xe="modifier";break;case"modifier":Ve==="bold"?He="bold":Ve==="italic"?$e="italic":Ve==="underline"?Ce="underline":Ve==="box"?(s[ne]?Ie=!0:t(`This font style doesn't support "box"`,H,V),xe="finished"):t("Unknown parameter "+De.token+" in font definition.",H,V);break;case"finished":t('Extra characters found after "box" in font definition.',H,V);break}}Ne===void 0?O?Ne=O.size:(t("Must specify the size of the font since there is no default value.",H,V),Ne=12):Ne=parseFloat(Ne),ae=ae.join(" "),ae===""&&(O?ae=O.face:(t("Must specify the name of the font since there is no default value.",H,V),ae="sans-serif"));var z=l(ae),j={};return z?(j.face=z.face,j.weight=z.weight,j.style=z.style,j.decoration=z.decoration,j.size=Ne,Ie&&(j.box=!0),j):(j.face=ae,j.weight=He,j.style=$e,j.decoration=Ce,j.size=Ne,Ie&&(j.box=!0),j)},c=function(N,O,H){return O.length===0?'Directive "'+N+'" requires a font as a parameter.':(n[N]=u(O,n[N],H,0,N),n.is_in_header&&(r.formatting[N]=n[N]),null)},f=function(N,O,H){return O.length===0?'Directive "'+N+'" requires a font as a parameter.':(r.formatting[N]=u(O,r.formatting[N],H,0,N),null)},h=function(N,O){var H="";O.forEach(function(ne){H+=ne.token});var V=parseFloat(H);if(isNaN(V)||V===0)return'Directive "'+N+'" requires a number as a parameter.';r.formatting.scale=V},p=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],m=function(N){var O=N.split(/\s+/);if(O.length!==2&&O.length!==3)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var H=O[0],V=parseInt(O[1],10);if((isNaN(V)||V<35||V>81)&&O[1]&&(V=p.indexOf(O[1].toLowerCase())+35),isNaN(V)||V<35||V>81)return{error:'Expected drum name, received "'+O[1]+'"'};var ne={sound:V};return O.length===3&&(ne.noteHead=O[2]),{key:H,value:ne}},v=function(N,O){var H=e.getMeasurement(O);return H.used===0||O.length!==0?{error:'Directive "'+N+'" requires a measurement as a parameter.'}:H.value},b=function(N,O){var H=e.getMeasurement(O);return H.used===0||O.length!==0?'Directive "'+N+'" requires a measurement as a parameter.':(r.formatting[N]=H.value,null)},w=function(N,O,H,V,ne){if(H.length!==1||H[0].type!=="number")return'Directive "'+O+'" requires a number as a parameter.';var _e=H[0].intt;return V!==void 0&&_e<V?'Directive "'+O+'" requires a number greater than or equal to '+V+" as a parameter.":ne!==void 0&&_e>ne?'Directive "'+O+'" requires a number less than or equal to '+ne+" as a parameter.":(n[N]=_e,null)},x=function(N,O,H){if(H.length===1&&(H[0].token==="true"||H[0].token==="false"))return n[N]=H[0].token==="true",null;var V=w(N,O,H,0,1);return V!==null?V:(n[N]=n[N]===1,null)},C=function(N,O,H,V){if(H.length!==1)return'Directive "'+O+'" requires one of [ '+V.join(", ")+" ] as a parameter.";for(var ne=H[0].token,_e=!1,ae=0;!_e&&ae<V.length;ae++)V[ae]===ne&&(_e=!0);return _e?(n[N]=ne,null):'Directive "'+O+'" requires one of [ '+V.join(", ")+" ] as a parameter."},S=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],_=["gchord","ptstress","beatstring"],M=["bassvol","chordvol","bassprog","chordprog","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc"],P=["program"],A=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],k=["beat"],B=["drone"],F=["portamento"],U=["expand","grace","trim"],R=["drum","chordname"],L=function(N,O,H){var V=N.shift().token,ne=[];if(S.indexOf(V)>=0)N.length!==0&&t("Unexpected parameter in MIDI "+V,H,0);else if(_.indexOf(V)>=0)N.length!==1?t("Expected one parameter in MIDI "+V,H,0):ne.push(N[0].token);else if(M.indexOf(V)>=0)N.length!==1?t("Expected one parameter in MIDI "+V,H,0):N[0].type!=="number"?t("Expected one integer parameter in MIDI "+V,H,0):ne.push(N[0].intt);else if(P.indexOf(V)>=0)N.length!==1&&N.length!==2?t("Expected one or two parameters in MIDI "+V,H,0):N[0].type!=="number"||N.length===2&&N[1].type!=="number"?t("Expected integer parameter in MIDI "+V,H,0):(ne.push(N[0].intt),N.length===2&&ne.push(N[1].intt));else if(A.indexOf(V)>=0)N.length!==2?t("Expected two parameters in MIDI "+V,H,0):N[0].type!=="number"||N[1].type!=="number"?t("Expected two integer parameters in MIDI "+V,H,0):(ne.push(N[0].intt),ne.push(N[1].intt));else if(F.indexOf(V)>=0)N.length!==2?t("Expected two parameters in MIDI "+V,H,0):N[0].type!=="alpha"||N[1].type!=="number"?t("Expected one string and one integer parameters in MIDI "+V,H,0):(ne.push(N[0].token),ne.push(N[1].intt));else if(V==="drummap")N.length===2&&N[0].type==="alpha"&&N[1].type==="number"?(O.formatting||(O.formatting={}),O.formatting.midi||(O.formatting.midi={}),O.formatting.midi.drummap||(O.formatting.midi.drummap={}),O.formatting.midi.drummap[N[0].token]=N[1].intt,ne=O.formatting.midi.drummap):N.length===3&&N[0].type==="punct"&&N[1].type==="alpha"&&N[2].type==="number"?(O.formatting||(O.formatting={}),O.formatting.midi||(O.formatting.midi={}),O.formatting.midi.drummap||(O.formatting.midi.drummap={}),O.formatting.midi.drummap[N[0].token+N[1].token]=N[2].intt,ne=O.formatting.midi.drummap):t("Expected one note name and one integer parameter in MIDI "+V,H,0);else if(U.indexOf(V)>=0)N.length!==3||N[0].type!=="number"||N[1].token!=="/"||N[2].type!=="number"?t("Expected fraction parameter in MIDI "+V,H,0):(ne.push(N[0].intt),ne.push(N[2].intt));else if(k.indexOf(V)>=0)N.length!==4?t("Expected four parameters in MIDI "+V,H,0):N[0].type!=="number"||N[1].type!=="number"||N[2].type!=="number"||N[3].type!=="number"?t("Expected four integer parameters in MIDI "+V,H,0):(ne.push(N[0].intt),ne.push(N[1].intt),ne.push(N[2].intt),ne.push(N[3].intt));else if(B.indexOf(V)>=0)N.length!==5?t("Expected five parameters in MIDI "+V,H,0):N[0].type!=="number"||N[1].type!=="number"||N[2].type!=="number"||N[3].type!=="number"||N[4].type!=="number"?t("Expected five integer parameters in MIDI "+V,H,0):(ne.push(N[0].intt),ne.push(N[1].intt),ne.push(N[2].intt),ne.push(N[3].intt),ne.push(N[4].intt));else if(P.indexOf(V)>=0)N.length!==1||N.length!==4?t("Expected one or two parameters in MIDI "+V,H,0):N[0].type!=="number"?t("Expected integer parameter in MIDI "+V,H,0):N.length===4?(N[1].token!=="octave"&&t("Expected octave parameter in MIDI "+V,H,0),N[2].token!=="="&&t("Expected octave parameter in MIDI "+V,H,0),N[3].type!=="number"&&t("Expected integer parameter for octave in MIDI "+V,H,0)):(ne.push(N[0].intt),N.length===4&&ne.push(N[3].intt));else if(R.indexOf(V)>=0)if(N.length<2)t("Expected string parameter and at least one integer parameter in MIDI "+V,H,0);else if(N[0].type!=="alpha")t("Expected string parameter and at least one integer parameter in MIDI "+V,H,0);else{var _e=N.shift();for(ne.push(_e.token);N.length>0;)_e=N.shift(),_e.type!=="number"&&t("Expected integer parameter in MIDI "+V,H,0),ne.push(_e.intt)}i.hasBeginMusic()?i.appendElement("midi",-1,-1,{cmd:V,params:ne}):(O.formatting.midi===void 0&&(O.formatting.midi={}),O.formatting.midi[V]=ne)};ys.parseFontChangeLine=function(N){var O=N.split("$");if(O.length>1&&n.setfont){for(var H=[{text:O[0]}],V=1;V<O.length;V++)O[V][0]==="0"?H.push({text:O[V].substring(1)}):O[V][0]==="1"&&n.setfont[1]?H.push({font:n.setfont[1],text:O[V].substring(1)}):O[V][0]==="2"&&n.setfont[2]?H.push({font:n.setfont[2],text:O[V].substring(1)}):O[V][0]==="3"&&n.setfont[3]?H.push({font:n.setfont[3],text:O[V].substring(1)}):O[V][0]==="4"&&n.setfont[4]?H.push({font:n.setfont[4],text:O[V].substring(1)}):H[H.length-1].text+="$"+O[V];if(H.length>1)return H}return N};var D=["auto","above","below","hidden"];ys.addDirective=function(N){var O=e.tokenize(N,0,N.length);if(O.length===0||O[0].type!=="alpha")return null;var H=N.substring(N.indexOf(O[0].token)+O[0].token.length);H=e.stripComment(H);var V=O.shift().token.toLowerCase(),ne="",_e;switch(V){case"bagpipes":r.formatting.bagpipes=!0;break;case"flatbeams":r.formatting.flatbeams=!0;break;case"jazzchords":r.formatting.jazzchords=!0;break;case"germanAlphabet":r.formatting.germanAlphabet=!0;break;case"landscape":n.landscape=!0;break;case"papersize":n.papersize=H;break;case"graceslurs":if(O.length!==1)return"Directive graceslurs requires one parameter: 0 or 1";if(O[0].token==="0"||O[0].token==="false")r.formatting.graceSlurs=!1;else if(O[0].token==="1"||O[0].token==="true")r.formatting.graceSlurs=!0;else return"Directive graceslurs requires one parameter: 0 or 1 (received "+O[0].token+")";break;case"lineThickness":var ae=q(O);if(ae.value!==void 0&&(r.formatting.lineThickness=ae.value),ae.error)return ae.error;break;case"stretchlast":var Ne=q(O);if(Ne.value!==void 0&&(r.formatting.stretchlast=Ne.value),Ne.error)return Ne.error;break;case"titlecaps":n.titlecaps=!0;break;case"titleleft":r.formatting.titleleft=!0;break;case"measurebox":r.formatting.measurebox=!0;break;case"vocal":return C("vocalPosition",V,O,D);case"dynamic":return C("dynamicPosition",V,O,D);case"gchord":return C("chordPosition",V,O,D);case"ornament":return C("ornamentPosition",V,O,D);case"volume":return C("volumePosition",V,O,D);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return b(V,O);case"voicescale":if(O.length!==1||O[0].type!=="number")return"voicescale requires one float as a parameter";var He=O.shift();return n.currentVoice&&(n.currentVoice.scale=He.floatt,i.changeVoiceScale(n.currentVoice.scale)),null;case"voicecolor":if(O.length!==1)return"voicecolor requires one string as a parameter";var $e=O.shift();return n.currentVoice&&(n.currentVoice.color=$e.token,i.changeVoiceColor(n.currentVoice.color)),null;case"vskip":var Ce=Math.round(v(V,O));return Ce.error?Ce.error:(i.addSpacing(Ce),null);case"scale":h(V,O);break;case"sep":if(O.length===0)i.addSeparator(14,14,85,{startChar:n.iChar,endChar:n.iChar+5});else{var Ie=e.getMeasurement(O);if(Ie.used===0)return'Directive "'+V+'" requires 3 numbers: space above, space below, length of line';var xe=Ie.value;if(Ie=e.getMeasurement(O),Ie.used===0)return'Directive "'+V+'" requires 3 numbers: space above, space below, length of line';var rt=Ie.value;if(Ie=e.getMeasurement(O),Ie.used===0||O.length!==0)return'Directive "'+V+'" requires 3 numbers: space above, space below, length of line';var De=Ie.value;i.addSeparator(xe,rt,De,{startChar:n.iChar,endChar:n.iChar+H.length})}break;case"barsperstaff":if(ne=w("barsperstaff",V,O),ne!==null)return ne;break;case"staffnonote":if(O.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(O[0].token==="0")n.staffnonote=!0;else if(O[0].token==="1")n.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+O[0].token+")";break;case"printtempo":if(ne=x("printTempo",V,O),ne!==null)return ne;break;case"partsbox":if(ne=x("partsBox",V,O),ne!==null)return ne;n.partsfont.box=n.partsBox;break;case"freegchord":if(ne=x("freegchord",V,O),ne!==null)return ne;break;case"measurenb":case"barnumbers":if(ne=w("barNumbers",V,O),ne!==null)return ne;break;case"setbarnb":if(O.length!==1||O[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";n.currBarNumber=i.setBarNumberImmediate(O[0].intt);break;case"begintext":var Ve="";for(_e=e.nextLine();_e&&_e.indexOf("%%endtext")!==0;)fb.startsWith(_e,"%%")?Ve+=_e.substring(2)+`
`:Ve+=_e+`
`,_e=e.nextLine();i.addText(Ve,{startChar:n.iChar,endChar:n.iChar+Ve.length+7});break;case"continueall":n.continueall=!0;break;case"beginps":for(_e=e.nextLine();_e&&_e.indexOf("%%endps")!==0;)e.nextLine();t("Postscript ignored",N,0);break;case"deco":H.length>0&&n.ignoredDecorations.push(H.substring(0,H.indexOf(" "))),t("Decoration redefinition ignored",N,0);break;case"text":var z=e.translateString(H);i.addText(ys.parseFontChangeLine(z),{startChar:n.iChar,endChar:n.iChar+H.length+7});break;case"center":var j=e.translateString(H);i.addCentered(ys.parseFontChangeLine(j));break;case"font":break;case"setfont":var Q=e.tokenize(H,0,H.length);if(Q.length>=4&&Q[0].token==="-"&&Q[1].type==="number"){var fe=parseInt(Q[1].token);fe>=1&&fe<=4&&(n.setfont||(n.setfont=[]),Q.shift(),Q.shift(),n.setfont[fe]=u(Q,n.setfont[fe],N,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return c(V,O,N);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return f(V,O,N);case"barlabelfont":case"barnumberfont":case"barnumfont":return c("measurefont",O,N);case"staves":case"score":n.score_is_present=!0;for(var de=function(je,it,Ft,G,le){(it||n.staves.length===0)&&n.staves.push({index:n.staves.length,numVoices:0});var oe=fb.last(n.staves);Ft!==void 0&&oe.bracket===void 0&&(oe.bracket=Ft),G!==void 0&&oe.brace===void 0&&(oe.brace=G),le&&(oe.connectBarLines="end"),n.voices[je]===void 0&&(n.voices[je]={staffNum:oe.index,index:oe.numVoices},oe.numVoices++)},be=!1,Ee=!1,ve=!1,Z=!1,se=!1,Fe=!1,Te=!1,te,ke=function(){if(Te=!0,te){var je="start";te.staffNum>0&&(n.staves[te.staffNum-1].connectBarLines==="start"||n.staves[te.staffNum-1].connectBarLines==="continue")&&(je="continue"),n.staves[te.staffNum].connectBarLines=je}};O.length;){var We=O.shift();switch(We.token){case"(":be?t("Can't nest parenthesis in %%score",N,We.start):(be=!0,Z=!0);break;case")":!be||Z?t("Unexpected close parenthesis in %%score",N,We.start):be=!1;break;case"[":Ee?t("Can't nest brackets in %%score",N,We.start):(Ee=!0,se=!0);break;case"]":!Ee||se?t("Unexpected close bracket in %%score",N,We.start):(Ee=!1,n.staves[te.staffNum].bracket="end");break;case"{":ve?t("Can't nest braces in %%score",N,We.start):(ve=!0,Fe=!0);break;case"}":!ve||Fe?t("Unexpected close brace in %%score",N,We.start):(ve=!1,n.staves[te.staffNum].brace="end");break;case"|":ke();break;default:for(var Qe="";(We.type==="alpha"||We.type==="number")&&(Qe+=We.token,We.continueId);)We=O.shift();var Ze=!be||Z,bt=se?"start":Ee?"continue":void 0,At=Fe?"start":ve?"continue":void 0;de(Qe,Ze,bt,At,Te),Z=!1,se=!1,Fe=!1,Te=!1,te=n.voices[Qe],V==="staves"&&ke();break}}break;case"newpage":var Yt=e.getInt(H);i.addNewPage(Yt.digits===0?-1:Yt.value);break;case"abc":var an=H.split(" ");switch(an[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var zt=an.shift();i.addMetaText(V+zt,an.join(" "),{startChar:n.iChar,endChar:n.iChar+H.length+5});break;default:return"Unknown directive: "+V+an[0]}break;case"header":case"footer":var Pt=e.getMeat(H,0,H.length);Pt=H.substring(Pt.start,Pt.end),Pt[0]==='"'&&Pt[Pt.length-1]==='"'&&(Pt=Pt.substring(1,Pt.length-1));var ht=Pt.split("	"),pt={};ht.length===1?pt={left:"",center:ht[0],right:""}:ht.length===2?pt={left:ht[0],center:ht[1],right:""}:pt={left:ht[0],center:ht[1],right:ht[2]},ht.length>3&&t("Too many tabs in "+V+": "+ht.length+" found.",H,0),i.addMetaTextObj(V,pt,{startChar:n.iChar,endChar:n.iChar+N.length});break;case"midi":var ee=e.tokenize(H,0,H.length,!0);ee.length>0&&ee[0].token==="="&&ee.shift(),ee.length===0?t("Expected midi command",H,0):L(ee,r,H);break;case"percmap":var ye=m(H);ye.error?t(ye.error,N,8):(r.formatting.percmap||(r.formatting.percmap={}),r.formatting.percmap[ye.key]=ye.value);break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":r.formatting[V]=H;break;default:return"Unknown directive: "+V}return null},ys.globalFormatting=function(N){for(var O in N)if(N.hasOwnProperty(O)){var H=""+N[O],V=e.tokenize(H,0,H.length),ne;switch(O){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":c(O,V,H);break;case"scale":h(O,V);break;case"partsbox":ne=x("partsBox",O,V),ne!==null&&t(ne),n.partsfont.box=n.partsBox;break;case"freegchord":ne=x("freegchord",O,V),ne!==null&&t(ne);break;case"fontboxpadding":(V.length!==1||V[0].type!=="number")&&t('Directive "'+O+'" requires a number as a parameter.'),r.formatting.fontboxpadding=V[0].floatt;break;case"stretchlast":var _e=q(V);if(_e.value!==void 0&&(r.formatting.stretchlast=_e.value),_e.error)return _e.error;break;default:t("Formatting directive unrecognized: ",O,0)}}};function q(N){if(N.length===0)return{value:1};if(N.length===1)if(N[0].type==="number"){if(N[0].floatt>=0||N[0].floatt<=1)return{value:N[0].floatt}}else{if(N[0].token==="false")return{value:0};if(N[0].token==="true")return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+N[0].token+")"}}})();var Fp=ys,Hp={};const i7=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];Hp.pitchIndex=function(e){return i7.indexOf(e)};Hp.noteName=function(e){return i7[e]};var Qj=Hp,Vc=["C","C♯","D","D♯","E","F","F♯","G","G♯","A","A♯","B"],qc=["C","D♭","D","E♭","E","F","G♭","G","A♭","A","B♭","B"],jc=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Gc=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function Zj(e,t,n,r){if(!t||t%12===0)return e;for(;t<0;)t+=12;t>11&&(t=t%12);var i=e.match(/^([A-G][b#♭♯]?)([^\/]+)?\/?([A-G][b#♭♯]?)?(.+)?/);if(!i)return e;var a=i[1],s=i[2],l=i[3],u=i[4],c=Vc.indexOf(a);if(c<0&&(c=qc.indexOf(a)),c<0&&(c=jc.indexOf(a)),c<0&&(c=Gc.indexOf(a)),c<0)return e;if(c+=t,c=c%12,n?r?e=Gc[c]:e=qc[c]:r?e=jc[c]:e=Vc[c],s&&(e+=s),l){var c=Vc.indexOf(l);c<0&&(c=qc.indexOf(l)),c<0&&(c=jc.indexOf(l)),c<0&&(c=Gc.indexOf(l)),e+="/",c>=0?(c+=t,c=c%12,n?r?e+=Gc[c]:e+=qc[c]:r?e+=jc[c]:e+=Vc[c]):e+=l}return u&&(e+=u),e}var a7=Zj,Ps={C:{modes:["CMaj","Amin","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","Bbmin","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","Bmin","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","Cmin","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","C#min","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","Dmin","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","Ebmin","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","Emin","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","Fmin","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","F#min","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","Gmin","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","G#min","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","A#min","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","D#min","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","Abmin","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},G0=null;function eG(){G0={};for(var e=Object.keys(Ps),t=0;t<e.length;t++){var n=Ps[e[t]];G0[e[t].toLowerCase()]=e[t];for(var r=0;r<n.modes.length;r++){var i=n.modes[r].toLowerCase();G0[i]=e[t]}}}function tG(e){G0||eG();var t=e.toLowerCase().match(/([a-g][b#]?)(maj|min|mix|dor|phr|lyd|loc|m)?/);if(!t||!t[2])return e;t=t[1]+t[2];var n=G0[t];return n||e}function nG(e,t){var n=Ps[e];if(!n||t==="")return e;var r=t.toLowerCase().match(/^(maj|min|mix|dor|phr|lyd|loc|m)/);if(!r)return e;for(var i=r[1],a=0;a<n.modes.length;a++){var s=n.modes[a],l=s.toLowerCase().indexOf(i);if(l!==-1&&l===s.length-i.length)return s.substring(0,s.length-i.length)}return e}function rG(e,t){var n=Ps[e];if(!n)return e;for(;t<0;)t+=12;for(var r=(n.stepsFromC+t)%12,i=0;i<Object.keys(Ps).length;i++){var a=Object.keys(Ps)[i];if(Ps[a].stepsFromC===r)return a}return e}var s7={relativeMajor:tG,relativeMode:nG,transposeKey:rG},{relativeMajor:iG}=s7,ds={acc:"sharp",note:"f"},uo={acc:"sharp",note:"c"},P0={acc:"sharp",note:"g"},Kc={acc:"sharp",note:"d"},Zd={acc:"sharp",note:"A"},db={acc:"sharp",note:"e"},aG={acc:"sharp",note:"B"},Lr={acc:"flat",note:"B"},yi={acc:"flat",note:"e"},Oa={acc:"flat",note:"A"},S0={acc:"flat",note:"d"},eh={acc:"flat",note:"G"},hb={acc:"flat",note:"c"},sG={acc:"flat",note:"F"},oG={"C#":[ds,uo,P0,Kc,Zd,db,aG],"F#":[ds,uo,P0,Kc,Zd,db],B:[ds,uo,P0,Kc,Zd],E:[ds,uo,P0,Kc],A:[ds,uo,P0],D:[ds,uo],G:[ds],C:[],F:[Lr],Bb:[Lr,yi],Eb:[Lr,yi,Oa],Cm:[Lr,yi,Oa],Ab:[Lr,yi,Oa,S0],Db:[Lr,yi,Oa,S0,eh],Gb:[Lr,yi,Oa,S0,eh,hb],Cb:[Lr,yi,Oa,S0,eh,hb,sG],"A#":[Lr,yi],"B#":[],"D#":[Lr,yi,Oa],"E#":[Lr],"G#":[Lr,yi,Oa,S0],none:[]};function lG(e){var t=oG[iG(e)];return t?JSON.parse(JSON.stringify(t)):null}var o7=lG,pb=Qj,cG=a7,th=o7,df={},uG={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},fG=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],dG=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];df.keySignature=function(e,t,n,r,i){if(e.clef.type==="perc"||e.clef.type==="none")return{accidentals:th(t),root:n,acc:r};i||(i=0),e.localTransposeVerticalMovement=0,e.localTransposePreferFlats=!1;var a=th(t);if(!a)return e.key;if(e.localTranspose=(e.globalTranspose?e.globalTranspose:0)+i,!e.localTranspose)return{accidentals:a,root:n,acc:r};if(e.globalTransposeOrigKeySig=a,e.localTranspose%12===0)return e.localTransposeVerticalMovement=e.localTranspose/12*7,{accidentals:a,root:n,acc:r};var s=t[0];t[1]==="b"||t[1]==="#"?(s+=t[1],t=t.substr(2)):t=t.substr(1);var l=uG[s],u=l!==void 0;u||(l=0,s="C",t="");for(var c=l+e.localTranspose;c<0;)c+=12;c>11&&(c=c%12);var f=t[0]==="m"?dG[c]:fG[c],h=f+t,p=th(h);p.length>0&&p[0].acc==="flat"&&(e.localTransposePreferFlats=!0);var m=h.charCodeAt(0)-s.charCodeAt(0);return e.localTranspose>0?(m<0||m===0&&(s[1]==="#"||h[1]==="b"))&&(m+=7):e.localTranspose<0&&(m>0||m===0&&(s[1]==="b"||h[1]==="#"))&&(m-=7),e.localTranspose>0?e.localTransposeVerticalMovement=m+Math.floor(e.localTranspose/12)*7:e.localTransposeVerticalMovement=m+Math.ceil(e.localTranspose/12)*7,u?{accidentals:p,root:f[0],acc:f.length>1?f[1]:""}:{accidentals:[],root:n,acc:r}};df.chordName=function(e,t){return cG(t,e.localTranspose,e.localTransposePreferFlats,e.freegchord)};var gb=["c","d","e","f","g","a","b"];function hG(e,t,n,r,i){for(var a=gb[(e+49)%7],s=0,l=0;l<r.length;l++)r[l].note.toLowerCase()===a&&(s=nh[r[l].acc]);for(var u=nh[n],c=u-s,f=gb[(t+49)%7],h=0,p=0;p<i.accidentals.length;p++)i.accidentals[p].note.toLowerCase()===f&&(h=nh[i.accidentals[p].acc]);var m=c+h;return m<-2&&(t--,m+=f==="c"||f==="f"?1:2),m>2&&(t++,m-=f==="b"||f==="e"?1:2),[t,m]}var nh={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},pG={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},gG={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};df.note=function(e,t){if(!(!e.localTranspose||e.clef.type==="perc")){var n=t.pitch;if(e.localTransposeVerticalMovement&&(t.pitch=t.pitch+e.localTransposeVerticalMovement,t.name)){var r=t.accidental?t.name.substring(1):t.name,i=t.accidental?t.name[0]:"",a=pb.pitchIndex(r);t.name=i+pb.noteName(a+e.localTransposeVerticalMovement)}if(t.accidental){var s=hG(n,t.pitch,t.accidental,e.globalTransposeOrigKeySig,e.targetKey);t.pitch=s[0],t.accidental=pG[s[1]],t.name&&(t.name=gG[s[1]]+t.name.replace(/[_^=]/g,""))}}};var l7=df,vb=dr,mb=Fp,vG=l7,rr={};(function(){var e,t,n,r;rr.initialize=function(f,h,p,m,v){e=f,t=h,n=p,r=v},rr.standardKey=function(f,h,p,m){return vG.keySignature(n,f,h,p,m)};var i={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},a=function(f,h){var p=i[f],m=p?p.mid:0;return m+h};rr.fixClef=function(f){var h=i[f.type];h&&(f.clefPos=h.pitch,f.type=h.clef)},rr.deepCopyKey=function(f){var h={accidentals:[],root:f.root,acc:f.acc,mode:f.mode};return f.accidentals.forEach(function(p){h.accidentals.push(vb.clone(p))}),h};var s={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};rr.addPosToKey=function(f,h){var p=f.verticalPos;h.accidentals.forEach(function(m){var v=s[m.note];v=v-p,m.verticalPos=v}),h.impliedNaturals&&h.impliedNaturals.forEach(function(m){var v=s[m.note];v=v-p,m.verticalPos=v}),p<-10?(h.accidentals.forEach(function(m){m.verticalPos-=7,(m.verticalPos>=11||m.verticalPos===10&&m.acc==="flat")&&(m.verticalPos-=7),m.note==="A"&&m.acc==="sharp"&&(m.verticalPos-=7),(m.note==="G"||m.note==="F")&&m.acc==="flat"&&(m.verticalPos-=7)}),h.impliedNaturals&&h.impliedNaturals.forEach(function(m){m.verticalPos-=7,(m.verticalPos>=11||m.verticalPos===10&&m.acc==="flat")&&(m.verticalPos-=7),m.note==="A"&&m.acc==="sharp"&&(m.verticalPos-=7),(m.note==="G"||m.note==="F")&&m.acc==="flat"&&(m.verticalPos-=7)})):p<-4?(h.accidentals.forEach(function(m){m.verticalPos-=7,p===-8&&(m.note==="f"||m.note==="g")&&m.acc==="sharp"&&(m.verticalPos-=7)}),h.impliedNaturals&&h.impliedNaturals.forEach(function(m){m.verticalPos-=7,p===-8&&(m.note==="f"||m.note==="g")&&m.acc==="sharp"&&(m.verticalPos-=7)})):p>=7&&(h.accidentals.forEach(function(m){m.verticalPos+=7}),h.impliedNaturals&&h.impliedNaturals.forEach(function(m){m.verticalPos+=7}))},rr.fixKey=function(f,h){var p=vb.clone(h);return rr.addPosToKey(f,p),p};var l=function(f){var h=0,p=f[h++];(p==="^"||p==="_")&&(p=f[h++]);var m=s[p];for(m===void 0&&(m=6);h<f.length;h++)if(f[h]===",")m-=7;else if(f[h]==="'")m+=7;else break;return{mid:m-6,str:f.substring(h)}},u=function(f){for(var h=0;h<f.length;h++)f[h].note==="b"?f[h].note="B":f[h].note==="a"?f[h].note="A":f[h].note==="F"?f[h].note="f":f[h].note==="E"?f[h].note="e":f[h].note==="D"?f[h].note="d":f[h].note==="C"?f[h].note="c":f[h].note==="G"&&f[h].acc==="sharp"?f[h].note="g":f[h].note==="g"&&f[h].acc==="flat"&&(f[h].note="G")};rr.parseKey=function(f,h){f.length===0&&(f="none");var p=e.tokenize(f,0,f.length),m={};if(p.length===0)return t("Must pass in key signature.",f,0),m;switch(p[0].token){case"HP":mb.addDirective("bagpipes"),n.key={root:"HP",accidentals:[],acc:"",mode:""},m.foundKey=!0,p.shift();break;case"Hp":mb.addDirective("bagpipes"),n.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},m.foundKey=!0,p.shift();break;case"none":n.key={root:"none",accidentals:[],acc:"",mode:""},m.foundKey=!0,p.shift();break;default:var v=e.getKeyPitch(p[0].token);if(v.len>0){m.foundKey=!0;var b="",w="";p[0].token.length>1?p[0].token=p[0].token.substring(1):p.shift();var x=v.token;if(p.length>0){var C=e.getSharpFlat(p[0].token);if(C.len>0&&(p[0].token.length>1?p[0].token=p[0].token.substring(1):p.shift(),x+=C.token,b=C.token),p.length>0){var S=e.getMode(p[0].token);S.len>0&&(p.shift(),x+=S.token,w=S.token)}if(rr.standardKey(x,v.token,b,0)===void 0)return t("Unsupported key signature: "+x,f,0),m}var _=rr.deepCopyKey(n.key),M=!h&&n.globalTranspose?-n.globalTranspose:0,P;if(h&&(P=n.globalTransposeOrigKeySig),n.key=rr.deepCopyKey(rr.standardKey(x,v.token,b,M)),h&&(n.globalTransposeOrigKeySig=P),n.key.mode=w,_){for(var A,k=0;k<n.key.accidentals.length;k++)for(A=0;A<_.accidentals.length;A++)_.accidentals[A].note&&n.key.accidentals[k].note.toLowerCase()===_.accidentals[A].note.toLowerCase()&&(_.accidentals[A].note=null);for(A=0;A<_.accidentals.length;A++)_.accidentals[A].note&&(n.key.impliedNaturals||(n.key.impliedNaturals=[]),n.key.impliedNaturals.push({acc:"natural",note:_.accidentals[A].note}))}}break}if(p.length===0||(p[0].token==="exp"&&p.shift(),p.length===0)||(p[0].token==="oct"&&p.shift(),p.length===0))return m;var B=e.getKeyAccidentals2(p);if(B.warn&&t(B.warn,f,0),B.accs){m.foundKey||(m.foundKey=!0,n.key={root:"none",acc:"",mode:"",accidentals:[]}),u(B.accs);for(var F=0;F<B.accs.length;F++){for(var U=!1,R=0;R<n.key.accidentals.length&&!U;R++)n.key.accidentals[R].note===B.accs[F].note&&(U=!0,n.key.accidentals[R].acc!==B.accs[F].acc&&(n.key.accidentals[R].acc=B.accs[F].acc,n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(B.accs[F])));if(!U&&(n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(B.accs[F]),n.key.accidentals.push(B.accs[F]),n.key.impliedNaturals))for(var L=0;L<n.key.impliedNaturals.length;L++)n.key.impliedNaturals[L].note===B.accs[F].note&&n.key.impliedNaturals.splice(L,1)}}for(var D;p.length>0;)switch(p[0].token){case"m":case"middle":if(p.shift(),p.length===0)return t("Expected = after middle",f,0),m;if(D=p.shift(),D.token!=="="){t("Expected = after middle",f,D.start);break}if(p.length===0)return t("Expected parameter after middle=",f,0),m;var q=e.getPitchFromTokens(p);q.warn&&t(q.warn,f,0),q.position&&(n.clef.verticalPos=q.position-6);break;case"transpose":if(p.shift(),p.length===0)return t("Expected = after transpose",f,0),m;if(D=p.shift(),D.token!=="="){t("Expected = after transpose",f,D.start);break}if(p.length===0)return t("Expected parameter after transpose=",f,0),m;if(p[0].type!=="number"){t("Expected number after transpose",f,p[0].start);break}n.clef.transpose=p[0].intt,p.shift();break;case"stafflines":if(p.shift(),p.length===0)return t("Expected = after stafflines",f,0),m;if(D=p.shift(),D.token!=="="){t("Expected = after stafflines",f,D.start);break}if(p.length===0)return t("Expected parameter after stafflines=",f,0),m;if(p[0].type!=="number"){t("Expected number after stafflines",f,p[0].start);break}n.clef.stafflines=p[0].intt,p.shift();break;case"staffscale":if(p.shift(),p.length===0)return t("Expected = after staffscale",f,0),m;if(D=p.shift(),D.token!=="="){t("Expected = after staffscale",f,D.start);break}if(p.length===0)return t("Expected parameter after staffscale=",f,0),m;if(p[0].type!=="number"){t("Expected number after staffscale",f,p[0].start);break}n.clef.staffscale=p[0].floatt,p.shift();break;case"octave":if(p.shift(),p.length===0)return t("Expected = after octave",f,0),m;if(D=p.shift(),D.token!=="="){t("Expected = after octave",f,D.start);break}if(p.length===0)return t("Expected parameter after octave=",f,0),m;if(p[0].type!=="number"){t("Expected number after octave",f,p[0].start);break}n.octave=p[0].intt,p.shift();break;case"style":if(p.shift(),p.length===0)return t("Expected = after style",f,0),m;if(D=p.shift(),D.token!=="="){t("Expected = after style",f,D.start);break}if(p.length===0)return t("Expected parameter after style=",f,0),m;switch(p[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":n.style=p[0].token,p.shift();break;default:t("error parsing style element: "+p[0].token,f,p[0].start);break}break;case"clef":if(p.shift(),p.length===0)return t("Expected = after clef",f,0),m;if(D=p.shift(),D.token!=="="){t("Expected = after clef",f,D.start);break}if(p.length===0)return t("Expected parameter after clef=",f,0),m;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var N=p.shift();switch(N.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":N.token="alto";break;case"F":N.token="bass";break;case"G":N.token="treble";break;case"c":N.token="alto";break;case"f":N.token="bass";break;case"g":N.token="treble";break;default:t("Expected clef name. Found "+N.token,f,N.start);break}p.length>0&&p[0].type==="number"&&(N.token+=p[0].token,p.shift()),p.length>1&&(p[0].token==="-"||p[0].token==="+"||p[0].token==="^"||p[0].token==="_")&&p[1].token==="8"&&(N.token+=p[0].token+p[1].token,p.shift(),p.shift()),n.clef={type:N.token,verticalPos:a(N.token,0)},n.currentVoice&&n.currentVoice.transpose!==void 0&&(n.clef.transpose=n.currentVoice.transpose),m.foundClef=!0;break;default:t("Unknown parameter: "+p[0].token,f,p[0].start),p.shift()}return m};var c=function(f){n.currentVoice=n.voices[f],r.setCurrentVoice(n.currentVoice.staffNum,n.currentVoice.index)};rr.parseVoice=function(f,h,p){var m=e.getMeat(f,h,p),v=m.start,b=m.end,w=e.getToken(f,v,b);if(w.length===0){t("Expected a voice id",f,v);return}var x=!1;n.voices[w]===void 0&&(n.voices[w]={},x=!0,n.score_is_present&&t("Can't have an unknown V: id when the %score directive is present",f,v)),v+=w.length,v+=e.eatWhiteSpace(f,v);for(var C={startStaff:x},S=function(q){var N=e.getVoiceToken(f,v,b);N.warn!==void 0?t("Expected value for "+q+" in voice: "+N.warn,f,v):N.err!==void 0?t("Expected value for "+q+" in voice: "+N.err,f,v):N.token.length===0&&f[v]!=='"'?t("Expected value for "+q+" in voice",f,v):C[q]=N.token,v+=N.len},_=function(q,N,O){var H=e.getVoiceToken(f,v,b);H.warn!==void 0?t("Expected value for "+N+" in voice: "+H.warn,f,v):H.err!==void 0?t("Expected value for "+N+" in voice: "+H.err,f,v):H.token.length===0&&f[v]!=='"'?t("Expected value for "+N+" in voice",f,v):(O==="number"&&(H.token=parseFloat(H.token)),n.voices[q][N]=H.token),v+=H.len},M=function(q,N){var O=e.getVoiceToken(f,v,b);if(O.warn!==void 0)t("Expected value for "+q+" in voice: "+O.warn,f,v);else if(O.err!==void 0)t("Expected value for "+q+" in voice: "+O.err,f,v);else if(O.token.length===0&&f[v]!=='"')t("Expected value for "+q+" in voice",f,v);else return N==="number"&&(O.token=parseFloat(O.token)),O.token;v+=O.len},P=function(q,N){var O={_B:2,_E:9,_b:-10,_e:-3},H=e.getVoiceToken(f,v,b);if(H.warn!==void 0)t("Expected one of (_B, _E, _b, _e) for "+N+" in voice: "+H.warn,f,v);else if(H.token.length===0&&f[v]!=='"')t("Expected one of (_B, _E, _b, _e) for "+N+" in voice",f,v);else{var V=O[H.token];V?n.voices[q][N]=V:t("Expected one of (_B, _E, _b, _e) for "+N+" in voice",f,v)}v+=H.len};v<b;){var A=e.getVoiceToken(f,v,b);if(v+=A.len,A.warn)t("Error parsing voice: "+A.warn,f,v);else{var k=null;switch(A.token){case"clef":case"cl":S("clef");var B=0;C.clef!==void 0&&(C.clef=C.clef.replace(/[',]/g,""),C.clef.indexOf("+16")!==-1&&(B+=14,C.clef=C.clef.replace("+16","")),C.verticalPos=a(C.clef,B));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":var F=0;C.clef=A.token.replace(/[',]/g,""),C.verticalPos=a(C.clef,F),n.voices[w].clef=A.token;break;case"staves":case"stave":case"stv":S("staves");break;case"brace":case"brc":S("brace");break;case"bracket":case"brk":S("bracket");break;case"name":case"nm":S("name");break;case"subname":case"sname":case"snm":S("subname");break;case"merge":C.startStaff=!1;break;case"stem":case"stems":k=e.getVoiceToken(f,v,b),k.warn!==void 0?t("Expected value for stems in voice: "+k.warn,f,v):k.err!==void 0?t("Expected value for stems in voice: "+k.err,f,v):k.token==="up"||k.token==="down"?n.voices[w].stem=k.token:t("Expected up or down for voice stem",f,v),v+=k.len;break;case"up":case"down":n.voices[w].stem=A.token;break;case"middle":case"m":S("verticalPos"),C.verticalPos=l(C.verticalPos).mid;break;case"gchords":case"gch":n.voices[w].suppressChords=!0,k=e.getVoiceToken(f,v,b),k.token==="0"&&(v=v+k.len);break;case"space":case"spc":S("spacing");break;case"scale":_(w,"scale","number");break;case"score":P(w,"scoreTranspose");break;case"transpose":_(w,"transpose","number");break;case"stafflines":_(w,"stafflines","number");break;case"staffscale":_(w,"staffscale","number");break;case"octave":_(w,"octave","number");break;case"volume":_(w,"volume","number");break;case"cue":var U=M("cue","string");U==="on"?n.voices[w].scale=.6:n.voices[w].scale=1;break;case"style":k=e.getVoiceToken(f,v,b),k.warn!==void 0?t("Expected value for style in voice: "+k.warn,f,v):k.err!==void 0?t("Expected value for style in voice: "+k.err,f,v):k.token==="normal"||k.token==="harmonic"||k.token==="rhythm"||k.token==="x"||k.token==="triangle"?n.voices[w].style=k.token:t("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",f,v),v+=k.len;break}}v+=e.eatWhiteSpace(f,v)}if((C.startStaff||n.staves.length===0)&&(n.staves.push({index:n.staves.length,meter:n.origMeter}),n.score_is_present||(n.staves[n.staves.length-1].numVoices=0)),n.voices[w].staffNum===void 0){n.voices[w].staffNum=n.staves.length-1;var R=0;for(var L in n.voices)n.voices.hasOwnProperty(L)&&n.voices[L].staffNum===n.voices[w].staffNum&&R++;n.voices[w].index=R-1}var D=n.staves[n.voices[w].staffNum];n.score_is_present||D.numVoices++,C.clef&&(D.clef={type:C.clef,verticalPos:C.verticalPos}),C.spacing&&(D.spacing_below_offset=C.spacing),C.verticalPos&&(D.verticalPos=C.verticalPos),C.name&&(D.name?D.name.push(C.name):D.name=[C.name]),C.subname&&(D.subname?D.subname.push(C.subname):D.subname=[C.subname]),c(w)}})();var Dp=rr,Yc=dr,Xc=Fp,wi=Dp,mG=function(e,t,n,r,i){this.reset=function(l,u,c,f){wi.initialize(l,u,c,f,i),Xc.initialize(l,u,c,f,i)},this.reset(e,t,n,r),this.setTitle=function(l){if(n.hasMainTitle)i.addSubtitle(e.translateString(e.stripComment(l)),{startChar:n.iChar,endChar:n.iChar+l.length+2});else{var u=e.translateString(e.theReverser(e.stripComment(l)));n.titlecaps&&(u=u.toUpperCase()),i.addMetaText("title",u,{startChar:n.iChar,endChar:n.iChar+l.length+2}),n.hasMainTitle=!0}},this.setMeter=function(l){if(l=e.stripComment(l),l==="C")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"common_time"};if(l==="C|")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"cut_time"};if(l==="o")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum"};if(l==="c")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum"};if(l==="o.")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(l==="c.")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(l.length===0||l.toLowerCase()==="none")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),null;var u=e.tokenize(l,0,l.length);try{var c=function(){var b={value:0,num:""},w=u.shift();for(w.token==="("&&(w=u.shift());;){if(w.type!=="number")throw"Expected top number of meter";if(b.value+=parseInt(w.token),b.num+=w.token,u.length===0||u[0].token==="/")return b;if(w=u.shift(),w.token===")"){if(u.length===0||u[0].token==="/")return b;throw"Unexpected paren in meter"}if(w.token!=="."&&w.token!=="+"||(b.num+=w.token,u.length===0))throw"Expected top number of meter";w=u.shift()}return b},f=function(){var b=c();if(u.length===0)return b;var w=u.shift();if(w.token!=="/")throw"Expected slash in meter";if(w=u.shift(),w.type!=="number")throw"Expected bottom number of meter";return b.den=w.token,b.value=b.value/parseInt(b.den),b};if(u.length===0)throw"Expected meter definition in M: line";for(var h={type:"specified",value:[]},p=0;;){var m=f();p+=m.value;var v={num:m.num};if(m.den!==void 0&&(v.den=m.den),h.value.push(v),u.length===0)break}return n.havent_set_length===!0&&(n.default_length=p<.75?.0625:.125,n.havent_set_length=!1),h}catch(b){t(b,l,0)}return null},this.calcTempo=function(l){var u=.25;n.meter&&n.meter.type==="specified"?u=1/parseInt(n.meter.value[0].den):n.origMeter&&n.origMeter.type==="specified"&&(u=1/parseInt(n.origMeter.value[0].den));for(var c=0;c<l.duration;c++)l.duration[c]=u*l.duration[c];return l},this.resolveTempo=function(){n.tempo&&(this.calcTempo(n.tempo),r.metaText.tempo=n.tempo,delete n.tempo)},this.addUserDefinition=function(l,u,c){var f=l.indexOf("=",u);if(f===-1){t("Need an = in a macro definition",l,u);return}var h=Yc.strip(l.substring(u,f)),p=Yc.strip(l.substring(f+1));if(h.length!==1){t("Macro definitions can only be one character",l,u);return}var m="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(m.indexOf(h)===-1){t("Macro definitions must be H-Y, h-w, or tilde",l,u);return}if(p.length===0){t("Missing macro definition",l,u);return}n.macros===void 0&&(n.macros={}),n.macros[h]=p},this.setDefaultLength=function(l,u,c){var f=l.substring(u,c).replace(/ /g,""),h=f.split("/");if(h.length===2){var p=parseInt(h[0]),m=parseInt(h[1]);m>0&&(n.default_length=p/m,n.havent_set_length=!1)}else h.length===1&&h[0]==="1"&&(n.default_length=1,n.havent_set_length=!1)};var a={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(l,u,c,f){try{var h=e.tokenize(l,u,c);if(h.length===0)throw"Missing parameter in Q: field";var p={startChar:f+u-2,endChar:f+c},m=!0,v=h.shift();if(v.type==="quote"&&(p.preString=v.token,v=h.shift(),h.length===0))return a[p.preString.toLowerCase()]&&(p.bpm=a[p.preString.toLowerCase()],p.suppressBpm=!0),{type:"immediate",tempo:p};if(v.type==="alpha"&&v.token==="C"){if(h.length===0)throw"Missing tempo after C in Q: field";if(v=h.shift(),v.type==="punct"&&v.token==="="){if(h.length===0)throw"Missing tempo after = in Q: field";if(v=h.shift(),v.type!=="number")throw"Expected number after = in Q: field";p.duration=[1],p.bpm=parseInt(v.token)}else if(v.type==="number"){if(p.duration=[parseInt(v.token)],h.length===0)throw"Missing = after duration in Q: field";if(v=h.shift(),v.type!=="punct"||v.token!=="=")throw"Expected = after duration in Q: field";if(h.length===0)throw"Missing tempo after = in Q: field";if(v=h.shift(),v.type!=="number")throw"Expected number after = in Q: field";p.bpm=parseInt(v.token)}else throw"Expected number or equal after C in Q: field"}else if(v.type==="number"){var b=parseInt(v.token);if(h.length===0||h[0].type==="quote")p.duration=[1],p.bpm=b;else{if(m=!1,v=h.shift(),v.type!=="punct"&&v.token!=="/"||(v=h.shift(),v.type!=="number"))throw"Expected fraction in Q: field";var w=parseInt(v.token);for(p.duration=[b/w];h.length>0&&h[0].token!=="="&&h[0].type!=="quote";){if(v=h.shift(),v.type!=="number"||(b=parseInt(v.token),v=h.shift(),v.type!=="punct"&&v.token!=="/")||(v=h.shift(),v.type!=="number"))throw"Expected fraction in Q: field";w=parseInt(v.token),p.duration.push(b/w)}if(v=h.shift(),v.type!=="punct"&&v.token!=="=")throw"Expected = in Q: field";if(v=h.shift(),v.type!=="number")throw"Expected tempo in Q: field";p.bpm=parseInt(v.token)}}else throw"Unknown value in Q: field";if(h.length!==0&&(v=h.shift(),v.type==="quote"&&(p.postString=v.token,v=h.shift()),h.length!==0))throw"Unexpected string at end of Q: field";return n.printTempo===!1&&(p.suppress=!0),{type:m?"delaySet":"immediate",tempo:p}}catch(x){return t(x,l,u),{type:"none"}}},this.letter_to_inline_header=function(l,u,c){var f=e.eatWhiteSpace(l,u);if(u+=f,l.length>=u+5&&l[u]==="["&&l[u+2]===":"){var h=l.indexOf("]",u),p=n.iChar+u,m=n.iChar+h+1;switch(l.substring(u,u+3)){case"[I:":var v=Xc.addDirective(l.substring(u+3,h));return v&&t(v,l,u),[h-u+1+f];case"[M:":var b=this.setMeter(l.substring(u+3,h));return i.hasBeginMusic()&&b?i.appendStartingElement("meter",p,m,b):n.meter=b,[h-u+1+f];case"[K:":var w=wi.parseKey(l.substring(u+3,h),!0);return w.foundClef&&i.hasBeginMusic()&&i.appendStartingElement("clef",p,m,n.clef),w.foundKey&&i.hasBeginMusic()&&i.appendStartingElement("key",p,m,wi.fixKey(n.clef,n.key)),[h-u+1+f];case"[P:":return c||r.lines.length<=r.lineNum?n.partForNextLine={title:l.substring(u+3,h),startChar:p,endChar:m}:i.appendElement("part",p,m,{title:l.substring(u+3,h)}),[h-u+1+f];case"[L:":return this.setDefaultLength(l,u+3,h),[h-u+1+f];case"[Q:":if(h>0){var x=this.setTempo(l,u+3,h,n.iChar);return x.type==="delaySet"?i.hasBeginMusic()?i.appendElement("tempo",p,m,this.calcTempo(x.tempo)):n.tempoForNextLine=["tempo",p,m,this.calcTempo(x.tempo)]:x.type==="immediate"&&(!c&&i.hasBeginMusic()?i.appendElement("tempo",p,m,x.tempo):n.tempoForNextLine=["tempo",p,m,x.tempo]),[h-u+1+f,l[u+1],l.substring(u+3,h)]}break;case"[V:":if(h>0)return wi.parseVoice(l,u+3,h),[h-u+1+f,l[u+1],l.substring(u+3,h)];break;case"[r:":return[h-u+1+f]}}return[0]},this.letter_to_body_header=function(l,u){if(l.length>=u+3)switch(l.substring(u,u+2)){case"I:":var c=Xc.addDirective(l.substring(u+2));return c&&t(c,l,u),[l.length];case"M:":var f=this.setMeter(l.substring(u+2));return i.hasBeginMusic()&&f&&i.appendStartingElement("meter",n.iChar+u,n.iChar+l.length,f),[l.length];case"K:":var h=wi.parseKey(l.substring(u+2),i.hasBeginMusic());return h.foundClef&&i.hasBeginMusic()&&i.appendStartingElement("clef",n.iChar+u,n.iChar+l.length,n.clef),h.foundKey&&i.hasBeginMusic()&&i.appendStartingElement("key",n.iChar+u,n.iChar+l.length,wi.fixKey(n.clef,n.key)),[l.length];case"P:":return i.hasBeginMusic()&&i.appendElement("part",n.iChar+u,n.iChar+l.length,{title:l.substring(u+2)}),[l.length];case"L:":return this.setDefaultLength(l,u+2,l.length),[l.length];case"Q:":var p=l.indexOf("",u+2);p===-1&&(p=l.length);var m=this.setTempo(l,u+2,p,n.iChar);return m.type==="delaySet"?i.appendElement("tempo",n.iChar+u,n.iChar+l.length,this.calcTempo(m.tempo)):m.type==="immediate"&&i.appendElement("tempo",n.iChar+u,n.iChar+l.length,m.tempo),[p,l[u],Yc.strip(l.substring(u+2))];case"V:":return wi.parseVoice(l,u+2,l.length),[l.length,l[u],Yc.strip(l.substring(u+2))]}return[0]};var s={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(l){var u=s[l[0]];if(u!==void 0)return u==="unalignedWords"?i.addMetaTextArray(u,Xc.parseFontChangeLine(e.translateString(e.stripComment(l.substring(2)))),{startChar:n.iChar,endChar:n.iChar+l.length}):i.addMetaText(u,e.translateString(e.stripComment(l.substring(2))),{startChar:n.iChar,endChar:n.iChar+l.length}),{};var c=n.iChar,f=c+l.length;switch(l[0]){case"H":for(i.addMetaText("history",e.translateString(e.stripComment(l.substring(2))),{startChar:n.iChar,endChar:n.iChar+l.length}),l=e.peekLine();l&&l[1]!==":";)e.nextLine(),i.addMetaText("history",e.translateString(e.stripComment(l)),{startChar:n.iChar,endChar:n.iChar+l.length}),l=e.peekLine();break;case"K":this.resolveTempo();var h=wi.parseKey(l.substring(2),!1);!n.is_in_header&&i.hasBeginMusic()&&(h.foundClef&&i.appendStartingElement("clef",c,f,n.clef),h.foundKey&&i.appendStartingElement("key",c,f,wi.fixKey(n.clef,n.key))),n.is_in_header=!1;break;case"L":this.setDefaultLength(l,2,l.length);break;case"M":n.origMeter=n.meter=this.setMeter(l.substring(2));break;case"P":n.is_in_header?i.addMetaText("partOrder",e.translateString(e.stripComment(l.substring(2))),{startChar:n.iChar,endChar:n.iChar+l.length}):n.partForNextLine={title:e.translateString(e.stripComment(l.substring(2))),startChar:c,endChar:f};break;case"Q":var p=this.setTempo(l,2,l.length,n.iChar);p.type==="delaySet"?n.tempo=p.tempo:p.type==="immediate"&&(r.metaText.tempo?n.tempoForNextLine=["tempo",c,f,p.tempo]:r.metaText.tempo=p.tempo);break;case"T":this.setTitle(l.substring(2));break;case"U":this.addUserDefinition(l,2,l.length);break;case"V":if(wi.parseVoice(l,2,l.length),!n.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":t("Ignored header",l,0);break;default:return{regular:!0}}return{}}},bG=mG,bb=dr,yb=Dp,c7=l7,fn,Mn,J,si,Mi,$0,zp=function(e,t,n,r,i,a){fn=e,Mn=t,J=n,si=r,Mi=i,$0=a,this.lineContinuation=!1},yG="ABCDEFGabcdefgxyzZ[]|^_{",wb=function(e,t,n){if(e.inTie[t]===void 0)return!1;var r=e.currentVoice?e.currentVoice.staffNum*100+e.currentVoice.index:0;return!!(e.inTie[t][r]&&(n.pitches!==void 0||n.rest.type!=="spacer"))},ge={};zp.prototype.parseMusic=function(e){$0.resolveTempo(),J.is_in_header=!1;for(var t=0,n=J.iChar;fn.isWhiteSpace(e[t])&&t<e.length;)t++;if(!(t===e.length||e[t]==="%")){var r=J.start_new_line;J.continueall===void 0?J.start_new_line=!0:J.start_new_line=!1;var i=0,a=$0.letter_to_body_header(e,t);a[0]>0&&(t+=a[0],a[1]==="V"&&this.startNewLine());for(var s=0;t<e.length;){var l=t;if(e[t]==="%")break;var u=$0.letter_to_inline_header(e,t,r);if(u[0]>0)t+=u[0],u[1]==="V"&&(r=!0);else{(!Mi.hasBeginMusic()||r&&!this.lineContinuation)&&(this.startNewLine(),r=!1);for(var c;;)if(c=fn.eatWhiteSpace(e,t),c>0&&(t+=c),t>0&&e[t-1]===""&&(c=$0.letter_to_body_header(e,t),c[0]>0&&(c[1]==="V"&&this.startNewLine(),t=c[0],J.start_new_line=!1)),c=MG(e,t),c[0]>0&&(t+=c[0]),c=wG(e,t),c[0]>0){ge.chord||(ge.chord=[]);var f=fn.translateString(c[1]);f=f.replace(/;/g,`
`);for(var h=!1,p=0;p<ge.chord.length;p++)ge.chord[p].position===c[2]&&(h=!0,ge.chord[p].name+=`
`+f);h===!1&&(c[2]===null&&c[3]?ge.chord.push({name:f,rel_position:c[3]}):ge.chord.push({name:f,position:c[2]})),t+=c[0];var m=fn.skipWhiteSpace(e.substring(t));m>0&&(ge.force_end_beam_last=!0),t+=m}else if(yG.indexOf(e[t])===-1?c=Tb(e,t):c=[0],c[0]>0)c[1]===null?t+1<e.length&&this.startNewLine():c[1].length>0&&(c[1].indexOf("style=")===0?ge.style=c[1].substr(6):(ge.decoration===void 0&&(ge.decoration=[]),c[1]==="beambr1"?ge.beambr=1:c[1]==="beambr2"?ge.beambr=2:ge.decoration.push(c[1]))),t+=c[0];else if(c=_G(e,t),c[0]>0)ge.gracenotes=c[1],t+=c[0];else break;if(c=CG(e,t),c[0]>0){s=0,ge.gracenotes!==void 0&&(ge.rest={type:"spacer"},ge.duration=.125,J.addFormattingOptions(ge,si.formatting,"note"),Mi.appendElement("note",n+t,n+t+c[0],ge),J.measureNotEmpty=!0,ge={});var v={type:c[1]};if(v.type.length===0)Mn("Unknown bar type",e,t);else{if(J.inEnding&&v.type!=="bar_thin"&&(v.endEnding=!0,J.inEnding=!1),c[2]&&(v.startEnding=c[2],J.inEnding&&(v.endEnding=!0),J.inEnding=!0,c[1]==="bar_right_repeat"?J.restoreStartEndingHoldOvers():J.duplicateStartEndingHoldOvers()),ge.decoration!==void 0&&(v.decoration=ge.decoration),ge.chord!==void 0&&(v.chord=ge.chord),v.startEnding&&J.barFirstEndingNum===void 0?J.barFirstEndingNum=J.currBarNumber:v.startEnding&&v.endEnding&&J.barFirstEndingNum?J.currBarNumber=J.barFirstEndingNum:v.endEnding&&(J.barFirstEndingNum=void 0),v.type!=="bar_invisible"&&J.measureNotEmpty){var b=J.currentVoice===void 0||J.currentVoice.staffNum===0&&J.currentVoice.index===0;b&&(J.currBarNumber++,J.barNumbers&&J.currBarNumber%J.barNumbers===0&&(v.barNumber=J.currBarNumber))}J.addFormattingOptions(ge,si.formatting,"bar"),Mi.appendElement("bar",n+l,n+t+c[0],v),J.measureNotEmpty=!1,ge={}}t+=c[0]}else if(e[t]==="&")c=xG(e,t),c[0]>0&&(Mi.appendElement("overlay",n,n+1,{}),t+=1,s++);else{if(c=SG(e,t),c.consumed>0&&(c.startSlur!==void 0&&(ge.startSlur=c.startSlur),c.dottedSlur&&(ge.dottedSlur=!0),c.triplet!==void 0&&(i>0?Mn("Can't nest triplets",e,t):(ge.startTriplet=c.triplet,ge.tripletMultiplier=c.tripletQ/c.triplet,ge.tripletR=c.num_notes,i=c.num_notes===void 0?c.triplet:c.num_notes)),t+=c.consumed),e[t]==="["){t++;for(var w=null,x=!1,C=!1;!C;){var S=Tb(e,t);S[0]>0&&(t+=S[0]);var _=r1(e,t,{},!1);if(_!==null&&_.pitch!==void 0)S[0]>0&&S[1].indexOf("style=")!==0&&(ge.decoration===void 0&&(ge.decoration=[]),ge.decoration.push(S[1])),_.end_beam&&(ge.end_beam=!0,delete _.end_beam),ge.pitches===void 0?(ge.duration=_.duration,ge.pitches=[_]):ge.pitches.push(_),delete _.duration,S[0]>0&&S[1].indexOf("style=")===0&&(ge.pitches[ge.pitches.length-1].style=S[1].substr(6)),J.inTieChord[ge.pitches.length]&&(_.endTie=!0,J.inTieChord[ge.pitches.length]=void 0),_.startTie&&(J.inTieChord[ge.pitches.length]=!0),t=_.endChar,delete _.endChar;else if(e[t]===" ")Mn("Spaces are not allowed in chords",e,t),t++;else{if(t<e.length&&e[t]==="]"){t++,J.next_note_duration!==0&&(ge.duration=ge.duration*J.next_note_duration,J.next_note_duration=0),wb(J,s,ge)&&(ge.pitches.forEach(function(R){R.endTie=!0}),T0(J,s,!1)),i>0&&!(ge.rest&&ge.rest.type==="spacer")&&(i--,i===0&&(ge.endTriplet=!0));for(var M=!1;t<e.length&&!M;){switch(e[t]){case" ":case"	":K0(ge);break;case")":ge.endSlur===void 0?ge.endSlur=1:ge.endSlur++;break;case"-":ge.pitches.forEach(function(R){R.startTie={}}),T0(J,s,!0);break;case">":case"<":var P=u7(e,t);t+=P[0]-1,J.next_note_duration=P[2],w?w=w*P[1]:w=P[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var A=fn.getFraction(e,t);w=A.value,t=A.index;var k=e[t];k===" "&&(x=!0),k==="-"||k===")"||k===" "||k==="<"||k===">"?t--:M=!0;break;default:M=!0;break}M||t++}}else Mn("Expected ']' to end the chords",e,t);ge.pitches!==void 0&&(w!==null&&(ge.duration=ge.duration*w,x&&K0(ge)),J.addFormattingOptions(ge,si.formatting,"note"),Mi.appendElement("note",n+l,n+t,ge),J.measureNotEmpty=!0,ge={}),C=!0}}}else{var B={},F=r1(e,t,B,!0);if(B.endTie!==void 0&&T0(J,s,!0),F!==null){F.pitch!==void 0?(ge.pitches=[{}],F.accidental!==void 0&&(ge.pitches[0].accidental=F.accidental),ge.pitches[0].pitch=F.pitch,ge.pitches[0].name=F.name,(F.midipitch||F.midipitch===0)&&(ge.pitches[0].midipitch=F.midipitch),F.endSlur!==void 0&&(ge.pitches[0].endSlur=F.endSlur),F.endTie!==void 0&&(ge.pitches[0].endTie=F.endTie),F.startSlur!==void 0&&(ge.pitches[0].startSlur=F.startSlur),ge.startSlur!==void 0&&(ge.pitches[0].startSlur=ge.startSlur),ge.dottedSlur!==void 0&&(ge.pitches[0].dottedSlur=!0),F.startTie!==void 0&&(ge.pitches[0].startTie=F.startTie),ge.startTie!==void 0&&(ge.pitches[0].startTie=ge.startTie)):(ge.rest=F.rest,F.endSlur!==void 0&&(ge.endSlur=F.endSlur),F.endTie!==void 0&&(ge.rest.endTie=F.endTie),F.startSlur!==void 0&&(ge.startSlur=F.startSlur),F.startTie!==void 0&&(ge.rest.startTie=F.startTie),ge.startTie!==void 0&&(ge.rest.startTie=ge.startTie)),F.chord!==void 0&&(ge.chord=F.chord),F.duration!==void 0&&(ge.duration=F.duration),F.decoration!==void 0&&(ge.decoration=F.decoration),F.graceNotes!==void 0&&(ge.graceNotes=F.graceNotes),delete ge.startSlur,delete ge.dottedSlur,wb(J,s,ge)&&(ge.pitches!==void 0?ge.pitches[0].endTie=!0:ge.rest.type!=="spacer"&&(ge.rest.endTie=!0),T0(J,s,!1)),(F.startTie||ge.startTie)&&T0(J,s,!0),t=F.endChar,i>0&&!(F.rest&&F.rest.type==="spacer")&&(i--,i===0&&(ge.endTriplet=!0)),F.end_beam&&K0(ge),ge.rest&&ge.rest.type==="rest"&&ge.duration===1&&_b(J)<=1&&(ge.rest.type="whole",ge.duration=_b(J));var U=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875];ge.duration<1&&U.indexOf(ge.duration)===-1&&ge.duration!==0&&(!ge.rest||ge.rest.type!=="spacer")&&Mn("Duration not representable: "+e.substring(l,t),e,t),J.addFormattingOptions(ge,si.formatting,"note"),Mi.appendElement("note",n+l,n+t,ge),J.measureNotEmpty=!0,ge={}}}t===l&&(e[t]!==" "&&e[t]!=="`"&&Mn("Unknown character ignored",e,t),t++)}}}this.lineContinuation=e.indexOf("")>=0||a[0]>0,this.lineContinuation||(ge={})}};var T0=function(e,t,n){var r=e.currentVoice?e.currentVoice.staffNum*100+e.currentVoice.index:0;e.inTie[t]===void 0&&(e.inTie[t]=[]),e.inTie[t][r]=n},wG=function(e,t){if(e[t]==='"'){var n=fn.getBrackettedSubstring(e,t,5);if(n[2]||Mn("Missing the closing quote while parsing the chord symbol",e,t),n[0]>0&&n[1].length>0&&n[1][0]==="^")n[1]=n[1].substring(1),n[2]="above";else if(n[0]>0&&n[1].length>0&&n[1][0]==="_")n[1]=n[1].substring(1),n[2]="below";else if(n[0]>0&&n[1].length>0&&n[1][0]==="<")n[1]=n[1].substring(1),n[2]="left";else if(n[0]>0&&n[1].length>0&&n[1][0]===">")n[1]=n[1].substring(1),n[2]="right";else if(n[0]>0&&n[1].length>0&&n[1][0]==="@"){n[1]=n[1].substring(1);var r=fn.getFloat(n[1]);r.digits===0&&Mn("Missing first position in absolutely positioned annotation.",e,t),n[1]=n[1].substring(r.digits),n[1][0]!==","&&Mn("Missing comma absolutely positioned annotation.",e,t),n[1]=n[1].substring(1);var i=fn.getFloat(n[1]);i.digits===0&&Mn("Missing second position in absolutely positioned annotation.",e,t),n[1]=n[1].substring(i.digits);var a=fn.skipWhiteSpace(n[1]);n[1]=n[1].substring(a),n[2]=null,n[3]={x:r.value,y:i.value}}else J.freegchord!==!0&&(n[1]=n[1].replace(/([ABCDEFG0-9])b/g,"$1♭"),n[1]=n[1].replace(/([ABCDEFG0-9])#/g,"$1♯"),n[1]=n[1].replace(/^([ABCDEFG])([♯♭]?)o([^A-Za-z])/g,"$1$2°$3"),n[1]=n[1].replace(/^([ABCDEFG])([♯♭]?)o$/g,"$1$2°"),n[1]=n[1].replace(/^([ABCDEFG])([♯♭]?)0([^A-Za-z])/g,"$1$2ø$3"),n[1]=n[1].replace(/^([ABCDEFG])([♯♭]?)\^([^A-Za-z])/g,"$1$2∆$3")),n[2]="default",n[1]=c7.chordName(J,n[1]);return n}return[0,""]},_G=function(e,t){if(e[t]==="{"){var n=fn.getBrackettedSubstring(e,t,1,"}");n[2]||Mn("Missing the closing '}' while parsing grace note",e,t),e[t+n[0]]===")"&&(n[0]++,n[1]+=")");for(var r=[],i=0,a=!1;i<n[1].length;){var s=!1;n[1][i]==="/"&&(s=!0,i++);var l=r1(n[1],i,{},!1);l!==null?(l.duration=l.duration/(J.default_length*8),s&&(l.acciaccatura=!0),r.push(l),a&&(l.endTie=!0,a=!1),l.startTie&&(a=!0),i=l.endChar,delete l.endChar,l.end_beam&&(l.endBeam=!0,delete l.end_beam)):(n[1][i]===" "?r.length>0&&(r[r.length-1].endBeam=!0):Mn("Unknown character '"+n[1][i]+"' while parsing grace note",e,t),i++)}if(r.length)return[n[0],r]}return[0]};function xG(e,t){if(e[t]==="&"){for(var n=t;e[t]&&e[t]!==":"&&e[t]!=="|";)t++;return[t-n,e.substring(n+1,t)]}return[0]}function _b(e){var t=e.origMeter;return!t||t.type!=="specified"||!t.value||t.value.length===0?1:parseInt(t.value[0].num,10)/parseInt(t.value[0].den,10)}var xb=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"],Mb=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"],Cb=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)"],Pb=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]],Sb=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]],Tb=function(e,t){var n=J.macros[e[t]];if(n!==void 0)return(n[0]==="!"||n[0]==="+")&&(n=n.substring(1)),(n[n.length-1]==="!"||n[n.length-1]==="+")&&(n=n.substring(0,n.length-1)),xb.includes(n)?[1,n]:Mb.includes(n)?(J.volumePosition==="hidden"&&(n=""),[1,n]):Cb.includes(n)?(J.dynamicPosition==="hidden"&&(n=""),[1,n]):(J.ignoredDecorations.includes(n)||Mn("Unknown macro: "+n,e,t),[1,""]);switch(e[t]){case".":if(e[t+1]==="("||e[t+1]==="-")break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var r=fn.getBrackettedSubstring(e,t,5);if(r[1].length>1&&(r[1][0]==="^"||r[1][0]==="_")&&(r[1]=r[1].substring(1)),xb.includes(r[1]))return r;if(Mb.includes(r[1]))return J.volumePosition==="hidden"&&(r[1]=""),r;if(Cb.includes(r[1]))return J.dynamicPosition==="hidden"&&(r[1]=""),r;var i=Pb.findIndex(function(a){return r[1]===a[0]});return i>=0?(r[1]=Pb[i][1],r):(i=Sb.findIndex(function(a){return r[1]===a[0]}),i>=0?(r[1]=Sb[i][1],J.dynamicPosition==="hidden"&&(r[1]=""),r):e[t]==="!"&&(r[0]===1||e[t+r[0]-1]!=="!")?[1,null]:(Mn("Unknown decoration: "+r[1],e,t),r[1]="",r));case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},MG=function(e,t){for(var n=t;fn.isWhiteSpace(e[t]);)t++;return[t-n]},CG=function(e,t){var n=fn.getBarLine(e,t);if(n.len===0)return[0,""];if(n.warn)return Mn(n.warn,e,t),[n.len,""];for(var r=0;r<e.length&&e[t+n.len+r]===" ";r++);var i=n.len;if(e[t+n.len+r]==="["&&(n.len+=r+1),e[t+n.len]==='"'&&e[t+n.len-1]==="["){var a=fn.getBrackettedSubstring(e,t+n.len,5);return[n.len+a[0],n.token,a[1]]}var s=fn.getTokenOf(e.substring(t+n.len),"1234567890-,");return s.len===0||s.token[0]==="-"?[i,n.token]:[n.len+s.len,n.token,s.token]},PG={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2},SG=function(e,t){var n={},r=t;for(e[t]==="."&&e[t+1]==="("&&(n.dottedSlur=!0,t++);e[t]==="("||fn.isWhiteSpace(e[t]);)e[t]==="("&&(t+1<e.length&&e[t+1]>="2"&&e[t+1]<="9"?(n.triplet!==void 0?Mn("Can't nest triplets",e,t):(n.triplet=e[t+1]-"0",n.tripletQ=PG[n.triplet],n.num_notes=n.triplet,t+2<e.length&&e[t+2]===":"&&(t+3<e.length&&e[t+3]===":"?t+4<e.length&&e[t+4]>="1"&&e[t+4]<="9"?(n.num_notes=e[t+4]-"0",t+=3):Mn("expected number after the two colons after the triplet to mark the duration",e,t):t+3<e.length&&e[t+3]>="1"&&e[t+3]<="9"?(n.tripletQ=e[t+3]-"0",t+4<e.length&&e[t+4]===":"?t+5<e.length&&e[t+5]>="1"&&e[t+5]<="9"&&(n.num_notes=e[t+5]-"0",t+=4):t+=2):Mn("expected number after the triplet to mark the duration",e,t))),t++):n.startSlur===void 0?n.startSlur=1:n.startSlur++),t++;return n.consumed=t-r,n};zp.prototype.startNewLine=function(){var e={startChar:-1,endChar:-1};J.partForNextLine.title&&(e.part=J.partForNextLine),e.clef=J.currentVoice&&J.staves[J.currentVoice.staffNum].clef!==void 0?bb.clone(J.staves[J.currentVoice.staffNum].clef):bb.clone(J.clef);var t=J.currentVoice?J.currentVoice.scoreTranspose:0;if(e.key=yb.standardKey(J.key.root+J.key.acc+J.key.mode,J.key.root,J.key.acc,t),e.key.mode=J.key.mode,J.key.impliedNaturals&&(e.key.impliedNaturals=J.key.impliedNaturals),J.key.explicitAccidentals)for(var n=0;n<J.key.explicitAccidentals.length;n++){for(var r=!1,i=0;i<e.key.accidentals.length;i++)e.key.accidentals[i].note===J.key.explicitAccidentals[n].note&&(e.key.accidentals[i].acc=J.key.explicitAccidentals[n].acc,r=!0);r||e.key.accidentals.push(J.key.explicitAccidentals[n])}if(J.targetKey=e.key,e.key.explicitAccidentals&&delete e.key.explicitAccidentals,yb.addPosToKey(e.clef,e.key),J.meter!==null?(J.currentVoice?(J.staves.forEach(function(l){l.meter=J.meter}),e.meter=J.staves[J.currentVoice.staffNum].meter,J.staves[J.currentVoice.staffNum].meter=null):e.meter=J.meter,J.meter=null):J.currentVoice&&J.staves[J.currentVoice.staffNum].meter&&(e.meter=J.staves[J.currentVoice.staffNum].meter,J.staves[J.currentVoice.staffNum].meter=null),J.currentVoice&&J.currentVoice.name&&(e.name=J.currentVoice.name),J.vocalfont&&(e.vocalfont=J.vocalfont),J.tripletfont&&(e.tripletfont=J.tripletfont),J.gchordfont&&(e.gchordfont=J.gchordfont),J.style&&(e.style=J.style),J.currentVoice){var a=J.staves[J.currentVoice.staffNum];a.brace&&(e.brace=a.brace),a.bracket&&(e.bracket=a.bracket),a.connectBarLines&&(e.connectBarLines=a.connectBarLines),a.name&&(e.name=a.name[J.currentVoice.index]),a.subname&&(e.subname=a.subname[J.currentVoice.index]),J.currentVoice.stem&&(e.stem=J.currentVoice.stem),J.currentVoice.stafflines&&(e.stafflines=J.currentVoice.stafflines),J.currentVoice.staffscale&&(e.staffscale=J.currentVoice.staffscale),J.currentVoice.scale&&(e.scale=J.currentVoice.scale),J.currentVoice.color&&(e.color=J.currentVoice.color),J.currentVoice.style&&(e.style=J.currentVoice.style),J.currentVoice.transpose&&(e.clef.transpose=J.currentVoice.transpose)}var s=J.currentVoice===void 0||J.currentVoice.staffNum===0&&J.currentVoice.index===0;J.barNumbers===0&&s&&J.currBarNumber!==1&&(e.barNumber=J.currBarNumber),Mi.startNewLine(e),J.key.impliedNaturals&&delete J.key.impliedNaturals,J.partForNextLine={},J.tempoForNextLine.length===4&&Mi.appendElement(J.tempoForNextLine[0],J.tempoForNextLine[1],J.tempoForNextLine[2],J.tempoForNextLine[3]),J.tempoForNextLine=[]};var K0=function(e){return e.duration!==void 0&&e.duration<.25&&(e.end_beam=!0),e},TG={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11},EG={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"},Eb={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"},r1=function(e,t,n,r){var i=function(p){return p==="octave"||p==="duration"||p==="Zduration"||p==="broken_rhythm"||p==="end_slur"},a;e[t]==="."&&e[t+1]==="-"&&(a=!0,t++);for(var s="startSlur",l=!1;;){switch(e[t]){case"(":if(s==="startSlur")n.startSlur===void 0?n.startSlur=1:n.startSlur++;else return i(s)?(n.endChar=t,n):null;break;case")":if(i(s))n.endSlur===void 0?n.endSlur=1:n.endSlur++;else return null;break;case"^":if(s==="startSlur")n.accidental="sharp",s="sharp2";else if(s==="sharp2")n.accidental="dblsharp",s="pitch";else return i(s)?(n.endChar=t,n):null;break;case"_":if(s==="startSlur")n.accidental="flat",s="flat2";else if(s==="flat2")n.accidental="dblflat",s="pitch";else return i(s)?(n.endChar=t,n):null;break;case"=":if(s==="startSlur")n.accidental="natural",s="pitch";else return i(s)?(n.endChar=t,n):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(s==="startSlur"||s==="sharp2"||s==="flat2"||s==="pitch"){if(n.pitch=TG[e[t]],n.pitch+=7*(J.currentVoice&&J.currentVoice.octave!==void 0?J.currentVoice.octave:J.octave),n.name=e[t],n.accidental&&(n.name=Eb[n.accidental]+n.name),c7.note(J,n),s="octave",r&&J.next_note_duration!==0?(n.duration=J.default_length*J.next_note_duration,J.next_note_duration=0,l=!0):n.duration=J.default_length,J.clef&&J.clef.type==="perc"||J.currentVoice&&J.currentVoice.clef==="perc"){var u=e[t];n.accidental&&(u=Eb[n.accidental]+u),si.formatting&&si.formatting.midi&&si.formatting.midi.drummap&&(n.midipitch=si.formatting.midi.drummap[u])}}else return i(s)?(n.endChar=t,n):null;break;case",":if(s==="octave")n.pitch-=7,n.name+=",";else return i(s)?(n.endChar=t,n):null;break;case"'":if(s==="octave")n.pitch+=7,n.name+="'";else return i(s)?(n.endChar=t,n):null;break;case"x":case"X":case"y":case"z":case"Z":if(s==="startSlur")n.rest={type:EG[e[t]]},delete n.accidental,delete n.startSlur,delete n.startTie,delete n.endSlur,delete n.endTie,delete n.end_beam,delete n.grace_notes,n.rest.type.indexOf("multimeasure")>=0?(n.duration=si.getBarLength(),n.rest.text=1,s="Zduration"):(r&&J.next_note_duration!==0?(n.duration=J.default_length*J.next_note_duration,J.next_note_duration=0,l=!0):n.duration=J.default_length,s="duration");else return i(s)?(n.endChar=t,n):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(s==="octave"||s==="duration"){var c=fn.getFraction(e,t);for(n.duration=n.duration*c.value,n.endChar=c.index;c.index<e.length&&(fn.isWhiteSpace(e[c.index])||e[c.index]==="-");)e[c.index]==="-"?n.startTie={}:n=K0(n),c.index++;t=c.index-1,s="broken_rhythm"}else if(s==="sharp2")n.accidental="quartersharp",s="pitch";else if(s==="flat2")n.accidental="quarterflat",s="pitch";else if(s==="Zduration"){var f=fn.getNumber(e,t);return n.duration=f.num*si.getBarLength(),n.rest.text=f.num,n.endChar=f.index,n}else return null;break;case"-":if(s==="startSlur")Mi.addTieToLastNote(a),n.endTie=!0;else if(s==="octave"||s==="duration"||s==="end_slur")if(n.startTie={},!l&&r)s="broken_rhythm";else return fn.isWhiteSpace(e[t+1])&&K0(n),n.endChar=t+1,n;else return s==="broken_rhythm"?(n.endChar=t,n):null;break;case" ":case"	":if(i(s)){n.end_beam=!0,a=!1;do e[t]==="."&&e[t+1]==="-"&&(a=!0,t++),e[t]==="-"&&(n.startTie={},a&&(n.startTie.style="dotted")),t++;while(t<e.length&&(fn.isWhiteSpace(e[t])||e[t]==="-")||e[t]==="."&&e[t+1]==="-");if(n.endChar=t,!l&&r&&(e[t]==="<"||e[t]===">"))t--,s="broken_rhythm";else return n}else return null;break;case">":case"<":if(i(s))if(r){var h=u7(e,t);t+=h[0]-1,J.next_note_duration=h[2],n.duration=h[1]*n.duration,s="end_slur"}else return n.endChar=t,n;else return null;break;default:return i(s)?(n.endChar=t,n):null}if(t++,t===e.length)return i(s)?(n.endChar=t,n):null}return null},u7=function(e,t){switch(e[t]){case">":return t<e.length-2&&e[t+1]===">"&&e[t+2]===">"?[3,1.875,.125]:t<e.length-1&&e[t+1]===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return t<e.length-2&&e[t+1]==="<"&&e[t+2]==="<"?[3,.125,1.875]:t<e.length-1&&e[t+1]==="<"?[2,.25,1.75]:[1,.5,1.5]}return null},AG=zp,Tn=dr,Wp=function(e,t){this.lineIndex=0,this.lines=e,this.multilineVars=t,this.skipWhiteSpace=function(c){for(var f=0;f<c.length;f++)if(!this.isWhiteSpace(c[f]))return f;return c.length};var n=function(c,f){return f>=c.length};this.eatWhiteSpace=function(c,f){for(var h=f;h<c.length;h++)if(!this.isWhiteSpace(c[h]))return h-f;return h-f},this.getKeyPitch=function(c){var f=this.skipWhiteSpace(c);if(n(c,f))return{len:0};switch(c[f]){case"A":return{len:f+1,token:"A"};case"B":return{len:f+1,token:"B"};case"C":return{len:f+1,token:"C"};case"D":return{len:f+1,token:"D"};case"E":return{len:f+1,token:"E"};case"F":return{len:f+1,token:"F"};case"G":return{len:f+1,token:"G"}}return{len:0}},this.getSharpFlat=function(c){if(c==="bass")return{len:0};switch(c[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(c){var f=function(m,v){for(;v<m.length&&(m[v]>="a"&&m[v]<="z"||m[v]>="A"&&m[v]<="Z");)v++;return v},h=this.skipWhiteSpace(c);if(n(c,h))return{len:0};var p=c.substring(h,h+3).toLowerCase();switch((p.length>1&&p[1]===" "||p[1]==="^"||p[1]==="_"||p[1]==="=")&&(p=p[0]),p){case"mix":return{len:f(c,h),token:"Mix"};case"dor":return{len:f(c,h),token:"Dor"};case"phr":return{len:f(c,h),token:"Phr"};case"lyd":return{len:f(c,h),token:"Lyd"};case"loc":return{len:f(c,h),token:"Loc"};case"aeo":return{len:f(c,h),token:"m"};case"maj":return{len:f(c,h),token:""};case"ion":return{len:f(c,h),token:""};case"min":return{len:f(c,h),token:"m"};case"m":return{len:f(c,h),token:"m"}}return{len:0}},this.getClef=function(c,f){var h=c,p=this.skipWhiteSpace(c);if(n(c,p))return{len:0};var m=!1,v=c.substring(p);if(Tn.startsWith(v,"clef=")&&(m=!0,v=v.substring(5),p+=5),v.length===0&&m)return{len:p+5,warn:"No clef specified: "+h};var b=this.skipWhiteSpace(v);if(n(v,b))return{len:0};b>0&&(p+=b,v=v.substring(b));var w=null;if(Tn.startsWith(v,"treble"))w="treble";else if(Tn.startsWith(v,"bass3"))w="bass3";else if(Tn.startsWith(v,"bass"))w="bass";else if(Tn.startsWith(v,"tenor"))w="tenor";else if(Tn.startsWith(v,"alto2"))w="alto2";else if(Tn.startsWith(v,"alto1"))w="alto1";else if(Tn.startsWith(v,"alto"))w="alto";else if(!f&&m&&Tn.startsWith(v,"none"))w="none";else if(Tn.startsWith(v,"perc"))w="perc";else if(!f&&m&&Tn.startsWith(v,"C"))w="tenor";else if(!f&&m&&Tn.startsWith(v,"F"))w="bass";else if(!f&&m&&Tn.startsWith(v,"G"))w="treble";else return{len:p+5,warn:"Unknown clef specified: "+h};return v=v.substring(w.length),b=this.isMatch(v,"+8"),b>0?w+="+8":(b=this.isMatch(v,"-8"),b>0&&(w+="-8")),{len:p+w.length,token:w,explicit:m}},this.getBarLine=function(c,f){switch(c[f]){case"]":switch(++f,c[f]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++f,c[f]>="1"&&c[f]<="9"||c[f]==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}case":":switch(++f,c[f]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++f,c[f]){case"]":switch(++f,c[f]){case"|":return++f,c[f]===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}case"|":return++f,c[f]===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}default:return{len:1,warn:"Unknown bar symbol"}}case"[":if(++f,c[f]==="|")switch(++f,c[f]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return c[f]>="1"&&c[f]<="9"||c[f]==='"'?{len:1,token:"bar_invisible"}:{len:0};case"|":switch(++f,c[f]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++f,c[f]===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var h=0;c[f+h]===":";)h++;return{len:1+h,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(c,f){for(var h=0;h<c.length;h++)if(f.indexOf(c[h])<0)return{len:h,token:c.substring(0,h)};return{len:h,token:c}},this.getToken=function(c,f,h){for(var p=f;p<h&&!this.isWhiteSpace(c[p]);)p++;return c.substring(f,p)},this.isMatch=function(c,f){var h=this.skipWhiteSpace(c);return n(c,h)?0:Tn.startsWith(c.substring(h),f)?h+f.length:0},this.getPitchFromTokens=function(c){var f={},h={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(f.position=h[c[0].token],f.position===void 0)return{warn:"Pitch expected. Found: "+c[0].token};for(c.shift();c.length;)switch(c[0].token){case",":f.position-=7,c.shift();break;case"'":f.position+=7,c.shift();break;default:return f}return f},this.getKeyAccidentals2=function(c){for(var f;c.length>0;){var h;if(c[0].token==="^"){if(h="sharp",c.shift(),c.length===0)return{accs:f,warn:"Expected note name after "+h};switch(c[0].token){case"^":h="dblsharp",c.shift();break;case"/":h="quartersharp",c.shift();break}}else if(c[0].token==="=")h="natural",c.shift();else if(c[0].token==="_"){if(h="flat",c.shift(),c.length===0)return{accs:f,warn:"Expected note name after "+h};switch(c[0].token){case"_":h="dblflat",c.shift();break;case"/":h="quarterflat",c.shift();break}}else return{accs:f};if(c.length===0)return{accs:f,warn:"Expected note name after "+h};switch(c[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":f===void 0&&(f=[]),f.push({acc:h,note:c[0].token[0]}),c[0].token.length===1?c.shift():c[0].token=c[0].token.substring(1);break;default:return{accs:f,warn:"Expected note name after "+h+" Found: "+c[0].token}}}return{accs:f}},this.getKeyAccidental=function(c){var f={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},h=this.skipWhiteSpace(c);if(n(c,h))return{len:0};var p=null;switch(c[h]){case"^":case"_":case"=":p=c[h];break;default:return{len:0}}if(h++,n(c,h))return{len:1,warn:"Expected note name after accidental"};switch(c[h]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:h+1,token:{acc:f[p],note:c[h]}};case"^":case"_":case"/":if(p+=c[h],h++,n(c,h))return{len:2,warn:"Expected note name after accidental"};switch(c[h]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:h+1,token:{acc:f[p],note:c[h]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(c){return c===" "||c==="	"||c===""},this.getMeat=function(c,f,h){var p=c.indexOf("%",f);for(p>=0&&p<h&&(h=p);f<h&&(c[f]===" "||c[f]==="	"||c[f]==="");)f++;for(;f<h&&(c[h-1]===" "||c[h-1]==="	"||c[h-1]==="");)h--;return{start:f,end:h}};var r=function(c){return c>="A"&&c<="Z"||c>="a"&&c<="z"},i=function(c){return c>="0"&&c<="9"};this.tokenize=function(c,f,h,p){var m=this.getMeat(c,f,h);f=m.start,h=m.end;for(var v=[],b;f<h;){if(c[f]==='"'){for(b=f+1;b<h&&c[b]!=='"';)b++;v.push({type:"quote",token:c.substring(f+1,b),start:f+1,end:b}),b++}else if(r(c[f])){if(b=f+1,p)for(;b<h&&!this.isWhiteSpace(c[b]);)b++;else for(;b<h&&r(c[b]);)b++;v.push({type:"alpha",token:c.substring(f,b),continueId:i(c[b]),start:f,end:b}),f=b+1}else if(c[f]==="."&&i(c[b+1])){b=f+1;for(var w=null,x=null;b<h&&i(c[b]);)b++;x=parseFloat(c.substring(f,b)),v.push({type:"number",token:c.substring(f,b),intt:w,floatt:x,continueId:r(c[b]),start:f,end:b}),f=b+1}else if(i(c[f])||c[f]==="-"&&i(c[b+1])){b=f+1;for(var C=null,S=null;b<h&&i(c[b]);)b++;if(c[b]==="."&&i(c[b+1]))for(b++;b<h&&i(c[b]);)b++;else C=parseInt(c.substring(f,b));S=parseFloat(c.substring(f,b)),v.push({type:"number",token:c.substring(f,b),intt:C,floatt:S,continueId:r(c[b]),start:f,end:b}),f=b+1}else c[f]===" "||c[f]==="	"||v.push({type:"punct",token:c[f],start:f,end:f+1}),b=f+1;f=b}return v},this.getVoiceToken=function(c,f,h){for(var p=f;p<h&&this.isWhiteSpace(c[p])||c[p]==="=";)p++;if(c[p]==='"'){var m=c.indexOf('"',p+1);return m===-1||m>=h?{len:1,err:"Missing close quote"}:{len:m-f+1,token:this.translateString(c.substring(p+1,m))}}else{for(var v=p;v<h&&!this.isWhiteSpace(c[v])&&c[v]!=="=";)v++;return{len:v-f+1,token:c.substring(p,v)}}};var a={"`a":"à","'a":"á","^a":"â","~a":"ã",'"a':"ä",oa:"å",aa:"å","=a":"ā",ua:"ă",";a":"ą","`e":"è","'e":"é","^e":"ê",'"e':"ë","=e":"ē",ue:"ĕ",";e":"ę",".e":"ė","`i":"ì","'i":"í","^i":"î",'"i':"ï","=i":"ī",ui:"ĭ",";i":"į","`o":"ò","'o":"ó","^o":"ô","~o":"õ",'"o':"ö","=o":"ō",uo:"ŏ","/o":"ø","`u":"ù","'u":"ú","^u":"û","~u":"ũ",'"u':"ü",ou:"ů","=u":"ū",uu:"ŭ",";u":"ų","`A":"À","'A":"Á","^A":"Â","~A":"Ã",'"A':"Ä",oA:"Å",AA:"Å","=A":"Ā",uA:"Ă",";A":"Ą","`E":"È","'E":"É","^E":"Ê",'"E':"Ë","=E":"Ē",uE:"Ĕ",";E":"Ę",".E":"Ė","`I":"Ì","'I":"Í","^I":"Î","~I":"Ĩ",'"I':"Ï","=I":"Ī",uI:"Ĭ",";I":"Į",".I":"İ","`O":"Ò","'O":"Ó","^O":"Ô","~O":"Õ",'"O':"Ö","=O":"Ō",uO:"Ŏ","/O":"Ø","`U":"Ù","'U":"Ú","^U":"Û","~U":"Ũ",'"U':"Ü",oU:"Ů","=U":"Ū",uU:"Ŭ",";U":"Ų",ae:"æ",AE:"Æ",oe:"œ",OE:"Œ",ss:"ß","'c":"ć","^c":"ĉ",uc:"č",cc:"ç",".c":"ċ",cC:"Ç","'C":"Ć","^C":"Ĉ",uC:"Č",".C":"Ċ","~N":"Ñ","~n":"ñ","=s":"š",vs:"š",DH:"Ð",dh:"ð",HO:"Ő",Ho:"ő",HU:"Ű",Hu:"ű","'Y":"Ý","'y":"ý","^Y":"Ŷ","^y":"ŷ",'"Y':"Ÿ",'"y':"ÿ",vS:"Š",vZ:"Ž",vz:"ž"},s={"#":"♯",b:"♭","=":"♮"},l={201:"♯",202:"♭",203:"♮",241:"¡",242:"¢",252:"a",262:"2",272:"o",302:"Â",312:"Ê",322:"Ò",332:"Ú",342:"â",352:"ê",362:"ò",372:"ú",243:"£",253:"«",263:"3",273:"»",303:"Ã",313:"Ë",323:"Ó",333:"Û",343:"ã",353:"ë",363:"ó",373:"û",244:"¤",254:"¬",264:"  ́",274:"1⁄4",304:"Ä",314:"Ì",324:"Ô",334:"Ü",344:"ä",354:"ì",364:"ô",374:"ü",245:"¥",255:"-",265:"μ",275:"1⁄2",305:"Å",315:"Í",325:"Õ",335:"Ý",345:"å",355:"í",365:"õ",375:"ý",246:"¦",256:"®",266:"¶",276:"3⁄4",306:"Æ",316:"Î",326:"Ö",336:"Þ",346:"æ",356:"î",366:"ö",376:"þ",247:"§",257:" ̄",267:"·",277:"¿",307:"Ç",317:"Ï",327:"×",337:"ß",347:"ç",357:"ï",367:"÷",377:"ÿ",250:" ̈",260:"°",270:" ̧",300:"À",310:"È",320:"Ð",330:"Ø",340:"à",350:"è",360:"ð",370:"ø",251:"©",261:"±",271:"1",301:"Á",311:"É",321:"Ñ",331:"Ù",341:"á",351:"é",361:"ñ",371:"ù"};this.translateString=function(c){var f=c.split("\\");if(f.length===1)return c;var h=null;return f.forEach(function(p){if(h===null)h=p;else{var m=a[p.substring(0,2)];m!==void 0?h+=m+p.substring(2):(m=l[p.substring(0,3)],m!==void 0?h+=m+p.substring(3):(m=s[p.substring(0,1)],m!==void 0?h+=m+p.substring(1):h+="\\"+p))}}),h},this.getNumber=function(c,f){for(var h=0;f<c.length;)switch(c[f]){case"0":h=h*10,f++;break;case"1":h=h*10+1,f++;break;case"2":h=h*10+2,f++;break;case"3":h=h*10+3,f++;break;case"4":h=h*10+4,f++;break;case"5":h=h*10+5,f++;break;case"6":h=h*10+6,f++;break;case"7":h=h*10+7,f++;break;case"8":h=h*10+8,f++;break;case"9":h=h*10+9,f++;break;default:return{num:h,index:f}}return{num:h,index:f}},this.getFraction=function(c,f){var h=1,p=1;if(c[f]!=="/"){var m=this.getNumber(c,f);h=m.num,f=m.index}if(c[f]==="/")if(f++,c[f]==="/"){for(var v=.5;c[f++]==="/";)v=v/2;return{value:h*v,index:f-1}}else{var b=f,w=this.getNumber(c,f);w.num===0&&b===f&&(w.num=2),w.num!==0&&(p=w.num),f=w.index}return{value:h/p,index:f}},this.theReverser=function(c){return Tn.endsWith(c,", The")?"The "+c.substring(0,c.length-5):Tn.endsWith(c,", A")?"A "+c.substring(0,c.length-3):c},this.stripComment=function(c){var f=c.indexOf("%");return f>=0?Tn.strip(c.substring(0,f)):Tn.strip(c)},this.getInt=function(c){var f=parseInt(c);if(isNaN(f))return{digits:0};var h=""+f,p=c.indexOf(h);return{value:f,digits:p+h.length}},this.getFloat=function(c){var f=parseFloat(c);if(isNaN(f))return{digits:0};var h=""+f,p=c.indexOf(h);return{value:f,digits:p+h.length}},this.getMeasurement=function(c){if(c.length===0)return{used:0};var f=1,h="";if(c[0].token==="-")c.shift(),h="-",f++;else if(c[0].type!=="number")return{used:0};if(h+=c.shift().token,c.length===0)return{used:1,value:parseInt(h)};var p=c.shift();if(p.token==="."){if(f++,c.length===0)return{used:f,value:parseInt(h)};if(c[0].type==="number"&&(p=c.shift(),h=h+"."+p.token,f++,c.length===0))return{used:f,value:parseFloat(h)};p=c.shift()}switch(p.token){case"pt":return{used:f+1,value:parseFloat(h)};case"px":return{used:f+1,value:parseFloat(h)};case"cm":return{used:f+1,value:parseFloat(h)/2.54*72};case"in":return{used:f+1,value:parseFloat(h)*72};default:return c.unshift(p),{used:f,value:parseFloat(h)}}};var u=function(c){return c=c.replace(/\\n/g,`
`),c=c.replace(/\\"/g,'"'),c};this.getBrackettedSubstring=function(c,f,h,p){for(var m=p||c[f],v=f+1,b=!1;v<c.length&&(b||c[v]!==m);)b=c[v]==="\\",++v;return c[v]===m?[v-f+1,u(c.substring(f+1,v)),!0]:(v=f+h,v>c.length-1&&(v=c.length-1),[v-f+1,u(c.substring(f+1,v)),!1])}};Wp.prototype.peekLine=function(){return this.lines[this.lineIndex]};Wp.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var e=this.lines[this.lineIndex];return this.lineIndex++,e}return null};var kG=Wp;function OG(e,t,n){if(!(!t||e.lines.length===0)){var r=e.deline({lineBreaks:!1}),i=IG(r,t);e.lines=NG(r,i,n),e.lineBreaks=i}}function NG(e,t,n){for(var r=[],i=[],a=[],s=1,l=0;l<t.length;l++){var u=t[l];if(e[u.ogLine].staff){var c=e[u.ogLine].staff[u.staff];if(r[u.line]||(r[u.line]={staff:[]}),!r[u.line].staff[u.staff]){r[u.line].staff[u.staff]={voices:[]},n!==void 0&&u.staff===0&&u.line>0&&(r[u.line].staff[u.staff].barNumber=s);for(var f=Object.keys(c),h=0;h<f.length;h++){var p=f[h]==="voices";f[h]==="meter"&&u.line!==0&&(p=!0),p||(r[u.line].staff[u.staff][f[h]]=c[f[h]])}i[u.staff]&&(r[u.line].staff[u.staff].key=i[u.staff])}r[u.line].staff[u.staff].voices[u.voice]||(r[u.line].staff[u.staff].voices[u.voice]=[]),r[u.line].staff[u.staff].voices[u.voice]=e[u.ogLine].staff[u.staff].voices[u.voice].slice(u.start,u.end+1),a[u.staff*10+u.voice]&&r[u.line].staff[u.staff].voices[u.voice].unshift({el_type:"stem",direction:a[u.staff*10+u.voice].direction});for(var m=r[u.line].staff[u.staff].voices[u.voice],v=m.length-1;v>=0;v--)if(m[v].el_type==="key"){i[u.staff]={root:m[v].root,acc:m[v].acc,mode:m[v].mode,accidentals:m[v].accidentals.filter(function(w){return w.acc!=="natural"})};break}for(v=m.length-1;v>=0;v--)if(m[v].el_type==="stem"){a[u.staff*10+u.voice]={direction:m[v].direction};break}if(n!==void 0&&u.staff===0&&u.voice===0)for(v=0;v<m.length;v++)m[v].el_type==="bar"&&(s++,v===m.length-1?delete m[v].barNumber:m[v].barNumber=s)}else r[u.line]=e[u.ogLine]}for(var b=0;b<r.length;b++)r[b].staff&&(r[b].staff=r[b].staff.filter(function(w){return w!=null}));return r}function IG(e,t){for(var n=[],r=0,i=0,a=0,s=0;s<e.length;s++){var l=e[s];if(l.staff){var u=i,c=t[r];r++;for(var f=0;f<l.staff.length;f++)for(var h=l.staff[f],p=0;p<h.voices.length;p++){a=u;for(var m=0,v=0,b=h.voices[p],w=0,x=0;x<b.length;x++){var C=b[x];C.el_type==="bar"&&(c[v]===m&&(n.push({ogLine:s,line:a,staff:f,voice:p,start:w,end:x}),w=x+1,a++,i=Math.max(i,a),v++),m++)}n.push({ogLine:s,line:a,staff:f,voice:p,start:w,end:b.length}),a++,i=Math.max(i,a)}}else n.push({ogLine:s,line:a}),a++,i=Math.max(i,a)}return n}function LG(e,t){for(var n=[],r=[],i=0,a=0;a<e.length;a++){var s=e[a],l=i+s;if(l<t)i=l;else{var u=t-i,c=l-t;u<c&&i>0?(n.push(a-1),r.push(Math.round(i-s)),i=s):a<e.length-1&&(n.push(a),r.push(Math.round(i)),i=0)}}return r.push(Math.round(i)),{lineBreaks:n,totals:r}}function Jc(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function $G(e,t,n,r,i,a,s,l,u,c,f){for(var h=c;h<e.length;h++){var p=e[h];n+=p,r+=p;var m=Math.abs(n-t[l]),v=Math.abs(m-a)<t[0]/10;if(v)if(m<a){var b=Jc(i),w=Jc(u);w.push(h-1),b.push(r-p),f.push({accumulator:n,lineAccumulator:p,lineWidths:b,lastVariance:Math.abs(n-t[l+1]),highestVariance:Math.max(s,a),currLine:l+1,lineBreaks:w,startIndex:h+1})}else m>a&&h<e.length-1&&(b=Jc(i),w=Jc(u),f.push({accumulator:n,lineAccumulator:r,lineWidths:b,lastVariance:m,highestVariance:Math.max(s,m),currLine:l,lineBreaks:w,startIndex:h+1}));m>a?(u.push(h-1),l++,s=Math.max(s,a),a=Math.abs(n-t[l]),i.push(r-p),r=p):a=m}i.push(r)}function BG(e,t,n,r){for(var i=Math.ceil(e.total/t),a=Math.floor(e.total/i),s=[],l=0;l<i;l++)s.push(a*(l+1));var u=[];u.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var c=0;c<u.length;)$G(e.measureWidths,s,u[c].accumulator,u[c].lineAccumulator,u[c].lineWidths,u[c].lastVariance,u[c].highestVariance,u[c].currLine,u[c].lineBreaks,u[c].startIndex,u),c++;for(l=0;l<u.length;l++){var f=u[l];f.variances=[],f.aveVariance=0;for(var h=0;h<f.lineWidths.length;h++){var p=f.lineWidths[h];f.variances.push(p-s[0]),f.aveVariance+=Math.abs(p-s[0])}f.aveVariance=f.aveVariance/f.lineWidths.length,r.attempts.push({type:"optimizeLineWidths",lineBreaks:f.lineBreaks,variances:f.variances,aveVariance:f.aveVariance,widths:e.measureWidths})}var m=9999999,v=-1;for(l=0;l<u.length;l++)f=u[l],f.aveVariance<m&&(m=f.aveVariance,v=l);return{failed:!1,lineBreaks:u[v].lineBreaks,variance:u[v].highestVariance}}function RG(e,t,n){for(var r=[],i=[],a=0,s=!1,l=0;l<e.length;l++)a+=e[l],a>t&&(s=!0),l%n===n-1&&(l!==e.length-1&&r.push(l),i.push(Math.round(a)),a=0);return{failed:s,totals:i,lineBreaks:r}}function FG(e,t,n){var r={lineBreaks:e,staffwidth:t};for(var i in n)n.hasOwnProperty(i)&&i!=="wrap"&&i!=="staffwidth"&&(r[i]=n[i]);return{revisedParams:r}}function HG(e,t,n){if(t.length===0||n.staffwidth<t[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:n};var r=n.scale?Math.max(n.scale,.1):1,i=n.wrap.minSpacing?Math.max(parseFloat(n.wrap.minSpacing),1):1,a=n.wrap.minSpacingLimit?Math.max(parseFloat(n.wrap.minSpacingLimit),1):i-.1,s=n.wrap.maxSpacing?Math.max(parseFloat(n.wrap.maxSpacing),1):void 0;n.wrap.lastLineLimit&&!s&&(s=Math.max(parseFloat(n.wrap.lastLineLimit),1));for(var l=n.wrap.preferredMeasuresPerLine?Math.max(parseInt(n.wrap.preferredMeasuresPerLine,10),0):void 0,u=[],c=[],f=0;f<t.length;f++){var h=t[f],p=n.staffwidth-h.left,m=p/i/r,v=p/s/r,b=p/a/r,w={widths:h,lineBreakPoint:m,minLineSize:v,attempts:[],staffWidth:n.staffwidth,minWidth:Math.round(b)},x=null;if(l){var C=RG(h.measureWidths,m,l);w.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:l,lineBreaks:C.lineBreaks,failed:C.failed,totals:C.totals}),C.failed||(x=C.lineBreaks)}if(!x){var S=LG(h.measureWidths,m);w.attempts.push({type:"Free Form",lineBreaks:S.lineBreaks,totals:S.totals}),x=S.lineBreaks,x.length>0&&h.measureWidths.length<25&&(S=BG(h,m,x,w),w.attempts.push({type:"Optimize",failed:S.failed,reason:S.reason,lineBreaks:S.lineBreaks,totals:S.totals}),S.failed||(x=S.lineBreaks))}u.push(x),c.push(w)}var _=n.staffwidth,M=FG(u,_,n);return M.explanation=c,M.reParse=!0,M}var f7={wrapLines:OG,calcLineWraps:HG},ca={};ca.FONTEM=360;ca.FONTSIZE=30;ca.STEP=ca.FONTSIZE*93/720;ca.SPACE=10;ca.TOPNOTE=15;ca.STAVEHEIGHT=100;ca.INDENT=50;var hr=ca,d7,E0=dr;(function(){var e=1,t=128;d7=function(m,v){v=v||{};var b,w=v.program||0,x=v.midiTranspose||0;m.visualTranspose&&(x-=m.visualTranspose);var C=v.channel||0,S=!1,_=v.drum||"",M=v.drumBars||1,P=v.drumIntro||0,A=_!=="",k=[],B=50;w=parseInt(w,10),x=parseInt(x,10),C=parseInt(C,10),C===10&&(w=t),_=_.split(" "),M=parseInt(M,10),P=parseInt(P,10);var F=m.formatting.bagpipes;F&&(w=71);var U=[];if(m.formatting.midi){var R=m.formatting.midi;R.program&&R.program.length>0&&(w=R.program[0],R.program.length>1&&(w=R.program[1],C=R.program[0]),S=!0),R.transpose&&(x=R.transpose[0]),R.channel&&(C=R.channel[0],S=!0),R.drum&&(_=R.drum),R.drumbars&&(M=R.drumbars[0]),R.drumon&&(A=!0),C===10&&(w=t),R.beat&&U.push({el_type:"beat",beats:R.beat}),R.nobeataccents&&U.push({el_type:"beataccents",value:!1})}v.qpm?b=parseInt(v.qpm,10):m.metaText.tempo?b=l(m.metaText.tempo,m.getBeatLength()):v.defaultQpm?b=v.defaultQpm:b=180;var L=[];F&&L.push({el_type:"bagpipes"}),L.push({el_type:"instrument",program:w}),C&&L.push({el_type:"channel",channel:C}),x&&L.push({el_type:"transpose",transpose:x}),L.push({el_type:"tempo",qpm:b});for(var D=0;D<U.length;D++)L.push(U[D]);var q=[],N=[],O=[],H=[0],V={};V[0]={el_type:"tempo",qpm:b,timing:0};for(var ne,_e=[],ae=[],Ne=!1,He=m.lines,$e=0;$e<He.length;$e++){var Ce=He[$e];if(Ce.staff){let ht=function(pt){var ee={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]},ye;if(pt.decoration)if(pt.decoration.indexOf("pppp")>=0?ye="pppp":pt.decoration.indexOf("ppp")>=0?ye="ppp":pt.decoration.indexOf("pp")>=0?ye="pp":pt.decoration.indexOf("p")>=0?ye="p":pt.decoration.indexOf("mp")>=0?ye="mp":pt.decoration.indexOf("mf")>=0?ye="mf":pt.decoration.indexOf("f")>=0?ye="f":pt.decoration.indexOf("ff")>=0?ye="ff":pt.decoration.indexOf("fff")>=0?ye="fff":pt.decoration.indexOf("ffff")>=0&&(ye="ffff"),ye&&(ne=ee[ye].slice(0),q[xe].push({el_type:"beat",beats:ne.slice(0)}),N[Ve]=!1,O[Ve]=!1),pt.decoration.indexOf("crescendo(")>=0){var je=n(z,ve,"crescendo)"),it=Math.min(127,ne[0]+B),Ft=r(z,ve+je+1,Object.keys(ee));Ft&&(it=ee[Ft][0]),je>0?N[Ve]=Math.floor((it-ne[0])/je):N[Ve]=!1,O[Ve]=!1}else if(pt.decoration.indexOf("crescendo)")>=0)N[Ve]=!1;else if(pt.decoration.indexOf("diminuendo(")>=0){var G=n(z,ve,"diminuendo)"),le=Math.max(15,ne[0]-B),oe=r(z,ve+G+1,Object.keys(ee));oe&&(le=ee[oe][0]),N[Ve]=!1,G>0?O[Ve]=Math.floor((le-ne[0])/G):O[Ve]=!1}else pt.decoration.indexOf("diminuendo)")>=0&&(O[Ve]=!1)};for(var Ie=Ce.staff,xe=0,rt=0;rt<Ie.length;rt++){var De=Ie[rt];if(!(De.clef&&De.clef.type==="TAB"))for(var Ve=0;Ve<De.voices.length;Ve++){var z=De.voices[Ve];if(!q[xe]){q[xe]=[].concat(JSON.parse(JSON.stringify(L)));var j=s(Ce.staff,xe);j&&q[xe].unshift({el_type:"name",trackName:j})}if(x&&De.clef.type==="perc"&&q[xe].push({el_type:"transpose",transpose:0}),De.clef&&De.clef.type==="perc"&&!S)for(var Q=0;Q<q[xe].length;Q++)q[xe][Q].el_type==="instrument"&&(q[xe][Q].program=t);else De.key&&f(q[xe],De.key);De.meter&&h(q[xe],De.meter),!Ne&&A&&(q[xe].push({el_type:"drum",params:{pattern:_,bars:M,on:A,intro:P}}),Ne=!0),De.clef&&De.clef.type!=="perc"&&De.clef.transpose&&(De.clef.el_type="clef",q[xe].push({el_type:"transpose",transpose:De.clef.transpose})),De.clef&&De.clef.type&&(De.clef.type.indexOf("-8")>=0?q[xe].push({el_type:"transpose",transpose:-12}):De.clef.type.indexOf("+8")>=0&&q[xe].push({el_type:"transpose",transpose:12})),m.formatting.midi&&m.formatting.midi.drumoff&&(q[xe].push({el_type:"bar"}),q[xe].push({el_type:"drum",params:{pattern:"",on:!1}}));var fe=0,de=0,be=0,Ee=0;ne=[105,95,85,1];for(var ve=0;ve<z.length;ve++){var Z=z[ve];switch(Z.el_type){case"note":if(N[Ve]&&(ne[0]+=N[Ve],ne[1]+=N[Ve],ne[2]+=N[Ve],q[xe].push({el_type:"beat",beats:ne.slice(0)})),O[Ve]&&(ne[0]+=O[Ve],ne[1]+=O[Ve],ne[2]+=O[Ve],q[xe].push({el_type:"beat",beats:ne.slice(0)})),ht(Z),!Z.rest||Z.rest.type!=="spacer"){var se={elem:Z,el_type:"note",timing:H[xe]};if(Z.style?se.style=Z.style:k[xe]&&(se.style=k[xe]),se.duration=Z.duration===0?.25:Z.duration,Z.startTriplet){if(de=Z.tripletMultiplier,be=Z.startTriplet*de*Z.duration,Z.startTriplet!==Z.tripletR&&ve+Z.tripletR<=z.length){for(var Fe=0,Te=ve;Te<ve+Z.tripletR;Te++)Fe+=z[Te].duration;be=de*Fe}se.duration=se.duration*de,se.duration=Math.round(se.duration*1e6)/1e6,Ee=se.duration}else de&&(Z.endTriplet?(de=0,se.duration=Math.round((be-Ee)*1e6)/1e6):(se.duration=se.duration*de,se.duration=Math.round(se.duration*1e6)/1e6,Ee+=se.duration));Z.rest&&(se.rest=Z.rest),Z.decoration&&(se.decoration=Z.decoration.slice(0)),Z.pitches&&(se.pitches=E0.cloneArray(Z.pitches)),Z.gracenotes&&(se.gracenotes=E0.cloneArray(Z.gracenotes)),Z.chord&&(se.chord=E0.cloneArray(Z.chord)),q[xe].push(se),Z.style==="rhythm"&&a(q),fe++,H[xe]+=se.duration}break;case"key":case"keySignature":f(q[xe],Z);break;case"meter":h(q[xe],Z);break;case"clef":Z.transpose&&q[xe].push({el_type:"transpose",transpose:Z.transpose}),Z.type&&(Z.type.indexOf("-8")>=0?q[xe].push({el_type:"transpose",transpose:-12}):Z.type.indexOf("+8")>=0&&q[xe].push({el_type:"transpose",transpose:12}));break;case"tempo":b=l(Z,m.getBeatLength()),q[xe].push({el_type:"tempo",qpm:b,timing:H[xe]}),V[""+H[xe]]={el_type:"tempo",qpm:b,timing:H[xe]};break;case"bar":fe>0&&q[xe].push({el_type:"bar"}),ht(Z),fe=0;var te=Z.type==="bar_right_repeat"||Z.type==="bar_dbl_repeat",ke=Z.startEnding==="1",We=Z.type==="bar_left_repeat"||Z.type==="bar_dbl_repeat"||Z.type==="bar_right_repeat";if(te){var Qe=_e[xe];Qe||(Qe=0);var Ze=ae[xe];Ze||(Ze=q[xe].length);for(var bt=Qe;bt<Ze;bt++){var At=E0.clone(q[xe][bt]);At.pitches&&(At.pitches=E0.cloneArray(At.pitches)),q[xe].push(At)}ae[xe]=void 0,_e[xe]=void 0}ke&&(ae[xe]=q[xe].length),We&&(_e[xe]=q[xe].length);break;case"style":k[xe]=Z.head;break;case"timeSignature":q[xe].push(u(Z));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var Yt=!1;switch(Z.cmd){case"drumon":A=!0,Yt=!0;break;case"drumoff":A=!1,Yt=!0;break;case"drum":_=Z.params,Yt=!0;break;case"drumbars":M=Z.params[0],Yt=!0;break;case"drummap":break;case"channel":Z.params[0]===10&&q[xe].push({el_type:"instrument",program:t});break;case"program":p(q[xe],{el_type:"instrument",program:Z.params[0]}),S=!0;break;case"transpose":q[xe].push({el_type:"transpose",transpose:Z.params[0]});break;case"gchordoff":q[xe].push({el_type:"gchord",tacet:!0});break;case"gchordon":q[xe].push({el_type:"gchord",tacet:!1});break;case"beat":q[xe].push({el_type:"beat",beats:Z.params});break;case"nobeataccents":q[xe].push({el_type:"beataccents",value:!1});break;case"beataccents":q[xe].push({el_type:"beataccents",value:!0});break;case"vol":q[xe].push({el_type:"vol",volume:Z.params[0]});break;case"volinc":q[xe].push({el_type:"volinc",volume:Z.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",Z.cmd,Z)}Yt&&(q[0].push({el_type:"drum",params:{pattern:_,bars:M,intro:P,on:A}}),Ne=!0);break;default:console.log("MIDI: element type "+Z.el_type+" not handled.")}}xe++,H[xe]||(H[xe]=0)}}}}if(i(q,V),P)for(var an=m.getPickupLength(),zt=0;zt<q.length;zt++){for(var Pt=0;q[zt][Pt].el_type!=="note"&&q[zt].length>Pt;)Pt++;if(q[zt].length>Pt)for(var Te=0;Te<P;Te++)an===0||Te<P-1?q[zt].splice(Pt,0,{el_type:"note",rest:{type:"rest"},duration:e},{el_type:"bar"}):q[zt].splice(Pt,0,{el_type:"note",rest:{type:"rest"},duration:e-an})}return q.length>0&&q[0].length>0&&(q[0][0].pickupLength=m.getPickupLength()),q};function n(m,v,b){for(var w=0,x=v+1;x<m.length;x++)if(m[x].el_type==="note"&&w++,m[x].decoration&&m[x].decoration.indexOf(b)>=0)return w;return w}function r(m,v,b){for(var w=Math.min(m.length,v+3),x=v;x<w;x++)if(m[x].el_type==="note"&&m[x].decoration){for(var C=0;C<m[x].decoration.length;C++)if(b.indexOf(m[x].decoration[C])>=0)return m[x].decoration[C]}return null}function i(m,v){if(!(!v||v.length===0))for(var b=Object.keys(v),w=0;w<m.length;w++)for(var x=m[w],C=v[0]?v[0].qpm:0,S=0;S<x.length;S++){var _=x[S];_.el_type==="tempo"&&(C=_.qpm),b.indexOf(""+_.timing)>=0&&C!==v[""+_.timing].qpm&&(C=v[""+_.timing].qpm,_.el_type==="tempo"?(_.qpm=v[""+_.timing].qpm,S++):(m[w].splice(S,0,{el_type:"tempo",qpm:v[""+_.timing].qpm,timing:_.timing}),S+=2))}}function a(m){for(var v=0;v<m.length;v++)for(var b=m[v],w=b.length-1;w>=0&&b[w].el_type!=="bar";)b[w].noChordVoice=!0,w--}function s(m,v){if(!(!m||m.length<=v||!m[v].title))return m[v].title.join(" ")}function l(m,v){var b=.25;m.duration&&(b=m.duration[0]);var w=60;return m.bpm&&(w=m.bpm),b*w/v}function u(m){var v;switch(m.type){case"common_time":v={el_type:"meter",num:4,den:4};break;case"cut_time":v={el_type:"meter",num:2,den:2};break;case"specified":v={el_type:"meter",num:m.value[0].num,den:m.value[0].den};break;default:v={el_type:"meter"}}return e=v.num/v.den,v}function c(m){for(var v=[],b=0;b<m.length;b++)m[b].acc!=="natural"&&v.push(m[b]);return v}function f(m,v){var b;v.root==="HP"?b={el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:b={el_type:"key",accidentals:c(v.accidentals)},p(m,b)}function h(m,v){var b=u(v);p(m,b)}function p(m,v){for(var b=m.length-1;b>=0;b--)if(m[b].el_type===v.el_type){JSON.stringify(m[b])!==JSON.stringify(v)&&m.push(v);return}m.push(v)}})();var h7=d7,DG={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};function zG(e){var t=(e.accidental?e.accidental[0]:"x")+e.verticalPos;return DG[t]}var p7=zG,g7,WG=dr,Ab=p7;(function(){var e,t,n,r,i,a=1,s,l,u,c,f,h={num:4,den:4},p,m,v,b,w=0,x=0,C=128,S=64,_=48,M,P,A,k,B=!1,F=!1,U=!0,R=105,L=95,D=85,q=.25,N,O,H=0,V,ne={},_e,ae=0,Ne,He=0,$e=-.001,Ce=.4;g7=function(G,le,oe,ue){le||(le={}),ue||(ue={}),e=[],t=[0,0,0,0,0,0,0],r=[],i=le.qpm,a=1,s=void 0,l=void 0,u=void 0,c=void 0,f=0,Ne=oe,h={num:4,den:4},p=[],m=!1,b=G.length,v=!1,M=[],w=ue.bassprog&&ue.bassprog.length===1?ue.bassprog[0]:0,x=ue.chordprog&&ue.chordprog.length===1?ue.chordprog[0]:0,S=ue.bassvol&&ue.bassvol.length===1?ue.bassvol[0]:64,_=ue.chordvol&&ue.chordvol.length===1?ue.chordvol[0]:48,P=void 0,A=void 0,B=!!le.chordsOff,F=!1,U=!0,R=105,L=95,D=85,q=.25,N=void 0,O=void 0,H=0,V=[],ne={},_e=1,G.length>0&&G[0].length>0&&(ae=G[0][0].pickupLength),Ve(G,le);for(var pe=0;pe<G.length;pe++){n=0;var Be=G[pe];u=[{cmd:"program",channel:pe,instrument:s}],c=void 0,k=0;var et=!1;(le.voicesOff===!0||le.voicesOff&&le.voicesOff.length&&le.voicesOff.indexOf(pe)>=0)&&(et=!0);for(var Nt=0;Nt<Be.length;Nt++){var Xe=Be[Nt];switch(Xe.el_type){case"name":c={cmd:"text",type:"name",text:Xe.trackName};break;case"note":var yt=Z(Xe,et);yt&&(m=pe);break;case"key":t=te(Xe);break;case"meter":h=Xe,q=z(h),je();break;case"tempo":i?a=Xe.qpm?i/Xe.qpm:1:i=Xe.qpm;break;case"transpose":n=Xe.transpose;break;case"bar":p.length>0&&(m===!1||pe===m)&&(ee(k,rt(Xe.time)),M=[]),e=[],pe===0&&it(G.length+1),F=!1,A=P,k=rt(Xe.time);break;case"bagpipes":break;case"instrument":if(s===void 0&&(s=Xe.program),l=Xe.program,u.length>0&&u[u.length-1].cmd==="program")u[u.length-1].instrument=Xe.program;else{var It;for(It=u.length-1;It>=0&&u[It].cmd!=="program";It--);(It<0||u[It].instrument!==Xe.program)&&u.push({cmd:"program",channel:0,instrument:Xe.program})}break;case"channel":Ie(Xe.channel);break;case"drum":ne=ye(Xe.params),je();break;case"gchord":le.chordsOff||(B=Xe.tacet);break;case"beat":R=Xe.beats[0],L=Xe.beats[1],D=Xe.beats[2];break;case"vol":N=Xe.volume;break;case"volinc":O=Xe.volume;break;case"beataccents":U=Xe.value;break;default:console.log("MIDI creation. Unknown el_type: "+Xe.el_type+`
`);break}}u[0].instrument===void 0&&(u[0].instrument=s||0),c&&u.unshift(c),r.push(u),xe()||(v=!0),V.length>0}return le.detuneOctave&&Ft(r,parseInt(le.detuneOctave,10)),xe()||r.push(p),V.length>0&&r.push(V),{tempo:i,instrument:s,tracks:r,totalDuration:f}};function Ie(G){for(var le=u.length-1;le>=0;le--)if(u[le].cmd==="program"){u[le].channel=G;return}}function xe(){for(var G=!0,le=0;le<p.length&&G;le++)p[le].cmd==="note"&&(G=!1);return G}function rt(G){return G/1e6}function De(G){return Math.round(G*a*1e6)/1e6}function Ve(G,le){for(var oe=0;oe<G.length;oe++){for(var ue=G[oe],pe={},Be=le.qpm,et=0,Nt=1,Xe=0;Xe<ue.length;Xe++){var yt=ue[Xe];if(yt.el_type==="tempo"){Be?Nt=yt.qpm?Be/yt.qpm:1:Be=yt.qpm;continue}yt.time=et;var It=yt.duration?yt.duration:0;if(et+=Math.round(It*Nt*1e6),yt.pitches){for(var $t=0;$t<yt.pitches.length;$t++){var xt=yt.pitches[$t];if(xt){if(xt.duration=yt.duration,xt.startTie)pe[xt.pitch]===void 0?pe[xt.pitch]={el:Xe,pitch:$t}:(ue[pe[xt.pitch].el].pitches[pe[xt.pitch].pitch].duration+=xt.duration,yt.pitches[$t]=null);else if(xt.endTie){var tn=pe[xt.pitch];if(tn){var Jr=xt.duration;delete ue[tn.el].pitches[tn.pitch].startTie,ue[tn.el].pitches[tn.pitch].duration+=Jr,yt.pitches[$t]=null,delete pe[xt.pitch]}else delete xt.endTie}}}delete yt.duration}}for(var Pn in pe)if(pe.hasOwnProperty(Pn)){var Ri=pe[Pn];delete ue[Ri.el].pitches[Ri.pitch].startTie}}}function z(G){switch(parseInt(G.den,10)){case 2:return .5;case 4:return .25;case 8:return G.num%3===0?.375:.125;case 16:return .125}return .25}var j=["break","(break)","no chord","n.c.","tacet"];function Q(G){if(B)return"break";if(v||!G.chord||G.chord.length===0)return null;for(var le=0;le<G.chord.length;le++){var oe=G.chord[le];if(oe.position==="default")return oe.name;if(j.indexOf(oe.name.toLowerCase())>=0)return"break"}return null}function fe(G,le,oe){var ue=oe-G;return ue/le}function de(G,le){if(le)return 0;var oe;if(N)oe=N,N=void 0;else if(!U)oe=L;else if(ae>G)oe=D;else{h.num/h.den;var ue=fe(k,z(h),G);ue===0?oe=R:parseInt(ue,10)===ue?oe=L:oe=D}return O&&(oe+=O,O=void 0),oe<0&&(oe=0),oe>127&&(oe=127),le?0:oe}function be(G){var le=!1,oe=Q(G);if(oe){var ue=Yt(oe);if(ue){p.length===0&&(le=!0,p.push({cmd:"program",channel:b,instrument:x})),P=ue;var pe=fe(k,z(h),rt(G.time));M.push({chord:P,beat:pe,start:rt(G.time)})}}return le}function Ee(G,le){var oe={};if(G.decoration)for(var ue=0;ue<G.decoration.length;ue++)G.decoration[ue]==="staccato"?oe.thisBreakBetweenNotes="staccato":G.decoration[ue]==="tenuto"?oe.thisBreakBetweenNotes="tenuto":G.decoration[ue]==="accent"?oe.velocity=Math.min(127,le*1.5):G.decoration[ue]==="trill"?oe.noteModification="trill":G.decoration[ue]==="lowermordent"?oe.noteModification="lowermordent":G.decoration[ue]==="uppermordent"||G.decoration[ue]==="mordent"?oe.noteModification="mordent":G.decoration[ue]==="turn"?oe.noteModification="turn":G.decoration[ue]==="roll"&&(oe.noteModification="roll");return oe}function ve(G,le){var oe=le.start,ue=le.duration,pe=De(1/32);switch(G){case"trill":for(var Be=1;ue>0;)u.push({cmd:"note",pitch:le.pitch+Be,volume:le.volume,start:oe,duration:pe,gap:0,instrument:l,style:"decoration"}),Be=Be===1?0:1,ue-=pe,oe+=pe;break;case"mordent":u.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:oe,duration:pe,gap:0,instrument:l,style:"decoration"}),ue-=pe,oe+=pe,u.push({cmd:"note",pitch:le.pitch+1,volume:le.volume,start:oe,duration:pe,gap:0,instrument:l,style:"decoration"}),ue-=pe,oe+=pe,u.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:oe,duration:ue,gap:0,instrument:l});break;case"lowermordent":u.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:oe,duration:pe,gap:0,instrument:l,style:"decoration"}),ue-=pe,oe+=pe,u.push({cmd:"note",pitch:le.pitch-1,volume:le.volume,start:oe,duration:pe,gap:0,instrument:l,style:"decoration"}),ue-=pe,oe+=pe,u.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:oe,duration:ue,gap:0,instrument:l});break;case"turn":pe=le.duration/5,u.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:oe,duration:pe,gap:0,instrument:l,style:"decoration"}),u.push({cmd:"note",pitch:le.pitch+1,volume:le.volume,start:oe+pe,duration:pe,gap:0,instrument:l,style:"decoration"}),u.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:oe+pe*2,duration:pe,gap:0,instrument:l,style:"decoration"}),u.push({cmd:"note",pitch:le.pitch+1,volume:le.volume,start:oe+pe*3,duration:pe,gap:0,instrument:l,style:"decoration"}),u.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:oe+pe*4,duration:pe,gap:0,instrument:l});break;case"roll":for(;ue>0;)u.push({cmd:"note",pitch:le.pitch,volume:le.volume,start:oe,duration:pe,gap:0,instrument:l,style:"decoration"}),ue-=pe*2,oe+=pe*2;break}}function Z(G,le){u.length;var oe=de(rt(G.time),le),ue=be(G),pe;if(G.gracenotes&&G.pitches&&G.pitches.length>0&&G.pitches[0]&&(pe=ke(G.gracenotes,G.pitches[0].duration),G.elem&&(G.elem.midiGraceNotePitches=We(pe,rt(G.time),oe*2/3,l))),G.elem){var Be=rt(G.time),et=Be/q/i*60*1e3;if(G.elem.currentTrackMilliseconds===void 0)G.elem.currentTrackMilliseconds=et,G.elem.currentTrackWholeNotes=Be;else if(G.elem.currentTrackMilliseconds.length===void 0)G.elem.currentTrackMilliseconds!==et&&(G.elem.currentTrackMilliseconds=[G.elem.currentTrackMilliseconds,et],G.elem.currentTrackWholeNotes=[G.elem.currentTrackWholeNotes,Be]);else{for(var Nt=!1,Xe=0;Xe<G.elem.currentTrackMilliseconds.length;Xe++)G.elem.currentTrackMilliseconds[Xe]===et&&(Nt=!0);Nt||(G.elem.currentTrackMilliseconds.push(et),G.elem.currentTrackWholeNotes.push(Be))}}if(G.pitches){var yt="",It=Ee(G,oe);It.thisBreakBetweenNotes&&(yt=It.thisBreakBetweenNotes),It.velocity&&(oe=It.velocity);var $t=G.pitches;if(G.style==="rhythm"&&(F=!0,P&&P.chick)){$t=[];for(var xt=0;xt<P.chick.length;xt++){var tn=WG.clone(G.pitches[0]);tn.actualPitch=P.chick[xt],$t.push(tn)}}G.elem&&(G.elem.midiPitches=[]);for(var Jr=0;Jr<$t.length;Jr++){var Pn=$t[Jr];if(Pn){Pn.startSlur&&(H+=Pn.startSlur.length),Pn.endSlur&&(H-=Pn.endSlur.length);var Ri=Pn.actualPitch?Pn.actualPitch:Te(Pn);if(l===C&&Ne){var dn=Ab(Pn);dn&&Ne[dn]&&(Ri=Ne[dn].sound)}var Lt={cmd:"note",pitch:Ri,volume:oe,start:rt(G.time),duration:De(Pn.duration),instrument:l,startChar:G.elem.startChar,endChar:G.elem.endChar};if(Lt=Qe(Lt),G.gracenotes&&(Lt.duration=Lt.duration/2,Lt.start=Lt.start+Lt.duration),G.elem&&G.elem.midiPitches.push(Lt),It.noteModification)ve(It.noteModification,Lt);else{switch(H>0?Lt.endType="tenuto":yt&&(Lt.endType=yt),Lt.endType){case"tenuto":Lt.gap=$e;break;case"staccato":var ga=Lt.duration*Ce;Lt.gap=i/60*ga;break;default:Lt.gap=He;break}u.push(Lt)}}}u.length-1}var Il=se(G);return f=Math.max(f,rt(G.time)+De(Il)),ue}function se(G){return G.pitches&&G.pitches.length>0&&G.pitches[0]?G.pitches[0].duration:G.elem?G.elem.duration:G.duration}var Fe=[0,2,4,5,7,9,11];function Te(G){if(G.midipitch!==void 0)return G.midipitch;var le=G.pitch;if(G.accidental)switch(G.accidental){case"sharp":e[le]=1;break;case"flat":e[le]=-1;break;case"natural":e[le]=0;break;case"dblsharp":e[le]=2;break;case"dblflat":e[le]=-2;break;case"quartersharp":e[le]=.25;break;case"quarterflat":e[le]=-.25;break}var oe=Ze(le)*12+Fe[bt(le)]+60;return e[le]!==void 0?oe+=e[le]:oe+=t[bt(le)],oe+=n,oe}function te(G){var le=[0,0,0,0,0,0,0];if(!G.accidentals)return le;for(var oe=0;oe<G.accidentals.length;oe++){var ue=G.accidentals[oe],pe;switch(ue.acc){case"flat":pe=-1;break;case"quarterflat":pe=-.25;break;case"sharp":pe=1;break;case"quartersharp":pe=.25;break;default:pe=0;break}var Be=ue.note.toLowerCase(),et=bt(Be.charCodeAt(0)-"c".charCodeAt(0));le[et]+=pe}return le}function ke(G,le){for(var oe=0,ue=[],pe,Be=0;Be<G.length;Be++)pe=G[Be],oe+=pe.duration;var et=le/2/oe;for(Be=0;Be<G.length;Be++){pe=G[Be];var Nt=Te(pe);if(l===C&&Ne){var Xe=Ab(pe);Xe&&Ne[Xe]&&(Nt=Ne[Xe].sound)}var yt={pitch:Nt,duration:pe.duration*et};yt=Qe(yt),ue.push(yt)}return ue}function We(G,le,oe,ue){var pe=[];oe=Math.round(oe);for(var Be=0;Be<G.length;Be++){var et=G[Be];u.push({cmd:"note",pitch:et.pitch,volume:oe,start:le,duration:et.duration,gap:0,instrument:ue,style:"grace"}),pe.push({pitch:et.pitch,durationInMeasures:et.duration,volume:oe,instrument:ue}),le+=et.duration}return pe}function Qe(G){var le=""+G.pitch;return le.indexOf(".75")>=0?(G.pitch=Math.round(G.pitch),G.cents=-50):le.indexOf(".25")>=0&&(G.pitch=Math.round(G.pitch),G.cents=50),G}function Ze(G){return Math.floor(G/7)}function bt(G){return G=G%7,G<0&&(G+=7),G}var At={A:33,B:35,C:36,D:38,E:40,F:41,G:43};function Yt(G){if(G.length!==0){if(G==="break")return{chick:[]};var le=G.substring(0,1);if(le==="("){if(G=G.substring(1,G.length-2),G.length===0)return;le=G.substring(0,1)}var oe=At[le];if(oe){for(var ue=n;ue<-8;)ue+=12;for(;ue>8;)ue-=12;oe+=ue;var pe=oe-5,Be;G.length===1&&(Be=zt(oe,""));var et=G.substring(1),Nt=et.substring(0,1);Nt==="b"||Nt==="♭"?(oe--,pe--,et=et.substring(1)):(Nt==="#"||Nt==="♯")&&(oe++,pe++,et=et.substring(1));var Xe=et.split("/");if(Be=zt(oe,Xe[0]),Be.length>=3){var yt=Be[2]-Be[0];pe=pe+yt-7}if(Xe.length===2){var It=At[Xe[1].substring(0,1)];if(It){var $t=Xe[1].substring(1),xt={"#":1,"♯":1,b:-1,"♭":-1}[$t]||0;oe=At[Xe[1].substring(0,1)]+xt+ue,pe=oe}}return{boom:oe,boom2:pe,chick:Be}}}}var an={dim:[0,3,6],"°":[0,3,6],"˚":[0,3,6],dim7:[0,3,6,9],"°7":[0,3,6,9],"˚7":[0,3,6,9],ø7:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m7♭5":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"7♭5":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-∆9":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"7♭9":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"∆7":[0,4,7,11],Δ7:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"7♯5":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"9♯5":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21]};function zt(G,le){var oe=an[le];oe||(le.slice(0,2).toLowerCase()==="ma"||le[0]==="M"?oe=an.M:le[0]==="m"||le[0]==="-"?oe=an.m:oe=an.M),G+=12;for(var ue=[],pe=0;pe<oe.length;pe++)ue.push(G+oe[pe]);return ue}function Pt(G,le,oe,ue,pe){G!==void 0&&p.push({cmd:"note",pitch:G,volume:oe,start:k+ue*De(le),duration:De(pe),gap:0,instrument:w})}function ht(G,le,oe,ue,pe){for(var Be=0;Be<G.length;Be++)p.push({cmd:"note",pitch:G[Be],volume:oe,start:k+ue*De(le),duration:De(pe),gap:0,instrument:x})}var pt={"2/2":["boom","chick"],"2/4":["boom","chick"],"3/4":["boom","chick","chick"],"4/4":["boom","chick","boom2","chick"],"5/4":["boom","chick","chick","boom2","chick"],"6/8":["boom","","chick","boom2","","chick"],"9/8":["boom","","chick","boom2","","chick","boom2","","chick"],"12/8":["boom","","chick","boom2","","chick","boom","","chick","boom2","","chick"]};function ee(G,le){var oe=h.num,ue=h.den,pe=1/ue,Be=pe/2,et=pt[oe+"/"+ue],Nt=parseInt(oe,10)/parseInt(ue,10),Xe=Nt-(le-G)/a;if(Math.abs(Xe)<1e-5&&(Xe=!1),!et||Xe){et=[];for(var yt=(le-G)/a/pe,It=0;It<yt;It++)et.push("chick")}if(M.length===0&&M.push({beat:0,chord:P}),M[0].beat!==0&&P&&A&&M.unshift({beat:0,chord:A}),M.length===1){for(var $t=M[0].beat;$t<et.length;$t++)if(!F)switch(et[$t]){case"boom":Pt(M[0].chord.boom,pe,S,$t,Be);break;case"boom2":Pt(M[0].chord.boom2,pe,S,$t,Be);break;case"chick":ht(M[0].chord.chick,pe,_,$t,Be);break}return}for(var xt=pe===.125?3:1,tn={},Jr=0;Jr<M.length;Jr++){var Pn=M[Jr],Ri=Math.round(Pn.beat*xt);tn[""+Ri]=Pn}for(var dn=0;dn<et.length;dn++){var Lt;tn[""+dn]&&(Lt=tn[""+dn]);var ga;if(!F&&Lt)switch(et[dn]){case"boom":tn[""+(dn+1)]?ht(Lt.chord.chick,pe,_,dn,Be):(Pt(Lt.chord.boom,pe,S,dn,Be),ga=Lt.chord.boom);break;case"boom2":tn[""+(dn+1)]?ht(Lt.chord.chick,pe,_,dn,Be):ga===Lt.chord.boom?(Pt(Lt.chord.boom2,pe,S,dn,Be),ga=void 0):(Pt(Lt.chord.boom,pe,S,dn,Be),ga=Lt.chord.boom);break;case"chick":ht(Lt.chord.chick,pe,_,dn,Be);break;case"":tn[""+dn]&&ht(Lt.chord.chick,pe,_,dn,Be);break}}}function ye(G){if(G.pattern.length===0||G.on===!1)return{on:!1};for(var le=G.pattern[0],oe=[],ue="",pe=0,Be=0;Be<le.length;Be++)if(le[Be]==="d"&&pe++,le[Be]==="d"||le[Be]==="z")ue.length!==0?(oe.push(ue),ue=le[Be]):ue=ue+le[Be];else{if(ue.length===0)return{on:!1};ue=ue+le[Be]}if(ue.length!==0&&oe.push(ue),G.pattern.length!==pe*2+1)return{on:!1};for(var et={on:!0,bars:G.bars,pattern:[]},Nt=z(h),Xe=0,yt=0;yt<oe.length;yt++){ue=oe[yt];for(var It=1,$t=!1,xt=0,tn=1;tn<ue.length;tn++)switch(ue[tn]){case"/":xt!==0&&(It*=xt),xt=0,$t=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":xt=xt*10+ue[tn];break;default:return{on:!1}}$t?(xt===0&&(xt=2),It/=xt):xt&&(It*=xt),ue[0]==="d"?(et.pattern.push({len:It*Nt,pitch:G.pattern[1+Xe],velocity:G.pattern[1+Xe+pe]}),Xe++):et.pattern.push({len:It*Nt,pitch:null})}return _e=G.bars?G.bars:1,et}function je(){if(!(!ne||!ne.pattern)){for(var G=ne,le=0,oe=h.num/h.den,ue=0;ue<G.pattern.length;ue++)le+=G.pattern[ue].len;var pe=le/_e/oe;for(ue=0;ue<G.pattern.length;ue++)G.pattern[ue].len=G.pattern[ue].len/pe;ne=G}}function it(G){if(!(V.length===0&&!ne.on)){var le=h.num/h.den;if(V.length===0){if(f<le)return;V.push({cmd:"program",channel:G,instrument:C})}if(ne.on)for(var oe=k,ue=0;ue<ne.pattern.length;ue++){var pe=De(ne.pattern[ue].len);ne.pattern[ue].pitch&&V.push({cmd:"note",pitch:ne.pattern[ue].pitch,volume:ne.pattern[ue].velocity,start:oe,duration:pe,gap:0,instrument:C}),oe+=pe}}}function Ft(G,le){for(var oe={},ue=0;ue<G.length;ue++)for(var pe=0;pe<G[ue].length;pe++){var Be=G[ue][pe];Be.cmd==="note"&&(oe[Be.start]===void 0&&(oe[Be.start]=[]),oe[Be.start].push({track:ue,event:pe,pitch:Be.pitch}))}var et=Object.keys(oe);for(ue=0;ue<et.length;ue++){var Nt=oe[et[ue]];if(Nt.length>1){Nt=Nt.sort(function(xt,tn){return xt.pitch-tn.pitch});var Xe=Nt[Nt.length-1],yt=Xe.pitch%12,It=!1;for(pe=0;!It&&pe<Nt.length-1;pe++)Nt[pe].pitch%12===yt&&(It=!0);if(It){var $t=G[Xe.track][Xe.event];$t.cents||($t.cents=0),$t.cents+=le}}}}})();var UG=g7;function VG(e,t){t||(t={});for(var n=!!t.lineBreaks,r=[],i=!1,a=[],s=[],l=[],u=[],c=[],f=[],h=[],p=0;p<e.length;p++){var m=e[p];if(m.staff){if(i&&!m.vskip)for(var v=r[r.length-1],b=0;b<v.staff.length;b++){var w=m.staff[b],x=v.staff[b];if(w&&(hs(w.meter,a[b])||(qG(w.meter,w.voices),a[b]=w.meter,delete w.meter),hs(w.key,s[b])||(jG(w.key,w.voices),s[b]=w.key,delete w.key),w.title&&(x.abbrevTitle=w.title),hs(w.clef,l[b])||(GG(w.clef,w.voices),l[b]=w.clef,delete w.clef),hs(w.vocalfont,u[b])||(Qc(w.vocalfont,w.voices,"vocalfont"),u[b]=w.vocalfont,delete w.vocalfont),hs(w.gchordfont,c[b])||(Qc(w.gchordfont,w.voices,"gchordfont"),c[b]=w.gchordfont,delete w.gchordfont),hs(w.tripletfont,f[b])||(Qc(w.tripletfont,w.voices,"tripletfont"),f[b]=w.tripletfont,delete w.tripletfont),hs(w.annotationfont,h[b])||(Qc(w.annotationfont,w.voices,"annotationfont"),h[b]=w.annotationfont,delete w.annotationfont)),w)for(var C=0;C<x.voices.length;C++){var S=x.voices[C],_=w.voices[C];n&&S.push({el_type:"break"}),_&&(x.voices[C]=S.concat(_))}}else{for(var M=0;M<m.staff.length;M++)s[M]=m.staff[M].key,a[M]=m.staff[M].meter,l[M]=m.staff[M].clef;r.push(KG(m))}i=!0}else i=!1,r.push(m)}return r}function kb(e,t){return e==="abselem"?"abselem":t}function qG(e,t){e.el_type="meter",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function jG(e,t){e.el_type="key",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function GG(e,t){e.el_type="clef",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function Qc(e,t,n){e.el_type="font",e.type=n,e.startChar=-1,e.endChar=-1;for(var r=0;r<t.length;r++)t[r].unshift(e)}function hs(e,t){if(!e)return!0;var n=JSON.stringify(e,kb),r=JSON.stringify(t,kb);return n===r}function KG(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++)if(n[r]!=="staff")t[n[r]]=e[n[r]];else{t.staff=[];for(var i=0;i<e.staff.length;i++){for(var a={},s=Object.keys(e.staff[i]),l=0;l<s.length;l++)if(s[l]!=="voices")a[s[l]]=e.staff[i][s[l]];else{a.voices=[];for(var u=0;u<e.staff[i].voices.length;u++)a.voices.push([].concat(e.staff[i].voices[u]))}t.staff.push(a)}}return t}var YG=VG,Ob=dr,Nb=hr,XG=h7,JG=UG,QG=YG,ZG=function(){this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset();function e(s,l,u,c){for(var f=0;f<c.length;f++)s[u][c[f]]=l[u][c[f]]}this.copyTopInfo=function(s){var l=["tempo","title","header","rhythm","origin","composer","author","partOrder"];e(this,s,"metaText",l),e(this,s,"metaTextInfo",l)},this.copyBottomInfo=function(s){var l=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];e(this,s,"metaText",l),e(this,s,"metaTextInfo",l)},this.getBeatLength=function(){var s=this.getMeterFraction(),l=1;return(s.num===6||s.num===9||s.num===12||s.num===3&&s.den===8)&&(l=3),l/s.den};function t(s,l){for(var u=0,c=0;c<s.length;c++)if(s[c].staff)for(var f=0;f<s[c].staff.length;f++)for(var h=0;h<s[c].staff[f].voices.length;h++)for(var p=s[c].staff[f].voices[h],m=1,v=0;v<p.length;v++){var b=p[v].rest&&p[v].rest.type==="spacer";if(p[v].startTriplet&&(m=p[v].tripletMultiplier),p[v].duration&&!b&&p[v].el_type!=="tempo"&&(u+=p[v].duration*m),p[v].endTriplet&&(m=1),u>=l&&(u-=l),p[v].el_type==="bar")return u}return u}this.getPickupLength=function(){var s=this.getBarLength(),l=t(this.lines,s);return l<1e-8||s-l<1e-8?0:l},this.getBarLength=function(){var s=this.getMeterFraction();return s.num/s.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(s){var l;if(s)l=s;else{var u=this.metaText?this.metaText.tempo:null;l=this.getBpm(u)}l<=0&&(l=1);var c=this.getBeatsPerMeasure(),f=c/l;return f*6e4},this.getBeatsPerMeasure=function(){var s=this.getBeatLength(),l=this.getBarLength();return l/s},this.getMeter=function(){for(var s=0;s<this.lines.length;s++){var l=this.lines[s];if(l.staff)for(var u=0;u<l.staff.length;u++){var c=l.staff[u].meter;if(c)return c}}return{type:"common_time"}},this.getMeterFraction=function(){var s=this.getMeter(),l=4,u=4;return s&&(s.type==="specified"?(l=parseInt(s.value[0].num,10),u=parseInt(s.value[0].den,10)):s.type==="cut_time"?(l=2,u=2):s.type==="common_time"&&(l=4,u=4)),this.meter={num:l,den:u},this.meter},this.getKeySignature=function(){for(var s=0;s<this.lines.length;s++){var l=this.lines[s];if(l.staff){for(var u=0;u<l.staff.length;u++)if(l.staff[u].key)return l.staff[u].key}}return{}},this.getElementFromChar=function(s){for(var l=0;l<this.lines.length;l++){var u=this.lines[l];if(u.staff)for(var c=0;c<u.staff.length;c++)for(var f=u.staff[c],h=0;h<f.voices.length;h++)for(var p=f.voices[h],m=0;m<p.length;m++){var v=p[m];if(v.startChar&&v.endChar&&v.startChar<=s&&v.endChar>s)return v}}return null};function n(s){for(var l,u,c,f,h=s.length-1;h>=0;h--){var p=s[h];p.type==="bar"?(p.top=c,p.nextTop=l,l=c,p.bottom=f,p.nextBottom=u,u=f):p.type==="event"&&(c=p.top,f=p.top+p.height)}}function r(s){var l=[];for(var u in s)s.hasOwnProperty(u)&&l.push(s[u]);return l=l.sort(function(c,f){var h=c.milliseconds-f.milliseconds;return h!==0?h:c.type==="bar"?-1:1}),l}this.addElementToEvents=function(s,l,u,c,f,h,p,m,v,b){if(l.hint)return{isTiedState:void 0,duration:0};var w=l.durationClass?l.durationClass:l.duration;if(l.abcelem.rest&&l.abcelem.rest.type==="spacer"&&(w=0),w>0){for(var x=[],C=0;C<l.elemset.length;C++)l.elemset[C]!==null&&x.push(l.elemset[C]);var S=l.startTie;if(v!==void 0)s["event"+v].elements.push(x),b&&(s["event"+u]||(s["event"+u]={type:"event",milliseconds:u,line:h,measureNumber:p,top:c,height:f,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),s["event"+u].measureStart=!0,b=!1),S||(v=void 0);else{if(!s["event"+u])s["event"+u]={type:"event",milliseconds:u,line:h,measureNumber:p,top:c,height:f,left:l.x,width:l.w,elements:[x],startChar:l.abcelem.startChar,endChar:l.abcelem.endChar,startCharArray:[l.abcelem.startChar],endCharArray:[l.abcelem.endChar],midiPitches:l.abcelem.midiPitches?Ob.cloneArray(l.abcelem.midiPitches):[]},l.abcelem.midiGraceNotePitches&&(s["event"+u].midiGraceNotePitches=Ob.cloneArray(l.abcelem.midiGraceNotePitches));else{if(s["event"+u].left?s["event"+u].left=Math.min(s["event"+u].left,l.x):s["event"+u].left=l.x,s["event"+u].elements.push(x),s["event"+u].startCharArray.push(l.abcelem.startChar),s["event"+u].endCharArray.push(l.abcelem.endChar),s["event"+u].startChar===null&&(s["event"+u].startChar=l.abcelem.startChar),s["event"+u].endChar===null&&(s["event"+u].endChar=l.abcelem.endChar),l.abcelem.midiPitches&&l.abcelem.midiPitches.length){s["event"+u].midiPitches||(s["event"+u].midiPitches=[]);for(var C=0;C<l.abcelem.midiPitches.length;C++)s["event"+u].midiPitches.push(l.abcelem.midiPitches[C])}if(l.abcelem.midiGraceNotePitches&&l.abcelem.midiGraceNotePitches.length){s["event"+u].midiGraceNotePitches||(s["event"+u].midiGraceNotePitches=[]);for(var _=0;_<l.abcelem.midiGraceNotePitches.length;_++)s["event"+u].midiGraceNotePitches.push(l.abcelem.midiGraceNotePitches[_])}}b&&(s["event"+u].measureStart=!0,b=!1),S&&(v=u)}}return{isTiedState:v,duration:w/m,nextIsBar:b||l.type==="bar"}},this.makeVoicesArray=function(){for(var s=[],l=[],u={},c=0;c<this.engraver.staffgroups.length;c++){var f=this.engraver.staffgroups[c];if(f&&f.staffs&&f.staffs.length>0){var h=f.staffs[0],p=h.absoluteY,m=p-h.top*Nb.STEP,v=f.staffs[f.staffs.length-1];p=v.absoluteY;for(var b=p-v.bottom*Nb.STEP,w=b-m,x=f.voices,C=0;C<x.length;C++)if(!(x[C].staff&&x[C].staff.isTabStaff)){var S=!1;s[C]||(s[C]=[]),l[C]===void 0&&(l[C]=0);for(var _=x[C].children,M=0;M<_.length;M++)_[M].type==="tempo"&&(u[l[C]]=this.getBpm(_[M].abcelem)),s[C].push({top:m,height:w,line:f.line,measureNumber:l[C],elem:_[M]}),_[M].type==="bar"&&S&&l[C]++,(_[M].type==="note"||_[M].type==="rest")&&(S=!0)}}}return this.tempoLocations=u,s},this.setupEvents=function(s,l,u,c){c||(c=1);for(var f=[],h={},p=s,m,v=!0,b=this.makeVoicesArray(),w=0,x=0;x<b.length;x++){var C=p,S=Math.round(C*1e3),_=0,M=-1,P=b[x],A=u;l=this.getBeatLength()*A/60;for(var k=-1,B=0;B<P.length;B++){var F=P[B].measureNumber;k!==F&&this.tempoLocations[F]&&(A=this.tempoLocations[F],l=c*this.getBeatLength()*A/60,k=F);var U=P[B].elem,R=this.addElementToEvents(h,U,S,P[B].top,P[B].height,P[B].line,P[B].measureNumber,l,m,v);m=R.isTiedState,v=R.nextIsBar,C+=R.duration;var L;if(U.duration>0&&h["event"+S]&&(L="event"+S),S=Math.round(C*1e3),U.type==="bar"){var D=U.abcelem.type,q=D==="bar_right_repeat"||D==="bar_dbl_repeat",N=U.abcelem.startEnding==="1",O=D==="bar_left_repeat"||D==="bar_dbl_repeat"||D==="bar_right_repeat";if(q){B>0&&(h[L].endX=U.x),M===-1&&(M=B);var H=0;k=-1;for(var V=_;V<M;V++){F=P[V].measureNumber,k!==F&&this.tempoLocations[F]&&(A=this.tempoLocations[F],l=c*this.getBeatLength()*A/60,k=F);var ne=P[V].elem;R=this.addElementToEvents(h,ne,S,P[V].top,P[V].height,P[V].line,P[V].measureNumber,l,m,v),m=R.isTiedState,v=R.nextIsBar,C+=R.duration,H=S,S=Math.round(C*1e3)}h["event"+H]&&(h["event"+H].endX=P[M].elem.x),v=!0,M=-1}N&&(M=B),O&&(_=B)}}w=Math.max(w,S)}return f=r(h),n(f),a(this.lines,f),f.push({type:"end",milliseconds:w}),this.addUsefulCallbackInfo(f,A*c),f},this.addUsefulCallbackInfo=function(s,l){for(var u=this.millisecondsPerMeasure(l),c=0;c<s.length;c++){var f=s[c];f.millisecondsPerMeasure=u}};function i(s,l){for(;l<s.length&&s[l].left===null;)l++;return s[l]}function a(s,l){if(!(l.length<1)){for(var u=0;u<l.length-1;u++){var c=l[u],f=i(l,u+1);if(c.left!==null){var h=f&&c.top===f.top?f.left:s[c.line].staffGroup.w;c.endX!==void 0?h>c.left&&(c.endX=Math.min(c.endX,h)):c.endX=h}}var p=l[l.length-1];p.endX=s[p.line].staffGroup.w}}this.getBpm=function(s){var l;if(s){l=s.bpm;var u=this.getBeatLength(),c=s.duration&&s.duration.length>0?s.duration[0]:u;l=l*c/u}if(!l){l=180;var f=this.getMeterFraction();f&&f.num!==3&&f.num%3===0&&(l=120)}return l},this.setTiming=function(s,l){if(l=l||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var u=this.metaText?this.metaText.tempo:null,c=this.getBpm(u),f=1;s?u&&(f=s/c):s=c;var h=this.getBeatLength(),p=s/60,m=this.getBarLength(),v=m/h*l/p;v&&(v-=this.getPickupLength()/h/p);var b=h*p;return this.noteTimings=this.setupEvents(v,b,s,f),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*p):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(s){s||(s={});var l=XG(this,s);return JG(l,s,this.formatting.percmap,this.formatting.midi)},this.deline=function(s){return QG(this.lines,s)}},eK=ZG,tK=Dp,ps=dr,nK=function(e){var t=this;this.setVisualTranspose=function(i){i&&(e.visualTranspose=i)},this.resolveOverlays=function(){for(var i=!1,a=[],s=0;s<e.lines.length;s++){var l=e.lines[s];if(l.staff)for(var u=0;u<l.staff.length;u++){for(var c=l.staff[u],f=[],h=0;h<c.voices.length;h++){var p=c.voices[h];f.push({hasOverlay:!1,voice:[],snip:[]}),a[s]=0;for(var m=0,v=!1,b=-1,w=0;w<p.length;w++){var x=p[w];if(x.el_type==="overlay"&&!v){i=!0,v=!0,b=w,f[h].hasOverlay=!0;for(var C=0;C<s;C++)a[C]&&e.lines[C].staff&&c.voices.length>=e.lines[C].staff[0].voices.length&&e.lines[C].staff[0].voices.push([{el_type:"note",duration:a[C],rest:{type:"invisible"},startChar:x.startChar,endChar:x.endChar}])}else x.el_type==="bar"?(v?(v=!1,f[h].snip.push({start:b,len:w-b}),f[h].voice.push(x)):(m>0&&f[h].voice.push({el_type:"note",duration:m,rest:{type:"invisible"},startChar:x.startChar,endChar:x.endChar}),f[h].voice.push(x)),m=0):x.el_type==="note"?v?f[h].voice.push(x):(m+=x.duration,a[s]+=x.duration):(x.el_type==="scale"||x.el_type==="stem"||x.el_type==="overlay"||x.el_type==="style"||x.el_type==="transpose"||x.el_type==="color")&&f[h].voice.push(x)}f[h].hasOverlay&&f[h].snip.length===0&&f[h].snip.push({start:b,len:p.length-b})}for(h=0;h<f.length;h++){var S=f[h];if(S.hasOverlay){S.voice.splice(0,0,{el_type:"stem",direction:"down"}),c.voices.push(S.voice);for(var _=S.snip.length-1;_>=0;_--){var M=S.snip[_];c.voices[h].splice(M.start,M.len),c.voices[h].splice(M.start+1,0,{el_type:"stem",direction:"auto"});var P=n(c.voices[h],M.start);c.voices[h].splice(P,0,{el_type:"stem",direction:"up"})}for(_=0;_<c.voices[c.voices.length-1].length;_++){c.voices[c.voices.length-1][_]=ps.clone(c.voices[c.voices.length-1][_]);var A=c.voices[c.voices.length-1][_];A.el_type==="bar"&&A.startEnding&&delete A.startEnding,A.el_type==="bar"&&A.endEnding&&delete A.endEnding}}}}}return i};function n(i,a){for(var s=a-1;s>0&&i[s].el_type!=="bar";s--);return s}function r(i){for(var a=!0,s=0;s<i.length;s++){var l=i[s];if(l.staff){for(var u=0;u<l.staff.length;u++){var c=l.staff[u];if(c.title){for(var f=!1,h=0;h<c.title.length;h++)c.title[h]?(c.title[h]=a?c.title[h].name:c.title[h].subname,c.title[h]?f=!0:c.title[h]=""):c.title[h]="";f||delete c.title}}a=!1}}}this.cleanUp=function(i,a,s){this.closeLine(),delete e.runningFonts,e.metaText.tempo&&e.metaText.tempo.bpm&&!e.metaText.tempo.duration&&(e.metaText.tempo.duration=[e.getBeatLength()]);var l=!1,u,c,f;for(u=0;u<e.lines.length;u++)if(e.lines[u].staff!==void 0){var h=!1;for(c=0;c<e.lines[u].staff.length;c++)if(e.lines[u].staff[c]===void 0)l=!0,e.lines[u].staff[c]=null;else for(f=0;f<e.lines[u].staff[c].voices.length;f++)e.lines[u].staff[c].voices[f]===void 0?e.lines[u].staff[c].voices[f]=[]:this.containsNotes(e.lines[u].staff[c].voices[f])&&(h=!0);h||(e.lines[u]=null,l=!0)}if(l&&(e.lines=e.lines.filter(function(M){return!!M}),e.lines.forEach(function(M){M.staff&&(M.staff=M.staff.filter(function(P){return!!P}))})),i)for(;b(e.lines,i););if(a){for(l=!1,u=0;u<e.lines.length;u++)if(e.lines[u].staff!==void 0)for(c=0;c<e.lines[u].staff.length;c++){var p=!1;for(f=0;f<e.lines[u].staff[c].voices.length;f++)this.containsNotesStrict(e.lines[u].staff[c].voices[f])&&(p=!0);p||(l=!0,e.lines[u].staff[c]=null)}l&&e.lines.forEach(function(M){M.staff&&(M.staff=M.staff.filter(function(P){return!!P}))})}for(r(e.lines),u=0;u<e.lines.length;u++)if(e.lines[u].staff)for(c=0;c<e.lines[u].staff.length;c++)delete e.lines[u].staff[c].workingClef;for(;this.resolveOverlays(););function m(M,P,A){s[P]||(s[P]=[]),s[P][A]||(s[P][A]=[]);for(var k,B=function(_e,ae,Ne){if(s[P][A][Ne]===void 0){for(k=0;k<s[P][A].length;k++)if(s[P][A][k]!==void 0){Ne=k;break}if(s[P][A][Ne]===void 0){var He=Ne*100+1;_e.endSlur.forEach(function(Ie){He===Ie&&--He}),s[P][A][Ne]=[He]}}for(var $e,Ce=0;Ce<ae;Ce++)$e=s[P][A][Ne].pop(),_e.endSlur.push($e);return s[P][A][Ne].length===0&&delete s[P][A][Ne],$e},F=function(_e,ae,Ne,He){_e.startSlur=[],s[P][A][Ne]===void 0&&(s[P][A][Ne]=[]);for(var $e=Ne*100+1,Ce=0;Ce<ae;Ce++)He&&(He.forEach(function(Ie){$e===Ie&&++$e}),He.forEach(function(Ie){$e===Ie&&++$e}),He.forEach(function(Ie){$e===Ie&&++$e})),s[P][A][Ne].forEach(function(Ie){$e===Ie&&++$e}),s[P][A][Ne].forEach(function(Ie){$e===Ie&&++$e}),s[P][A][Ne].push($e),_e.startSlur.push({label:$e}),_e.dottedSlur&&(_e.startSlur[_e.startSlur.length-1].style="dotted",delete _e.dottedSlur),$e++},U=0;U<M.length;U++){var R=M[U];if(R.el_type==="note"){if(R.gracenotes)for(var L=0;L<R.gracenotes.length;L++){if(R.gracenotes[L].endSlur){var D=R.gracenotes[L].endSlur;R.gracenotes[L].endSlur=[];for(var q=0;q<D;q++)B(R.gracenotes[L],1,20)}R.gracenotes[L].startSlur&&(k=R.gracenotes[L].startSlur,F(R.gracenotes[L],k,20))}if(R.endSlur&&(k=R.endSlur,R.endSlur=[],B(R,k,0)),R.startSlur&&(k=R.startSlur,F(R,k,0)),R.pitches){for(var N=[],O=0;O<R.pitches.length;O++)if(R.pitches[O].endSlur){var H=R.pitches[O].endSlur;R.pitches[O].endSlur=[];for(var V=0;V<H;V++){var ne=B(R.pitches[O],1,O+1);N.push(ne)}}for(O=0;O<R.pitches.length;O++)R.pitches[O].startSlur&&(k=R.pitches[O].startSlur,F(R.pitches[O],k,O+1,N));R.gracenotes&&R.pitches[0].endSlur&&R.pitches[0].endSlur[0]===100&&R.pitches[0].startSlur&&(R.gracenotes[0].endSlur?R.gracenotes[0].endSlur.push(R.pitches[0].startSlur[0].label):R.gracenotes[0].endSlur=[R.pitches[0].startSlur[0].label],R.pitches[0].endSlur.length===1?delete R.pitches[0].endSlur:R.pitches[0].endSlur[0]===100?R.pitches[0].endSlur.shift():R.pitches[0].endSlur[R.pitches[0].endSlur.length-1]===100&&R.pitches[0].endSlur.pop(),s[P][A][1].length===1?delete s[P][A][1]:s[P][A][1].pop())}}}}function v(M){tK.fixClef(M)}function b(M,P){for(u=0;u<M.length;u++)if(M[u].staff!==void 0)for(c=0;c<M[u].staff.length;c++){var A=[];for(f=0;f<M[u].staff[c].voices.length;f++)for(var k=M[u].staff[c].voices[f],B=0,F=0;F<k.length;F++)if(k[F].el_type==="bar"){if(B++,B>=P&&F<k.length-1){var U=w(M,u);if(!U){var R=JSON.parse(JSON.stringify(M[u]));M.push(ps.clone(R)),U=M[M.length-1];for(var L=0;L<U.staff.length;L++)for(var D=0;D<U.staff[L].voices.length;D++)U.staff[L].voices[D]=[]}var q=F+1,N=M[u].staff[c].voices[f].slice(q);return M[u].staff[c].voices[f]=M[u].staff[c].voices[f].slice(0,q),U.staff[c].voices[f]=A.concat(N.concat(U.staff[c].voices[f])),!0}}else k[F].duration||A.push(k[F])}return!1}function w(M,P){for(P++;M.length>P;){if(M[P].staff)return M[P];P++}return null}for(e.lineNum=0;e.lineNum<e.lines.length;e.lineNum++){var x=e.lines[e.lineNum].staff;if(x)for(e.staffNum=0;e.staffNum<x.length;e.staffNum++)for(x[e.staffNum].clef&&v(x[e.staffNum].clef),e.voiceNum=0;e.voiceNum<x[e.staffNum].voices.length;e.voiceNum++){var C=x[e.staffNum].voices[e.voiceNum];m(C,e.staffNum,e.voiceNum);for(var S=0;S<C.length;S++)C[S].el_type==="clef"&&v(C[S]);if(C.length>0&&C[C.length-1].barNumber){var _=w(e.lines,e.lineNum);_&&(_.staff[0].barNumber=C[C.length-1].barNumber),delete C[C.length-1].barNumber}}}return delete e.staffNum,delete e.voiceNum,delete e.lineNum,delete e.potentialStartBeam,delete e.potentialEndBeam,delete e.vskipPending,s},e.reset(),this.getLastNote=function(){if(e.lines[e.lineNum]&&e.lines[e.lineNum].staff&&e.lines[e.lineNum].staff[e.staffNum]&&e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum])for(var i=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum].length-1;i>=0;i--){var a=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum][i];if(a.el_type==="note")return a}return null},this.addTieToLastNote=function(i){var a=this.getLastNote();return a&&a.pitches&&a.pitches.length>0?(a.pitches[0].startTie={},i&&(a.pitches[0].startTie.style="dotted"),!0):!1},this.getDuration=function(i){return i.duration?i.duration:0},this.closeLine=function(){e.potentialStartBeam&&e.potentialEndBeam&&(e.potentialStartBeam.startBeam=!0,e.potentialEndBeam.endBeam=!0),delete e.potentialStartBeam,delete e.potentialEndBeam},this.appendElement=function(i,a,s,l){var u=e,c=function(m){var v=u.lines[u.lineNum].staff[u.staffNum];if(v){if(m.pitches!==void 0){var b=v.workingClef.verticalPos;m.pitches.forEach(function(x){x.verticalPos=x.pitch-b})}if(m.gracenotes!==void 0){var w=v.workingClef.verticalPos;m.gracenotes.forEach(function(x){x.verticalPos=x.pitch-w})}v.voices[u.voiceNum].push(m)}};l.el_type=i,a!==null&&(l.startChar=a),s!==null&&(l.endChar=s);var f=function(){u.potentialStartBeam.startBeam=!0,l.endBeam=!0,delete u.potentialStartBeam,delete u.potentialEndBeam},h=function(){u.potentialStartBeam!==void 0&&u.potentialEndBeam!==void 0&&(u.potentialStartBeam.startBeam=!0,u.potentialEndBeam.endBeam=!0),delete u.potentialStartBeam,delete u.potentialEndBeam};if(i==="note"){var p=t.getDuration(l);p>=.25||l.force_end_beam_last&&u.potentialStartBeam!==void 0?h():l.end_beam&&u.potentialStartBeam!==void 0?l.rest===void 0?f():h():l.rest===void 0&&(u.potentialStartBeam===void 0?l.end_beam||(u.potentialStartBeam=l,delete u.potentialEndBeam):u.potentialEndBeam=l)}else h();delete l.end_beam,delete l.force_end_beam_last,c(l)},this.appendStartingElement=function(i,a,s,l){this.closeLine();var u;i==="key"&&(u=l.impliedNaturals,delete l.impliedNaturals,delete l.explicitAccidentals);var c=ps.clone(l);if(e.lines[e.lineNum]&&e.lines[e.lineNum].staff){e.lines[e.lineNum].staff.length<=e.staffNum&&(e.lines[e.lineNum].staff[e.staffNum]={},e.lines[e.lineNum].staff[e.staffNum].clef=ps.clone(e.lines[e.lineNum].staff[0].clef),e.lines[e.lineNum].staff[e.staffNum].key=ps.clone(e.lines[e.lineNum].staff[0].key),e.lines[e.lineNum].staff[0].meter&&(e.lines[e.lineNum].staff[e.staffNum].meter=ps.clone(e.lines[e.lineNum].staff[0].meter)),e.lines[e.lineNum].staff[e.staffNum].workingClef=ps.clone(e.lines[e.lineNum].staff[0].workingClef),e.lines[e.lineNum].staff[e.staffNum].voices=[[]]),i==="clef"&&(e.lines[e.lineNum].staff[e.staffNum].workingClef=c);for(var f=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum],h=0;h<f.length;h++){if(f[h].el_type==="note"||f[h].el_type==="bar"){c.el_type=i,c.startChar=a,c.endChar=s,u&&(c.accidentals=u.concat(c.accidentals)),f.push(c);return}if(f[h].el_type===i){c.el_type=i,c.startChar=a,c.endChar=s,u&&(c.accidentals=u.concat(c.accidentals)),f[h]=c;return}}e.lines[e.lineNum].staff[e.staffNum][i]=l}},this.pushLine=function(i){e.vskipPending&&(i.vskip=e.vskipPending,delete e.vskipPending),e.lines.push(i)},this.addSubtitle=function(i,a){this.pushLine({subtitle:{text:i,startChar:a.startChar,endChar:a.endChar}})},this.addSpacing=function(i){e.vskipPending=i},this.addNewPage=function(i){this.pushLine({newpage:i})},this.addSeparator=function(i,a,s,l){this.pushLine({separator:{spaceAbove:Math.round(i),spaceBelow:Math.round(a),lineLength:Math.round(s),startChar:l.startChar,endChar:l.endChar}})},this.addText=function(i,a){this.pushLine({text:{text:i,startChar:a.startChar,endChar:a.endChar}})},this.addCentered=function(i){this.pushLine({text:[{text:i,center:!0}]})},this.containsNotes=function(i){for(var a=0;a<i.length;a++)if(i[a].el_type==="note"||i[a].el_type==="bar")return!0;return!1},this.containsNotesStrict=function(i){for(var a=0;a<i.length;a++)if(i[a].el_type==="note"&&(i[a].rest===void 0||i[a].chord!==void 0))return!0;return!1},this.changeVoiceScale=function(i){t.appendElement("scale",null,null,{size:i})},this.changeVoiceColor=function(i){t.appendElement("color",null,null,{color:i})},this.startNewLine=function(i){var a=e;this.closeLine();var s=function(c){var f=a.lines[a.lineNum].staff[a.staffNum];if(f.voices[a.voiceNum]=[],f.title||(f.title=[]),f.title[a.voiceNum]={name:c.name,subname:c.subname},c.style&&t.appendElement("style",null,null,{head:c.style}),c.stem)t.appendElement("stem",null,null,{direction:c.stem});else if(a.voiceNum>0){if(f.voices[0]!==void 0){for(var h=!1,p=0;p<f.voices[0].length;p++)f.voices[0].el_type==="stem"&&(h=!0);if(!h){var m={el_type:"stem",direction:"up"};f.voices[0].splice(0,0,m)}}t.appendElement("stem",null,null,{direction:"down"})}c.scale&&t.appendElement("scale",null,null,{size:c.scale}),c.color&&t.appendElement("color",null,null,{color:c.color})},l=function(c){c.key&&c.key.impliedNaturals&&(c.key.accidentals=c.key.accidentals.concat(c.key.impliedNaturals),delete c.key.impliedNaturals),a.lines[a.lineNum].staff[a.staffNum]={voices:[],clef:c.clef,key:c.key,workingClef:c.clef},c.stafflines!==void 0&&(a.lines[a.lineNum].staff[a.staffNum].clef.stafflines=c.stafflines,a.lines[a.lineNum].staff[a.staffNum].workingClef.stafflines=c.stafflines),c.staffscale&&(a.lines[a.lineNum].staff[a.staffNum].staffscale=c.staffscale),c.annotationfont&&t.setLineFont("annotationfont",c.annotationfont),c.gchordfont&&t.setLineFont("gchordfont",c.gchordfont),c.tripletfont&&t.setLineFont("tripletfont",c.tripletfont),c.vocalfont&&t.setLineFont("vocalfont",c.vocalfont),c.bracket&&(a.lines[a.lineNum].staff[a.staffNum].bracket=c.bracket),c.brace&&(a.lines[a.lineNum].staff[a.staffNum].brace=c.brace),c.connectBarLines&&(a.lines[a.lineNum].staff[a.staffNum].connectBarLines=c.connectBarLines),c.barNumber&&(a.lines[a.lineNum].staff[a.staffNum].barNumber=c.barNumber),s(c),c.part&&t.appendElement("part",c.part.startChar,c.part.endChar,{title:c.part.title}),c.meter!==void 0&&(a.lines[a.lineNum].staff[a.staffNum].meter=c.meter),a.vskipPending&&(a.lines[a.lineNum].vskip=a.vskipPending,delete a.vskipPending)},u=function(c){a.lines[a.lineNum]={staff:[]},l(c)};e.lines[e.lineNum]===void 0?u(i):e.lines[e.lineNum].staff===void 0?(e.lineNum++,this.startNewLine(i)):e.lines[e.lineNum].staff[e.staffNum]===void 0?l(i):e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum]===void 0?s(i):this.containsNotes(e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum])?(e.lineNum++,this.startNewLine(i)):i.part&&t.appendElement("part",i.part.startChar,i.part.endChar,{title:i.part.title})},this.setRunningFont=function(i,a){e.runningFonts[i]=a},this.setLineFont=function(i,a){if(e.runningFonts[i]){for(var s=!1,l=Object.keys(a),u=0;u<l.length;u++)e.runningFonts[i][l[u]]!==a[l[u]]&&(s=!0);s&&(e.lines[e.lineNum].staff[e.staffNum][i]=a)}e.runningFonts[i]=a},this.setBarNumberImmediate=function(i){var a=this.getCurrentVoice();if(a&&a.length>0){var s=a[a.length-1];if(s.el_type==="bar")s.barNumber!==void 0&&(s.barNumber=i);else return i-1}return i},this.hasBeginMusic=function(){for(var i=0;i<e.lines.length;i++)if(e.lines[i].staff)return!0;return!1},this.isFirstLine=function(i){for(var a=i-1;a>=0;a--)if(e.lines[a].staff!==void 0)return!1;return!0},this.getCurrentVoice=function(){var i=e.lines[e.lineNum];if(!i)return null;var a=i.staff[e.staffNum];return a&&a.voices[e.voiceNum]!==void 0?a.voices[e.voiceNum]:null},this.setCurrentVoice=function(i,a){e.staffNum=i,e.voiceNum=a;for(var s=0;s<e.lines.length;s++)if(e.lines[s].staff&&(e.lines[s].staff[i]===void 0||e.lines[s].staff[i].voices[a]===void 0||!this.containsNotes(e.lines[s].staff[i].voices[a]))){e.lineNum=s;return}e.lineNum=s},this.addMetaText=function(i,a,s){e.metaText[i]===void 0?(e.metaText[i]=a,e.metaTextInfo[i]=s):(e.metaText[i]+=`
`+a,e.metaTextInfo[i].endChar=s.endChar)},this.addMetaTextArray=function(i,a,s){e.metaText[i]===void 0?(e.metaText[i]=[a],e.metaTextInfo[i]=s):(e.metaText[i].push(a),e.metaTextInfo[i].endChar=s.endChar)},this.addMetaTextObj=function(i,a,s){e.metaText[i]=a,e.metaTextInfo[i]=s}},rK=nK,Ki=dr,Ib=Fp,iK=bG,aK=AG,sK=kG,oK=f7,lK=eK,cK=rK,uK=function(){var e=new lK,t=new cK(e),n,r="",i="";this.getTune=function(){var _={formatting:e.formatting,lines:e.lines,media:e.media,metaText:e.metaText,metaTextInfo:e.metaTextInfo,version:e.version,addElementToEvents:e.addElementToEvents,addUsefulCallbackInfo:e.addUsefulCallbackInfo,getTotalTime:e.getTotalTime,getTotalBeats:e.getTotalBeats,getBarLength:e.getBarLength,getBeatLength:e.getBeatLength,getBeatsPerMeasure:e.getBeatsPerMeasure,getBpm:e.getBpm,getMeter:e.getMeter,getMeterFraction:e.getMeterFraction,getPickupLength:e.getPickupLength,getKeySignature:e.getKeySignature,getElementFromChar:e.getElementFromChar,makeVoicesArray:e.makeVoicesArray,millisecondsPerMeasure:e.millisecondsPerMeasure,setupEvents:e.setupEvents,setTiming:e.setTiming,setUpAudio:e.setUpAudio,deline:e.deline};return e.lineBreaks&&(_.lineBreaks=e.lineBreaks),e.visualTranspose&&(_.visualTranspose=e.visualTranspose),_};function a(_,M,P){_.positioning||(_.positioning={}),_.positioning[M]=P}function s(_,M,P){_.fonts||(_.fonts={}),_.fonts[M]=P}var l={reset:function(){for(var _ in this)this.hasOwnProperty(_)&&typeof this[_]!="function"&&delete this[_];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(_,M){return this[_].decoration!==M[_].decoration||this[_].face!==M[_].face||this[_].size!==M[_].size||this[_].style!==M[_].style||this[_].weight!==M[_].weight},addFormattingOptions:function(_,M,P){P==="note"?(this.vocalPosition!=="auto"&&a(_,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&a(_,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&a(_,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&a(_,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&a(_,"volumePosition",this.volumePosition),this.differentFont("annotationfont",M)&&s(_,"annotationfont",this.annotationfont),this.differentFont("gchordfont",M)&&s(_,"gchordfont",this.gchordfont),this.differentFont("vocalfont",M)&&s(_,"vocalfont",this.vocalfont),this.differentFont("tripletfont",M)&&s(_,"tripletfont",this.tripletfont)):P==="bar"&&(this.dynamicPosition!=="auto"&&a(_,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&a(_,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&a(_,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&a(_,"volumePosition",this.volumePosition),this.differentFont("measurefont",M)&&s(_,"measurefont",this.measurefont),this.differentFont("repeatfont",M)&&s(_,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var _=0;_<this.inTie.length;_++)if(this.endingHoldOver.inTie.push([]),this.inTie[_])for(var M=0;M<this.inTie[_].length;M++)this.endingHoldOver.inTie[_].push(this.inTie[_][M]);for(var P in this.inTieChord)this.inTieChord.hasOwnProperty(P)&&(this.endingHoldOver.inTieChord[P]=this.inTieChord[P])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var _=0;_<this.endingHoldOver.inTie.length;_++){this.inTie.push([]);for(var M=0;M<this.endingHoldOver.inTie[_].length;M++)this.inTie[_].push(this.endingHoldOver.inTie[_][M])}for(var P in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(P)&&(this.inTieChord[P]=this.endingHoldOver.inTieChord[P])}}},u=function(_){l.warnings||(l.warnings=[]),l.warnings.push(_)},c=function(_){l.warningObjects||(l.warningObjects=[]),l.warningObjects.push(_)},f=function(_){var M=_.replace(/\x12/g," ");return M=M.replace(/&/g,"&amp;"),M=M.replace(/</g,"&lt;"),M.replace(/>/g,"&gt;")},h=function(_,M,P){M||(M=" ");var A=M[P];(A===" "||!A)&&(A="SPACE");var k=f(M.substring(P-64,P))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+A+"</span>"+f(M.substring(P+1).substring(0,64));u("Music Line:"+n.lineIndex+":"+(P+1)+": "+_+":  "+k),c({message:_,line:M,startChar:l.iChar+P,column:P})},p,m;this.getWarnings=function(){return l.warnings},this.getWarningObjects=function(){return l.warningObjects};var v=function(_,M){if(M.indexOf("")>=0){r+=M;return}if(M=r+M,r="",!_){h("Can't add words before the first line of music",_,0);return}M=Ki.strip(M),M[M.length-1]!=="-"&&(M=M+" ");for(var P=[],A=0,k=!1,B=function(L){var D=Ki.strip(M.substring(A,L));if(D=D.replace(/\\([-_*|~])/g,"$1"),A=L+1,D.length>0){k&&(D=D.replace(/~/g," "));var q=M[L];return q!=="_"&&q!=="-"&&(q=" "),P.push({syllable:n.translateString(D),divider:q}),k=!1,!0}return!1},F=!1,U=0;U<M.length;U++){switch(M[U]){case" ":case"":B(U);break;case"-":!F&&!B(U)&&P.length>0&&(Ki.last(P).divider="-",P.push({skip:!0,to:"next"}));break;case"_":F||(B(U),P.push({skip:!0,to:"slur"}));break;case"*":F||(B(U),P.push({skip:!0,to:"next"}));break;case"|":F||(B(U),P.push({skip:!0,to:"bar"}));break;case"~":F||(k=!0);break}F=M[U]==="\\"}var R=!1;_.forEach(function(L){if(P.length!==0){if(P[0].skip){switch(P[0].to){case"next":L.el_type==="note"&&L.pitches!==null&&!R&&P.shift();break;case"slur":L.el_type==="note"&&L.pitches!==null&&P.shift();break;case"bar":L.el_type==="bar"&&P.shift();break}L.el_type!=="bar"&&(L.lyric===void 0?L.lyric=[{syllable:"",divider:" "}]:L.lyric.push({syllable:"",divider:" "}))}else if(L.el_type==="note"&&L.rest===void 0&&!R){var D=P.shift();D.syllable&&(D.syllable=D.syllable.replace(/ +/g," ")),L.lyric===void 0?L.lyric=[D]:L.lyric.push(D)}}})},b=function(_,M){if(M.indexOf("")>=0){i+=M;return}if(M=i+M,i="",!_){h("Can't add symbols before the first line of music",_,0);return}M=Ki.strip(M),M[M.length-1]!=="-"&&(M=M+" ");for(var P=[],A=0,k=!1,B=function(R){var L=Ki.strip(M.substring(A,R));if(A=R+1,L.length>0){k&&(L=L.replace(/~/g," "));var D=M[R];return D!=="_"&&D!=="-"&&(D=" "),P.push({syllable:n.translateString(L),divider:D}),k=!1,!0}return!1},F=0;F<M.length;F++)switch(M[F]){case" ":case"":B(F);break;case"-":!B(F)&&P.length>0&&(Ki.last(P).divider="-",P.push({skip:!0,to:"next"}));break;case"_":B(F),P.push({skip:!0,to:"slur"});break;case"*":B(F),P.push({skip:!0,to:"next"});break;case"|":B(F),P.push({skip:!0,to:"bar"});break;case"~":k=!0;break}var U=!1;_.forEach(function(R){if(P.length!==0){if(P[0].skip)switch(P[0].to){case"next":R.el_type==="note"&&R.pitches!==null&&!U&&P.shift();break;case"slur":R.el_type==="note"&&R.pitches!==null&&P.shift();break;case"bar":R.el_type==="bar"&&P.shift();break}else if(R.el_type==="note"&&R.rest===void 0&&!U){var L=P.shift();R.lyric===void 0?R.lyric=[L]:R.lyric.push(L)}}})},w=function(_){if(Ki.startsWith(_,"%%")){var M=Ib.addDirective(_.substring(2));M&&h(M,_,2);return}var P=_.indexOf("%");if(P>=0&&(_=_.substring(0,P)),_=_.replace(/\s+$/,""),_.length!==0){if(r){v(t.getCurrentVoice(),_.substring(2));return}if(i){b(t.getCurrentVoice(),_.substring(2));return}if(_.length<2||_[1]!==":"||m.lineContinuation){m.parseMusic(_);return}var A=p.parseHeader(_);A.regular&&m.parseMusic(_),A.newline&&m.startNewLine(),A.words&&v(t.getCurrentVoice(),_.substring(2)),A.symbols&&b(t.getCurrentVoice(),_.substring(2))}};function x(_,M){_.push({el_type:"hint"});for(var P=0;P<M.length;P++){var A=M[P],k=Ki.clone(A);if(_.push(k),A.el_type==="bar")return}}function C(_,M){for(var P=0;P<_.length;P++){var A=_[P],k=M[P];if(k)for(var B=0;B<k.voices.length;B++){var F=k.voices[B],U=A.voices[B];U&&x(U,F)}}}function S(){for(var _=0;_<e.lines.length;_++){var M=e.lines[_].staff;if(M){for(var P=_+1;P<e.lines.length&&e.lines[P].staff===void 0;)P++;if(P<e.lines.length){var A=e.lines[P].staff;C(M,A)}}}}this.parse=function(_,M,P){M||(M={}),P||(P=0),e.reset(),_=_.replace(/\r\n?/g,`
`)+`
`;var A=_.split(`
\\`);if(A.length>1){for(var k=1;k<A.length;k++)for(;A[k].length>0&&A[k][0]!==`
`;)A[k]=A[k].substr(1),A[k-1]+=" ";_=A.join("  ")}_=_.replace(/\\([ \t]*)(%.*)*\n/g,function(q,N,O){var H=O?Array(O.length+1).join(" "):"";return N+""+H+`
`});var B=_.split(`
`);Ki.last(B).length===0&&B.pop(),n=new sK(B,l),p=new iK(n,h,l,e,t),m=new aK(n,h,l,e,t,p),M.print&&(e.media="print"),l.reset(),l.iChar=P,M.visualTranspose?(l.globalTranspose=parseInt(M.visualTranspose),l.globalTranspose===0?l.globalTranspose=void 0:t.setVisualTranspose(M.visualTranspose)):l.globalTranspose=void 0,M.lineBreaks&&(l.lineBreaks=M.lineBreaks),p.reset(n,h,l,e);try{M.format&&Ib.globalFormatting(M.format);for(var F=n.nextLine();F;){if(M.header_only&&l.is_in_header===!1||M.stop_on_warning&&l.warnings)throw"normal_abort";var U=l.is_in_header;w(F),U&&!l.is_in_header&&(t.setRunningFont("annotationfont",l.annotationfont),t.setRunningFont("gchordfont",l.gchordfont),t.setRunningFont("tripletfont",l.tripletfont),t.setRunningFont("vocalfont",l.vocalfont)),F=n.nextLine()}r&&v(t.getCurrentVoice(),""),i&&b(t.getCurrentVoice(),""),l.openSlurs=t.cleanUp(l.barsperstaff,l.staffnonote,l.openSlurs)}catch(q){if(q!=="normal_abort")throw q}var R=11*72,L=8.5*72;switch(l.papersize){case"legal":R=14*72,L=8.5*72;break;case"A4":R=11.7*72,L=8.3*72;break}if(l.landscape){var D=R;R=L,L=D}e.formatting.pagewidth||(e.formatting.pagewidth=L),e.formatting.pageheight||(e.formatting.pageheight=R),M.hint_measures&&S(),oK.wrapLines(e,l.lineBreaks,l.barNumbers)}},v7=uK,A0=dr,fK=function(e){var t="",n=e.match(/(\s*)/);e=A0.strip(e);for(var r=e.split(`
X:`),i=1;i<r.length;i++)r[i]="X:"+r[i];var a=n?n[0].length:0,s=[];if(r.forEach(function(f){s.push({abc:f,startPos:a}),a+=f.length+1}),s.length>1&&!A0.startsWith(s[0].abc,"X:")){var l=s.shift(),u=l.abc.split(`
`);u.forEach(function(f){A0.startsWith(f,"%%")&&(t+=f+`
`)})}var c=t;return s.forEach(function(f){var h=f.abc.indexOf(`

`);h>0&&(f.abc=f.abc.substring(0,h)),f.pure=f.abc,f.abc=t+f.abc,f.title="";var p=f.pure.split("T:");p.length>1&&(p=p[1].split(`
`),f.title=A0.strip(p[0]));var m=f.pure.substring(2,f.pure.indexOf(`
`));f.id=A0.strip(m)}),{header:c,tunes:s}},dK=fK;function Up(e,t){this.numLines=e,this.lineSpace=t,this.verticalSize=this.numLines*this.lineSpace;var n=3;this.bar={pitch:n,pitch2:t*e,height:5}}Up.prototype.bypass=function(e){var t=e.staffGroup.voices;return!!(t.length>0&&t[0].isPercussion)};Up.prototype.setRelative=function(e,t,n){switch(e.type){case"bar":t.pitch=this.bar.pitch,t.pitch2=this.bar.pitch2,t.height=this.height;break;case"symbol":var r=this.bar.pitch2/2;if(e.name=="dots.dot")return n?(t.pitch=r,!1):(t.pitch=r+this.lineSpace,!0);break}return n};var m7=Up;function b7(e,t,n){this.tune=e,this.params=n,this.tuneNumber=t,this.inError=!1}b7.prototype.setError=function(e){var t=this.tune;e&&(this.error=e,this.inError=!0,t.warnings?t.warnings.push(e):t.warnings=[e])};var y7=b7,Ya=function(t,n){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=t,this.voicetotal=n,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};Ya.prototype.addChild=function(e){if(e.type==="bar"){for(var t=!0,n=0;t&&n<this.children.length;n++)this.children[n].type.indexOf("staff-extra")<0&&this.children[n].type!=="tempo"&&(t=!1);t||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=e,this.setRange(e)};Ya.prototype.setLimit=function(e,t){var n=t.specialY;n||(n=t),n[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],n[e]):this.specialY[e]=n[e])};Ya.prototype.adjustRange=function(e){e.bottom!==void 0&&(this.bottom=Math.min(this.bottom,e.bottom)),e.top!==void 0&&(this.top=Math.max(this.top,e.top))};Ya.prototype.setRange=function(e){this.adjustRange(e),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};Ya.prototype.addOther=function(e){this.otherchildren.push(e),this.setRange(e)};Ya.prototype.addBeam=function(e){this.beams.push(e)};Ya.prototype.setWidth=function(e){this.w=e};var w7=Ya,hK=function(e,t,n,r){if(e)for(var i=0;i<e.length;i++){var a=e[i],s=a.getAttribute("highlight");s||(s="fill"),a.setAttribute(s,r);var l=a.getAttribute("class");l||(l=""),l=l.replace(n,""),l=l.replace(t,""),t.length>0&&(l.length>0&&l[l.length-1]!==" "&&(l+=" "),l+=t),a.setAttribute("class",l)}},Vp=hK,pK=Vp,gK=function(e,t){e===void 0&&(e="abcjs-note_selected"),t===void 0&&(t="#ff0000"),pK(this.elemset,e,"",t)},_7=gK,vK=Vp,mK=function(e,t){e===void 0&&(e="abcjs-note_selected"),t===void 0&&(t="#000000"),vK(this.elemset,"",e,t)},x7=mK,bK=_7,yK=x7,$n=function(t,n,r,i,a,s){s||(s={}),this.tuneNumber=a,this.abcelem=t,this.duration=n,this.durationClass=s.durationClassOveride?s.durationClassOveride:this.duration,this.minspacing=r||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=i,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};$n.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}};$n.prototype.addExtra=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),this.fixed.t===void 0?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top),this.fixed.b===void 0?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom),e.dx<this.extraw&&(this.extraw=e.dx),this.extra[this.extra.length]=e,this._addChild(e)};$n.prototype.addHead=function(e){e.dx<this.extraw&&(this.extraw=e.dx),this.heads[this.heads.length]=e,this.addRight(e)};$n.prototype.addRight=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),e.top!==void 0&&(this.fixed.t===void 0?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top)),e.bottom!==void 0&&(this.fixed.b===void 0?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom)),e.dx+e.w>this.w&&(this.w=e.dx+e.w),this.right[this.right.length]=e,this._addChild(e)};$n.prototype.addFixed=function(e){this._addChild(e)};$n.prototype.addFixedX=function(e){this._addChild(e)};$n.prototype.addCentered=function(e){var t=e.w/2;-t<this.extraw&&(this.extraw=-t),this.extra[this.extra.length]=e,e.dx+t>this.w&&(this.w=e.dx+t),this.right[this.right.length]=e,this._addChild(e)};$n.prototype.setLimit=function(e,t){t[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],t[e]):this.specialY[e]=t[e])};$n.prototype._addChild=function(e){e.parent=this,this.children[this.children.length]=e,this.pushTop(e.top),this.pushBottom(e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};$n.prototype.pushTop=function(e){e!==void 0&&(this.top===void 0?this.top=e:this.top=Math.max(e,this.top))};$n.prototype.pushBottom=function(e){e!==void 0&&(this.bottom===void 0?this.bottom=e:this.bottom=Math.min(e,this.bottom))};$n.prototype.setX=function(e){this.x=e;for(var t=0;t<this.children.length;t++)this.children[t].setX(e)};$n.prototype.center=function(e,t){var n=(t.x-e.x)/2+e.x;this.x=n-this.w/2;for(var r=0;r<this.children.length;r++)this.children[r].setX(this.x)};$n.prototype.setHint=function(){this.hint=!0};$n.prototype.highlight=function(e,t){bK.bind(this)(e,t)};$n.prototype.unhighlight=function(e,t){yK.bind(this)(e,t)};var Zo=$n,e0=function(t,n,r,i,a){switch(a=a||{},this.x=0,this.c=t,this.dx=n,this.w=r,this.pitch=i,this.scalex=a.scalex||1,this.scaley=a.scaley||1,this.type=a.type||"symbol",this.pitch2=a.pitch2,this.linewidth=a.linewidth,this.klass=a.klass,this.anchor=a.anchor?a.anchor:"middle",this.top=i,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=i,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),a.thickness&&(this.top+=a.thickness/2,this.bottom-=a.thickness/2),a.stemHeight&&(a.stemHeight>0?this.top+=a.stemHeight:this.bottom+=a.stemHeight),a.dim&&(this.dim=a.dim),a.position&&(this.position=a.position),this.height=a.height?a.height:4,a.top&&(this.top=a.top),a.bottom&&(this.bottom=a.bottom),a.name?this.name=a.name:this.c?this.name=this.c:this.name=this.type,a.realWidth?this.realWidth=a.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":a.position&&a.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":a.position&&a.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?a.position&&a.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};e0.prototype.getChordDim=function(){if(this.type==="debug"||!this.chordHeightAbove&&!this.chordHeightBelow)return null;var e=0,t=this.type==="chord"?this.realWidth/2:0,n=this.x-t-e,r=n+this.realWidth+e;return{left:n,right:r}};e0.prototype.invertLane=function(e){this.lane===void 0&&(this.lane=0),this.lane=e-this.lane-1};e0.prototype.putChordInLane=function(e){this.lane=e,this.chordHeightAbove?this.chordHeightAbove=this.height*1.25*this.lane:this.chordHeightBelow=this.height*1.25*this.lane};e0.prototype.getLane=function(){return this.lane===void 0?0:this.lane};e0.prototype.setX=function(e){this.x=e+this.dx};var Li=e0,M7=Zo,qp=Li;function wK(e){return e!=null&&e.constructor===Object}function i1(e,t){for(var n in t)t.hasOwnProperty(n)&&(Array.isArray(t[n])||wK(t[n])||(e[n]=t[n]))}function C7(e){var t=new M7("",0,0,"",0);return i1(t,e),t.top=0,t.bottom=-1,e.abcelem&&(t.abcelem={},i1(t.abcelem,e.abcelem),t.abcelem.el_type==="note"&&(t.abcelem.el_type="tabNumber")),e.cloned=t,t}function _K(e,t){var n=C7(e);if(t)for(var r=e.children,i=!0,a=0;a<r.length;a++){var s=r[a],l=new qp("",0,0,0,"");i1(l,s),i=t.tablature.setRelative(s,l,i),n.children.push(l)}return n}function xK(e,t,n){var r="tab.tiny",i=7.5;e.isTabBig&&(r="tab.big",i=10);var a={el_type:"tab",icon:r,Ypos:i},s=new M7(a,0,0,"symbol",0);s.x=t;var l=new qp(r,0,0,7.5,"tab");return l.x=n,s.children.push(l),s.abcelem.el_type=="tab"&&(l.pitch=i),s}function MK(e){if(e.extra)for(var t=0;t<e.extra.length;t++){var n=e.extra[t];if(n.type=="lyric")return{bottom:n.bottom,height:n.height}}return null}function P7(){this.accidentals=null}function CK(e){for(var t=0,n=0;n<e.length;n++)e[n].tabNameInfos||t++;return t}function a1(e,t,n,r,i){var a=r.num;r.note.quarter!=null&&(a=a.toString(),a+=r.note.quarter);var s=e.semantics.stringToPitch(r.str);n.notes.push({num:a,str:r.str,pitch:r.note.emit()});var l={type:"tabNumber"},u=new qp(a,0,0,s+.3,l);return u.x=t,u.isGrace=i,u.isAltered=r.note.isAltered,u}function S7(e,t){var n=0;if(e.extra){for(var r=0;r<e.extra.length;r++)if(e.extra[r].c.indexOf("noteheads")>=0){if(n===t)return e.extra[r].x+e.extra[r].w/2;n++}}return-1}function PK(e){if(e.abcelem){var t=e.abcelem;if(t.rest)return t.gracenotes}return null}function Lb(e,t,n){var r=e.semantics.notesToNumber(t,n);if(r.error)return e._super.setError(r.error),r;if(r.graces&&r.notes){var i=r.notes.length-1;r.notes[i].graces=r.graces}return r}function SK(e,t,n,r,i){for(var a=0;a<r.length;a++){var s={el_type:"note",startChar:n.abcelem.startChar,endChar:n.abcelem.endChar,notes:[],grace:!0},l=S7(n,a),u=r[a],c=a1(e,l,s,u,!0);t.children.push(c),i.push(s)}}P7.prototype.build=function(e,t,n,r,i,a){var s=CK(t),l=t[i+r],u=t[s+i+r],c=null,f=null;l.children[0].abcelem.el_type!="clef"&&a!="none"&&l.children.splice(0,0,a);for(var h=0;h<l.children.length;h++){var p=l.children[h],m=p.x,v=m;switch(p.isClef&&(u.children.push(xK(e,m,v)),p.abcelem.type.indexOf("-8")>=0&&(e.semantics.strings.clefTranspose=-12),p.abcelem.type.indexOf("+8")>=0&&(e.semantics.strings.clefTranspose=12)),p.type){case"staff-extra key-signature":this.accidentals=p.abcelem.accidentals,e.semantics.strings.accidentals=this.accidentals;break;case"bar":e.semantics.strings.measureAccidentals={};var b=!1;h===l.children.length-1&&(b=!0);var w=_K(p,e);if(w.abcelem.barNumber){delete w.abcelem.barNumber;for(var x=0;x<w.children.length;x++)if(w.children[x].type==="barNumber"){w.children.splice(x,1);break}}w.abcelem.lastBar=b,u.children.push(w),n.push({el_type:p.abcelem.el_type,type:p.abcelem.type,endChar:p.abcelem.endChar,startChar:p.abcelem.startChar,abselem:w});break;case"rest":var C=PK(p);if(C){if(c=Lb(e,null,C),c.error)return;F={el_type:"note",startChar:p.abcelem.startChar,endChar:p.abcelem.endChar,notes:[],grace:!0},SK(e,S,p,c.graces,n)}break;case"note":var S=C7(p);S.x=p.heads[0].x+p.heads[0].w/2,S.lyricDim=MK(p);var _=p.abcelem.pitches,M=p.abcelem.gracenotes;if(S.type="tabNumber",c=Lb(e,_,M),c.error)return;if(c.graces){var P=c.notes.length-1;c.notes[P].graces=c.graces}f={el_type:"note",startChar:p.abcelem.startChar,endChar:p.abcelem.endChar,notes:[]};for(var A=0;A<c.notes.length;A++){var k=c.notes[A];if(k.graces)for(var B=0;B<k.graces.length;B++){var F={el_type:"note",startChar:p.abcelem.startChar,endChar:p.abcelem.endChar,notes:[],grace:!0},U=S7(p,B),R=k.graces[B],L=a1(e,U,F,R,!0);S.children.push(L),n.push(F)}var D=a1(e,S.x+p.heads[A].dx,f,k,!1);S.children.push(D)}f.notes.length>0&&(f.abselem=S,n.push(f),u.children.push(S));break}}};var TK=P7,EK=w7,AK=TK,$b=hr;function kK(){return{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}}function OK(e){for(var t=0,n=0;n<e.children.length;n++){var r=e.children[n];r.specialY&&r.specialY.lyricHeightBelow>t&&(t=r.specialY.lyricHeightBelow)}return t}function NK(e,t){var n=e.plugin.semantics.strings,r=e.renderer.controller,i=r.getTextSize,a=n.tabInfos(e.plugin),s=i.calc(a,"tablabelfont","text instrumentname");return t.tabNameInfos={textSize:s,name:a},s.height}function T7(e,t,n,r){this.renderer=t,this.plugin=e,this.line=n,this.absolutes=new AK,this.staffIndex=r,this.tabStaff={clef:{type:"TAB"}},this.tabSize=e.linePitch*e.nbLines}function IK(e,t){return t[e].isTabStaff?e===t.length-1?!0:!t[e+1].isTabStaff:!1}function LK(e){for(var t=0,n=0;n<e.length;n++)e[n].isTabStaff||t++;return t}function $K(e,t){for(var n=t;n>=0;n--)if(!e[n].isTabStaff)return n;return-1}function BK(e){for(var t=0;t<e.length;t++)if(e[t].isTabStaff){var n=$K(e,t);e[t].hasStaff=e[n],e[n].hasTab||(e[n].hasTab=[]),e[n].hasTab.push(e[t])}}function RK(e,t){return LK(e)===1&&t.voices.length>1}function FK(e,t){for(var n=e.staffIndex,r=0,i=0,a=!0,s=0;a;){if(!t[r])return-1;if(t[r].isTabStaff||(s=t[r].voices.length),t[r].isTabStaff){if(i++,IK(r,t)&&i<s)return r+1}else if(i=0,r>=n&&(r+1==t.length||!t[r+1].isTabStaff))return r+1;if(r++,r>t.length)return-1}}function HK(e,t){for(var n=t;n>=0;n--)if(!e[n].isTabStaff)return e[n];return null}function DK(e,t){var n=e[t],r=n.children[0].abcelem;return r.el_type==="clef"?null:t==0?"none":e[t-1].children[0]}T7.prototype.doLayout=function(){var e=this.line.staff;if(e){var t=e[0];if(t&&t.clef&&t.clef.stafflines==0){this.plugin._super.setError("No tablatures when stafflines=0");return}e.splice(e.length,0,this.tabStaff)}var n=this.line.staffGroup,r=n.voices,i=r[0],a=OK(i),s=3,l=this.staffIndex,u=n.staffs[l],c=this.tabSize+s-u.bottom-a;u.isTabStaff&&(c=u.top);var f={bottom:-1,isTabStaff:!0,specialY:kK(),lines:this.plugin.nbLines,linePitch:this.plugin.linePitch,dy:.15,top:c},h=FK(this,n.staffs);if(h!==-1){f.parentIndex=h-1,n.staffs.splice(h,0,f),n.height+=this.tabSize+s;var p=HK(n.staffs,h),m=1;RK(n.staffs,p)&&(m=p.voices.length),this.tabStaff.voices=[];for(var v=0;v<m;v++){var b=new EK(0,0);v>0&&(b.duplicate=!0);var w=NK(this,b)/$b.STEP;w=Math.max(w,1),n.staffs[this.staffIndex].top+=w,n.height+=w*$b.STEP,b.staff=f,r.splice(r.length,0,b);var x=DK(r,v+this.staffIndex);this.tabStaff.voices[v]=[],this.absolutes.build(this.plugin,r,this.tabStaff.voices[v],v,this.staffIndex,x)}BK(n.staffs)}};var E7=T7,zK={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},s1=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];function WK(e){var t=e.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(t&&t.length===5){var n=zK[t[1]],r=s1.indexOf(t[2]),i=t[4].length-t[3].length;return 48+r+n+i*12}return 0}function UK(e){e=parseInt(e,10);var t=Math.floor(e/12),n=e%12,r=s1[n];if(r==="-"&&(r="^"+s1[n-1]),t>4)for(r=r.toLowerCase(),t-=5;t>0;)r+="'",t--;else for(;t<4;)r+=",",t++;return r}var A7={noteToMidi:WK,midiToNote:UK},{noteToMidi:VK,midiToNote:jp}=A7,qK=["A","B","C","D","E","F","G"];function jr(e,t){var n=VK(e);t&&(n+=t);var r=jp(n),i=!1,a=!1,s=!1,l=null,u=null,c=!1,f=0;e.startsWith("_")?(i=!0,f=-1,e[1]=="/"?(i=!1,u="v",f=0):e[1]=="_"&&(c=!0,f-=1)):e.startsWith("^")?(a=!0,f=1,e[1]=="/"?(a=!1,u="^",f=0):e[1]=="^"&&(c=!0,f+=1)):e.startsWith("=")&&(l=!0,f=0),s=i||a||u!=null,(s||l)&&(u!=null||c?r=e.slice(2):r=e.slice(1));var h=(r.match(/,/g)||[]).length,p=(r.match(/'/g)||[]).length;this.pitch=n,this.pitchAltered=0,this.name=r,this.acc=f,this.isSharp=a,this.isKeySharp=!1,this.isDouble=c,this.isAltered=s,this.isFlat=i,this.isKeyFlat=!1,this.natural=l,this.quarter=u,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=h,this.isQuoted=p}function jK(e){var t=e.name,n=new jr(t);return n.pitch=e.pitch,n.hasComma=e.hasComma,n.isLower=e.isLower,n.isQuoted=e.isQuoted,n.isSharp=e.isSharp,n.isKeySharp=e.isKeySharp,n.isFlat=e.isFlat,n.isKeyFlat=e.isKeyFlat,n}jr.prototype.sameNoteAs=function(e){return e.pitch===this.pitch};jr.prototype.isLowerThan=function(e){return e.pitch>this.pitch};jr.prototype.checkKeyAccidentals=function(e,t){if(!(this.isAltered||this.natural)){if(t[this.name.toUpperCase()])switch(t[this.name.toUpperCase()]){case"__":this.acc=-2,this.pitchAltered=-2;return;case"_":this.acc=-1,this.pitchAltered=-1;return;case"=":this.acc=0,this.pitchAltered=0;return;case"^":this.acc=1,this.pitchAltered=1;return;case"^^":this.acc=2,this.pitchAltered=2;return}else if(e)for(var n=this.name,r=0;r<e.length;r++){var i=e[r];n==i.note.toUpperCase()&&(i.acc=="flat"&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),i.acc=="sharp"&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}}};jr.prototype.getAccidentalEquiv=function(){var e=jK(this);return e.isSharp||e.isKeySharp?(e=e.nextNote(),e.isFlat=!0,e.isSharp=!1,e.isKeySharp=!1):(e.isFlat||e.isKeyFlat)&&(e=e.prevNote(),e.isSharp=!0,e.isFlat=!1,e.isKeyFlat=!1),e};jr.prototype.nextNote=function(){var e=jp(this.pitch+1+this.pitchAltered);return new jr(e)};jr.prototype.prevNote=function(){var e=jp(this.pitch-1+this.pitchAltered);return new jr(e)};jr.prototype.emitNoAccidentals=function(){var e=this.name;this.isLower&&(e=e.toLowerCase());for(var t=0;t<this.isQuoted;t++)e+="'";for(var n=0;n<this.hasComma;n++)e+=",";return e};jr.prototype.emit=function(){var e=this.name;(this.isSharp||this.isKeySharp)&&(e="^"+e,this.isDouble&&(e="^"+e)),(this.isFlat||this.isKeyFlat)&&(e="_"+e,this.isDouble&&(e="_"+e)),this.quarter&&(this.quarter=="^"?e="^/"+e:e="_/"+e),this.natural&&(e="="+e);for(var t=1;t<=this.hasComma;t++)e+=",";if(this.isLower){e=e.toLowerCase();for(var n=1;n<=this.isQuoted;n++)e+="'"}return e};var k7={TabNote:jr,notes:qK},o1=k7,Bb=o1.notes;function O7(e,t){this.fromN=new o1.TabNote(e),this.toN=new o1.TabNote(t)}O7.prototype.build=function(){var e=this.fromN,t=this.toN;if(t.isLowerThan(e)){var n=e.emit(),r=t.emit();return{error:"Invalid string Instrument tuning : "+r+" string lower than "+n+" string"}}var i=[],a=Bb.indexOf(e.name),s=Bb.indexOf(t.name);if(a==-1||s==-1)return i;for(var l=!1;!l;)i.push(e.emit()),e=e.nextNote(),e.sameNoteAs(t)&&(l=!0);return i};var GK=O7;const{noteToMidi:KK}=A7;var Hu=k7,YK=GK;function XK(e){var t=null,n=e.tuning;if(e.capo>0){t=[];for(var r=0;r<n.length;r++){for(var i=new Hu.TabNote(n[r]),a=0;a<e.capo;a++)i=i.nextNote();t[r]=i.emit()}}return t}function JK(e){var t=[],n=e.tuning;e.capo>0&&(n=e.capoTuning);for(var r=n.length-1,i=0;i<n.length;i++){var a=e.highestNote;i!=n.length-1&&(a=n[i+1]);var s=new YK(n[i],a),l=s.build();if(l.error)return l;t[r--]=l}return t}function QK(e){var t=[];t[0]=[];for(var n=e.strings,r=1;r<n.length;r++)t[r]=n[r-1];return t}function ZK(e,t){for(var n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];if(r.str==i.str){if(r.str==e.strings.length-1){r.num="?",i.num="?";return}i.num<r.num?(i.str++,i=Rb(e,i.note,i.str,e.secondPos,e.strings[i.str].length)):(r.str++,r=Rb(e,r.note,r.str,e.secondPos,e.strings[r.str].length)),t[n]=r,t[n+1]=i}}return null}function eY(e,t){for(var n=[],r=0;r<t.length;r++)if(!t[r].endTie){var i=new Hu.TabNote(t[r].name,e.clefTranspose);i.checkKeyAccidentals(e.accidentals,e.measureAccidentals);var a=l1(e,i);n.push(a)}return ZK(e,n),n}function Rb(e,t,n,r,i){var a=e.strings;t.checkKeyAccidentals(e.accidentals,e.measureAccidentals),r&&(a=r);var s=t.emitNoAccidentals(),l=a[n].indexOf(s),u=t.acc;if(l!=-1){if(r&&(l+=i),(t.isFlat||t.acc==-1)&&l==0){var c=t.getAccidentalEquiv();n++,l=a[n].indexOf(c.emit()),u=0}return{num:l+u,str:n,note:t}}return null}function l1(e,t){if(t.isAltered||t.natural){var n;t.isFlat?t.isDouble?n="__":n="_":t.isSharp?t.isDouble?n="^^":n="^":t.natural&&(n="="),e.measureAccidentals[t.name.toUpperCase()]=n}for(var r=e.stringPitches.length-1;r>=0;r--)if(t.pitch+t.pitchAltered>=e.stringPitches[r]){var i=t.pitch+t.pitchAltered-e.stringPitches[r];return t.quarter==="^"?i-=.5:t.quarter==="v"&&(i+=.5),{num:Math.round(i),str:e.stringPitches.length-1-r,note:t}}return{num:"?",str:e.stringPitches.length-1,note:t}}Pl.prototype.stringToPitch=function(e){var t=5.3,n=this.strings.length-1;return t+(n-e)*this.linePitch};function Fb(e,t){var n={num:"?",str:0,note:t};e.push(n),e.error=t.emit()+": unexpected note for instrument"}Pl.prototype.notesToNumber=function(e,t){var n,r,i=null,a=null;if(e&&(a=[],e.length>1?(a=eY(this,e),a.error&&(i=a.error)):e[0].endTie||(n=new Hu.TabNote(e[0].name,this.clefTranspose),n.checkKeyAccidentals(this.accidentals,this.measureAccidentals),r=l1(this,n),r?a.push(r):(Fb(a,n),i=a.error))),i)return a;var s=null;if(t){s=[];for(var l=0;l<t.length;l++)n=new Hu.TabNote(t[l].name,this.clefTranspose),n.checkKeyAccidentals(this.accidentals,this.measureAccidentals),r=l1(this,n),r?s.push(r):(Fb(s,n),i=a.error)}return{notes:a,graces:s,error:i}};Pl.prototype.toString=function(){for(var e=[],t=0;t<this.tuning.length;t++){var n=this.tuning[t].replaceAll(",","").replaceAll("'","").toUpperCase();n[0]==="_"?n=n[1]+"b ":n[0]==="^"&&(n=n[1]+"# "),e.push(n)}return e.join("")};Pl.prototype.tabInfos=function(e){var t=e._super,n=t.params.label;if(n){var r=n.indexOf("%T"),i="";return r!=-1&&(i=this.toString(),e.capo>0&&(i+=" capo:"+e.capo),n=n.replace("%T",i)),n}return""};function Pl(e){var t=e.tuning,n=e.capo,r=e._super.params.highestNote;this.linePitch=e.linePitch,this.highestNote="a'",r&&(this.highestNote=r),this.measureAccidentals={},this.capo=0,n&&(this.capo=parseInt(n,10)),this.transpose=e.transpose?e.transpose:0,this.tuning=t,this.stringPitches=[];for(var i=0;i<this.tuning.length;i++){var a=KK(this.tuning[i])+this.capo;this.stringPitches.push(a)}if(this.capo>0&&(this.capoTuning=XK(this)),this.strings=JK(this),this.strings.error){e._super.setError(this.strings.error),e.inError=!0;return}this.secondPos=QK(this)}var N7=Pl,tY=N7;function Gp(e){this.tuning=e._super.params.tuning,this.tuning||(this.tuning=["G,","D","A","e"]),e.tuning=this.tuning,this.strings=new tY(e)}Gp.prototype.notesToNumber=function(e,t){var n=this.strings;return n.notesToNumber(e,t)};Gp.prototype.stringToPitch=function(e){var t=this.strings;return t.stringToPitch(e)};var nY=Gp,rY=m7,iY=y7,aY=E7,sY=nY;Kp.prototype.init=function(e,t,n){var r=new iY(e,t,n);this.abcTune=e,this._super=r,this.linePitch=3,this.nbLines=4,this.isTabBig=!1,this.capo=n.capo,this.transpose=n.visualTranspose,this.tablature=new rY(this.nbLines,this.linePitch);var i=new sY(this);this.semantics=i};Kp.prototype.render=function(e,t,n){if(!this._super.inError&&!this.tablature.bypass(t)){var r=new aY(this,e,t,n);r.doLayout()}};function Kp(){}var oY=function(){return{name:"ViolinTab",tablature:Kp}},lY=oY,cY=N7;function Yp(e){this.tuning=e._super.params.tuning,this.tuning||(this.tuning=["E,","A,","D","G","B","e"]),e.tuning=this.tuning,this.strings=new cY(e)}Yp.prototype.notesToNumber=function(e,t){var n=this.strings;return n.notesToNumber(e,t)};Yp.prototype.stringToPitch=function(e){var t=this.strings;return t.stringToPitch(e)};var uY=Yp,fY=m7,dY=y7,hY=E7,pY=uY;Xp.prototype.init=function(e,t,n){var r=new dY(e,t,n);this._super=r,this.abcTune=e,this.linePitch=3,this.nbLines=6,this.isTabBig=!0,this.capo=n.capo,this.transpose=n.visualTranspose,this.tablature=new fY(this.nbLines,this.linePitch);var i=new pY(this);this.semantics=i};Xp.prototype.render=function(e,t,n){if(!this._super.inError&&!this.tablature.bypass(t)){var r=new hY(this,e,t,n);r.doLayout()}};function Xp(){}var gY=function(){return{name:"GuitarTab",tablature:Xp}},vY=gY,mY=lY,bY=vY,yY={violin:"ViolinTab",fiddle:"ViolinTab",mandolin:"ViolinTab",guitar:"GuitarTab"},wY={inited:!1,plugins:{},register:function(e){var t=e.name,n=e.tablature;this.plugins[t]=n},setError:function(e,t){e.warnings?e.warning.push(t):e.warnings=[t]},preparePlugins:function(e,t,n){var r=null;if(n.tablature){var i=n.tablature;r=[];for(var a=0;a<i.length;a++){var s=i[a],l=s.instrument;if(l==null)return this.setError(e,"tablature 'instrument' is missing"),r;var u=yY[l],c=null;if(u&&(c=this.plugins[u]),c){n.visualTranspose!=0&&(s.visualTranspose=n.visualTranspose),s.abcSrc=n.tablature.abcSrc;var f={classz:c,tuneNumber:t,params:s,instance:null};r.push(f)}else return this.setError(e,"Undefined tablature plugin: "+l),r}}return r},layoutTablatures:function(e,t){for(var n=t.tablatures,r=0;r<t.lines.length;r++){var i=t.lines[r],a=i.staff;if(a){for(var s=0;s<a.length;s++)if(n[s]){var l=n[s];l.instance==null&&(l.instance=new l.classz,l.instance.init(t,l.tuneNumber,l.params,s)),l.instance.render(e,i,s)}}}},init:function(){this.inited||(this.register(new mY),this.register(new bY),this.inited=!0)}},I7=wY,_Y=v7,xY=dK,Hb=I7,Ji={};(function(){Ji.numberOfTunes=function(t){var n=t.split(`
X:`),r=n.length;return r===0&&(r=1),r};var e=Ji.TuneBook=function(t){var n=xY(t);this.header=n.header,this.tunes=n.tunes};e.prototype.getTuneById=function(t){for(var n=0;n<this.tunes.length;n++)if(this.tunes[n].id===""+t)return this.tunes[n];return null},e.prototype.getTuneByTitle=function(t){for(var n=0;n<this.tunes.length;n++)if(this.tunes[n].title===t)return this.tunes[n];return null},Ji.parseOnly=function(t,n){for(var r=Ji.numberOfTunes(t),i=[],a=0;a<r;a++)i.push(1);function s(){}return Ji.renderEngine(s,i,t,n)},Ji.renderEngine=function(t,n,r,i){var a=[],s=function(b){return b&&!b.propertyIsEnumerable("length")&&typeof b=="object"&&typeof b.length=="number"};if(!(n===void 0||r===void 0)){s(n)||(n=[n]),i===void 0&&(i={});for(var l=i.startingTune?parseInt(i.startingTune,10):0,u=new e(r),c=new _Y,f=0;f<n.length;f++){var h=n[f];if(h==="*"||typeof h=="string"&&(h=document.getElementById(h)),h)if(l>=0&&l<u.tunes.length){c.parse(u.tunes[l].abc,i,u.tunes[l].startPos-u.header.length);var p=c.getTune();i.tablature&&(Hb.init(),p.tablatures=Hb.preparePlugins(p,l,i));var m=c.getWarnings();m&&(p.warnings=m);var v=t(h,p,f,u.tunes[l].abc);a.push(v||p)}else h.innerHTML&&(h.innerHTML="");l++}return a}},Ji.extractMeasures=function(t){for(var n=[],r=new e(t),i=0;i<r.tunes.length;i++){for(var a=r.tunes[i],s=a.abc.split("K:"),l=s[1].split(`
`),u=s[0]+"K:"+l[0]+`
`,c=null,f=null,h=null,p=[],m=!1,v=Ji.parseOnly(a.abc)[0],b=v.getPickupLength()>0,w=0;w<v.lines.length;w++){var x=v.lines[w];if(x.staff)for(var C=0;C<1;C++)for(var S=x.staff[C],_=0;_<1;_++)for(var M=S.voices[_],P=0;P<M.length;P++){var A=M[P];if(h===null&&A.startChar>=0&&(h=A.startChar,A.chord===void 0?f=c:f=null),A.chord&&(c=A),A.el_type==="bar"){if(m){var k=a.abc.substring(h,A.endChar),B={abc:k};c=f&&f.chord&&f.chord.length>0?f.chord[0].name:null,c&&(B.lastChord=c),A.startEnding&&(B.startEnding=A.startEnding),A.endEnding&&(B.endEnding=A.endEnding),p.push(B),h=null,m=!1}}else A.el_type==="note"&&(m=!0)}}n.push({header:u,measures:p,hasPickup:b})}return n}})();var Jp=Ji,Db=o7,{relativeMajor:zb,transposeKey:rh,relativeMode:Wb}=s7,Ub=a7,L7;(function(){L7=function(S,_,M){if(_==="TEST")return{keyAccidentals:Db,relativeMajor:zb,transposeKey:rh,relativeMode:Wb,transposeChordName:Ub};M=parseInt(M,10);var P=[],A;for(A=0;A<_.length;A++)P=P.concat(e(S,_[A],M));P=P.sort(function(F,U){return U.start-F.start});var k=S.split("");for(A=0;A<P.length;A++){var B=P[A];k.splice(B.start,B.end-B.start,B.note)}return k.join("")};function e(S,_,M){var P=[],A=_.getKeySignature();if(A.root==="Hp"||A.root==="HP")return P;P=P.concat(t(S,M));for(var k=0;k<_.lines.length;k++){var B=_.lines[k].staff;if(B)for(var F=0;F<B.length;F++){var U=B[F];U.clef.type!=="perc"&&(P=P.concat(n(S,U.voices,U.key,M)))}}return P}function t(S,_){for(var M=[],P=S.split("K:"),A=P[0].length,k=1;k<P.length;k++){var B=P[k],F=B.match(/^( *)([A-G])([#b]?)(\w*)/);if(F){var U=A+2+F[1].length,R=F[2]+F[3]+F[4],L=u({root:F[2],acc:F[3],mode:F[4]},_),D=L.root+L.acc+L.mode;M.push({start:U,end:U+R.length,note:D})}A+=B.length+2}return M}function n(S,_,M,P){for(var A=[],k=u(M,P),B=0;B<_.length;B++)A=A.concat(a(S,_[B],M.root,r(M),k,P));return A}function r(S){for(var _={},M=0;M<S.accidentals.length;M++){var P=S.accidentals[M];P.acc==="flat"?_[P.note.toUpperCase()]="_":P.acc==="sharp"&&(_[P.note.toUpperCase()]="^")}return _}function i(S,_,M){var P=s.indexOf(S.root)-s.indexOf(_);return _==="none"&&(P=s.indexOf(S.root)),P===0?M>2?P+=7:M===-12&&(P-=7):M>0&&P<0?P+=7:M<0&&P>0&&(P-=7),M>12?P+=7:M<-12&&(P-=7),P}function a(S,_,M,P,A,k){for(var B=[],F=i(A,M,k),U={},R={},L=0;L<_.length;L++){var D=_[L];if(D.chord)for(var q=0;q<D.chord.length;q++){var N=D.chord[q];if(N.position==="default"){var O=A.accidentals.length&&A.accidentals[0].acc==="flat",H=Ub(N.name,k,O,!0);H=H.replace(/♭/g,"b").replace(/♯/g,"#"),H!==N.name&&B.push(x(S,D.startChar,D.endChar,H))}}if(D.el_type==="note"&&D.pitches){for(var V=0;V<D.pitches.length;V++){var ne=v(D.pitches[V].name,M,P,U);ne.acc&&(U[ne.name.toUpperCase()]=ne.acc);var _e=c(ne,A,F,R);_e.acc&&(R[_e.upper]=_e.acc),B.push(b(S,D.startChar,D.endChar,_e.acc+_e.name,V))}if(D.gracenotes)for(var ae=0;ae<D.gracenotes.length;ae++){var Ne=v(D.gracenotes[ae].name,M,P,U);Ne.acc&&(U[Ne.name.toUpperCase()]=Ne.acc);var He=c(Ne,A,F,U);He.acc&&(R[He.upper]=He.acc),B.push(w(S,D.startChar,D.endChar,He.acc+He.name,ae))}}else D.el_type==="bar"?(U={},R={}):D.el_type==="keySignature"&&(M=D.root,P=r(D),A=u(D,k),F=i(A,M,k))}return B}var s="CDEFGAB",l=[",,,,",",,,",",,",",","","'","''","'''","''''"];function u(S,_){if(S.root==="none")return{root:rh("C",_),mode:"",acc:"",accidentals:[]};var M=zb(S.root+S.acc+S.mode),P=rh(M,_),A=Wb(P,S.mode),k=Db(P);return{root:A[0],mode:S.mode,acc:A.length>1?A[1]:"",accidentals:k}}function c(S,_,M,P){for(var A=S.pitch,k=s.indexOf(S.name),B=s.indexOf(_.root),F=(B+A)%7,U=k+M,R=S.oct;U>6;)R++,U-=7;for(;U<0;)R--,U+=7;for(var L=s[F],D="",q=S.adj,N="=",O=0;O<_.accidentals.length;O++)if(_.accidentals[O].note.toLowerCase()===L.toLowerCase()){q=q+(_.accidentals[O].acc==="flat"?-1:1),N=_.accidentals[O].acc==="flat"?"_":"^";break}switch(q){case-2:D="__";break;case-1:D="_";break;case 0:D="=";break;case 1:D="^";break;case 2:D="^^";break;case-3:var H={};return H.pitch=S.pitch-1,H.oct=S.oct,H.name=s[s.indexOf(S.name)-1],H.name||(H.name="B",H.oct--),H.name==="B"||H.name==="E"?H.adj=S.adj+1:H.adj=S.adj+2,c(H,_,M+1,P);case 3:var H={};return H.pitch=S.pitch+1,H.oct=S.oct,H.name=s[s.indexOf(S.name)+1],H.name||(H.name="C",H.oct++),H.name==="C"||H.name==="F"?H.adj=S.adj-1:H.adj=S.adj-2,c(H,_,M+1,P)}switch((P[L]===D||!P[L]&&D===N)&&!S.courtesy&&(D=""),R){case 0:L=L+",,,";break;case 1:L=L+",,";break;case 2:L=L+",";break;case 4:L=L.toLowerCase();break;case 5:L=L.toLowerCase()+"'";break;case 6:L=L.toLowerCase()+"''";break;case 7:L=L.toLowerCase()+"'''";break;case 8:L=L.toLowerCase()+"''''";break}return R>4&&(L=L.toLowerCase()),{acc:D,name:L,upper:L.toUpperCase()}}var f=/([_^=]*)([A-Ga-g])([,']*)/,h=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,p=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/,m=/(\s*)$/;function v(S,_,M,P){var A=_==="none"?0:s.indexOf(_),k=S.match(f),B=k[2].toUpperCase(),F=s.indexOf(B)-A;F<0&&(F+=7);var U=l.indexOf(k[3]);B===k[2]&&U--;var R=P[B]||M[B]||"=";return{acc:k[1],name:B,pitch:F,oct:U,adj:C(k[1],M[B],P[B]),courtesy:k[1]===R}}function b(S,_,M,P,A){var k=S.substring(_,M),B=k.match(new RegExp(h.source+m.source),"");if(B){var F=B[1].length,U=B[2].length+B[3].length+B[4].length,R=M-_-F-U;_+=R,M-=U}else{var L=/([^\[]*)/,D=/\[/,q=/\-?](\d*\/*\d*)?([\>\<\-\)]*)/;if(B=k.match(new RegExp(L.source+D.source+p.source+p.source+p.source+p.source+p.source+p.source+p.source+p.source+q.source+m.source)),B){for(var N=1+B[1].length,O=0;O<A;O++)B[O*3+2]&&(N+=B[O*3+2].length),B[O*3+3]&&(N+=B[O*3+3].length),B[O*3+4]&&(N+=B[O*3+4].length);_+=N;var H=B[A*3+2]?B[A*3+2].length:0;M=_+H}}return{start:_,end:M,note:P}}function w(S,_,M,P,A){var k=S.substring(_,M),B=/\{/,F=/\}/,U=/([^\{]*)/,R=/(\/*)/,L=k.match(new RegExp(U.source+B.source+R.source+p.source+R.source+p.source+R.source+p.source+R.source+p.source+R.source+p.source+R.source+p.source+R.source+p.source+R.source+p.source+F.source));if(L){for(var D=1+L[1].length,q=0;q<A;q++)L[q*3+2]&&(D+=L[q*3+2].length),L[q*3+3]&&(D+=L[q*3+3].length),L[q*3+4]&&(D+=L[q*3+4].length),L[q*3+5]&&(D+=L[q*3+5].length);L[A*3+2]&&(D+=L[q*3+2].length),_+=D;var N=L[A*3+3]?L[A*3+3].length:0;N+=L[A*3+4]?L[A*3+4].length:0,N+=L[A*3+5]?L[A*3+5].length:0,M=_+N}return{start:_,end:M,note:P}}function x(S,_,M,P){var A=S.substring(_,M).match(/([^"]+)?(".+")+/);return A[1]&&(_+=A[1].length),M=_+A[2].length,{start:_+1,end:M-1,note:P}}function C(S,_,M){if(!S&&M&&(S=M),!S)return 0;switch(_){case void 0:switch(S){case"__":return-2;case"_":return-1;case"=":return 0;case"^":return 1;case"^^":return 2;default:return 0}case"_":switch(S){case"__":return-1;case"_":return 0;case"=":return 1;case"^":return 2;case"^^":return 3;default:return 0}case"^":switch(S){case"__":return-3;case"_":return-2;case"=":return-1;case"^":return 0;case"^^":return 1;default:return 0}}return 0}})();var MY=L7,Vs=function(t,n,r,i){this.type="BeamElem",this.isflat=!!r,this.isgrace=!!(n&&n==="grace"),this.forceup=!!(this.isgrace||n&&n==="up"),this.forcedown=!!(n&&n==="down"),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=t,this.beams=[],i&&i.duration?(this.duration=i.duration,i.startTriplet&&(this.duration*=i.tripletMultiplier),this.duration=Math.round(this.duration*1e3)/1e3):this.duration=0};Vs.prototype.setHint=function(){this.hint=!0};Vs.prototype.runningDirection=function(e){var t=e.averagepitch;t!==void 0&&(this.total=Math.round(this.total+t),this.count||(this.count=0),this.count++)};Vs.prototype.add=function(e){var t=e.abcelem.averagepitch;t!==void 0&&(e.abcelem.rest||(this.allrests=!1),e.beam=this,this.elems.push(e),this.total=Math.round(this.total+t),(this.min===void 0||e.abcelem.minpitch<this.min)&&(this.min=e.abcelem.minpitch),(this.max===void 0||e.abcelem.maxpitch>this.max)&&(this.max=e.abcelem.maxpitch))};Vs.prototype.addBeam=function(e){this.beams.push(e)};Vs.prototype.setStemDirection=function(){if(this.average=$7(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var e=6;this.stemsUp=this.average<e}delete this.count,this.total=0};Vs.prototype.calcDir=function(){if(this.average=$7(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var e=6;this.stemsUp=this.average<e}for(var t=this.stemsUp?"up":"down",n=0;n<this.elems.length;n++)for(var r=0;r<this.elems[n].heads.length;r++)this.elems[n].heads[r].stemDir=t};function $7(e,t){return t?e/t:0}var CY=Vs,Sl=function(t,n){this.startVoice=t,this.type=n};Sl.prototype.setBottomStaff=function(e){this.endVoice=e,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)};Sl.prototype.continuing=function(e){this.lastContinuedVoice=e};Sl.prototype.getWidth=function(){return 10};Sl.prototype.isStartVoice=function(e){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===e)};var PY=Sl,SY=hr,Mr={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.32,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};Mr["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63};Mr["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9};Mr["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165};Mr["noteheads.triangle.quarter"]={d:[["M",0,0],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9};var Vb=function(e){for(var t=[],n=0,r=e.length;n<r;n++){t[n]=[];for(var i=0,a=e[n].length;i<a;i++)t[n][i]=e[n][i]}return t},TY=function(e,t,n){for(var r=0,i=e.length;r<i;r++){var a=e[r],s,l;for(s=1,l=a.length;s<l;s++)a[s]*=s%2?t:n}},EY={printSymbol:function(e,t,n,r,i){if(!Mr[n])return null;var a=Vb(Mr[n].d);a[0][1]+=e,a[0][2]+=t;for(var s="",l=0;l<a.length;l++)s+=a[l].join(" ");return i.path=s,r.path(i)},getPathForSymbol:function(e,t,n,r,i){if(r=r||1,i=i||1,!Mr[n])return null;var a=Vb(Mr[n].d);return(r!==1||i!==1)&&TY(a,r,i),a[0][1]+=e,a[0][2]+=t,a},getSymbolWidth:function(e){return Mr[e]?Mr[e].w:0},symbolHeightInPitches:function(e){var t=Mr[e]?Mr[e].h:0;return t/SY.STEP},getSymbolAlign:function(e){return e.substring(0,7)==="scripts"&&e!=="scripts.roll"?"center":"left"},getYCorr:function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(e,t){Mr[e]=t}},Xa=EY,AY=Zo,k0=Xa,ih=Li,kY=function(e,t){var n,r=0;e.el_type="clef";var i=new AY(e,0,10,"staff-extra clef",t);switch(i.isClef=!0,e.type){case"treble":n="clefs.G";break;case"tenor":n="clefs.C";break;case"alto":n="clefs.C";break;case"bass":n="clefs.F";break;case"treble+8":n="clefs.G",r=1;break;case"tenor+8":n="clefs.C",r=1;break;case"bass+8":n="clefs.F",r=1;break;case"alto+8":n="clefs.C",r=1;break;case"treble-8":n="clefs.G",r=-1;break;case"tenor-8":n="clefs.C",r=-1;break;case"bass-8":n="clefs.F",r=-1;break;case"alto-8":n="clefs.C",r=-1;break;case"none":return null;case"perc":n="clefs.perc";break;default:i.addFixed(new ih("clef="+e.type,0,0,void 0,{type:"debug"}))}var a=5;if(n){var s=k0.symbolHeightInPitches(n),l=OY(n);if(i.addRight(new ih(n,a,k0.getSymbolWidth(n),e.clefPos,{top:s+e.clefPos+l,bottom:e.clefPos+l})),r!==0){var u=.6666666666666666,c=(k0.getSymbolWidth(n)-k0.getSymbolWidth("8")*u)/2,f=r>0?i.top+3:i.bottom-1,h=r>0?i.top+3:i.bottom-3,p=h-2;e.type==="bass-8"&&(f=3,c=0),i.addRight(new ih("8",a+c,k0.getSymbolWidth("8")*u,f,{scalex:u,scaley:u,top:h,bottom:p}))}}return i};function OY(e){switch(e){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}var NY=kY,IY=Zo,Zc=Xa,LY=Li,$Y=function(e,t){if(e.el_type="keySignature",!e.accidentals||e.accidentals.length===0)return null;var n=new IY(e,0,10,"staff-extra key-signature",t);n.isKeySig=!0;var r=0;return e.accidentals.forEach(function(i){var a,s=0;switch(i.acc){case"sharp":a="accidentals.sharp",s=-3;break;case"natural":a="accidentals.nat";break;case"flat":a="accidentals.flat",s=-1.2;break;case"quartersharp":a="accidentals.halfsharp",s=-2.5;break;case"quarterflat":a="accidentals.halfflat",s=-1.2;break;default:a="accidentals.flat"}n.addRight(new LY(a,r,Zc.getSymbolWidth(a),i.verticalPos,{thickness:Zc.symbolHeightInPitches(a),top:i.verticalPos+Zc.symbolHeightInPitches(a)+s,bottom:i.verticalPos+s})),r+=Zc.getSymbolWidth(a)+2},this),n},BY=$Y,ri=Xa,fo=Li,RY=function(e,t,n,r){r||(r={});var i=r.dir!==void 0?r.dir:null,a=r.headx!==void 0?r.headx:0,s=r.extrax!==void 0?r.extrax:0,l=r.flag!==void 0?r.flag:null,u=r.dot!==void 0?r.dot:0,c=r.dotshiftx!==void 0?r.dotshiftx:0,f=r.scale!==void 0?r.scale:1,h=r.accidentalSlot!==void 0?r.accidentalSlot:[],p=r.shouldExtendStem!==void 0?r.shouldExtendStem:!1,m=r.printAccidentals!==void 0?r.printAccidentals:!0,v=n.verticalPos,b,w=0,x=0,C=0;if(t===void 0)e.addFixed(new fo("pitch is undefined",0,0,0,{type:"debug"}));else if(t==="")b=new fo(null,0,0,v);else{var S=a;if(n.printer_shift){var _=n.printer_shift==="same"?1:0;S=i==="down"?-ri.getSymbolWidth(t)*f+_:ri.getSymbolWidth(t)*f-_}var M={scalex:f,scaley:f,thickness:ri.symbolHeightInPitches(t)*f,name:n.name};if(b=new fo(t,S,ri.getSymbolWidth(t)*f,v,M),b.stemDir=i,l){var P=v+(i==="down"?-7:7)*f;p&&(i==="down"&&P>6&&(P=6),i==="up"&&P<6&&(P=6));var A=i==="down"?a:a+b.w-.6;e.addRight(new fo(l,A,ri.getSymbolWidth(l)*f,P,{scalex:f,scaley:f}))}for(x=b.w+c-2+5*u;u>0;u--){var k=1-Math.abs(v)%2;e.addRight(new fo("dots.dot",b.w+c-2+5*u,ri.getSymbolWidth("dots.dot"),v+k))}}if(b&&(b.highestVert=n.highestVert),m&&n.accidental){var B;switch(n.accidental){case"quartersharp":B="accidentals.halfsharp";break;case"dblsharp":B="accidentals.dblsharp";break;case"sharp":B="accidentals.sharp";break;case"quarterflat":B="accidentals.halfflat";break;case"flat":B="accidentals.flat";break;case"dblflat":B="accidentals.dblflat";break;case"natural":B="accidentals.nat"}for(var F=!1,U=s,R=0;R<h.length;R++)if(v-h[R][0]>=6){h[R][0]=v,U=h[R][1],F=!0;break}F===!1&&(U-=ri.getSymbolWidth(B)*f+2,h.push([v,U]),w=ri.getSymbolWidth(B)*f+2);var L=ri.symbolHeightInPitches(B);e.addExtra(new fo(B,U,ri.getSymbolWidth(B),v,{scalex:f,scaley:f,top:v+L/2,bottom:v-L/2})),C=ri.getSymbolWidth(B)/2}return{notehead:b,accidentalshiftx:w,dotshiftx:x,extraLeft:C}},FY=RY,HY=Zo,gn=Xa,_i=Li,DY=function(e,t){e.el_type="timeSignature";var n=new HY(e,0,10,"staff-extra time-signature",t);if(e.type==="specified")for(var r=0,i=0;i<e.value.length;i++)if(i!==0&&(n.addRight(new _i("+",r+1,gn.getSymbolWidth("+"),6,{thickness:gn.symbolHeightInPitches("+")})),r+=gn.getSymbolWidth("+")+2),e.value[i].den){for(var a=0,s=0;s<e.value[i].num.length;s++)a+=gn.getSymbolWidth(e.value[i].num[s]);var l=0;for(s=0;s<e.value[i].num.length;s++)l+=gn.getSymbolWidth(e.value[i].den[s]);var u=Math.max(a,l);n.addRight(new _i(e.value[i].num,r+(u-a)/2,a,8,{thickness:gn.symbolHeightInPitches(e.value[i].num[0])})),n.addRight(new _i(e.value[i].den,r+(u-l)/2,l,4,{thickness:gn.symbolHeightInPitches(e.value[i].den[0])})),r+=u}else{for(var c=0,f=0;f<e.value[i].num.length;f++)c+=gn.getSymbolWidth(e.value[i].num[f]);n.addRight(new _i(e.value[i].num,r,c,6,{thickness:gn.symbolHeightInPitches(e.value[i].num[0])})),r+=c}else e.type==="common_time"?n.addRight(new _i("timesig.common",0,gn.getSymbolWidth("timesig.common"),6,{thickness:gn.symbolHeightInPitches("timesig.common")})):e.type==="cut_time"?n.addRight(new _i("timesig.cut",0,gn.getSymbolWidth("timesig.cut"),6,{thickness:gn.symbolHeightInPitches("timesig.cut")})):e.type==="tempus_imperfectum"?n.addRight(new _i("timesig.imperfectum",0,gn.getSymbolWidth("timesig.imperfectum"),6,{thickness:gn.symbolHeightInPitches("timesig.imperfectum")})):e.type==="tempus_imperfectum_prolatio"?n.addRight(new _i("timesig.imperfectum2",0,gn.getSymbolWidth("timesig.imperfectum2"),6,{thickness:gn.symbolHeightInPitches("timesig.imperfectum2")})):e.type==="tempus_perfectum"?n.addRight(new _i("timesig.perfectum",0,gn.getSymbolWidth("timesig.perfectum"),6,{thickness:gn.symbolHeightInPitches("timesig.perfectum")})):e.type==="tempus_perfectum_prolatio"?n.addRight(new _i("timesig.perfectum2",0,gn.getSymbolWidth("timesig.perfectum2"),6,{thickness:gn.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",e);return n},zY=DY,WY=function(t,n,r){this.type="DynamicDecoration",this.anchor=t,this.dec=n,r==="below"?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0},UY=WY,VY=function(t,n,r,i){this.type="CrescendoElem",this.anchor1=t,this.anchor2=n,this.dir=r,i==="above"?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0},qY=VY,jY=function(t,n){this.type="GlissandoElem",this.anchor1=t,this.anchor2=n},GY=jY,Kr=function(t){this.type="TieElem",this.anchor1=t.anchor1,this.anchor2=t.anchor2,t.isGrace&&(this.isGrace=!0),t.fixedY&&(this.fixedY=!0),t.stemDir&&(this.stemDir=t.stemDir),t.voiceNumber!==void 0&&(this.voiceNumber=t.voiceNumber),t.style!==void 0&&(this.dotted=!0),this.internalNotes=[]};Kr.prototype.addInternalNote=function(e){this.internalNotes.push(e)};Kr.prototype.setEndAnchor=function(e){this.anchor2=e,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)};Kr.prototype.setStartX=function(e){this.startLimitX=e};Kr.prototype.setEndX=function(e){this.endLimitX=e};Kr.prototype.setHint=function(){this.hint=!0};Kr.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e;this.anchor1?e=this.anchor1.pitch:this.anchor2?e=this.anchor2.pitch:e=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=e>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=e>=6}};Kr.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(e=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(e=!0);for(var t=0;t<this.internalNotes.length;t++){var n=this.internalNotes[t];n.stemDir==="down"&&(e=!0)}this.above=e}};Kr.prototype.calcX=function(e,t){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=e,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=t};Kr.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0};Kr.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var e=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,t=(this.anchor2.highestVert+this.anchor2.pitch)/2;this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!e&&t<this.startY?(this.endY=t,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&e?this.anchor2.highestVert:this.anchor2.pitch}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)};Kr.prototype.avoidCollisionAbove=function(){if(this.above){for(var e=-50,t=0;t<this.internalNotes.length;t++)this.internalNotes[t].highestVert>e&&(e=this.internalNotes[t].highestVert);e>this.startY&&e>this.endY&&(this.startY=this.endY=e-1)}};var B7=Kr,KY=UY,qb=qY,YY=GY,ci=Xa,Ns=Li,XY=B7,Qp=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},JY=function(e,t,n,r,i,a,s,l){for(var u,c=0;c<t.length;c++){if(t[c]==="staccato"||t[c]==="tenuto"||t[c]==="accent"){var f="scripts."+t[c];if(t[c]==="accent"&&(f="scripts.sforzato"),u===void 0?u=s==="down"?n+2:l-2:u=s==="down"?u+2:u-2,t[c]==="accent")s==="up"?u--:u++;else switch(u){case 2:case 4:case 6:case 8:case 10:s==="up"?u--:u++;break}n>9&&u++;var h=r/2;ci.getSymbolAlign(f)!=="center"&&(h-=ci.getSymbolWidth(f)/2),i.addFixedX(new Ns(f,h,ci.getSymbolWidth(f),u))}if(t[c]==="slide"&&i.heads[0]){var p=i.heads[0].pitch;p-=2;var m=new Ns("",-a-15,0,p-1),v=new Ns("",-a-5,0,p+1);i.addFixedX(m),i.addFixedX(v),e.addOther(new XY({anchor1:m,anchor2:v,fixedY:!0}))}}return u===void 0&&(u=n),{above:u,below:i.bottom}},QY=function(e,t,n,r){for(var i=0;i<t.length;i++)switch(t[i]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var a=new KY(n,t[i],r);e.addOther(a)}},ZY=function(e,t,n,r,i){function a(){if(r.heads.length===0)return 10;for(var c=r.heads[0].pitch,f=1;f<r.heads.length;f++)c=Math.max(c,r.heads[f].pitch);return c}function s(){if(r.heads.length===0)return 2;for(var c=r.heads[0].pitch,f=1;f<r.heads.length;f++)c=Math.min(c,r.heads[f].pitch);return c}function l(c,f){var h=i==="down"?s()+1:a()+9;i!=="down"&&f===1&&h--;var p=n/2;p+=i==="down"?-5:3;for(var m=0;m<f;m++)h-=1,r.addFixedX(new Ns(c,p,ci.getSymbolWidth(c),h))}for(var u=0;u<e.length;u++)switch(e[u]){case"/":l("flags.ugrace",1);break;case"//":l("flags.ugrace",2);break;case"///":l("flags.ugrace",3);break;case"////":l("flags.ugrace",4);break}},eX=function(e,t,n,r,i,a,s){function l(v,b){v==="above"?r.above+=b:r.below-=b}function u(v){var b;return v==="above"?(b=r.above,b<a&&(b=a)):(b=r.below,b>s&&(b=s)),b}function c(v,b,w){var x=u(b),C=2,S=5;n.addFixedX(new Ns(v,t/2,0,x+C,{type:"decoration",klass:"ornament",thickness:3,anchor:w})),l(b,S)}function f(v,b){var w=t/2;ci.getSymbolAlign(v)!=="center"&&(w-=ci.getSymbolWidth(v)/2);var x=ci.symbolHeightInPitches(v)+1,C=u(b);C=b==="above"?C+x/2:C-x/2,n.addFixedX(new Ns(v,w,ci.getSymbolWidth(v),C,{klass:"ornament",thickness:ci.symbolHeightInPitches(v)})),l(b,x)}for(var h={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},p=!1,m=0;m<e.length;m++)switch(e[m]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":c(e[m],i,"middle"),p=!0;break;case"D.C.alcoda":c("D.C. al coda",i,"end"),p=!0;break;case"D.C.alfine":c("D.C. al fine",i,"end"),p=!0;break;case"D.S.alcoda":c("D.S. al coda",i,"end"),p=!0;break;case"D.S.alfine":c("D.S. al fine",i,"end"),p=!0;break;case"fine":c("FINE",i,"middle"),p=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":f(h[e[m]],i),p=!0;break;case"invertedfermata":f(h[e[m]],"below"),p=!0;break;case"mark":n.klass="mark";break}return p};function tX(e,t,n){for(var r=0;r<e.length;r++)switch(e[r]){case"arpeggio":for(var i=t.abcelem.minpitch-1;i<=t.abcelem.maxpitch;i+=2)t.addExtra(new Ns("scripts.arpeggio",-ci.getSymbolWidth("scripts.arpeggio")*2-n,0,i+2,{klass:"ornament",thickness:ci.symbolHeightInPitches("scripts.arpeggio")}));break}}Qp.prototype.dynamicDecoration=function(e,t,n,r){for(var i,a,s,l=0;l<t.length;l++)switch(t[l]){case"diminuendo(":this.startDiminuendoX=n,i=void 0;break;case"diminuendo)":i={start:this.startDiminuendoX,stop:n},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=n,a=void 0;break;case"crescendo)":a={start:this.startCrescendoX,stop:n},this.startCrescendoX=void 0;break;case"glissando(":this.startGlissandoX=n,s=void 0;break;case"glissando)":s={start:this.startGlissandoX,stop:n},this.startGlissandoX=void 0;break}i&&e.addOther(new qb(i.start,i.stop,">",r)),a&&e.addOther(new qb(a.start,a.stop,"<",r)),s&&e.addOther(new YY(s.start,s.stop))};Qp.prototype.createDecoration=function(e,t,n,r,i,a,s,l,u,c){u||(u={ornamentPosition:"above",volumePosition:c?"above":"below",dynamicPosition:c?"above":"below"}),QY(e,t,i,u.volumePosition),this.dynamicDecoration(e,t,i,u.dynamicPosition),ZY(t,n,r,i,s);var f=JY(e,t,n,r,i,a,s,l);f.above=Math.max(f.above,this.minTop),eX(t,r,i,f,u.ornamentPosition,this.minTop,this.minBottom),tX(t,i,a)};var nX=Qp,rX=function(t,n,r){this.type="EndingElem",this.text=t,this.anchor1=n,this.anchor2=r,this.endingHeightAbove=5,this.pitch=void 0},iX=rX,aX=function(e){for(var t=0,n=0;n<e.voices.length;n++){var r=e.voices[n].staff;e.voices[n].duplicate||(t+=r.top,t+=-r.bottom)}return t},sX=aX,oX=sX,t0=function(e){this.getTextSize=e,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};t0.prototype.setLimit=function(e,t){t.specialY[e]&&(t.staff.specialY[e]?t.staff.specialY[e]=Math.max(t.staff.specialY[e],t.specialY[e]):t.staff.specialY[e]=t.specialY[e])};t0.prototype.addVoice=function(e,t,n){var r=this.voices.length;this.voices[r]=e,this.staffs[t]?this.staffs[t].voices.push(r):this.staffs[this.staffs.length]={top:10,bottom:2,lines:n,voices:[r],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},e.staff=this.staffs[t]};t0.prototype.setHeight=function(){this.height=oX(this)};t0.prototype.setWidth=function(e){this.w=e;for(var t=0;t<this.voices.length;t++)this.voices[t].setWidth(e)};t0.prototype.setStaffLimits=function(e){e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};var lX=t0,cX=Zo,uX=Li,Zp=function(t,n,r){this.type="TempoElement",this.tempo=t,this.tempo.type="tempo",this.tuneNumber=n,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(r,t,n))};Zp.prototype.setX=function(e){this.x=e};Zp.prototype.createNote=function(e,t,n){var r=.75,i=t.duration[0],a=new cX(t,i,1,"tempo",n),s,l,u;i<=1/32?(u="noteheads.quarter",l="flags.u32nd",s=0):i<=1/16?(u="noteheads.quarter",l="flags.u16th",s=0):i<=3/32?(u="noteheads.quarter",l="flags.u16nd",s=1):i<=1/8?(u="noteheads.quarter",l="flags.u8th",s=0):i<=3/16?(u="noteheads.quarter",l="flags.u8th",s=1):i<=1/4?(u="noteheads.quarter",s=0):i<=3/8?(u="noteheads.quarter",s=1):i<=1/2?(u="noteheads.half",s=0):i<=3/4?(u="noteheads.half",s=1):i<=1?(u="noteheads.whole",s=0):i<=1.5?(u="noteheads.whole",s=1):i<=2?(u="noteheads.dbl",s=0):(u="noteheads.dbl",s=1);var c=e(a,u,{verticalPos:0},{dir:"up",flag:l,dot:s,scale:r}),f=c.notehead;a.addHead(f);var h;if(u!=="noteheads.whole"&&u!=="noteheads.dbl"){var p=.3333333333333333*r,m=5*r,v=f.dx+f.w,b=-.6;h=new uX(null,v,0,p,{type:"stem",pitch2:m,linewidth:b}),a.addRight(h)}return a};var fX=Zp,hf=function(t,n,r){this.type="TripletElem",this.anchor1=n,this.number=t,this.durationClass=("d"+Math.round(n.parent.durationClass*1e3)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=r.flatBeams};hf.prototype.isClosed=function(){return!!this.anchor2};hf.prototype.middleNote=function(e){this.middleElems.push(e)};hf.prototype.setCloseAnchor=function(e){this.anchor2=e,(!this.anchor1.parent.beam||this.anchor1.stemDir==="up")&&(this.endingHeightAbove=4)};var dX=hf;function jb(e){switch(e){case"B#":return"H#";case"B♯":return"H♯";case"B":return"H";case"Bb":return"B";case"B♭":return"B"}return e}function hX(e,t,n){var r=e.split(`
`);for(let i=0;i<r.length;i++){let s=r[i].match(/^([ABCDEFG][♯♭]?)?([^\/]+)?(\/([ABCDEFG][#b♯♭]?))?/);if(!s)continue;let l=s[1]||"",u=s[2]||"",c=s[4]||"";n&&(l=jb(l),c=jb(c));const f=t?"":"",h=c?"/"+c:"";r[i]=[l,u,h].join(f)}return r.join(`
`)}var pX=hX,ho=Li,ah=hr;const gX=pX;var vX=function(e,t,n,r,i,a,s,l){for(var u=0;u<n.chord.length;u++)for(var c=n.chord[u].position,f=n.chord[u].rel_position,h=n.chord[u].name.split(`
`),p=h.length-1;p>=0;p--){var m=h[p],v=0,b,w,x;c==="left"||c==="right"||c==="below"||c==="above"||f?(w="annotationfont",x="annotation"):(w="gchordfont",x="chord",m=gX(m,s,l));var C=e.attr(w,x),S=e.calc(m,w,x),_=S.width,M=S.height/ah.STEP;switch(c){case"left":r+=_+7,v=-r,b=n.averagepitch,t.addExtra(new ho(m,v,_+4,b,{type:"text",height:M,dim:C,position:"left"}));break;case"right":i+=4,v=i,b=n.averagepitch,t.addRight(new ho(m,v,_+4,b,{type:"text",height:M,dim:C,position:"right"}));break;case"below":t.addRight(new ho(m,0,0,void 0,{type:"text",position:"below",height:M,dim:C,realWidth:_}));break;case"above":t.addRight(new ho(m,0,0,void 0,{type:"text",position:"above",height:M,dim:C,realWidth:_}));break;default:if(f){var P=f.y+3*ah.STEP;t.addRight(new ho(m,v+f.x,0,n.minpitch+P/ah.STEP,{position:"relative",type:"text",height:M,dim:C}))}else{var A="above";n.positioning&&n.positioning.chordPosition&&(A=n.positioning.chordPosition),A!=="hidden"&&t.addCentered(new ho(m,a/2,_,void 0,{type:"chord",position:A,height:M,dim:C,realWidth:_}))}}}return{roomTaken:r,roomTakenRight:i}},mX=vX,Eo=Zo,R7=CY,Gb=PY,F7=NY,H7=BY,Tl=FY,D7=zY,bX=nX,z7=iX,Y0=Xa,vn=Li,El=hr,yX=lX,W7=fX,Ao=B7,wX=dX,_X=w7,U7=mX,xX=p7,Ha=dr,c1=function(e){var t=0;return e.duration&&(t=e.duration),t},fi=!1,oi={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},mn=function(e,t,n){this.decoration=new bX,this.getTextSize=e,this.tuneNumber=t,this.isBagpipes=n.bagpipes,this.flatBeams=n.flatbeams,this.graceSlurs=n.graceSlurs,this.percmap=n.percmap,this.initialClef=n.initialClef,this.jazzchords=!!n.jazzchords,this.germanAlphabet=!!n.germanAlphabet,this.reset()};mn.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0};mn.prototype.setStemHeight=function(e){this.stemHeight=Math.round(e*10/El.STEP)/10};mn.prototype.getCurrentVoiceId=function(e,t){return"s"+e+"v"+t};mn.prototype.pushCrossLineElems=function(e,t){this.slursbyvoice[this.getCurrentVoiceId(e,t)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(e,t)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(e,t)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(e,t)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(e,t)]=this.voiceColor)};mn.prototype.popCrossLineElems=function(e,t){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(e,t)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(e,t)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(e,t)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(e,t)],this.voiceScale===void 0&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(e,t)]};mn.prototype.containsLyrics=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].voices.length;n++)for(var r=0;r<e[t].voices[n].length;r++){var i=e[t].voices[n][r];if(i.lyric){(!i.positioning||i.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}};mn.prototype.createABCLine=function(e,t,n){this.minY=2,this.containsLyrics(e);var r=new yX(this.getTextSize);this.tempoSet=!1;for(var i=0;i<e.length;i++)fi&&this.restoreState(),fi=!1,this.createABCStaff(r,e[i],t,i,n);return r};mn.prototype.createABCStaff=function(e,t,n,r,i){e.getTextSize.updateFonts(t);for(var a=0;a<t.voices.length;a++){var s=new _X(a,t.voices.length);a===0?(s.barfrom=t.connectBarLines==="start"||t.connectBarLines==="continue",s.barto=t.connectBarLines==="continue"||t.connectBarLines==="end"):s.duplicate=!0,t.title&&t.title[a]&&(s.header=t.title[a].replace(/\\n/g,`
`),s.headerPosition=6+e.getTextSize.baselineToCenter(s.header,"voicefont","staff-extra voice-name",a,t.voices.length)/El.STEP),t.clef&&t.clef.type==="perc"&&(s.isPercussion=!0);var l=(!this.initialClef||i===0)&&F7(t.clef,this.tuneNumber);l&&(a===0&&t.barNumber&&this.addMeasureNumber(t.barNumber,l),s.addChild(l),this.startlimitelem=l);var u=H7(t.key,this.tuneNumber);if(u&&(s.addChild(u),this.startlimitelem=u),t.meter){t.meter.type==="specified"?this.measureLength=t.meter.value[0].num/t.meter.value[0].den:this.measureLength=1;var c=D7(t.meter,this.tuneNumber);s.addChild(c),this.startlimitelem=c}s.duplicate&&(s.children=[]);var f=t.clef.stafflines||t.clef.stafflines===0?t.clef.stafflines:5;e.addVoice(s,r,f);var h=f===1;this.createABCVoice(t.voices[a],n,r,a,h,s),e.setStaffLimits(s),a===0&&(t.brace==="start"||!e.brace&&t.brace?(e.brace||(e.brace=[]),e.brace.push(new Gb(s,"brace"))):t.brace==="end"&&e.brace?e.brace[e.brace.length-1].setBottomStaff(s):t.brace==="continue"&&e.brace&&e.brace[e.brace.length-1].continuing(s),t.bracket==="start"||!e.bracket&&t.bracket?(e.bracket||(e.bracket=[]),e.bracket.push(new Gb(s,"bracket"))):t.bracket==="end"&&e.bracket?e.bracket[e.bracket.length-1].setBottomStaff(s):t.bracket==="continue"&&e.bracket&&e.bracket[e.bracket.length-1].continuing(s))}};function MX(e,t){var n=e[t];if(n.el_type!=="note"||!n.startBeam||n.endBeam)return{count:1,elem:n};for(var r=[];t<e.length&&e[t].el_type==="note"&&(r.push(e[t]),!e[t].endBeam);)t++;return{count:r.length,elem:r}}mn.prototype.createABCVoice=function(e,t,n,r,i,a){this.popCrossLineElems(n,r),this.stemdir=this.isBagpipes?"down":null,this.abcline=e,this.partstartelem&&(this.partstartelem=new z7("",null,null),a.addOther(this.partstartelem));var s=a.voicetotal<2?-1:a.voicenumber;for(var l in this.slurs)this.slurs.hasOwnProperty(l)&&(this.slurs[l]=new Ao({force:this.slurs[l].force,voiceNumber:s,stemDir:this.slurs[l].stemDir,style:this.slurs[l].dotted}),fi&&this.slurs[l].setHint(),a.addOther(this.slurs[l]));for(var u=0;u<this.ties.length;u++)this.ties[u]=new Ao({force:this.ties[u].force,stemDir:this.ties[u].stemDir,voiceNumber:s,style:this.ties[u].dotted}),fi&&this.ties[u].setHint(),a.addOther(this.ties[u]);for(var c=0;c<this.abcline.length;c++)CX(this.abcline[c]),this.minY=Math.min(this.abcline[c].minpitch,this.minY);for(var f=n===0,h=0;h<this.abcline.length;){var p=MX(this.abcline,h),m=this.createABCElement(f,i,a,p.elem);if(m)for(u=0;u<m.length;u++){if(!this.tempoSet&&t&&!t.suppress){this.tempoSet=!0;var v=new Eo(t,0,0,"tempo",this.tuneNumber,{});v.addFixedX(new W7(t,this.tuneNumber,Tl)),a.addChild(v)}a.addChild(m[u])}h+=p.count}this.pushCrossLineElems(n,r)};mn.prototype.saveState=function(){this.tiesSave=Ha.cloneArray(this.ties),this.slursSave=Ha.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=Ha.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=Ha.cloneHashOfArrayOfHash(this.tiesbyvoice)};mn.prototype.restoreState=function(){this.ties=Ha.cloneArray(this.tiesSave),this.slurs=Ha.cloneHashOfHash(this.slursSave),this.slursbyvoice=Ha.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=Ha.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)};mn.prototype.createABCElement=function(e,t,n,r){var i=[];switch(r.el_type){case void 0:i=this.createBeam(t,n,r);break;case"note":i[0]=this.createNote(r,!1,t,n),this.triplet&&this.triplet.isClosed()&&(n.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":i[0]=this.createBarLine(n,r,e),n.duplicate&&i.length>0&&(i[0].invisible=!0);break;case"meter":i[0]=D7(r,this.tuneNumber),this.startlimitelem=i[0],n.duplicate&&i.length>0&&(i[0].invisible=!0);break;case"clef":if(i[0]=F7(r,this.tuneNumber),!i[0])return null;n.duplicate&&i.length>0&&(i[0].invisible=!0);break;case"key":var a=H7(r,this.tuneNumber);a&&(i[0]=a,this.startlimitelem=i[0]),n.duplicate&&i.length>0&&(i[0].invisible=!0);break;case"stem":this.stemdir=r.direction==="auto"?void 0:r.direction;break;case"part":var s=new Eo(r,0,0,"part",this.tuneNumber),l=this.getTextSize.calc(r.title,"partsfont","part");s.addFixedX(new vn(r.title,0,0,void 0,{type:"part",height:l.height/El.STEP})),i[0]=s;break;case"tempo":var u=new Eo(r,0,0,"tempo",this.tuneNumber);u.addFixedX(new W7(r,this.tuneNumber,Tl)),i[0]=u;break;case"style":r.head==="normal"?delete this.style:this.style=r.head;break;case"hint":fi=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=r.size;break;case"color":this.voiceColor=r.color,n.color=this.voiceColor;break;default:var c=new Eo(r,0,0,"unsupported",this.tuneNumber);c.addFixed(new vn("element type "+r.el_type,0,0,void 0,{type:"debug"})),i[0]=c}return i};function CX(e){if(e.pitches){PX(e);for(var t=0,n=0;n<e.pitches.length;n++)t+=e.pitches[n].verticalPos;e.averagepitch=t/e.pitches.length,e.minpitch=e.pitches[0].verticalPos,e.maxpitch=e.pitches[e.pitches.length-1].verticalPos}}mn.prototype.createBeam=function(e,t,n){var r=[],i=new R7(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,n[0]);fi&&i.setHint();for(var a=0;a<n.length;a++)i.runningDirection(n[a]);i.setStemDirection();var s=this.stemdir;for(this.stemdir=i.stemsUp?"up":"down",a=0;a<n.length;a++){var l=n[a],u=this.createNote(l,!0,e,t);r.push(u),i.add(u),this.triplet&&this.triplet.isClosed()&&(t.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return i.calcDir(),t.addBeam(i),this.stemdir=s,r};var PX=function(e){var t;do{t=!0;for(var n=0;n<e.pitches.length-1;n++)if(e.pitches[n].pitch>e.pitches[n+1].pitch){t=!1;var r=e.pitches[n];e.pitches[n]=e.pitches[n+1],e.pitches[n+1]=r}}while(!t)},V7=function(e,t,n,r,i,a,s,l,u){for(var c=n;c>11;c--)c%2===0&&!r&&e.addFixed(new vn(null,l,(i+4)*u,c,{type:"ledger"}));for(c=t;c<1;c++)c%2===0&&!r&&e.addFixed(new vn(null,l,(i+4)*u,c,{type:"ledger"}));for(c=0;c<a.length;c++){var f=i;s==="down"&&(f=-f),e.addFixed(new vn(null,f+l,(i+4)*u,a[c],{type:"ledger"}))}};mn.prototype.addGraceNotes=function(e,t,n,r,i,a,s){var l=.6,u=3.5/5;i=Math.round(i*u);var c=null,f;e.gracenotes.length>1&&(c=new R7(i,"grace",a),fi&&c.setHint(),c.mainNote=n);var h,p=[];for(h=e.gracenotes.length-1;h>=0;h--)s+=10,p[h]=s,e.gracenotes[h].accidental&&(s+=7);for(h=0;h<e.gracenotes.length;h++){var m=e.gracenotes[h].verticalPos;f=c?null:oi.uflags[a?5:3];var v=[],b=Tl(n,"noteheads.quarter",e.gracenotes[h],{dir:"up",headx:-p[h],extrax:-p[h],flag:f,scale:l*this.voiceScale,accidentalSlot:v});b.notehead.highestVert=b.notehead.pitch+i;var w=b.notehead;if(this.addSlursAndTies(n,e.gracenotes[h],w,t,"up",!0),n.addExtra(w),e.gracenotes[h].acciaccatura){var x=e.gracenotes[h].verticalPos+7*l,C=c?5:6;n.addRight(new vn("flags.ugrace",-p[h]+C,0,x,{scalex:l,scaley:l}))}if(c){var S=e.gracenotes[h].duration/2;a&&(S/=2);var _={heads:[w],abcelem:{averagepitch:m,minpitch:m,maxpitch:m,duration:S}};c.add(_)}else{var M=m+.3333333333333333*l,P=m+7*l,A=w.dx+w.w,k=-.6;n.addExtra(new vn(null,A,0,M,{type:"stem",pitch2:P,linewidth:k}))}V7(n,m,m,!1,Y0.getSymbolWidth("noteheads.quarter"),[],!0,w.dx-1,.6);var B=e.rest&&(e.rest.type==="spacer"||e.rest.type==="invisible");h===0&&!a&&this.graceSlurs&&!B&&t.addOther(new Ao({anchor1:w,anchor2:r,isGrace:!0}))}return c&&(c.calcDir(),t.addBeam(c)),s};function SX(e,t,n,r,i,a,s,l,u){var c,f=7,h,p,m;switch(i&&(a==="down"&&(f=3),a==="up"&&(f=11)),s&&(n<.5||n<1?f=7:f=5),t.rest.type){case"whole":c=oi.rest[0],t.averagepitch=f,t.minpitch=f,t.maxpitch=f,r=0;break;case"rest":t.style==="rhythm"?c=oi.rhythm[-l]:c=oi.rest[-l],t.averagepitch=f,t.minpitch=f,t.maxpitch=f;break;case"invisible":case"invisible-multimeasure":case"spacer":c="",t.averagepitch=f,t.minpitch=f,t.maxpitch=f;break;case"multimeasure":c=oi.rest.multi,t.averagepitch=f,t.minpitch=f,t.maxpitch=f,r=0;var v=Y0.getSymbolWidth(c);e.addHead(new vn(c,v,v*2,7));var b=new vn(""+t.rest.text,v,v,16,{type:"multimeasure-text"});e.addExtra(b)}if(t.rest.type.indexOf("multimeasure")<0&&t.rest.type!=="invisible"){var w=Tl(e,c,{verticalPos:f},{dot:r,scale:u});h=w.notehead,h&&(e.addHead(h),p=w.accidentalshiftx,m=w.dotshiftx)}return{noteHead:h,roomTaken:p,roomTakenRight:m}}function Kb(e,t){for(var n=0;n<e.length;n++)if(JSON.stringify(e[n])===JSON.stringify(t))return;e.push(t)}mn.prototype.addNoteToAbcElement=function(e,t,n,r,i,a,s,l,u){var c=0,f,h=0,p=0,m,v,b=[],w=[],x=0,C=t.averagepitch>=6?"down":"up";r&&(C=r),i=t.style?t.style:i,(!i||i==="normal")&&(i="note");var S;a?S=oi[i].nostem:S=oi[i][-s],S||console.log("noteSymbol:",i,s,a);var _;for(_=C==="down"?t.pitches.length-2:1;C==="down"?_>=0:_<t.pitches.length;_=C==="down"?_-1:_+1){var M=t.pitches[C==="down"?_+1:_-1],P=t.pitches[_],A=C==="down"?M.pitch-P.pitch:P.pitch-M.pitch;A<=1&&!M.printer_shift&&(P.printer_shift=A?"different":"same",(P.verticalPos>11||P.verticalPos<1)&&b.push(P.verticalPos-P.verticalPos%2),C==="down"?h=Y0.getSymbolWidth(S)+2:c=Y0.getSymbolWidth(S)+2)}var k=t.pitches.length;for(_=0;_<t.pitches.length;_++){if(!l){var B;C==="down"&&_!==0||C==="up"&&_!==k-1?B=null:B=oi[C==="down"?"dflags":"uflags"][-s]}var F;if(t.pitches[_].style)F=oi[t.pitches[_].style][-s];else if(u.isPercussion&&this.percmap){F=S;var U=this.percmap[xX(t.pitches[_])];U&&U.noteHead&&oi[U.noteHead]&&(F=oi[U.noteHead][-s])}else F=S;t.pitches[_].highestVert=t.pitches[_].verticalPos;var R=(r==="up"||C==="up")&&_===0,L=(r==="down"||C==="down")&&_===k-1;if(R||L){if((t.startSlur||k===1)&&(t.pitches[_].highestVert=t.pitches[k-1].verticalPos,c1(t)<1&&(r==="up"||C==="up")&&(t.pitches[_].highestVert+=6)),t.startSlur)for(t.pitches[_].startSlur||(t.pitches[_].startSlur=[]),v=0;v<t.startSlur.length;v++)Kb(t.pitches[_].startSlur,t.startSlur[v]);if(t.endSlur)for(t.pitches[_].highestVert=t.pitches[k-1].verticalPos,c1(t)<1&&(r==="up"||C==="up")&&(t.pitches[_].highestVert+=6),t.pitches[_].endSlur||(t.pitches[_].endSlur=[]),v=0;v<t.endSlur.length;v++)Kb(t.pitches[_].endSlur,t.endSlur[v])}var D=!l&&s<=-1,q=Tl(e,F,t.pitches[_],{dir:C,extrax:-h,flag:B,dot:n,dotshiftx:c,scale:this.voiceScale,accidentalSlot:w,shouldExtendStem:!r,printAccidentals:!u.isPercussion});x=Math.max(Y0.getSymbolWidth(F),x),e.extraw-=q.extraLeft,f=q.notehead,f&&(this.addSlursAndTies(e,t.pitches[_],f,u,D?C:null,!1),t.gracenotes&&t.gracenotes.length>0&&(f.bottom=f.bottom-1),e.addHead(f)),h+=q.accidentalshiftx,p=Math.max(p,q.dotshiftx)}if(D){var N=Math.round(70*this.voiceScale)/10,O=C==="down"?t.minpitch-N:t.minpitch+1/3;O>6&&!r&&(O=6);var H=C==="down"?t.maxpitch-1/3:t.maxpitch+N;H<6&&!r&&(H=6);var V=C==="down"||e.heads.length===0?0:e.heads[0].w,ne=C==="down"?1:-1;f&&f.c==="noteheads.slash.quarter"&&(C==="down"?H-=1:O+=1),e.addRight(new vn(null,V,0,O,{type:"stem",pitch2:H,linewidth:ne,bottom:O-1})),m=Math.min(O,H)}return{noteHead:f,roomTaken:h,roomTakenRight:p,min:m,additionalLedgers:b,dir:C,symbolWidth:x}};mn.prototype.addLyric=function(e,t){var n="";t.lyric.forEach(function(a){var s=a.divider===" "?"":a.divider;n+=a.syllable+s+`
`});var r=this.getTextSize.calc(n,"vocalfont","lyric"),i=t.positioning?t.positioning.vocalPosition:"below";e.addCentered(new vn(n,0,r.width,void 0,{type:"lyric",position:i,height:r.height/El.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))};mn.prototype.createNote=function(e,t,n,r){var i=null,a=0,s=0,l=0,u=[],c,f=c1(e),h=!1;f===0&&(h=!0,f=.25,t=!0);for(var p=Math.floor(Math.log(f)/Math.log(2)),m=0,v=Math.pow(2,p),b=v/2;v<f;m++,v+=b,b/=2);e.startTriplet&&(this.tripletmultiplier=e.tripletMultiplier);var w=f*this.tripletmultiplier;e.rest&&e.rest.type==="multimeasure"&&(w=1),e.rest&&e.rest.type==="invisible-multimeasure"&&(w=this.measureLength*e.rest.text);var x=e.rest?"rest":"note",C=new Eo(e,w,1,x,this.tuneNumber,{durationClassOveride:e.duration*this.tripletmultiplier});if(fi&&C.setHint(),e.rest){this.measureLength===f&&e.rest.type!=="invisible"&&e.rest.type!=="spacer"&&e.rest.type.indexOf("multimeasure")<0&&(e.rest.type="whole");var S=SX(C,e,f,m,r.voicetotal>1,this.stemdir,n,p,this.voiceScale);i=S.noteHead,a=S.roomTaken,s=S.roomTakenRight}else{var _=this.addNoteToAbcElement(C,e,m,this.stemdir,this.style,h,p,t,r);_.min!==void 0&&(this.minY=Math.min(_.min,this.minY)),i=_.noteHead,a=_.roomTaken,s=_.roomTakenRight,u=_.additionalLedgers,c=_.dir,l=_.symbolWidth}if(e.lyric!==void 0&&this.addLyric(C,e),e.gracenotes!==void 0&&(a+=this.addGraceNotes(e,r,C,i,this.stemHeight*this.voiceScale,this.isBagpipes,a)),e.decoration&&this.decoration.createDecoration(r,e.decoration,C.top,i?i.w:0,C,a,c,C.bottom,e.positioning,this.hasVocals),e.barNumber&&C.addFixed(new vn(e.barNumber,-10,0,0,{type:"barNumber"})),V7(C,e.minpitch,e.maxpitch,e.rest,l,u,c,-2,1),e.chord!==void 0){var M=U7(this.getTextSize,C,e,a,s,l,this.jazzchords,this.germanAlphabet);a=M.roomTaken,s=M.roomTakenRight}return e.startTriplet&&(this.triplet=new wX(e.startTriplet,i,{flatBeams:this.flatBeams})),e.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(i),this.triplet&&!e.startTriplet&&!e.endTriplet&&!(e.rest&&e.rest.type==="spacer")&&this.triplet.middleNote(i),C};mn.prototype.addSlursAndTies=function(e,t,n,r,i,a){if(t.endTie&&this.ties.length>0){for(var s=!1,l=0;l<this.ties.length;l++)if(this.ties[l].anchor1&&this.ties[l].anchor1.pitch===n.pitch){this.ties[l].setEndAnchor(n),r.setRange(this.ties[l]),this.ties.splice(l,1),s=!0;break}s||(this.ties[0].setEndAnchor(n),r.setRange(this.ties[0]),this.ties.splice(0,1))}var u=r.voicetotal<2?-1:r.voicenumber;if(t.startTie){var c=new Ao({anchor1:n,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:a,voiceNumber:u,style:t.startTie.style});fi&&c.setHint(),this.ties[this.ties.length]=c,r.addOther(c),e.startTie=!0}var f,h;if(t.endSlur)for(var p=0;p<t.endSlur.length;p++)h=t.endSlur[p],this.slurs[h]?(f=this.slurs[h],f.setEndAnchor(n),r.setRange(f),delete this.slurs[h]):(f=new Ao({anchor2:n,stemDir:this.stemdir,voiceNumber:u}),fi&&f.setHint(),r.addOther(f)),this.startlimitelem&&f.setStartX(this.startlimitelem);else if(!a)for(var m in this.slurs)this.slurs.hasOwnProperty(m)&&this.slurs[m].addInternalNote(n);if(t.startSlur)for(p=0;p<t.startSlur.length;p++)h=t.startSlur[p].label,f=new Ao({anchor1:n,stemDir:this.stemdir,voiceNumber:u,style:t.startSlur[p].style}),fi&&f.setHint(),this.slurs[h]=f,r.addOther(f)};mn.prototype.addMeasureNumber=function(e,t){var n=this.getTextSize.calc(e,"measurefont","bar-number"),r=0;t.isClef&&(r+=n.width/2);var i=n.width>10&&t.abcelem.type==="treble"?13:11;t.addFixed(new vn(e,r,n.width,i+n.height/El.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))};mn.prototype.createBarLine=function(e,t,n){var r=new Eo(t,0,10,"bar",this.tuneNumber),i=null,a=0;t.barNumber&&this.addMeasureNumber(t.barNumber,r);var s=t.type==="bar_right_repeat"||t.type==="bar_dbl_repeat",l=t.type!=="bar_left_repeat"&&t.type!=="bar_thick_thin"&&t.type!=="bar_invisible",u=t.type==="bar_right_repeat"||t.type==="bar_dbl_repeat"||t.type==="bar_left_repeat"||t.type==="bar_thin_thick"||t.type==="bar_thick_thin",c=t.type==="bar_left_repeat"||t.type==="bar_thick_thin"||t.type==="bar_thin_thin"||t.type==="bar_dbl_repeat",f=t.type==="bar_left_repeat"||t.type==="bar_dbl_repeat";if(s||f){for(var h in this.slurs)this.slurs.hasOwnProperty(h)&&this.slurs[h].setEndX(r);this.startlimitelem=r}if(s&&(r.addRight(new vn("dots.dot",a,1,7)),r.addRight(new vn("dots.dot",a,1,5)),a+=6),l&&(i=new vn(null,a,1,2,{type:"bar",pitch2:10,linewidth:.6}),r.addRight(i)),t.type==="bar_invisible"&&(i=new vn(null,a,1,2,{type:"none",pitch2:10,linewidth:.6}),r.addRight(i)),t.decoration&&this.decoration.createDecoration(e,t.decoration,12,u?3:1,r,0,"down",2,t.positioning,this.hasVocals),u&&(a+=4,i=new vn(null,a,4,2,{type:"bar",pitch2:10,linewidth:4}),r.addRight(i),a+=5),this.partstartelem&&t.endEnding&&(this.partstartelem.anchor2=i,this.partstartelem=null),c&&(a+=3,i=new vn(null,a,1,2,{type:"bar",pitch2:10,linewidth:.6}),r.addRight(i)),f&&(a+=3,r.addRight(new vn("dots.dot",a,1,7)),r.addRight(new vn("dots.dot",a,1,5))),t.startEnding&&n){var p=this.getTextSize.calc(t.startEnding,"repeatfont","").width;r.minspacing+=p+10,this.partstartelem=new z7(t.startEnding,i,null),e.addOther(this.partstartelem)}return r.extraw-=5,t.chord!==void 0&&U7(this.getTextSize,r,t,0,0,0,!1,this.germanAlphabet),r};var TX=mn,Dr="http://www.w3.org/2000/svg";function en(e){this.svg=eg(),this.currentGroup=[],e.appendChild(this.svg)}en.prototype.clear=function(){if(this.svg){var e=this.svg.parentNode;this.svg=eg(),this.currentGroup=[],e&&(e.innerHTML="",e.appendChild(this.svg))}};en.prototype.setTitle=function(e){var t=document.createElement("title"),n=document.createTextNode(e);t.appendChild(n),this.svg.insertBefore(t,this.svg.firstChild)};en.prototype.setResponsiveWidth=function(e,t){if(this.svg.setAttribute("viewBox","0 0 "+e+" "+t),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var n=this.svg.parentNode.getAttribute("class");n?n.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",n+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var r=t/e*100;this.svg.parentNode.style["padding-bottom"]=r+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}};en.prototype.setSize=function(e,t){this.svg.setAttribute("width",e),this.svg.setAttribute("height",t)};en.prototype.setAttribute=function(e,t){this.svg.setAttribute(e,t)};en.prototype.setScale=function(e){e!==1?(this.svg.style.transform="scale("+e+","+e+")",this.svg.style["-ms-transform"]="scale("+e+","+e+")",this.svg.style["-webkit-transform"]="scale("+e+","+e+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")};en.prototype.insertStyles=function(e){var t=document.createElementNS(Dr,"style");t.textContent=e,this.svg.insertBefore(t,this.svg.firstChild)};en.prototype.setParentStyles=function(e){for(var t in e)e.hasOwnProperty(t)&&this.svg.parentNode&&(this.svg.parentNode.style[t]=e[t]);if(this.dummySvg){var n=document.querySelector("body");n.removeChild(this.dummySvg),this.dummySvg=null}};function Yb(e,t,n){var r=n-e;return"M "+e+" "+t+" l "+r+" 0 l 0 1  l "+-r+" 0  z "}function Xb(e,t,n){var r=n-t;return"M "+e+" "+t+" l 0 "+r+" l 1 0  l 0 "+-r+"  z "}en.prototype.rect=function(e){var t=[],n=e.x,r=e.y,i=e.x+e.width,a=e.y+e.height;return t.push(Yb(n,r,i)),t.push(Yb(n,a,i)),t.push(Xb(i,r,a)),t.push(Xb(n,a,r)),this.path({path:t.join(" "),stroke:"none","data-name":e["data-name"]})};en.prototype.dottedLine=function(e){var t=document.createElementNS(Dr,"line");t.setAttribute("x1",e.x1),t.setAttribute("x2",e.x2),t.setAttribute("y1",e.y1),t.setAttribute("y2",e.y2),t.setAttribute("stroke",e.stroke),t.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(t,this.svg.firstChild)};en.prototype.rectBeneath=function(e){var t=document.createElementNS(Dr,"rect");t.setAttribute("x",e.x),t.setAttribute("width",e.width),t.setAttribute("y",e.y),t.setAttribute("height",e.height),e.stroke&&t.setAttribute("stroke",e.stroke),e["stroke-opacity"]&&t.setAttribute("stroke-opacity",e["stroke-opacity"]),e.fill&&t.setAttribute("fill",e.fill),e["fill-opacity"]&&t.setAttribute("fill-opacity",e["fill-opacity"]),this.svg.insertBefore(t,this.svg.firstChild)};en.prototype.text=function(e,t,n){var r=document.createElementNS(Dr,"text");r.setAttribute("stroke","none");for(var i in t)t.hasOwnProperty(i)&&r.setAttribute(i,t[i]);for(var a=(""+e).split(`
`),s=0;s<a.length;s++){var l=document.createElementNS(Dr,"tspan");if(l.setAttribute("x",t.x?t.x:0),s!==0&&l.setAttribute("dy","1.2em"),a[s].indexOf("")!==-1){var u=a[s].split("");if(l.textContent=u[0],u[1]){var c=document.createElementNS(Dr,"tspan");c.setAttribute("dy","-0.3em"),c.setAttribute("style","font-size:0.7em"),c.textContent=u[1],l.appendChild(c)}if(u[2]){var f=u[1]?"0.4em":"0.1em",h=document.createElementNS(Dr,"tspan");h.setAttribute("dy",f),h.setAttribute("style","font-size:0.7em"),h.textContent=u[2],l.appendChild(h)}}else l.textContent=a[s];r.appendChild(l)}return n?n.appendChild(r):this.append(r),r};en.prototype.guessWidth=function(e,t){var n=this.createDummySvg(),r=this.text(e,t,n),i;try{i=r.getBBox(),isNaN(i.height)||!i.height?i={width:t["font-size"]/2,height:t["font-size"]+2}:i={width:i.width,height:i.height}}catch{i={width:t["font-size"]/2,height:t["font-size"]+2}}return n.removeChild(r),i};en.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=eg();var e=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",e.join(""));var t=document.querySelector("body");t.appendChild(this.dummySvg)}return this.dummySvg};var sh={};en.prototype.getTextSize=function(e,t,n){if(typeof e=="number"&&(e=""+e),!e||e.match(/^\s+$/))return{width:0,height:0};var r;if(e.length<20&&(r=e+JSON.stringify(t),sh[r]))return sh[r];var i=!n;n||(n=this.text(e,t));var a;try{a=n.getBBox(),isNaN(a.height)||!a.height?a=this.guessWidth(e,t):a={width:a.width,height:a.height}}catch{a=this.guessWidth(e,t)}return i&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(n):this.svg.removeChild(n)),r&&(sh[r]=a),a};en.prototype.openGroup=function(e){e=e||{};var t=document.createElementNS(Dr,"g");return e.klass&&t.setAttribute("class",e.klass),e.fill&&t.setAttribute("fill",e.fill),e.stroke&&t.setAttribute("stroke",e.stroke),e["data-name"]&&t.setAttribute("data-name",e["data-name"]),e.prepend?this.prepend(t):this.append(t),this.currentGroup.unshift(t),t};en.prototype.closeGroup=function(){var e=this.currentGroup.shift();return e&&e.children.length===0?(e.parentElement.removeChild(e),null):e};en.prototype.path=function(e){var t=document.createElementNS(Dr,"path");for(var n in e)e.hasOwnProperty(n)&&(n==="path"?t.setAttributeNS(null,"d",e.path):n==="klass"?t.setAttributeNS(null,"class",e[n]):e[n]!==void 0&&t.setAttributeNS(null,n,e[n]));return this.append(t),t};en.prototype.pathToBack=function(e){var t=document.createElementNS(Dr,"path");for(var n in e)e.hasOwnProperty(n)&&(n==="path"?t.setAttributeNS(null,"d",e.path):n==="klass"?t.setAttributeNS(null,"class",e[n]):t.setAttributeNS(null,n,e[n]));return this.prepend(t),t};en.prototype.lineToBack=function(e){for(var t=document.createElementNS(Dr,"line"),n=Object.keys(e),r=0;r<n.length;r++)t.setAttribute(n[r],e[n[r]]);return this.prepend(t),t};en.prototype.append=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.appendChild(e)};en.prototype.prepend=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.insertBefore(e,this.svg.firstChild)};en.prototype.setAttributeOnElement=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttributeNS(null,n,t[n])};en.prototype.moveElementToChild=function(e,t){e.appendChild(t)};function eg(){var e=document.createElementNS(Dr,"svg");return e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("role","img"),e.setAttribute("fill","currentColor"),e.setAttribute("stroke","currentColor"),e}var EX=en,q7=hr,AX=EX,Yr=function(e){this.paper=new AX(e),this.controller=null,this.space=3*q7.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};Yr.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()};Yr.prototype.newTune=function(e){this.abctune=e,this.setVerticalSpace(e.formatting),this.isPrint=e.media==="print",this.setPadding(e)};Yr.prototype.setLineThickness=function(e){this.lineThickness=e};Yr.prototype.setPaddingOverride=function(e){this.paddingOverride={top:e.paddingtop,bottom:e.paddingbottom,right:e.paddingright,left:e.paddingleft}};Yr.prototype.setPadding=function(e){function t(n,r,i,a,s){e.formatting[i]!==void 0?n.padding[r]=e.formatting[i]:n.paddingOverride[r]!==void 0?n.padding[r]=n.paddingOverride[r]:n.isPrint?n.padding[r]=a:n.padding[r]=s}t(this,"top","topmargin",38,15),t(this,"bottom","botmargin",38,15),t(this,"left","leftmargin",68,15),t(this,"right","rightmargin",68,15)};Yr.prototype.adjustNonScaledItems=function(e){this.padding.top/=e,this.padding.bottom/=e,this.padding.left/=e,this.padding.right/=e,this.abctune.formatting.headerfont.size/=e,this.abctune.formatting.footerfont.size/=e};Yr.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}};Yr.prototype.setVerticalSpace=function(e){e.staffsep!==void 0&&(this.spacing.staffSeparation=e.staffsep*4/3),e.composerspace!==void 0&&(this.spacing.composer=e.composerspace*4/3),e.partsspace!==void 0&&(this.spacing.parts=e.partsspace*4/3),e.textspace!==void 0&&(this.spacing.text=e.textspace*4/3),e.musicspace!==void 0&&(this.spacing.music=e.musicspace*4/3),e.titlespace!==void 0&&(this.spacing.title=e.titlespace*4/3),e.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=e.sysstaffsep*4/3),e.subtitlespace!==void 0&&(this.spacing.subtitle=e.subtitlespace*4/3),e.topspace!==void 0&&(this.spacing.top=e.topspace*4/3),e.vocalspace!==void 0&&(this.spacing.vocal=e.vocalspace*4/3),e.wordsspace!==void 0&&(this.spacing.words=e.wordsspace*4/3)};Yr.prototype.calcY=function(e){return this.y-e*q7.STEP};Yr.prototype.moveY=function(e,t){t===void 0&&(t=1),this.y+=e*t};Yr.prototype.absolutemoveY=function(e){this.y=e};var kX=Yr;function OX(e,t,n,r,i,a){var s=e.text;this.rows=[];var l;t&&this.rows.push({move:t});var u=n.calc("textfont","defined-text");if(s==="")this.rows.push({move:u.attr["font-size"]*2});else if(typeof s=="string")this.rows.push({move:u.attr["font-size"]/2}),this.rows.push({left:r,text:s,font:"textfont",klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),l=a.calc(s,"textfont","defined-text"),this.rows.push({move:l.height});else if(s){for(var c=0,f=r,h="textfont",p=0;p<s.length;p++)s[p].font?h=s[p].font:h="textfont",this.rows.push({left:f,text:s[p].text,font:h,klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),l=a.calc(s[p].text,n.calc(h,"defined-text").font,"defined-text"),f+=l.width+l.height/2,c=Math.max(c,l.height);this.rows.push({move:c})}else if(e.length===1){var m=i/2;this.rows.push({left:m,text:e[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),l=a.calc(e[0].text,"textfont","defined-text"),this.rows.push({move:l.height})}}var NX=OX;function IX(e,t,n){this.rows=[],e&&this.rows.push({move:e}),this.rows.push({separator:t,absElemType:"separator"}),n&&this.rows.push({move:n})}var LX=IX;function $X(e,t,n,r,i,a){this.rows=[],e&&this.rows.push({move:e});var s=t.titleleft?"start":"middle",l=t.titleleft?i:r;this.rows.push({left:l,text:n.text,font:"subtitlefont",klass:"text subtitle",anchor:s,startChar:n.startChar,endChar:n.endChar,absElemType:"subtitle",name:"subtitle"});var u=a.calc(n.text,"subtitlefont","text subtitle");this.rows.push({move:u.height})}var BX=$X;function RX(e,t,n){if(t.text){t.marginLeft||(t.marginLeft=0),t.klass||(t.klass=""),t.anchor||(t.anchor="start"),t.info||(t.info={startChar:-2,endChar:-2}),t.marginTop&&e.push({move:t.marginTop});var r={left:t.marginLeft,text:t.text,font:t.font,anchor:t.anchor,startChar:t.info.startChar,endChar:t.info.endChar};t.absElemType&&(r.absElemType=t.absElemType),t.inGroup||(r.klass=t.klass),t.name&&(r.name=t.name),e.push(r);var i=n.calc("A",t.font,t.klass),a=t.text.split(`
`).length;if(t.text[t.text.length-1]===`
`&&a--,!t.noMove){var s=i.height*1.1*a;e.push({move:Math.round(s)}),t.marginBottom&&e.push({move:t.marginBottom})}}}var j7=RX;const Yi=j7;function FX(e,t,n,r,i,a,s,l,u){if(this.rows=[],e.header&&a){var c=u.calc("X","headerfont","abcjs-header abcjs-meta-top").height;Yi(this.rows,{marginLeft:s,text:e.header.left,font:"headerfont",klass:"header meta-top",marginTop:-c,info:t.header,name:"header"},u),Yi(this.rows,{marginLeft:s+i/2,text:e.header.center,font:"headerfont",klass:"header meta-top",marginTop:-c,anchor:"middle",info:t.header,name:"header"},u),Yi(this.rows,{marginLeft:s+i,text:e.header.right,font:"headerfont",klass:"header meta-top",marginTop:-c,anchor:"end",info:t.header,name:"header"},u)}a&&this.rows.push({move:l.top});var f=n.titleleft?"start":"middle",h=n.titleleft?s:s+i/2;if(e.title&&Yi(this.rows,{marginLeft:h,text:e.title,font:"titlefont",klass:"title meta-top",marginTop:l.title,anchor:f,absElemType:"title",info:t.title,name:"title"},u),r.length)for(var p=0;p<r.length&&r[p].subtitle;)Yi(this.rows,{marginLeft:h,text:r[p].subtitle.text,font:"subtitlefont",klass:"text meta-top subtitle",marginTop:l.subtitle,anchor:f,absElemType:"subtitle",info:r[p].subtitle,name:"subtitle"},u),p++;if(e.rhythm||e.origin||e.composer){if(this.rows.push({move:l.composer}),e.rhythm&&e.rhythm.length>0){var m=!!(e.composer||e.origin);Yi(this.rows,{marginLeft:s,text:e.rhythm,font:"infofont",klass:"meta-top rhythm",absElemType:"rhythm",noMove:m,info:t.rhythm,name:"rhythm"},u)}var v="";e.composer&&(v+=e.composer),e.origin&&(v+=" ("+e.origin+")"),v.length>0&&Yi(this.rows,{marginLeft:s+i,text:v,font:"composerfont",klass:"meta-top composer",anchor:"end",absElemType:"composer",info:t.composer,name:"composer"},u)}e.author&&e.author.length>0&&Yi(this.rows,{marginLeft:s+i,text:e.author,font:"composerfont",klass:"meta-top author",anchor:"end",absElemType:"author",info:t.author,name:"author"},u),e.partOrder&&e.partOrder.length>0&&Yi(this.rows,{marginLeft:s,text:e.partOrder,font:"partsfont",klass:"meta-top part-order",absElemType:"partOrder",info:t.partOrder,name:"part-order"},u)}var HX=FX;const X0=j7;function pf(e,t,n,r,i,a){this.rows=[],e.unalignedWords&&e.unalignedWords.length>0&&this.unalignedWords(e.unalignedWords,r,i,a),this.extraText(e,r,i,a),e.footer&&n&&this.footer(e.footer,t,r,a)}pf.prototype.unalignedWords=function(e,t,n,r){var i="meta-bottom unaligned-words",a="wordsfont";this.rows.push({startGroup:"unalignedWords",klass:"abcjs-meta-bottom abcjs-unaligned-words",name:"words"});var s=r.calc("i",a,i);this.rows.push({move:n.words});for(var l=0;l<e.length;l++)if(e[l]==="")this.rows.push({move:s.height});else if(typeof e[l]=="string")X0(this.rows,{marginLeft:t,text:e[l],font:a,klass:i,inGroup:!0,name:"words"},r);else{for(var u=0,c=0,f=0;f<e[l].length;f++){var h=e[l][f],p=h.font?h.font:a;this.rows.push({left:t+c,text:h.text,font:p,anchor:"start"});var m=r.calc(h.text,a,i);u=Math.max(u,m.height),c+=m.width,h.text[h.text.length-1]===" "&&(c+=s.width)}this.rows.push({move:u})}this.rows.push({move:s.height*2}),this.rows.push({endGroup:"unalignedWords",absElemType:"unalignedWords",startChar:-1,endChar:-1,name:"unalignedWords"})};pf.prototype.extraText=function(e,t,n,r){var i="";e.book&&(i+="Book: "+e.book+`
`),e.source&&(i+="Source: "+e.source+`
`),e.discography&&(i+="Discography: "+e.discography+`
`),e.notes&&(i+="Notes: "+e.notes+`
`),e.transcription&&(i+="Transcription: "+e.transcription+`
`),e.history&&(i+="History: "+e.history+`
`),e["abc-copyright"]&&(i+="Copyright: "+e["abc-copyright"]+`
`),e["abc-creator"]&&(i+="Creator: "+e["abc-creator"]+`
`),e["abc-edited-by"]&&(i+="Edited By: "+e["abc-edited-by"]+`
`),i.length>0&&X0(this.rows,{marginLeft:t,text:i,font:"historyfont",klass:"meta-bottom extra-text",marginTop:n.info,absElemType:"extraText",name:"description"},r)};pf.prototype.footer=function(e,t,n,r){var i="header meta-bottom",a="footerfont";this.rows.push({startGroup:"footer",klass:i}),X0(this.rows,{marginLeft:n,text:e.left,font:a,klass:i,name:"footer"},r),X0(this.rows,{marginLeft:n+t/2,text:e.center,font:a,klass:i,anchor:"middle",name:"footer"},r),X0(this.rows,{marginLeft:n+t,text:e.right,font:a,klass:i,anchor:"end",name:"footer"},r)};var DX=pf,Du=hr;function zX(e,t){if(e.rangeHighlight=JX,e.dragging)for(var n=0;n<e.selectables.length;n++){var r=e.selectables[n];r.svgEl.getAttribute("selectable")==="true"&&(r.svgEl.setAttribute("tabindex",0),r.svgEl.setAttribute("data-index",n),r.svgEl.addEventListener("keydown",VX.bind(e)),r.svgEl.addEventListener("keyup",qX.bind(e)),r.svgEl.addEventListener("focus",UX.bind(e)))}for(var i=0;i<t.length;i++)t[i].addEventListener("touchstart",Jb.bind(e),{passive:!0}),t[i].addEventListener("touchmove",Qb.bind(e),{passive:!0}),t[i].addEventListener("touchend",pl.bind(e),{passive:!0}),t[i].addEventListener("mousedown",Jb.bind(e)),t[i].addEventListener("mousemove",Qb.bind(e)),t[i].addEventListener("mouseup",pl.bind(e))}function WX(e){var t=1,n=1,r=e.target.closest("svg"),i=0;r&&r.viewBox&&r.viewBox.baseVal&&(r.viewBox.baseVal.width!==0&&(t=r.viewBox.baseVal.width/r.clientWidth),r.viewBox.baseVal.height!==0&&(n=r.viewBox.baseVal.height/r.clientHeight),i=r.viewBox.baseVal.y);var a=e.target&&e.target.tagName==="svg",s,l;return a?(s=e.offsetX,l=e.offsetY):(s=e.layerX,l=e.layerY),s=s*t,l=l*n,[s,l+i]}function UX(e){this.dragMechanism==="keyboard"&&this.dragYStep!==0&&this.dragTarget&&K7.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,e),this.dragYStep=0}function VX(e){switch(e.keyCode){case 38:case 40:e.preventDefault()}}function qX(e){var t=!1,n=e.target.dataset.index;switch(e.keyCode){case 13:case 32:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",pl.bind(this)(e);break;case 38:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*Du.STEP+")"));break;case 40:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*Du.STEP+")"));break;case 9:this.dragYStep!==0&&pl.bind(this)(e);break}t&&e.preventDefault()}function jX(e,t){for(var n=0;n<e.length;n++)if(t.dataset.index===e[n].svgEl.dataset.index)return n;return-1}function GX(e,t,n){for(var r=9999999,i=-1,a=0;a<e.selectables.length&&r>0;a++){var s=e.selectables[a];if(e.getDim(s),s.dim.left<t&&s.dim.right>t&&s.dim.top<n&&s.dim.bottom>n)i=a,r=0;else if(s.dim.top<n&&s.dim.bottom>n){var l=Math.min(Math.abs(s.dim.left-t),Math.abs(s.dim.right-t));l<r&&(r=l,i=a)}else if(s.dim.left<t&&s.dim.right>t){var u=Math.min(Math.abs(s.dim.top-n),Math.abs(s.dim.bottom-n));u<r&&(r=u,i=a)}else{var c=Math.abs(t-s.dim.left)>Math.abs(t-s.dim.right)?Math.abs(t-s.dim.right):Math.abs(t-s.dim.left),f=Math.abs(n-s.dim.top)>Math.abs(n-s.dim.bottom)?Math.abs(n-s.dim.bottom):Math.abs(n-s.dim.top),h=Math.sqrt(c*c+f*f);h<r&&(r=h,i=a)}}return i>=0&&r<=12?i:-1}function KX(e,t,n){if(e.x<=t.offsetX&&e.x+e.width>=t.offsetX&&e.y<=t.offsetY&&e.y+e.height>=t.offsetY)return[t.offsetX,t.offsetY];var r=Math.abs(t.layerY/n-t.offsetY);return r<3?[t.offsetX,t.offsetY]:[t.layerX,t.layerY]}function YX(e){if(e.tagName==="svg")return e;for(var t=e.getAttribute("selectable");!t;)e.parentElement?(e=e.parentElement,e.tagName==="svg"?t=!0:t=e.getAttribute("selectable")):t=!0;return e}function G7(e,t){var n,r,i,a=jX(e.selectables,YX(t.target));return a>=0?(i=KX(e.selectables[a].svgEl.getBBox(),t,e.scale),n=i[0],r=i[1]):(i=WX(t),n=i[0],r=i[1],a=GX(e,n,r)),{x:n,y:r,clickedOn:a}}function tg(e){if(!(!e||!e.target||!e.touches||e.touches.length<1)){var t=e.target.getBoundingClientRect(),n=e.touches[0].pageX-t.left,r=e.touches[0].pageY-t.top;e.touches[0].offsetX=n,e.touches[0].offsetY=r,e.touches[0].layerX=e.touches[0].pageX,e.touches[0].layerY=e.touches[0].pageY}}function Jb(e){var t=e;e.type==="touchstart"&&(tg(e),e.touches.length>0&&(t=e.touches[0]));var n=G7(this,t);n.clickedOn>=0&&(e.type==="touchstart"||e.button===0)&&this.selectables[n.clickedOn]&&(this.dragTarget=this.selectables[n.clickedOn],this.dragIndex=n.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:n.x,y:n.y},this.dragging&&this.dragTarget.isDraggable&&(QX(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function Qb(e){var t=e;if(e.type==="touchmove"&&(tg(e),e.touches.length>0&&(t=e.touches[0])),this.lastTouchMove=e,!(!this.dragTarget||!this.dragging||!this.dragTarget.isDraggable||this.dragMechanism!=="mouse"||!this.dragMouseStart)){var n=G7(this,t),r=Math.round((n.y-this.dragMouseStart.y)/Du.STEP);r!==this.dragYStep&&(this.dragYStep=r,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+r*Du.STEP+")"))}}function pl(e){var t=e;e.type==="touchend"&&this.lastTouchMove&&(tg(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&(t=this.lastTouchMove.touches[0])),this.dragTarget&&(Y7.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),K7.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,t),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),ZX(this.renderer.svg,"abcjs-dragging-in-progress"))}function XX(e){e>=0&&e<this.selectables.length&&(this.dragTarget=this.selectables[e],this.dragIndex=e,this.dragMechanism="keyboard",pl.bind(this)({target:this.dragTarget.svgEl}))}function K7(e,t,n,r,i){var a=[];if(e.absEl.elemset){for(var s={},l=0;l<e.absEl.elemset.length;l++){var u=e.absEl.elemset[l];if(u)for(var c=u.getAttribute("class").split(" "),f=0;f<c.length;f++)s[c[f]]=!0}for(var h=0;h<Object.keys(s).length;h++)a.push(Object.keys(s)[h])}for(var p={},m=0;m<a.length;m++)oh(a[m],"abcjs-v",p,"voice"),oh(a[m],"abcjs-l",p,"line"),oh(a[m],"abcjs-m",p,"measure");e.staffPos&&(p.staffPos=e.staffPos);for(var v=i.target;v&&v.dataset&&!v.dataset.name&&v.tagName.toLowerCase()!=="svg";)v=v.parentNode;for(var b=i.target;b&&b.dataset&&!b.dataset.index&&b.tagName.toLowerCase()!=="svg";)b=b.parentNode;b&&b.dataset&&(p.name=b.dataset.name,p.clickedName=v.dataset.name,p.parentClasses=b.classList),v&&v.classList&&(p.clickedClasses=v.classList),p.selectableElement=e.svgEl;for(var w=0;w<this.listeners.length;w++)this.listeners[w](e.absEl.abcelem,e.absEl.tuneNumber,a.join(" "),p,{step:t,max:n,index:r,setSelection:XX.bind(this)},i)}function oh(e,t,n,r){if(e.indexOf(t)===0){var i=e.replace(t,""),a=parseInt(i,10);""+a===i&&(n[r]=a)}}function Y7(){for(var e=0;e<this.selected.length;e++)this.selected[e].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function JX(e,t){Y7.bind(this)();for(var n=0;n<this.staffgroups.length;n++)for(var r=this.staffgroups[n].voices,i=0;i<r.length;i++)for(var a=r[i].children,s=0;s<a.length;s++){var l=a[s].abcelem.startChar,u=a[s].abcelem.endChar;(t>l&&e<u||t===e&&t===u)&&(this.selected[this.selected.length]=a[s],a[s].highlight(void 0,this.selectionColor))}}function X7(e){var t=e.getAttribute("class");t||(t="");for(var n=t.split(" "),r={},i=0;i<n.length;i++)r[n[i]]=!0;return r}function J7(e,t){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r);e.setAttribute("class",n.join(" "))}function QX(e,t){if(e){var n=X7(e.svg);n[t]=!0,J7(e.svg,n)}}function ZX(e,t){if(e){var n=X7(e.svg);delete n[t],J7(e.svg,n)}}var eJ=zX;function tJ(e,t,n,r,i){return t+(r-t)/(n-e)*(i-e)}var ng=tJ,nJ=Li,u1=hr,f1=ng,rJ=function(e){if(!(e.elems.length===0||e.allrests)){var t=aJ(e.stemsUp,e.isgrace),n=e.elems[0],r=e.elems[e.elems.length-1],i=0,a=e.stemsUp?n.abcelem.maxpitch:n.abcelem.minpitch;i=e5(n,e.stemsUp,a,i),i=e5(r,e.stemsUp,a,i),i=Math.max(e.stemHeight,i+3);var s=sJ(e.average,e.elems.length,i,e.stemsUp,n.abcelem.averagepitch,r.abcelem.averagepitch,e.isflat,e.min,e.max,e.isgrace),l=Q7(e.stemsUp,n,r);e.addBeam({startX:l[0],endX:l[1],startY:s[0],endY:s[1],dy:t});for(var u=lJ(e.elems,e.stemsUp,e.beams[0],e.isgrace,t),c=0;c<u.length;c++)e.addBeam(u[c]);oJ(e.elems,e.stemsUp,e.beams[0],t,e.mainNote)}},Zb=function(e){return e===void 0?0:Math.floor(Math.log(e)/Math.log(2))};function e5(e,t,n,r){if(!e.children)return r;for(var i=0;i<e.children.length;i++){var a=e.children[i];t&&a.top!==void 0&&a.c==="flags.ugrace"?r=Math.max(r,a.top-n):!t&&a.bottom!==void 0&&a.c==="flags.ugrace"&&(r=Math.max(r,n-a.bottom+7))}return r}function iJ(e,t,n,r){if(r)return 0;var i=e-t,a=n/2;return i>a&&(i=a),i<-a&&(i=-a),i}function aJ(e,t){var n=e?u1.STEP:-u1.STEP;return t&&(n=n*.4),n}function Q7(e,t,n){var r=t.heads[e?0:t.heads.length-1],i=n.heads[e?0:n.heads.length-1],a=r.x;e&&(a+=r.w-.6);var s=i.x;return s+=e?i.w:.6,[a,s]}function sJ(e,t,n,r,i,a,s,l,u,c){var f=n-2,h=n-2,p=Math.round(r?Math.max(e+f,u+h):Math.min(e-f,l-h)),m=iJ(i,a,t,s),v=p+Math.floor(m/2),b=p+Math.floor(-m/2);return c||(r&&p<6||!r&&p>6)&&(v=6,b=6),[v,b]}function oJ(e,t,n,r,i){for(var a=0;a<e.length;a++){var s=e[a];if(!s.abcelem.rest){var l=!s.addExtra,u=l?i:s,c=s.heads[t?0:s.heads.length-1],f=1/5,h=c.pitch+(t?f:-f),p=t?c.w:0;l||(p+=c.dx);var m=c.x+p,v=f1(n.startX,n.startY,n.endX,n.endY,m),b=t?-.6:.6;t||(v-=r/2/u1.STEP),l&&(p+=s.heads[0].dx),c.c==="noteheads.slash.quarter"&&(t?h+=1:h-=1);var w=new nJ(null,p,0,h,{type:"stem",pitch2:v,linewidth:b});w.setX(u.x),u.addRight(w)}}}function lJ(e,t,n,r,i){for(var a=[],s=[],l=0;l<e.length;l++){var u=e[l];if(!u.abcelem.rest){var c=u.heads[t?0:u.heads.length-1],f=c.x+(t?c.w:0),h=f1(n.startX,n.startY,n.endX,n.endY,f),p=t?-1.5:1.5;r&&(p=p*2/3);var m=u.abcelem.duration;m===0&&(m=.25);for(var v=Zb(m);v<-3;v++){var b=-4-v;if(s[b]?s[b].single=!1:s[b]={x:f+(t?-.6:0),y:h+p*(b+1),durlog:v,single:!0},l>0&&u.abcelem.beambr&&u.abcelem.beambr<=b+1){s[b].split||(s[b].split=[s[b].x]);var w=Q7(t,e[l-1],u);s[b].split[s[b].split.length-1]>=w[0]&&(w[0]+=u.w),s[b].split.push(w[0]),s[b].split.push(w[1])}}for(var x=s.length-1;x>=0;x--)if(l===e.length-1||Zb(e[l+1].abcelem.duration)>-x-4){var C=f,S=h+p*(x+1);s[x].single&&(C=l===0?f+5:f-5,S=f1(n.startX,n.startY,n.endX,n.endY,C)+p*(x+1));var _={startX:s[x].x,endX:C,startY:s[x].y,endY:S,dy:i};if(s[x].split!==void 0){var M=s[x].split;_.endX<=M[M.length-1]&&(M[M.length-1]-=u.w),M.push(_.endX),_.split=s[x].split}a.push(_),s=s.slice(0,x)}}}return a}var cJ=rJ,uJ=ng;function fJ(e){if(e.anchor1&&e.anchor2){e.hasBeam=!!e.anchor1.parent.beam&&e.anchor1.parent.beam===e.anchor2.parent.beam;var t=e.anchor1.parent.beam;if(e.hasBeam&&(t.elems[0]!==e.anchor1.parent||t.elems[t.elems.length-1]!==e.anchor2.parent)&&(e.hasBeam=!1),e.hasBeam){var n=lh(t)?e.anchor1.x+e.anchor1.w:e.anchor1.x;e.yTextPos=dJ(n,e.anchor2.x,t),e.yTextPos+=lh(t)?3:-2,e.xTextPos=hJ(n,e.anchor2.x),e.top=e.yTextPos+1,e.bottom=e.yTextPos-2,lh(t)&&(e.endingHeightAbove=4)}else{e.startNote=Math.max(e.anchor1.parent.top,9)+4,e.endNote=Math.max(e.anchor2.parent.top,9)+4,e.anchor1.parent.type==="rest"&&e.anchor2.parent.type!=="rest"?e.startNote=e.endNote:e.anchor2.parent.type==="rest"&&e.anchor1.parent.type!=="rest"&&(e.endNote=e.startNote);for(var r=0,i=0;i<e.middleElems.length;i++)r=Math.max(r,e.middleElems[i].top);r+=4,(r>e.startNote||r>e.endNote)&&(e.startNote=r,e.endNote=r),e.flatBeams&&(e.startNote=Math.max(e.startNote,e.endNote),e.endNote=Math.max(e.startNote,e.endNote)),e.yTextPos=e.startNote+(e.endNote-e.startNote)/2,e.xTextPos=e.anchor1.x+(e.anchor2.x+e.anchor2.w-e.anchor1.x)/2,e.top=e.yTextPos+1}}delete e.middleElems,delete e.flatBeams}function lh(e){return e.stemsUp}function dJ(e,t,n){if(n.beams.length===0)return 0;n=n.beams[0];var r=e+(t-e)/2;return uJ(n.startX,n.startY,n.endX,n.endY,r)}function hJ(e,t){return e+(t-e)/2}var pJ=fJ,gJ=cJ,vJ=ng,mJ=pJ,bJ=function(e){for(var t=0;t<e.beams.length;t++)if(e.beams[t].type==="BeamElem"){gJ(e.beams[t]),yJ(e.beams[t]);for(var n=0;n<e.beams[t].elems.length;n++)e.adjustRange(e.beams[t].elems[n])}for(e.staff.specialY.chordLines=wJ(e.children),t=0;t<e.otherchildren.length;t++){var r=e.otherchildren[t];r.type==="TripletElem"&&(mJ(r),e.adjustRange(r))}e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom)};function yJ(e){for(var t=1.5,n=0;n<e.elems.length;n++){var r=e.elems[n];if(r.top)for(var i=MJ(r,e),a=0;a<r.children.length;a++){var s=r.children[a];if(s.klass==="ornament"&&s.bottom-t<i){var l=i-s.bottom+t;s.bottom+=l,s.top+=l,s.pitch+=l,i=r.top=s.top}}}}function t5(e,t){var n=t.getChordDim();if(n){for(var r=0;r<e.length;r++){var i=e[r]<n.left;if(i){r>0&&t.putChordInLane(r),e[r]=n.right;return}}e.push(n.right),t.putChordInLane(e.length-1)}}function wJ(e){var t=[0],n=[0],r,i,a;for(r=0;r<e.length;r++){for(i=0;i<e[r].children.length;i++)a=e[r].children[i],a.chordHeightAbove&&t5(t,a);for(i=e[r].children.length-1;i>=0;i--)a=e[r].children[i],a.chordHeightBelow&&t5(n,a)}return(t.length>1||n.length>1)&&xJ(e,t.length),{above:t.length,below:n.length}}function _J(e){for(var t=0,n=0;n<e.children.length;n++){var r=e.children[n];r.chordHeightBelow&&t++}return t}function xJ(e,t,n){for(var r=0;r<e.length;r++){_J(e[r]);for(var i=0;i<e[r].children.length;i++){var a=e[r].children[i];a.chordHeightAbove&&a.invertLane(t)}}}function MJ(e,t){return t=t.beams[0],vJ(t.startX,t.startY,t.endX,t.endY,e.x)}var CJ=bJ,J0=hr,PJ=function(e,t){for(var n,r=0;r<t.staffs.length;r++){var i=t.staffs[r],a={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(e.showDebug&&e.showDebug.indexOf("box")>=0&&(i.originalTop=i.top,i.originalBottom=i.bottom),po(i,a,"lyricHeightAbove"),po(i,a,"chordHeightAbove",i.specialY.chordLines.above),i.specialY.endingHeightAbove&&(i.specialY.chordHeightAbove?i.top+=2:i.top+=i.specialY.endingHeightAbove+$a,a.endingHeightAbove=i.top),i.specialY.dynamicHeightAbove&&i.specialY.volumeHeightAbove?(i.top+=Math.max(i.specialY.dynamicHeightAbove,i.specialY.volumeHeightAbove)+$a,a.dynamicHeightAbove=i.top,a.volumeHeightAbove=i.top):(po(i,a,"dynamicHeightAbove"),po(i,a,"volumeHeightAbove")),po(i,a,"partHeightAbove"),po(i,a,"tempoHeightAbove"),i.specialY.lyricHeightBelow&&(i.specialY.lyricHeightBelow+=e.spacing.vocal/J0.STEP,a.lyricHeightBelow=i.bottom,i.bottom-=i.specialY.lyricHeightBelow+$a),i.specialY.chordHeightBelow){a.chordHeightBelow=i.bottom;var s=i.specialY.chordHeightBelow;i.specialY.chordLines.below&&(s*=i.specialY.chordLines.below),i.bottom-=s+$a}i.specialY.volumeHeightBelow&&i.specialY.dynamicHeightBelow?(a.volumeHeightBelow=i.bottom,a.dynamicHeightBelow=i.bottom,i.bottom-=Math.max(i.specialY.volumeHeightBelow,i.specialY.dynamicHeightBelow)+$a):i.specialY.volumeHeightBelow?(a.volumeHeightBelow=i.bottom,i.bottom-=i.specialY.volumeHeightBelow+$a):i.specialY.dynamicHeightBelow&&(a.dynamicHeightBelow=i.bottom,i.bottom-=i.specialY.dynamicHeightBelow+$a),e.showDebug&&e.showDebug.indexOf("box")>=0&&(i.positionY=a);for(var l=0;l<i.voices.length;l++){var u=t.voices[i.voices[l]];SJ(a,u,e.spacing)}if(n!==void 0){var c=i.top-10,f=n+c,h=e.spacing.systemStaffSeparation/J0.STEP,p=h-f;p>0&&(i.top+=p)}n=2-i.bottom}},$a=1;function po(e,t,n,r){if(e.specialY[n]){var i=e.specialY[n];r&&(i*=r),e.top+=i+$a,t[n]=e.top}}function SJ(e,t,n){var r,i;for(r=0;r<t.children.length;r++)i=t.children[r],TJ(e,i,n);for(r=0;r<t.otherchildren.length;r++)switch(i=t.otherchildren[r],i.type){case"CrescendoElem":EJ(e,i);break;case"DynamicDecoration":AJ(e,i);break;case"EndingElem":kJ(e,i);break}}function TJ(e,t,n){for(var r=0;r<t.children.length;r++){var i=t.children[r];for(var a in t.specialY)t.specialY.hasOwnProperty(a)&&i[a]&&(i.pitch=e[a],i.top===void 0&&(i.type==="TempoElement"?OJ(e,i):NJ(e,i,n),t.pushTop(i.top),t.pushBottom(i.bottom)))}}function EJ(e,t){t.dynamicHeightAbove?t.pitch=e.dynamicHeightAbove:t.pitch=e.dynamicHeightBelow}function AJ(e,t){t.volumeHeightAbove?t.pitch=e.volumeHeightAbove:t.pitch=e.volumeHeightBelow}function kJ(e,t){t.pitch=e.endingHeightAbove-2}function OJ(e,t){if(t.pitch=e.tempoHeightAbove,t.top=e.tempoHeightAbove,t.bottom=e.tempoHeightAbove,t.note){var n=t.pitch-t.totalHeightInPitches+1;t.note.top=n,t.note.bottom=n;for(var r=0;r<t.note.children.length;r++){var i=t.note.children[r];i.top+=n,i.bottom+=n,i.pitch+=n,i.pitch2!==void 0&&(i.pitch2+=n)}}}function NJ(e,t,n){switch(t.type){case"part":t.top=e.partHeightAbove+t.height,t.bottom=e.partHeightAbove;break;case"text":case"chord":t.chordHeightAbove?(t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove):(t.top=e.chordHeightBelow,t.bottom=e.chordHeightBelow);break;case"lyric":t.lyricHeightAbove?(t.top=e.lyricHeightAbove,t.bottom=e.lyricHeightAbove):(t.top=e.lyricHeightBelow+n.vocal/J0.STEP,t.bottom=e.lyricHeightBelow+n.vocal/J0.STEP,t.pitch-=n.vocal/J0.STEP);break;case"debug":t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove;break}(t.pitch===void 0||t.top===void 0)&&console.error("RelativeElement position not set.",t.type,t.pitch,t.top,e)}var IJ=PJ,pa=function(){};pa.beginLayout=function(e,t){t.i=0,t.durationindex=0,t.startx=e,t.minx=e,t.nextx=e,t.spacingduration=0};pa.layoutEnded=function(e){return e.i>=e.children.length};pa.getNextX=function(e){return Math.max(e.minx,e.nextx)};pa.getSpacingUnits=function(e){return Math.sqrt(e.spacingduration*8)};pa.layoutOneItem=function(e,t,n,r,i){var a=n.children[n.i];if(!a)return 0;var s=e-n.minx,l=n.durationindex+a.duration>0?r:0;if(a.abcelem.el_type==="note"&&!a.abcelem.rest&&n.voicenumber!==0&&i){var u=i.children[i.i],c=u&&(a.abcelem.maxpitch<=u.abcelem.maxpitch+1&&a.abcelem.maxpitch>=u.abcelem.minpitch-1||a.abcelem.minpitch<=u.abcelem.maxpitch+1&&a.abcelem.minpitch>=u.abcelem.minpitch-1);if(c&&a.abcelem.minpitch===u.abcelem.minpitch&&a.abcelem.maxpitch===u.abcelem.maxpitch&&u.heads&&u.heads.length>0&&a.heads&&a.heads.length>0&&u.heads[0].c===a.heads[0].c&&(c=!1),c){var f=u.heads&&u.heads.length>0?u.heads[0].realWidth:u.fixed.w;a.adjustedWidth||(a.adjustedWidth=f+a.w),a.w=a.adjustedWidth;for(var h=0;h<a.children.length;h++){var p=a.children[h];p.name.indexOf("accidental")<0&&(p.adjustedWidth||(p.adjustedWidth=p.dx+f),p.dx=p.adjustedWidth)}}}var m=LJ(a,l);return s<m&&(n.i===0||a.type!=="bar"||n.children[n.i-1].type!=="part"&&n.children[n.i-1].type!=="tempo")&&(e+=m-s),a.setX(e),n.spacingduration=a.duration,n.minx=e+$J(a),n.i!==n.children.length-1&&(n.minx+=a.minspacing),this.updateNextX(e,t,n),e};pa.shiftRight=function(e,t){var n=t.children[t.i];n&&(n.setX(n.x+e),t.minx+=e,t.nextx+=e)};pa.updateNextX=function(e,t,n){n.nextx=e+t*Math.sqrt(n.spacingduration*8)};pa.updateIndices=function(e){this.layoutEnded(e)||(e.durationindex+=e.children[e.i].duration,e.children[e.i].type==="bar"&&(e.durationindex=Math.round(e.durationindex*64)/64),e.i++)};function LJ(e,t){var n=0;return(e.type==="note"||e.type==="bar")&&(n=t),-e.extraw+n}function $J(e){return e.w}var BJ=pa,_r=BJ;function RJ(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];if(r.children.length>0){var i=r.children.length-1,a=r.children[i];if(a.abcelem.el_type==="bar"){var s=a.children[0].x;s>t?t=s:a.children[0].x=t}}}}var FJ=function(e,t,n,r,i){var a=1e-7,s=0,l=1e3,u=i;r.startx=u;var c,f=0;for(n&&console.log("init layout",e),c=0;c<r.voices.length;c++)_r.beginLayout(u,r.voices[c]);for(var h=0;!HJ(r.voices);){for(f=null,c=0;c<r.voices.length;c++)!_r.layoutEnded(r.voices[c])&&(!f||ch(r.voices[c])<f)&&(f=ch(r.voices[c]));var p=[],m=[];for(c=0;c<r.voices.length;c++){var v=ch(r.voices[c]);v-f>a?m.push(r.voices[c]):p.push(r.voices[c])}h=0;var b=0;for(c=0;c<p.length;c++)_r.getNextX(p[c])>u&&(u=_r.getNextX(p[c]),h=_r.getSpacingUnits(p[c]),b=p[c].spacingduration);s+=h,l=Math.min(l,h),n&&console.log("currentduration: ",f,s,l);var w=void 0;for(c=0;c<p.length;c++){var x=p[c];x.voicenumber===0&&(w=c);var C=w!==void 0&&p[w].voicenumber!==x.voicenumber?p[w]:void 0;DJ(x,C)||(C=void 0);var S=_r.layoutOneItem(u,e,x,t.minPadding,C),_=S-u;if(_>0){u=S;for(var M=0;M<c;M++)_r.shiftRight(_,p[M])}}for(c=0;c<m.length;c++)m[c].spacingduration-=b,_r.updateNextX(u,e,m[c]);for(c=0;c<p.length;c++){var P=p[c];_r.updateIndices(P)}}for(c=0;c<r.voices.length;c++)_r.getNextX(r.voices[c])>u&&(u=_r.getNextX(r.voices[c]),h=_r.getSpacingUnits(r.voices[c]));return RJ(r.voices),s+=h,r.setWidth(u),{spacingUnits:s,minSpace:l}};function HJ(e){for(var t=0;t<e.length;t++)if(!_r.layoutEnded(e[t]))return!1;return!0}function ch(e){return e.durationindex-(e.children[e.i]&&e.children[e.i].duration>0?0:5e-7)}function DJ(e,t){return!e||!e.staff||!e.staff.voices||e.staff.voices.length===0||!t||!t.staff||!t.staff.voices||t.staff.voices.length===0?!1:e.staff.voices[0]===t.staff.voices[0]}var zJ=FJ;function WJ(e,t,n,r,i){var a=e.padding.left,s=0,l,u;for(l=0;l<n.length;l++)n[l].header&&(u=t.calc(n[l].header,"voicefont",""),s=Math.max(s,u.width));if(s=n5(s,r,t),s=n5(s,i,t),s){var c=t.calc("A","voicefont","");s+=c.width}a+=s;var f=0;return f=r5(r,a,f),f=r5(i,a,f),a+f}function n5(e,t,n){if(t){for(var r=0;r<t.length;r++)if(t[r].header){var i=n.calc(t[r].header,"voicefont","");e=Math.max(e,i.width)}}return e}function r5(e,t,n){if(e)for(var r=0;r<e.length;r++)UJ(t,e[r]),n=Math.max(n,e[r].getWidth());return n}function UJ(e,t){t.x=e}var VJ=WJ,qJ=CJ,jJ=IJ,GJ=zJ,KJ=VJ,YJ=function(e,t,n,r){var i,a,s=n;for(i=0;i<t.lines.length;i++)a=t.lines[i],a.staff&&(XJ(e,n,r,a.staffGroup,t.formatting,i===t.lines.length-1,!1),a.staffGroup.w>s&&(s=a.staffGroup.w));for(i=0;i<t.lines.length;i++)if(a=t.lines[i],a.staffGroup&&a.staffGroup.voices){for(var l=0;l<a.staffGroup.voices.length;l++)qJ(a.staffGroup.voices[l]);jJ(e,a.staffGroup)}for(i=0;i<t.lines.length;i++)a=t.lines[i],a.staffGroup&&a.staffGroup.setHeight();return s},XJ=function(e,t,n,r,i,a,s){for(var l=KJ(e,r.getTextSize,r.voices,r.brace,r.bracket),u=n,c=0;c<8;c++){var f=GJ(u,e,s,r,l);if(u=JJ(a,i.stretchlast,t+e.padding.left,r.w,u,f.spacingUnits,f.minSpace,e.padding.left+e.padding.right),s&&console.log("setXSpace",c,r.w,u,r.minspace),u===null)break}QJ(r.voices)};function JJ(e,t,n,r,i,a,s,l){if(e)if(t===void 0){if(r/n<.66)return null}else{var u=1-(r+l)/n,c=u<t;if(!c)return null}if(Math.abs(n-r)<2)return null;var f=a*i,h=r-f;return a>0?(i=(n-h)/a,i*s>50&&(i=50/s),i):null}function QJ(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=1;r<n.children.length-1;r++){var i=n.children[r];if(i.abcelem.rest&&(i.abcelem.rest.type==="whole"||i.abcelem.rest.type==="multimeasure")){var a=n.children[r-1],s=n.children[r+1];i.center(a,s)}}}var ZJ=YJ,Xr=function(t){this.shouldAddClasses=t.shouldAddClasses,this.reset()};Xr.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null};Xr.prototype.incrLine=function(){this.lineNumber===null?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null};Xr.prototype.incrVoice=function(){this.voiceNumber===null?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null};Xr.prototype.isInMeasure=function(){return this.measureNumber!==null};Xr.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null};Xr.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0};Xr.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0};Xr.prototype.incrNote=function(){this.noteNumber++};Xr.prototype.measureTotal=function(){for(var e=0,t=0;t<this.lineNumber;t++)e+=this.measureTotalPerLine[t]?this.measureTotalPerLine[t]:0;return this.measureNumber&&(e+=this.measureNumber),e};Xr.prototype.getCurrent=function(e){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}};Xr.prototype.generate=function(e){if(!this.shouldAddClasses)return"";var t=[];if(e&&e.length>0&&t.push(e),e==="tab-number")return t.join(" ");if(e==="text instrument-name")return"abcjs-text abcjs-instrument-name";if(this.lineNumber!==null&&t.push("l"+this.lineNumber),this.measureNumber!==null&&t.push("m"+this.measureNumber),this.measureNumber!==null&&t.push("mm"+this.measureTotal()),this.voiceNumber!==null&&t.push("v"+this.voiceNumber),e&&(e.indexOf("note")>=0||e.indexOf("rest")>=0||e.indexOf("lyric")>=0)&&this.noteNumber!==null&&t.push("n"+this.noteNumber),t.length>0){t=t.join(" "),t=t.split(" ");for(var n=0;n<t.length;n++)t[n].indexOf("abcjs-")!==0&&t[n].length>0&&(t[n]="abcjs-"+t[n])}return t.join(" ")};var eQ=Xr,rg=function(t,n){this.formatting=t,this.classes=n};rg.prototype.updateFonts=function(e){e.gchordfont&&(this.formatting.gchordfont=e.gchordfont),e.tripletfont&&(this.formatting.tripletfont=e.tripletfont),e.annotationfont&&(this.formatting.annotationfont=e.annotationfont),e.vocalfont&&(this.formatting.vocalfont=e.vocalfont)};rg.prototype.calc=function(e,t){var n;typeof e=="string"?(n=this.formatting[e],n?n={face:n.face,size:Math.round(n.size*4/3),decoration:n.decoration,style:n.style,weight:n.weight,box:n.box}:n={face:"Arial",size:Math.round(12*4/3),decoration:"underline",style:"normal",weight:"normal"}):n={face:e.face,size:Math.round(e.size*4/3),decoration:e.decoration,style:e.style,weight:e.weight,box:e.box};var r=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;n.padding=n.size*r;var i={"font-size":n.size,"font-style":n.style,"font-family":n.face,"font-weight":n.weight,"text-decoration":n.decoration,class:this.classes.generate(t)};return{font:n,attr:i}};var tQ=rg,Al=function(t,n){this.getFontAndAttr=t,this.svg=n};Al.prototype.updateFonts=function(e){this.getFontAndAttr.updateFonts(e)};Al.prototype.attr=function(e,t){return this.getFontAndAttr.calc(e,t)};Al.prototype.calc=function(e,t,n,r){var i;typeof t=="string"?i=this.attr(t,n):i={font:{face:t.face,size:t.size,decoration:t.decoration,style:t.style,weight:t.weight},attr:{"font-size":t.size,"font-style":t.style,"font-family":t.face,"font-weight":t.weight,"text-decoration":t.decoration,class:this.getFontAndAttr.classes.generate(n)}};var a=this.svg.getTextSize(e,i.attr,r);return i.font.box?{height:a.height+i.font.padding*4,width:a.width+i.font.padding*4}:a};Al.prototype.baselineToCenter=function(e,t,n,r,i){var a=this.calc(e,t,n).height,s=this.attr(t,n).font.size;return a*.5+(i-r-2)*s};var nQ=Al,rQ=function(){for(var e=0,t,n=arguments[e++],r=[],i,a,s,l;n;){if(i=/^[^\x25]+/.exec(n))r.push(i[0]);else if(i=/^\x25{2}/.exec(n))r.push("%");else if(i=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(n)){if((t=arguments[i[1]||e++])==null||t==null)throw"Too few arguments.";if(/[^s]/.test(i[7])&&typeof t!="number")throw"Expecting number but found "+typeof t;switch(i[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=i[6]?t.toExponential(i[6]):t.toExponential();break;case"f":t=i[6]?parseFloat(t).toFixed(i[6]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&i[6]?t.substring(0,i[6]):t;break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase();break}t=/[def]/.test(i[7])&&i[2]&&t>0?"+"+t:t,s=i[3]?i[3]=="0"?"0":i[3][1]:" ",l=i[5]-String(t).length,a=i[5]?str_repeat(s,l):"",r.push(i[4]?t+a:a+t)}else throw"Huh ?!";n=n.substring(i[0].length)}return r.join("")},qs=rQ;function iQ(e){return parseFloat(e.toFixed(2))}var $i=iQ,i5=$i;function aQ(e,t,n){var r=t.y;if(t.lane){var i=t.dim.font.size*.25;r+=(t.dim.font.size+i)*t.lane}var a;t.dim?(a=t.dim,a.attr.class=t.klass):a=e.controller.getFontAndAttr.calc(t.type,t.klass),t.anchor&&(a.attr["text-anchor"]=t.anchor),a.attr.x=t.x,a.attr.y=r,t.centerVertically||(a.attr.y+=a.font.size),t.type==="debugfont"&&(console.log("Debug msg: "+t.text),a.attr.stroke="#ff0000"),t.cursor&&(a.attr.cursor=t.cursor);var s=t.text.replace(/\n\n/g,`
 
`);s=s.replace(/^\n/,` 
`),a.font.box&&(n||e.paper.openGroup({klass:a.attr.class,fill:e.foregroundColor,"data-name":t.name}),a.attr["text-anchor"]==="end"?a.attr.x-=a.font.padding:a.attr["text-anchor"]==="start"&&(a.attr.x+=a.font.padding),a.attr.y+=a.font.padding,delete a.attr.class),t.noClass&&delete a.attr.class,a.attr.x=i5(a.attr.x),a.attr.y=i5(a.attr.y),t.name&&(a.attr["data-name"]=t.name);var l=e.paper.text(s,a.attr);if(a.font.box){var u=l.getBBox(),c=0;a.attr["text-anchor"]==="middle"?c=u.width/2+a.font.padding:a.attr["text-anchor"]==="end"&&(c=u.width+a.font.padding*2);var f=0;t.centerVertically&&(f=u.height-a.font.padding),e.paper.rect({"data-name":"box",x:Math.round(t.x-c),y:Math.round(r-f),width:Math.round(u.width+a.font.padding*2),height:Math.round(u.height+a.font.padding*2)}),n||(l=e.paper.closeGroup())}return l}var Ja=aQ,uu=qs,ai=hr,sQ=Ja;function oQ(e,t,n){var r=t.startVoice.staff.absoluteY-ai.STEP*10;return t.endVoice&&t.endVoice.staff?t.endY=t.endVoice.staff.absoluteY-ai.STEP*2:t.lastContinuedVoice&&t.lastContinuedVoice.staff?t.endY=t.lastContinuedVoice.staff.absoluteY-ai.STEP*2:t.endY=t.startVoice.staff.absoluteY-ai.STEP*2,uQ(e,t.x,r,t.endY,t.type,t.header,n)}function lQ(e,t,n,r,i){t+=ai.STEP;var a=ai.STEP*.75,s=ai.STEP*.75,l=r-n,u=uu("M %f %f l %f %f l %f %f l %f %f z",t,n-s,0,l+s*2,a,0,0,-(l+s*2)),c=ai.STEP*2,f=ai.STEP;return u+=uu("M %f %f q %f %f %f %f q %f %f %f %f z",t+a,n-s,c*.6,f*.2,c,-f,-c*.1,f*.3,-c,f+ai.STEP),u+=uu("M %f %f q %f %f %f %f q %f %f %f %f z",t+a,n+s+l,c*.6,-f*.2,c,f,-c*.1,-f*.3,-c,-f-ai.STEP),e.paper.path({path:u,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(i),"data-name":i})}function cQ(e,t,n,r,i){var a=r-n,s=a5(t,n,[7.5,-8,21,0,18.5,-10.5,7.5],[0,a/5.5,a/3.14,a/2,a/2.93,a/4.88,0]);return s+=a5(t,n,[0,17.5,-7.5,6.6,-5,20,0],[a/2,a/1.46,a/1.22,a,a/1.19,a/1.42,a/2]),e.paper.path({path:s,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(i),"data-name":i})}function a5(e,t,n,r){return uu("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",e+n[0],t+r[0],e+n[1],t+r[1],e+n[2],t+r[2],e+n[3],t+r[3],e+n[4],t+r[4],e+n[5],t+r[5],e+n[6],t+r[6])}var uQ=function(e,t,n,r,i,a,s){var l;if(a){e.paper.openGroup({klass:e.controller.classes.generate("staff-extra voice-name"),"data-name":i});var u=n+(r-n)/2;u=u-e.controller.getTextSize.baselineToCenter(a,"voicefont","staff-extra voice-name",0,1),sQ(e,{x:e.padding.left,y:u,text:a,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return i==="brace"?l=cQ(e,t,n,r,i):i==="bracket"&&(l=lQ(e,t,n,r,i)),a&&(l=e.paper.closeGroup()),s.wrapSvgEl({el_type:i,startChar:-1,endChar:-1},l),l},fQ=oQ;function dQ(e,t,n){var r=e.paper.path(t);return r}var kl=dQ,hQ=qs,pQ=kl,gQ=$i;function vQ(e,t,n){(!t.anchor1||!t.anchor2||!t.anchor1.heads||!t.anchor2.heads||t.anchor1.heads.length===0||t.anchor2.heads.length===0)&&window.console.error("Glissando Element not set.");var r=4,i=e.calcY(t.anchor1.heads[0].pitch),a=e.calcY(t.anchor2.heads[0].pitch),s=t.anchor1.x+t.anchor1.w/2,l=t.anchor2.x+t.anchor2.w/2,u=mQ(s,i,l,a),c=t.anchor1.w/2+r,f=t.anchor2.w/2+r,h=bQ(s,i,l,a),p=d1(i,h,c);d1(a,h,-f);var m=yQ(u-c-f),v=PQ(e,s+c,p,m,h);return n.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},v),[v]}function mQ(e,t,n,r){var i=n-e,a=r-t;return Math.sqrt(i*i+a*a)}function bQ(e,t,n,r){return(r-t)/(n-e)}function d1(e,t,n){return gQ(e+n*t)}function yQ(e){var t=5;return Math.max(2,Math.floor((e-t*2)/6))}var wQ=[[3.5,-4.8]],_Q=[[1.5,-1],[.3,-.3],[-3.5,3.8]],xQ=[[-1.5,2]],MQ=[[3,4],[3,-4]],CQ=[[-3,4],[-3,-4]];function O0(e,t){for(var n="",r=0;r<e.length;r++)n+="l"+e[r][0]+" "+d1(e[r][1],t,e[r][0]);return n}var PQ=function(e,t,n,r,i){var a=hQ("M %f %f",t,n);a+=O0(wQ,i);var s;for(s=0;s<r;s++)a+=O0(MQ,i);for(a+=O0(_Q,i),s=0;s<r;s++)a+=O0(CQ,i);return a+=O0(xQ,i)+"z",pQ(e,{path:a,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("decoration"),"data-name":"glissando"})},SQ=vQ,TQ=qs,EQ=kl,go=$i;function AQ(e,t,n){t.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var r=e.calcY(t.pitch)+4,i=8,a=t.anchor1?t.anchor1.x:0,s=t.anchor2?t.anchor2.x:800,l;return t.dir==="<"?l=s5(e,r+i/2,r,r+i/2,r+i,a,s):l=s5(e,r,r+i/2,r+i,r+i/2,a,s),n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},l),[l]}var s5=function(e,t,n,r,i,a,s){t=go(t),n=go(n),r=go(r),i=go(i),a=go(a),s=go(s);var l=TQ("M %f %f L %f %f M %f %f L %f %f",a,t,s,n,a,r,s,i);return EQ(e,{path:l,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})},kQ=AQ,o5=$i;function Ol(){this.ingroup=!1}Ol.prototype.beginGroup=function(e,t){this.paper=e,this.controller=t,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()};Ol.prototype.isInGroup=function(){return this.ingroup};Ol.prototype.addPath=function(e){if(e=e||[],e.length!==0){e[0][0]="m",e[0][1]=o5(e[0][1]-this.lastM[0]),e[0][2]=o5(e[0][2]-this.lastM[1]),this.lastM[0]+=e[0][1],this.lastM[1]+=e[0][2],this.path.push(e[0]);for(var t=1,n=e.length;t<n;t++)e[t][0]==="m"&&(this.lastM[0]+=e[t][1],this.lastM[1]+=e[t][2]),this.path.push(e[t])}};Ol.prototype.endGroup=function(e,t){this.ingroup=!1;for(var n="",r=0;r<this.path.length;r++)n+=this.path[r].join(" ");this.path=[];var i=this.paper.closeGroup();return i&&(i.setAttribute("class",this.controller.classes.generate(e)),i.setAttribute("fill",this.controller.renderer.foregroundColor),i.setAttribute("stroke","none"),i.setAttribute("data-name",t)),i};var OQ=new Ol,ig=OQ,l5=Ja,vo=Xa,c5=ig;function NQ(e,t,n,r,i){var a,s;if(!r)return null;if(r.length>1&&r.indexOf(".")<0){var l=c5.isInGroup()?"":i.klass;e.paper.openGroup({"data-name":i.name,klass:l});for(var u=0,c=0;c<r.length;c++){var f=r[c];s=vo.getYCorr(f),a=vo.printSymbol(t+u,e.calcY(n+s),f,e.paper,{stroke:i.stroke,fill:i.fill}),a?c<r.length-1&&(u+=IQ(f,r[c+1],vo.getSymbolWidth(f))):l5(e,{x:t,y:e.y,text:"no symbol:"+r,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}var h=e.paper.closeGroup();return h}else return s=vo.getYCorr(r),c5.isInGroup()?a=vo.printSymbol(t,e.calcY(n+s),r,e.paper,{"data-name":i.name}):a=vo.printSymbol(t,e.calcY(n+s),r,e.paper,{klass:i.klass,stroke:i.stroke,fill:i.fill,"data-name":i.name}),a||(l5(e,{x:t,y:e.y,text:"no symbol:"+r,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}function IQ(e,t,n){var r=n;return e==="f"&&t==="f"&&(r=r*2/3),e==="p"&&t==="p"&&(r=r*5/6),e==="f"&&t==="z"&&(r=r*5/8),r}var Z7=NQ,LQ=Z7;function $Q(e,t,n){t.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var r=1,i=1,a=LQ(e,t.anchor.x,t.pitch,t.dec,{scalex:r,scaley:i,klass:e.controller.classes.generate("decoration dynamics"),fill:e.foregroundColor,stroke:"none",name:"dynamics"});return n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:t.dec},a),[a]}var BQ=$Q,RQ=qs,FQ=Ja,HQ=kl,eu=$i;function DQ(e,t,n){e.paper.openGroup({klass:e.controller.classes.generate("triplet "+t.durationClass),"data-name":"triplet"}),t.hasBeam||zQ(e,t.anchor1.x,t.startNote,t.anchor2.x+t.anchor2.w,t.endNote),FQ(e,{x:t.xTextPos,y:e.calcY(t.yTextPos-1),text:""+t.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+t.number},!0);var r=e.paper.closeGroup();return n.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},r),r}function tu(e,t,n,r){return RQ("M %f %f L %f %f",eu(e),eu(t),eu(n),eu(r))}function zQ(e,t,n,r,i){n=e.calcY(n),i=e.calcY(i);var a=5,s="";s+=tu(t,n,t,n+a),s+=tu(r,i,r,i+a);var l=t+(r-t)/2,u=8,c=(i-n)/(r-t),f=l-u,h=n+(f-t)*c;s+=tu(t,n,f,h);var p=l+u,m=n+(p-t)*c;s+=tu(p,m,r,i),HQ(e,{path:s,stroke:e.foregroundColor,"data-name":"triplet-bracket"})}var WQ=DQ,uh=qs,UQ=Ja,VQ=kl,gs=$i;function qQ(e,t,n,r,i){t.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var a=gs(e.calcY(t.pitch)),s=20,l="";t.anchor1&&(n=gs(t.anchor1.x+t.anchor1.w),l+=uh("M %f %f L %f %f ",n,a,n,gs(a+s))),t.anchor2&&(r=gs(t.anchor2.x),l+=uh("M %f %f L %f %f ",r,a,r,gs(a+s))),l+=uh("M %f %f L %f %f ",n,a,r,a),e.paper.openGroup({klass:e.controller.classes.generate("ending"),"data-name":"ending"}),VQ(e,{path:l,stroke:e.foregroundColor,fill:e.foregroundColor,"data-name":"line"}),t.anchor1&&UQ(e,{x:gs(n+5),y:gs(e.calcY(t.pitch-.5)),text:t.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:t.text});var u=e.paper.closeGroup();return i.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},u),[u]}var jQ=qQ,u5=qs,$r=$i;function GQ(e,t,n,r,i){KQ(t,n,r);var a="";t.anchor1?a+="abcjs-start-m"+t.anchor1.parent.counters.measure+"-n"+t.anchor1.parent.counters.note:a+="abcjs-start-edge",t.anchor2?a+=" abcjs-end-m"+t.anchor2.parent.counters.measure+"-n"+t.anchor2.parent.counters.note:a+=" abcjs-end-edge",t.hint&&(a="abcjs-hint");var s=t.fixedY?1.5:0,l=YQ(e,t.startX,t.endX,t.startY+s,t.endY+s,t.above,a,t.isTie,t.dotted);return i.wrapSvgEl({el_type:"slur",startChar:-1,endChar:-1},l),[l]}var KQ=function(e,t,n){!e.anchor1||!e.anchor2||e.anchor1.pitch===e.anchor2.pitch&&e.internalNotes.length===0?e.isTie=!0:e.isTie=!1,e.isTie?(e.calcTieDirection(),e.calcX(t,n),e.calcTieY()):(e.calcSlurDirection(),e.calcX(t,n),e.calcSlurY()),e.avoidCollisionAbove()},YQ=function(e,t,n,r,i,a,s,l,u){var c=l?1.2:1.5;t=$r(t+6),n=$r(n+4),r=r+(a?c:-c),i=i+(a?c:-c);var f=$r(e.calcY(r)),h=$r(e.calcY(i)),p=n-t,m=h-f,v=Math.sqrt(p*p+m*m),b=p/v,w=m/v,x=v/3.5,C=l?10:25,S=(a?-1:1)*Math.min(C,Math.max(4,x)),_=$r(t+x*b-S*w),M=$r(f+x*w+S*b),P=$r(n-x*b-S*w),A=$r(h-x*w+S*b),k=2;s?s+=" slur":s="slur",s+=l?" tie":" legato";var B;if(u){s+=" dotted";var F=u5("M %f %f C %f %f %f %f %f %f",t,f,_,M,P,A,n,h);B=e.paper.path({path:F,stroke:e.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:e.controller.classes.generate(s),"data-name":l?"tie":"slur"})}else{var U=u5("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t,f,_,M,P,A,n,h,$r(P-k*w),$r(A+k*b),$r(_-k*w),$r(M+k*b),t,f);B=e.paper.path({path:U,stroke:"none",fill:e.foregroundColor,class:e.controller.classes.generate(s),"data-name":l?"tie":"slur"})}return B},XQ=GQ,JQ=kl,mo=$i;function QQ(e,t){if(t.beams.length!==0){for(var n="",r=0;r<t.beams.length;r++){var i=t.beams[r];if(i.split){for(var a=ZQ(e,i.startX,i.startY,i.endX,i.endY),s=[],l=0;l<i.split.length;l+=2)s.push([i.split[l],i.split[l+1]]);for(l=0;l<s.length;l++){var u=d5(i.startX,i.startY,a,s[l][0]),c=d5(i.startX,i.startY,a,s[l][1]);n+=f5(e,s[l][0],u,s[l][1],c,i.dy)}}else n+=f5(e,i.startX,i.startY,i.endX,i.endY,i.dy)}var f=("abcjs-d"+t.duration).replace(/\./g,"-"),h=e.controller.classes.generate("beam-elem "+f),p=JQ(e,{path:n,stroke:"none",fill:e.foregroundColor,class:h});return[p]}}function f5(e,t,n,r,i,a){n=mo(e.calcY(n)),i=mo(e.calcY(i)),t=mo(t),r=mo(r);var s=mo(n+a),l=mo(i+a);return"M"+t+" "+n+" L"+r+" "+i+"L"+r+" "+l+" L"+t+" "+s+"z"}function ZQ(e,t,n,r,i){return(i-n)/(r-t)}function d5(e,t,n,r){var i=r-e;return t+i*n}var eZ=QQ,tZ=ig,bo=$i;function nZ(e,t,n,r,i,a,s){if(n<0||r<i){var l=bo(i);i=bo(r),r=l}else r=bo(r),i=bo(i);t=bo(t);var u=bo(t+n);if(e.firefox112){t+=n/2;var f={x1:t,x2:t,y1:r,y2:i,stroke:e.foregroundColor,"stroke-width":Math.abs(n)};return a&&(f.class=a),s&&(f["data-name"]=s),e.paper.lineToBack(f)}for(var c=[["M",t,r],["L",t,i],["L",u,i],["L",u,r],["z"]],f={path:""},h=0;h<c.length;h++)f.path+=c[h].join(" ");return a&&(f.class=a),s&&(f["data-name"]=s),tZ.isInGroup()||(f.stroke="none",f.fill=e.foregroundColor),e.paper.pathToBack(f)}var e9=nZ,rZ=qs,nu=$i;function iZ(e,t,n,r,i,a,s){var l=e.foregroundColor;t=nu(t),n=nu(n);var u=nu(r-s),c=nu(r+s);if(e.firefox112){r+=s/2;var f={x1:t,x2:n,y1:r,y2:r,stroke:e.foregroundColor,"stroke-width":Math.abs(s*2)};return i&&(f.class=i),a&&(f["data-name"]=a),e.paper.lineToBack(f)}var h=rZ("M %f %f L %f %f L %f %f L %f %f z",t,u,n,u,n,c,t,c),p={path:h,stroke:"none",fill:l};a&&(p["data-name"]=a),i&&(p.class=i);var m=e.paper.pathToBack(p);return m}var aZ=iZ,sZ=aZ;function oZ(e,t,n,r,i,a,s){var l=e.calcY(r);return sZ(e,t,n,l,i,a,s)}var t9=oZ,Xi=Ja,h5=e9,lZ=t9,cZ=Z7;function uZ(e,t,n){t.pitch===void 0&&window.console.error(t.type+" Relative Element y-coordinate not set.");var r=e.calcY(t.pitch);switch(t.type){case"symbol":if(t.c===null)return null;var i="symbol";t.klass&&(i+=" "+t.klass),t.graphelem=cZ(e,t.x,t.pitch,t.c,{scalex:t.scalex,scaley:t.scaley,klass:e.controller.classes.generate(i),name:t.name});break;case"debug":t.graphelem=Xi(e,{x:t.x,y:e.calcY(15),text:""+t.c,type:"debugfont",klass:e.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:t.dim},!1);break;case"tabNumber":var a="middle",s="tabnumberfont",l="tab-number";t.isGrace&&(s="tabgracefont",r+=2.5,l="tab-grace"),t.graphelem=Xi(e,{x:t.x,y:r,text:""+t.c,type:s,klass:e.controller.classes.generate(l),anchor:a,centerVertically:!1,dim:t.dim,cursor:"default"},!1);break;case"barNumber":t.graphelem=Xi(e,{x:t.x,y:r,text:""+t.c,type:"measurefont",klass:e.controller.classes.generate("bar-number"),anchor:"middle",dim:t.dim,name:"bar-number"},!0);break;case"lyric":t.graphelem=Xi(e,{x:t.x,y:r,text:t.c,type:"vocalfont",klass:e.controller.classes.generate("lyric"),anchor:"middle",dim:t.dim,name:"lyric"},!1);break;case"chord":t.graphelem=Xi(e,{x:t.x,y:r,text:t.c,type:"gchordfont",klass:e.controller.classes.generate("chord"),anchor:"middle",dim:t.dim,lane:t.getLane(),name:"chord"},!1);break;case"decoration":t.graphelem=Xi(e,{x:t.x,y:r+6,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:t.anchor,centerVertically:!0,dim:t.dim},!1);break;case"text":t.graphelem=Xi(e,{x:t.x,y:r,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:"start",centerVertically:t.centerVertically,dim:t.dim,lane:t.getLane(),name:"annotation"},!1);break;case"multimeasure-text":t.graphelem=Xi(e,{x:t.x+t.w/2,y:r,text:t.c,type:"tempofont",klass:e.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:t.dim},!1);break;case"part":t.graphelem=Xi(e,{x:t.x,y:r,text:t.c,type:"partsfont",klass:e.controller.classes.generate("part"),anchor:"start",dim:t.dim,name:t.c},!0);break;case"bar":t.graphelem=h5(e,t.x,t.linewidth+e.lineThickness,r,n||e.calcY(t.pitch2),null,"bar");break;case"stem":var u=t.linewidth>0?t.linewidth+e.lineThickness:t.linewidth-e.lineThickness;t.graphelem=h5(e,t.x,u,r,e.calcY(t.pitch2),"abcjs-stem","stem");break;case"ledger":t.graphelem=lZ(e,t.x,t.x+t.w,t.pitch,"abcjs-ledger","ledger",.35+e.lineThickness);break}return t.scalex!==1&&t.graphelem&&fZ(e.paper,t.graphelem,t.scalex,t.scaley,t.x,r),t.graphelem}function fZ(e,t,n,r,i,a){e.setAttributeOnElement(t,{style:"transform:scale("+n+","+r+");transform-origin:"+i+"px "+a+"px;"})}var n9=uZ,dZ=n9,fh=Ja;function hZ(e,t){var n=t.x;t.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set."),t.tempo.el_type="tempo";var r=e.calcY(t.pitch)+2,i,a;if(t.tempo.preString){i=fh(e,{x:n,y:r,text:t.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,"dominant-baseline":"ideographic",name:"pre"},!0),a=e.controller.getTextSize.calc(t.tempo.preString,"tempofont","tempo",i);var s=a.width,l=s/t.tempo.preString.length;n+=s+l}if(t.note){t.note.setX(n);for(var u=0;u<t.note.children.length;u++)dZ(e,t.note.children[u],n);n+=t.note.w+5;var c="= "+t.tempo.bpm;i=fh(e,{x:n,y:r,text:c,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"}),a=e.controller.getTextSize.calc(c,"tempofont","tempo",i);var f=a.width,h=f/c.length;n+=f+h}t.tempo.postString&&fh(e,{x:n,y:r,text:t.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}var pZ=hZ,gZ=pZ,vZ=n9,mZ=hr,p5=Vp,g5=ig;function bZ(e,t,n,r,i){if(!t.invisible){var a=t.children.length>0&&t.children[0].type==="TempoElement";t.elemset=[],g5.beginGroup(e.paper,e.controller);for(var s=0;s<t.children.length;s++){var l=t.children[s];switch(l.type){case"TempoElement":gZ(e,l);break;default:vZ(e,l,n)}}var u=t.type;if((t.type==="note"||t.type==="rest")&&(t.counters=e.controller.classes.getCurrent(),u+=" d"+Math.round(t.durationClass*1e3)/1e3,u=u.replace(/\./g,"-"),t.abcelem.pitches))for(var c=0;c<t.abcelem.pitches.length;c++)u+=" p"+t.abcelem.pitches[c].pitch;var f=g5.endGroup(u,t.type);if(f){if(t.cloned&&(t.cloned.overrideClasses=f.className.baseVal),t.overrideClasses){var h=f.classList&&f.classList.length>0?f.classList[0]+" ":"";f.setAttribute("class",h+t.overrideClasses)}if(a)t.startChar=t.abcelem.startChar,t.endChar=t.abcelem.endChar,r.add(t,f,!1,i);else{t.elemset.push(f);var p=!1;(t.type==="note"||t.type==="tabNumber")&&(p=!0),r.add(t,f,p,i)}}else t.elemset.length>0&&r.add(t,t.elemset[0],t.type==="note",i);if(t.klass&&p5(t.elemset,"mark","","#00ff00"),t.hint&&p5(t.elemset,"abcjs-hint","",null),t.abcelem.abselem=t,t.heads&&t.heads.length>0){t.notePositions=[];for(var m=0;m<t.heads.length;m++)t.notePositions.push({x:t.heads[m].x+t.heads[m].w/2,y:i.zero-t.heads[m].pitch*mZ.STEP})}}}var yZ=bZ,wZ=SQ,_Z=kQ,xZ=BQ,MZ=WQ,CZ=jQ,PZ=XQ,SZ=eZ,TZ=Ja,v5=yZ;function EZ(e,t,n,r,i){var a=t.w-1;e.staffbottom=t.staff.bottom;var s=e.foregroundColor;if(t.color&&(e.foregroundColor=t.color),t.header){var l=TZ(e,{x:e.padding.left,y:e.calcY(t.headerPosition),text:t.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);r.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:t.header},l)}var u,c,f=!1;for(u=0;u<t.children.length;u++){c=t.children[u],(c.type==="note"||c.type==="rest")&&(f=!0);var h=!1;c.type!=="staff-extra"&&!e.controller.classes.isInMeasure()&&(e.controller.classes.startMeasure(),h=!0),t.staff.isTabStaff&&(c.invisible=!1,c.type=="bar"&&c.abcelem.lastBar&&(n=t.topLine)),v5(e,c,t.barto||u===t.children.length-1?n:0,r,i),(c.type==="note"||AZ(c))&&e.controller.classes.incrNote(),c.type==="bar"&&!h&&f&&e.controller.classes.incrMeasure()}for(e.controller.classes.startMeasure(),u=0;u<t.beams.length;u++){var p=t.beams[u];p==="bar"?e.controller.classes.incrMeasure():SZ(e,p)}for(e.controller.classes.startMeasure(),u=0;u<t.otherchildren.length;u++)if(c=t.otherchildren[u],c==="bar")e.controller.classes.incrMeasure();else switch(c.type){case"GlissandoElem":c.elemset=wZ(e,c,r);break;case"CrescendoElem":c.elemset=_Z(e,c,r);break;case"DynamicDecoration":c.elemset=xZ(e,c,r);break;case"TripletElem":MZ(e,c,r);break;case"EndingElem":c.elemset=CZ(e,c,t.startx+10,a,r);break;case"TieElem":c.elemset=PZ(e,c,t.startx+10,a,r);break;default:console.log(c),v5(e,c,t.startx+10,a,r)}e.foregroundColor=s}function AZ(e){return e.type!=="rest"?!1:!!(e.abcelem&&e.abcelem.rest&&e.abcelem.rest.type!=="spacer")}var kZ=EZ,m5=t9;function OZ(e,t,n,r,i,a){var s="abcjs-top-line",l=2;i&&(l=i),e.paper.openGroup({prepend:!0,klass:e.controller.classes.generate("abcjs-staff")});var u=0,c=0;if(r===1)m5(e,t,n,6,s,null,a+e.lineThickness),u=e.calcY(10),c=e.calcY(2);else for(var f=r-1;f>=0;f--){var h=(f+1)*l;c=e.calcY(h),u===0&&(u=c),m5(e,t,n,h,s,null,a+e.lineThickness),s=void 0}return e.paper.closeGroup(),[u,c]}var NZ=OZ;function IZ(e,t,n){var r=e.paper.rectBeneath(t);return n&&e.paper.text(n,{x:0,y:t.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),r}var LZ=IZ;function $Z(e,t){var n="rgba(0,0,0,255)",r="rgba(0,0,0,0)",i=Math.round(e.y),a=e.controller.width,s=(a-t)/2,l=s+t,u="M "+s+" "+i+" L "+l+" "+i+" L "+l+" "+(i+1)+" L "+s+" "+(i+1)+" L "+s+" "+i+" z";e.paper.pathToBack({path:u,stroke:r,fill:n,class:e.controller.classes.generate("defined-text")})}var BZ=$Z,RZ=BZ,FZ=Ja;function HZ(e,t,n){for(var r=0;r<t.rows.length;r++){var i=t.rows[r];if(i.absmove)e.absolutemoveY(i.absmove);else if(i.move)e.moveY(i.move);else if(i.text){var a=i.left?i.left:0,s=FZ(e,{x:a,y:e.y,text:i.text,type:i.font,klass:i.klass,name:i.name,anchor:i.anchor});i.absElemType&&n.wrapSvgEl({el_type:i.absElemType,name:i.name,startChar:i.startChar,endChar:i.endChar,text:i.text},s)}else if(i.separator)RZ(e,i.separator);else if(i.startGroup)e.paper.openGroup({klass:i.klass,"data-name":i.name});else if(i.endGroup){var l=e.paper.closeGroup();i.absElemType&&n.wrapSvgEl({el_type:i.absElemType,name:i.name,startChar:i.startChar,endChar:i.endChar,text:""},l)}}}var r9=HZ,xo=hr,DZ=fQ,zZ=kZ,WZ=NZ,zu=LZ,UZ=e9,VZ=r9;function qZ(e,t,n,r){for(var i,a=e.y,s=0;s<t.staffs.length;s++){var l=t.staffs[s];e.moveY(xo.STEP,l.top),l.absoluteY=e.y,e.showDebug&&(e.showDebug.indexOf("box")>=0&&l.voices&&jZ(e,t.voices,l.voices),e.showDebug.indexOf("grid")>=0&&(e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:a,y2:a,stroke:"#0000ff"}),zu(e,{x:e.padding.left,y:e.calcY(l.originalTop),width:e.controller.width,height:e.calcY(l.originalBottom)-e.calcY(l.originalTop),fill:e.foregroundColor,stroke:e.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),i=0,_(l,"chordHeightAbove"),_(l,"chordHeightBelow"),_(l,"dynamicHeightAbove"),_(l,"dynamicHeightBelow"),_(l,"endingHeightAbove"),_(l,"lyricHeightAbove"),_(l,"lyricHeightBelow"),_(l,"partHeightAbove"),_(l,"tempoHeightAbove"),_(l,"volumeHeightAbove"),_(l,"volumeHeightBelow"))),e.moveY(xo.STEP,-l.bottom),e.showDebug&&e.showDebug.indexOf("grid")>=0&&e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:e.y,y2:e.y,stroke:"#0000aa"})}for(var u,c,f=2,h=0,p=0;p<t.voices.length;p++){var m=t.voices[p].staff,v=t.voices[p].tabNameInfos;if(e.y=m.absoluteY,e.controller.classes.incrVoice(),!t.voices[p].duplicate){if(u||(u=e.calcY(10)),c=e.calcY(f),m.lines!==0){m.linePitch&&(f=m.linePitch),e.controller.classes.newMeasure();var b=WZ(e,t.startx,t.w,m.lines,m.linePitch,.35);c=b[1],m.bottomLine=c,m.topLine=b[0],m.hasTab&&(h=m.topLine),m.hasStaff&&(h=m.hasStaff.topLine,t.voices[p].barto=!0,t.voices[p].topLine=u)}b5(e,m.absoluteY,t.brace,p,n),b5(e,m.absoluteY,t.bracket,p,n)}zZ(e,t.voices[p],h,n,{top:a,zero:e.y,height:t.height*xo.STEP});var w=0;if(v){var x={rows:[]};x.rows.push({absmove:c+2});var C=8;x.rows.push({left:t.startx+C,text:v.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),x.rows.push({move:v.textSize.height}),VZ(e,x),w=v.textSize.height}e.controller.classes.newMeasure(),t.voices[p].duplicate||(h=e.calcY(2+w))}e.controller.classes.newMeasure();var S=t.staffs.length;S>1&&(u=t.staffs[0].topLine,c=t.staffs[S-1].bottomLine,UZ(e,t.startx,.6,u,c,null)),e.y=a;function _(M,P){var A=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(M.positionY&&M.positionY[P]){var k=M.specialY[P]*xo.STEP;P==="chordHeightAbove"&&M.specialY.chordLines&&M.specialY.chordLines.above&&(k*=M.specialY.chordLines.above),P==="chordHeightBelow"&&M.specialY.chordLines&&M.specialY.chordLines.below&&(k*=M.specialY.chordLines.below),zu(e,{x:e.padding.left,y:e.calcY(M.positionY[P]),width:e.controller.width,height:k,fill:A[i],stroke:A[i],"fill-opacity":.4,"stroke-opacity":.4},P.substr(0,4)),i+=1,i>6&&(i=0)}}}function b5(e,t,n,r,i){if(n)for(var a=0;a<n.length;a++)n[a].isStartVoice(r)&&(n[a].startY=t-xo.STEP*10,n[a].elemset=DZ(e,n[a],i))}function jZ(e,t,n){for(var r=0;r<n.length;r++)for(var i=t[n[r]].children,a=0;a<i.length;a++){var s=i[a],l=s.getFixedCoords();if(!(s.invisible||l.t===void 0||l.b===void 0)){var u=(l.t-l.b)*xo.STEP;zu(e,{x:l.x,y:e.calcY(l.t),width:l.w,height:u,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var c=0;c<s.children.length;c++){var f=s.children[c],h=f.getChordDim();if(h){var p=e.calcY(f.pitch);p+=f.dim.font.size*f.getLane(),zu(e,{x:h.left,y:p,width:h.right-h.left,height:f.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}var GZ=qZ;function KZ(e,t,n,r){var i=(t+e.padding.right)*n,a=(e.y+e.padding.bottom)*n;if(e.isPrint&&(a=Math.max(a,1056)),e.ariaLabel!==""){var s="Sheet Music";e.abctune&&e.abctune.metaText&&e.abctune.metaText.title&&(s+=' for "'+e.abctune.metaText.title+'"'),e.paper.setTitle(s);var l=e.ariaLabel?e.ariaLabel:s;e.paper.setAttribute("aria-label",l)}var u=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];e.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+u.join(" ")+"}");var c={overflow:"hidden"};r==="resize"?e.paper.setResponsiveWidth(i,a):(c.width="",c.height=a+"px",n<1?(c.width=i+"px",e.paper.setSize(i/n,a/n)):e.paper.setSize(i,a)),e.paper.setScale(n),e.paper.setParentStyles(c)}var YZ=KZ,XZ=_7,JZ=x7;function Nl(e,t,n){this.elements=[],this.paper=e,this.tuneNumber=n,this.selectTypes=t}Nl.prototype.getElements=function(){return this.elements};Nl.prototype.add=function(e,t,n,r){if(this.canSelect(e)){var i;this.selectTypes===void 0?i={selectable:!1,"data-index":this.elements.length}:i={selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(t,i);var a={absEl:e,svgEl:t,isDraggable:n};r!==void 0&&(a.staffPos=r),this.elements.push(a)}};Nl.prototype.canSelect=function(e){return this.selectTypes===!1||!e||!e.abcelem?!1:this.selectTypes===!0?!0:this.selectTypes===void 0?e.abcelem.el_type==="note"||e.abcelem.el_type==="tabNumber":this.selectTypes.indexOf(e.abcelem.el_type)>=0};Nl.prototype.wrapSvgEl=function(e,t){var n={tuneNumber:this.tuneNumber,abcelem:e,elemset:[t],highlight:XZ,unhighlight:JZ};this.add(n,t,!1)};var QZ=Nl,ZZ=GZ,eee=YZ,dh=r9,i9=hr,tee=QZ;function nee(e,t,n,r,i,a,s,l,u,c){var f=new tee(e.paper,l,u);e.paper.openGroup(),e.moveY(e.padding.top),dh(e,n.topText,f),e.paper.closeGroup(),e.moveY(e.spacing.music);for(var h=[],p=0;p<n.lines.length;p++){t.incrLine();var m=n.lines[p];if(m.staff){e.paper.openGroup(),m.vskip&&e.moveY(m.vskip),h.length>=1&&iee(e,e.spacing.staffSeparation,h[h.length-1],m.staffGroup);var v=ree(e,m.staffGroup,f);v.line=c+p,h.push(v),e.paper.closeGroup()}else m.nonMusic&&(e.paper.openGroup(),dh(e,m.nonMusic,f),e.paper.closeGroup())}return t.reset(),n.bottomText&&n.bottomText.rows&&n.bottomText.rows.length>0&&(e.paper.openGroup(),e.moveY(24),dh(e,n.bottomText,f),e.paper.closeGroup()),eee(e,i,s,a),{staffgroups:h,selectables:f.getElements()}}function ree(e,t,n,r){ZZ(e,t,n);var i=t.height*i9.STEP;return e.y+=i,t}function iee(e,t,n,r){var i=n.staffs[n.staffs.length-1],a=-(i.bottom-2),s=r.staffs[0].top-10,l=s+a,u=l*i9.STEP;u<t&&e.moveY(t-u)}var aee=nee,see=hr,oee=TX,lee=kX,cee=NX,uee=LX,fee=BX,dee=HX,hee=DX,pee=eJ,a9=ZJ,gee=eQ,s9=tQ,o9=nQ,vee=aee,mee=I7,Bi=function(e,t){t=t||{},this.oneSvgPerLine=t.oneSvgPerLine,this.selectionColor=t.selectionColor,this.dragColor=t.dragColor?t.dragColor:t.selectionColor,this.dragging=!!t.dragging,this.selectTypes=t.selectTypes,this.responsive=t.responsive,this.space=3*see.SPACE,this.initialClef=t.initialClef,this.scale=t.scale?parseFloat(t.scale):0,this.classes=new gee({shouldAddClasses:t.add_classes}),this.scale>.1||(this.scale=void 0),t.staffwidth?(this.staffwidthScreen=t.staffwidth,this.staffwidthPrint=t.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],t.clickListener&&this.addSelectListener(t.clickListener),this.renderer=new lee(e),this.renderer.setPaddingOverride(t),t.showDebug&&(this.renderer.showDebug=t.showDebug),t.jazzchords&&(this.jazzchords=t.jazzchords),t.germanAlphabet&&(this.germanAlphabet=t.germanAlphabet),t.lineThickness&&(this.lineThickness=t.lineThickness),this.renderer.controller=this,this.renderer.foregroundColor=t.foregroundColor?t.foregroundColor:"currentColor",t.ariaLabel!==void 0&&(this.renderer.ariaLabel=t.ariaLabel),this.renderer.minPadding=t.minPadding?t.minPadding:0,this.reset()};Bi.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)};Bi.prototype.engraveABC=function(e,t,n){e[0]===void 0&&(e=[e]),this.reset();for(var r=0;r<e.length;r++)t===void 0&&(t=r),this.getFontAndAttr=new s9(e[r].formatting,this.classes),this.getTextSize=new o9(this.getFontAndAttr,this.renderer.paper),this.engraveTune(e[r],t,n)};Bi.prototype.adjustNonScaledItems=function(e){this.width/=e,this.renderer.adjustNonScaledItems(e)};Bi.prototype.getMeasureWidths=function(e){this.reset(),this.getFontAndAttr=new s9(e.formatting,this.classes),this.getTextSize=new o9(this.getFontAndAttr,this.renderer.paper),this.setupTune(e,0),this.constructTuneElements(e),a9(this.renderer,e,0,this.space);for(var t=[],n,r=!0,i=0;i<e.lines.length;i++){var a=e.lines[i];if(a.staff){if(r&&(n={left:0,measureWidths:[],total:0},t.push(n),r=!1),a.staffGroup.voices.length>0)for(var s=a.staffGroup.voices[0],l=!1,u=0,c=0;c<s.children.length;c++){var f=s.children[c];!l&&!f.isClef&&!f.isKeySig&&(l=!0,n.left=f.x,u=f.x),f.type==="bar"&&(n.measureWidths.push(f.x-u),n.total+=f.x-u,u=f.x)}}else r=!0}return t};Bi.prototype.setupTune=function(e,t){this.classes.reset(),e.formatting.jazzchords!==void 0&&(this.jazzchords=e.formatting.jazzchords),this.renderer.newTune(e),this.engraver=new oee(this.getTextSize,t,{bagpipes:e.formatting.bagpipes,flatbeams:e.formatting.flatbeams,graceSlurs:e.formatting.graceSlurs!==!1,percmap:e.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=e.getMeterFraction().num/e.getMeterFraction().den,e.formatting.staffwidth?this.width=e.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var n=e.formatting.scale?e.formatting.scale:this.scale;return this.responsive==="resize"&&(n=void 0),n===void 0&&(n=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(n),n};Bi.prototype.constructTuneElements=function(e){e.topText=new dee(e.metaText,e.metaTextInfo,e.formatting,e.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.getTextSize);var t,n,r=!1,i=!1;for(t=0;t<e.lines.length;t++)if(n=e.lines[t],n.staff)i=!0,n.staffGroup=this.engraver.createABCLine(n.staff,r?null:e.metaText.tempo,t),r=!0;else if(n.subtitle){if(i){var a=this.width/2+this.renderer.padding.left;n.nonMusic=new fee(this.renderer.spacing.subtitle,e.formatting,n.subtitle,a,this.renderer.padding.left,this.getTextSize)}}else n.text!==void 0?(i=!0,n.nonMusic=new cee(n.text,n.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):n.separator!==void 0&&n.separator.lineLength&&(i=!0,n.nonMusic=new uee(n.separator.spaceAbove,n.separator.lineLength,n.separator.spaceBelow));e.bottomText=new hee(e.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.getTextSize)};Bi.prototype.engraveTune=function(e,t,n){var r=this.setupTune(e,t);this.constructTuneElements(e);var i=a9(this.renderer,e,this.width,this.space);e.tablatures&&mee.layoutTablatures(this.renderer,e);var a=vee(this.renderer,this.classes,e,this.width,i,this.responsive,r,this.selectTypes,t,n);if(this.staffgroups=a.staffgroups,this.selectables=a.selectables,this.oneSvgPerLine){var s=this.renderer.paper.svg.parentNode;this.svgs=bee(this.renderer,s,e.metaText.title,this.responsive)}else this.svgs=[this.renderer.paper.svg];pee(this,this.svgs)};function bee(e,t,n,r){n||(n="Untitled");var i=t.querySelector("svg");r==="resize"&&(t.style.paddingBottom="");for(var a=i.querySelector("style"),s=r==="resize"?i.viewBox.baseVal.width:i.getAttribute("width"),l=t.querySelectorAll("svg > g"),u=0,c=[],f=0;f<l.length;f++){var h=l[f],p=h.getBBox(),m=p.y-u,v=p.height+m,b=document.createElement("div"),w="overflow: hidden;";r!=="resize"&&(w+="height:"+v+"px;"),b.setAttribute("style",w);var x=yee(i),C='Sheet Music for "'+n+'" section '+(f+1);x.setAttribute("aria-label",C),r!=="resize"&&x.setAttribute("height",v),r==="resize"&&(x.style.position="");var S=e.firefox112?v+1:v;x.setAttribute("viewBox","0 "+u+" "+s+" "+S),x.appendChild(a.cloneNode(!0));var _=document.createElement("title");_.innerText=C,x.appendChild(_),x.appendChild(h),b.appendChild(x),c.push(x),t.appendChild(b),u=p.y+p.height}return t.removeChild(i),c}function yee(e){for(var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg"),r=0;r<e.attributes.length;r++){var i=e.attributes[r];i.name!=="height"&&i.name!="aria-label"&&n.setAttribute(i.name,i.value)}return n}Bi.prototype.getDim=function(e){if(!e.dim){var t=e.svgEl.getBBox();e.dim={left:Math.round(t.x),top:Math.round(t.y),right:Math.round(t.x+t.width),bottom:Math.round(t.y+t.height)}}return e.dim};Bi.prototype.addSelectListener=function(e){this.listeners[this.listeners.length]=e};var wee=Bi,_ee=Jp,l9=wee,xee=v7,Mee=f7,fu={};function y5(){var e=window.innerWidth;for(var t in fu)if(fu.hasOwnProperty(t)){var n=fu[t],r=n.offsetLeft;e-=r*2,n.style.width=e+"px"}}try{window.addEventListener("resize",y5),window.addEventListener("orientationChange",y5)}catch{}function c9(e,t,n,r,i){n.viewportHorizontal?(e.innerHTML='<div class="abcjs-inner"></div>',n.scrollHorizontal?(e.style.overflowX="auto",e.style.overflowY="hidden"):e.style.overflow="hidden",fu[e.id]=e,e=e.children[0]):n.viewportVertical?(e.innerHTML='<div class="abcjs-inner scroll-amount"></div>',e.style.overflowX="hidden",e.style.overflowY="auto",e=e.children[0]):e.innerHTML="";var a=new l9(e,n);if(a.engraveABC(t,r,i),t.engraver=a,n.viewportVertical||n.viewportHorizontal){var s=e.parentNode;s.style.width=e.style.width}}var Cee=function(e,t,n,r,i){var a={},s;if(n){for(s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);a.warnings_id&&a.tablature&&(a.tablature.warning_id=a.warnings_id)}if(r)for(s in r)r.hasOwnProperty(s)&&(s==="listener"?r[s].highlight&&(a.clickListener=r[s].highlight):a[s]=r[s]);if(i)for(s in i)i.hasOwnProperty(s)&&(a[s]=i[s]);function l(u,c,f,h){var p=!1;return u==="*"&&(p=!0,u=document.createElement("div"),u.setAttribute("style","visibility: hidden;"),document.body.appendChild(u)),a.afterParsing&&a.afterParsing(c,f,h),!p&&a.wrap&&a.staffwidth?(c=Pee(u,c,f,h,a),c):(c9(u,c,a,f,0),p&&u.parentNode.removeChild(u),null)}return _ee.renderEngine(l,e,t,a)};function Pee(e,t,n,r,i){var a=new l9(e,i),s=a.getMeasureWidths(t),l=Mee.calcLineWraps(t,s,i);if(l.reParse){var u=new xee;u.parse(r,l.revisedParams),t=u.getTune();var c=u.getWarnings();c&&(t.warnings=c)}return c9(e,t,l.revisedParams,n,0),t.explanation=l.explanation,t}var u9=Cee,See={},ag=See,hh=ag,Tee=function(e,t,n,r){hh[t]||(hh[t]={});var i=hh[t];return i[n]||(i[n]=new Promise(function(a,s){var l=new XMLHttpRequest;let u=e+t+"-mp3/"+n+".mp3";l.open("GET",u,!0),l.responseType="arraybuffer",l.onload=function(){if(l.status!==200){s(Error("Can't load sound at "+u+" status="+l.status));return}var c=function(h){a({instrument:t,name:n,status:"loaded",audioBuffer:h})},f=r.decodeAudioData(l.response,c,function(){s(Error("Can't decode sound at "+u))});f&&typeof f.catch=="function"&&f.catch(s)},l.onerror=function(){s(Error("Can't load sound at "+u))},l.send()}).catch(a=>{throw console.error("Didn't load note",t,n,":",a.message),a})),i[n]},Eee=Tee,Aee=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"],sg=Aee,w5=sg,kee=function(e){for(var t=[],n=0;n<e.tracks.length;n++)t.push([]);var r=w5[0];return e.tracks.forEach(function(i,a){i.forEach(function(s){switch(s.cmd){case"note":if(s.duration>0){var l=s.gap?s.gap:0,u=s.duration;l=Math.min(l,u*2/3);var c={pitch:s.pitch,instrument:r,start:Math.round(s.start*1e6)/1e6,end:Math.round((s.start+u-l)*1e6)/1e6,volume:s.volume};s.startChar&&(c.startChar=s.startChar),s.endChar&&(c.endChar=s.endChar),s.style&&(c.style=s.style),s.cents&&(c.cents=s.cents),t[a].push(c)}break;case"program":r=w5[s.instrument];break;case"text":break;default:console.log("Unhandled midi event",s)}})}),t},Oee=kee;function Nee(e){if(e)window.abcjsAudioContext=e;else if(!window.abcjsAudioContext){var t=window.AudioContext||window.webkitAudioContext;if(t)window.abcjsAudioContext=new t;else return!1}return window.abcjsAudioContext.state!=="suspended"}var gf=Nee,Iee=gf;function Lee(){return window.abcjsAudioContext||Iee(),window.abcjsAudioContext}var n0=Lee,$ee=n0;function Bee(){if(!window.Promise||!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var e=$ee();if(e)return e.resume!==void 0}var vf=Bee,Ree={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"},og=Ree,Fee=function(e){return window.URL.createObjectURL(Hee(e.audioBuffers))};function Hee(e){var t=e[0],n=t.numberOfChannels,r=t.length*n*2+44,i=new ArrayBuffer(r),a=new DataView(i),s=[],l,u,c=0,f=0;for(p(1179011410),p(r-8),p(1163280727),p(544501094),p(16),h(1),h(n),p(t.sampleRate),p(t.sampleRate*2*n),h(n*2),h(16),p(1635017060),p(r-f-4),l=0;l<n;l++)s.push(t.getChannelData(l));for(;f<r;){for(l=0;l<s.length;l++)u=Math.max(-1,Math.min(1,s[l][c])),u=(.5+u<0?u*32768:u*32767)|0,a.setInt16(f,u,!0),f+=2;c++}return new Blob([i],{type:"audio/wav"});function h(m){a.setUint16(f,m,!0),f+=2}function p(m){a.setUint32(f,m,!0),f+=4}}var Dee=Fee;function zee(e){return Math.pow(2,e/1200)}var f9=zee,Wee=ag,Uee=og,Vee=f9;function qee(e,t,n,r,i,a,s,l,u){var c=window.OfflineAudioContext||window.webkitOfflineAudioContext,f=n.len*n.tempoMultiplier;a&&(f+=a/1e3),f-=l,f<0&&(f=.005);var h=new c(2,Math.floor((f+s)*t),t),p=Uee[n.pitch],m=Wee[n.instrument][p];return m?m.then(function(v){var b=h.createBufferSource();b.buffer=v.audioBuffer;var w=n.volume/96*i;b.gainNode=h.createGain(),n.pan&&h.createStereoPanner&&(b.panNode=h.createStereoPanner(),b.panNode.pan.setValueAtTime(n.pan,0)),b.gainNode.gain.value=w,b.gainNode.gain.linearRampToValueAtTime(b.gainNode.gain.value,f),b.gainNode.gain.linearRampToValueAtTime(0,f+s),n.cents&&(b.playbackRate.value=Vee(n.cents)),b.panNode?(b.panNode.connect(h.destination),b.gainNode.connect(b.panNode)):b.gainNode.connect(h.destination),b.connect(b.gainNode),b.start(0),b.noteOff?b.noteOff(f+s):b.stop(f+s);var x;return h.oncomplete=function(C){if(C.renderedBuffer&&C.renderedBuffer.getChannelData)for(var S=0;S<r.length;S++){var _=r[S]*n.tempoMultiplier;a&&(_-=a/1e3),_<0&&(_=0),_=Math.floor(_*t),jee(e,C.renderedBuffer,_)}u&&u("placeNote: "+n.instrument+":"+p),x()},h.startRendering(),new Promise(function(C){x=C})}).catch(function(v){return u&&u("placeNote catch: "+v.message),Promise.resolve()}):(u&&u("placeNote skipped: "+n.instrument+":"+p),Promise.resolve())}var jee=function(e,t,n){for(var r=0;r<2;r++)for(var i=t.getChannelData(r),a=e.getChannelData(r),s=0;s<i.length;s++)a[s+n]+=i[s]},Gee=qee,Kee=Eee,Yee=Oee,Xee=gf,on=n0,Jee=vf,Qee=og,ph=sg,Zee=Dee,ete=Gee,_5=ag,vs="MIDI is not supported in this browser.",x5="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",M5="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",tte="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function nte(){var e=this;e.audioBufferPossible=void 0,e.directSource=[],e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.audioBuffers=[],e.duration=void 0,e.isRunning=!1,e.init=function(n){n||(n={}),Xee(n.audioContext);var r=on().currentTime;if(e.debugCallback=n.debugCallback,e.debugCallback&&e.debugCallback("init called"),e.audioBufferPossible=e._deviceCapable(),!e.audioBufferPossible)return Promise.reject({status:"NotSupported",message:vs});var i=n.options?n.options:{};e.soundFontUrl=i.soundFontUrl?i.soundFontUrl:M5,e.soundFontUrl[e.soundFontUrl.length-1]!=="/"&&(e.soundFontUrl+="/"),i.soundFontVolumeMultiplier||i.soundFontVolumeMultiplier===0?e.soundFontVolumeMultiplier=i.soundFontVolumeMultiplier:e.soundFontUrl===M5||e.soundFontUrl===tte?e.soundFontVolumeMultiplier=3:e.soundFontUrl===x5?e.soundFontVolumeMultiplier=.4:e.soundFontVolumeMultiplier=1,i.programOffsets?e.programOffsets=i.programOffsets:e.soundFontUrl===x5?e.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:e.programOffsets={};var a=i.fadeLength!==void 0?parseInt(i.fadeLength,10):NaN;if(e.fadeLength=isNaN(a)?200:a,a=i.noteEnd!==void 0?parseInt(i.noteEnd,10):NaN,e.noteEnd=isNaN(a)?0:a,e.pan=i.pan,e.meterSize=1,n.visualObj){e.flattened=n.visualObj.setUpAudio(i);var s=n.visualObj.getMeterFraction();s.den&&(e.meterSize=n.visualObj.getMeterFraction().num/n.visualObj.getMeterFraction().den)}else if(n.sequence)e.flattened=n.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));e.millisecondsPerMeasure=n.millisecondsPerMeasure?n.millisecondsPerMeasure:n.visualObj?n.visualObj.millisecondsPerMeasure(e.flattened.tempo):1e3,e.beatsPerMeasure=n.visualObj?n.visualObj.getBeatsPerMeasure():4,e.sequenceCallback=i.sequenceCallback,e.callbackContext=i.callbackContext,e.onEnded=i.onEnded;var l={},u=[],c=[],f=ph[0];e.flattened.tracks.forEach(function(b){b.forEach(function(w){if(w.cmd==="program"&&ph[w.instrument]&&(f=ph[w.instrument]),w.pitch!==void 0){var x=w.pitch,C=Qee[x];if(C)if(l[f]||(l[f]={}),!_5[f]||!_5[f][C])l[f][C]=!0;else{var S=f+":"+C;u.indexOf(S)<0&&u.push(S)}else{var _=f+":"+C;console.log("Can't find note: ",x,_),c.indexOf(_)<0&&c.push(_)}}})}),e.debugCallback&&e.debugCallback("note gathering time = "+Math.floor((on().currentTime-r)*1e3)+"ms"),r=on().currentTime;var h=[];Object.keys(l).forEach(function(b){Object.keys(l[b]).forEach(function(w){h.push({instrument:b,note:w})})}),e.debugCallback&&e.debugCallback("notes "+JSON.stringify(h));for(var p=[],m=256,v=0;v<h.length;v+=m)p.push(h.slice(v,v+m));return new Promise(function(b,w){var x={cached:u,error:c,loaded:[]},C=0,S=function(){e.debugCallback&&e.debugCallback("loadBatch idx="+C+" len="+p.length),C<p.length?e._loadBatch(p[C],e.soundFontUrl,r).then(function(_){e.debugCallback&&e.debugCallback("loadBatch then"),r=on().currentTime,_&&(_.error&&(x.error=x.error.concat(_.error)),_.loaded&&(x.loaded=x.loaded.concat(_.loaded))),C++,S()},w):(e.debugCallback&&e.debugCallback("resolve init"),b(x))};S()})},e._loadBatch=function(n,r,i,a){var s=[];return n.forEach(function(l){e.debugCallback&&e.debugCallback("getNote "+l.instrument+":"+l.note),s.push(Kee(r,l.instrument,l.note,on()))}),Promise.all(s).then(function(l){e.debugCallback&&e.debugCallback("mp3 load time = "+Math.floor((on().currentTime-i)*1e3)+"ms");for(var u=[],c=[],f=[],h=[],p=0;p<l.length;p++){var m=l[p],v=m.instrument+":"+m.name;m.status==="loaded"?u.push(v):m.status==="pending"?f.push(v):m.status==="cached"?c.push(v):h.push(v+" "+m.message)}if(f.length>0){if(e.debugCallback&&e.debugCallback("pending "+JSON.stringify(f)),a?a=a*2:a=50,a<9e4)return new Promise(function(x,C){setTimeout(function(){var S=[];for(p=0;p<f.length;p++)v=f[p].split(":"),S.push({instrument:v[0],note:v[1]});e.debugCallback&&e.debugCallback("retry "+JSON.stringify(S)),e._loadBatch(S,r,i,a).then(function(_){x(_)}).catch(function(_){C(_)})},a)});for(var b=[],w=0;w<n.length;w++)b.push(n[w].instrument+"/"+n[w].note);return e.debugCallback&&e.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+b.join(", ")))}else return e.debugCallback&&e.debugCallback("loadBatch resolve"),Promise.resolve({loaded:u,cached:c,error:h})}).catch(function(l){e.debugCallback&&e.debugCallback("loadBatch catch "+l.message)})},e.prime=function(){var n=e.fadeLength/1e3;return e.isRunning=!1,e.audioBufferPossible?(e.debugCallback&&e.debugCallback("prime called"),new Promise(function(r){var i=on().currentTime,a=e.millisecondsPerMeasure/1e3/e.meterSize;if(e.duration=e.flattened.totalDuration*a,e.duration<=0)return e.audioBuffers=[],r({status:"empty",seconds:0});e.duration+=n;var s=Math.floor(on().sampleRate*e.duration);e.stop();var l=Yee(e.flattened);e.sequenceCallback&&e.sequenceCallback(l,e.callbackContext);var u=t(l.length,e.pan),c={};l.forEach(function(x,C){var S=u&&u.length>C?u[C]:0;x.forEach(function(_){var M=_.instrument+":"+_.pitch+":"+_.volume+":"+Math.round((_.end-_.start)*1e3)/1e3+":"+S+":"+a+":"+(_.cents?_.cents:0);e.debugCallback&&e.debugCallback("noteMapTrack "+M),c[M]||(c[M]=[]),c[M].push(_.start)})});for(var f=[],h=on().createBuffer(2,s,on().sampleRate),p=0;p<Object.keys(c).length;p++){var m=Object.keys(c)[p],v=m.split(":"),b=v[6]!==void 0?parseFloat(v[6]):0;v={instrument:v[0],pitch:parseInt(v[1],10),volume:parseInt(v[2],10),len:parseFloat(v[3]),pan:parseFloat(v[4]),tempoMultiplier:parseFloat(v[5]),cents:b},f.push(ete(h,on().sampleRate,v,c[m],e.soundFontVolumeMultiplier,e.programOffsets[v.instrument],n,e.noteEnd/1e3,e.debugCallback))}e.audioBuffers=[h],e.debugCallback&&(e.debugCallback("sampleRate = "+on().sampleRate),e.debugCallback("totalSamples = "+s),e.debugCallback("creationTime = "+Math.floor((on().currentTime-i)*1e3)+"ms"));function w(x){var C=x&&x.audioBuffers&&x.audioBuffers.length>0?x.audioBuffers[0].duration:0;return{status:on().state,duration:C}}Promise.all(f).then(function(){on().state==="suspended"?on().resume().then(function(){r(w(e))}):on().state==="interrupted"?on().suspend().then(function(){on().resume().then(function(){r(w(e))})}):r(w(e))})})):Promise.reject(new Error(vs))};function t(n,r){if(r==null)return null;var i=[];if(r.length){for(var a=0;a<n;a++)if(a<r.length){var s=parseFloat(r[a]);s<-1?s=-1:s>1&&(s=1),i.push(s)}else i.push(0);return i}else{var l=parseFloat(r);if(l*(n-1)>2)return null;for(var u=n%2===0,c=u?0-l/2:0,f=c+l,h=0;h<n;h++)u=h%2===0,u?(i.push(c),c-=l):(i.push(f),f+=l);return i}}e.start=function(){if(!e.audioBufferPossible)throw new Error(vs);e.debugCallback&&e.debugCallback("start called");var n=e.pausedTimeSec?e.pausedTimeSec:0;e._kickOffSound(n),e.startTimeSec=on().currentTime-n,e.pausedTimeSec=void 0,e.debugCallback&&e.debugCallback("MIDI STARTED",e.startTimeSec)},e.pause=function(){if(!e.audioBufferPossible)throw new Error(vs);return e.debugCallback&&e.debugCallback("pause called"),e.pausedTimeSec=e.stop(),e.pausedTimeSec},e.resume=function(){e.start()},e.seek=function(n,r){var i;switch(r){case"seconds":i=n;break;case"beats":i=n*e.millisecondsPerMeasure/e.beatsPerMeasure/1e3;break;default:i=(e.duration-e.fadeLength/1e3)*n;break}if(!e.audioBufferPossible)throw new Error(vs);e.debugCallback&&e.debugCallback("seek called sec="+i),e.isRunning?(e.stop(),e._kickOffSound(i)):e.pausedTimeSec=i,e.pausedTimeSec=i},e.stop=function(){e.isRunning=!1,e.pausedTimeSec=void 0,e.directSource.forEach(function(r){try{r.stop()}catch(i){console.log("direct source didn't stop:",i)}}),e.directSource=[];var n=on().currentTime-e.startTimeSec;return n},e.finished=function(){e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.isRunning=!1},e.download=function(){return Zee(e)},e.getAudioBuffer=function(){return e.audioBuffers[0]},e._deviceCapable=function(){return Jee()?!0:(console.warn(vs),e.debugCallback&&e.debugCallback(vs),!1)},e._kickOffSound=function(n){e.isRunning=!0,e.directSource=[],e.audioBuffers.forEach(function(r,i){e.directSource[i]=on().createBufferSource(),e.directSource[i].buffer=r,e.directSource[i].connect(on().destination)}),e.directSource.forEach(function(r){r.start(0,n)}),e.onEnded&&(e.directSource[0].onended=function(){e.onEnded(e.callbackContext)})}}var lg=nte,rte=function(){var e=this;e.tracks=[],e.totalDuration=0,e.currentInstrument=[],e.starts=[],e.addTrack=function(){return e.tracks.push([]),e.currentInstrument.push(0),e.starts.push(0),e.tracks.length-1},e.setInstrument=function(t,n){e.tracks[t].push({channel:0,cmd:"program",instrument:n}),e.currentInstrument[t]=n},e.appendNote=function(t,n,r,i,a){var s={cmd:"note",duration:r,gap:0,instrument:e.currentInstrument[t],pitch:n,start:e.starts[t],volume:i};a&&(s.cents=a),e.tracks[t].push(s),e.starts[t]+=r,e.totalDuration=Math.max(e.totalDuration,e.starts[t])}},d9=rte,ite=`
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
	<g transform="translate(0,700) scale(0.1,-0.1)" >
	<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55
	-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128
	-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79
	-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60
	-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507
	-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21
	-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12
	-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33
	-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0
	-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51
	153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48
	107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57
	74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52
	100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45
	143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29
	165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34
	115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33
	-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90
	-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138
	115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191
	50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21
	7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17
	-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10
	-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66
	50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73
	39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53
	-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43
	-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339
	-19z"></path>
	<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0
	-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72
	l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279
	268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74
	-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19
	-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31
	93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59
	62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89
	89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146
	67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56
	31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64
	48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22
	25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14
	18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50
	47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138
	-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10
	-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20
	-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19
	-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25
	-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18
	-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11
	-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168
	16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71
	37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108
	63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65
	61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86
	12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030
	0 -1086 -11z"></path>
	</g>
</svg>
`,ate=ite,ste=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>
`,ote=ste,lte=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>
`,cte=lte,ute=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>
`,fte=ute,dte=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>
`,hte=dte,pte=vf,h9=gf,Q0=n0,gte=dr,vte=ate,mte=ote,bte=cte,yte=fte,wte=hte;function _te(e,t){var n=this;if(typeof e=="string"){var r=e;if(e=document.querySelector(r),!e)throw new Error('Cannot find element "'+r+'" in the DOM.')}else if(!(e instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(n.parent=e,n.options={},t&&(n.options=gte.clone(t)),n.options.ac&&h9(n.options.ac),xte(n.parent,n.options),Mte(n),n.disable=function(a){var s=n.parent.querySelector(".abcjs-inline-audio");a?s.classList.add("abcjs-disabled"):s.classList.remove("abcjs-disabled")},n.setWarp=function(a,s){var l=n.parent.querySelector(".abcjs-midi-tempo");l.value=Math.round(s),n.setTempo(a)},n.setTempo=function(a){var s=n.parent.querySelector(".abcjs-midi-current-tempo");s&&(s.innerHTML=Math.round(a))},n.resetAll=function(){for(var a=n.parent.querySelectorAll(".abcjs-pushed"),s=0;s<a.length;s++){var l=a[s];l.classList.remove("abcjs-pushed")}},n.pushPlay=function(a){var s=n.parent.querySelector(".abcjs-midi-start");s&&(a?s.classList.add("abcjs-pushed"):s.classList.remove("abcjs-pushed"))},n.pushLoop=function(a){var s=n.parent.querySelector(".abcjs-midi-loop");s&&(a?s.classList.add("abcjs-pushed"):s.classList.remove("abcjs-pushed"))},n.setProgress=function(a,s){var l=n.parent.querySelector(".abcjs-midi-progress-background"),u=n.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!l||!u)){var c=l.clientWidth,f=c*a;u.style.left=f+"px";var h=n.parent.querySelector(".abcjs-midi-clock");if(h){var p=s*a/1e3,m=Math.floor(p/60),v=Math.floor(p%60),b=v<10?"0"+v:v;h.innerHTML=m+":"+b}}},n.options.afterResume){var i=!1;n.options.ac?i=n.options.ac.state!=="suspended":Q0()&&(i=Q0().state!=="suspended"),i&&n.options.afterResume()}}function xte(e,t){var n=!!t.loopHandler,r=!!t.restartHandler,i=!!t.playHandler||!!t.playPromiseHandler,a=!!t.progressHandler,s=!!t.warpHandler,l=t.hasClock!==!1,u=`<div class="abcjs-inline-audio">
`;if(n){var c=t.repeatTitle?t.repeatTitle:"Click to toggle play once/repeat.",f=t.repeatAria?t.repeatAria:c;u+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+c+'" aria-label="'+f+'">'+vte+`</button>
`}if(r){var h=t.restartTitle?t.restartTitle:"Click to go to beginning.",p=t.restartAria?t.restartAria:h;u+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+h+'" aria-label="'+p+'">'+wte+`</button>
`}if(i){var m=t.playTitle?t.playTitle:"Click to play/pause.",v=t.playAria?t.playAria:m;u+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+m+'" aria-label="'+v+'">'+mte+bte+yte+`</button>
`}if(a){var b=t.randomTitle?t.randomTitle:"Click to change the playback position.",w=t.randomAria?t.randomAria:b;u+='<button type="button" class="abcjs-midi-progress-background" title="'+b+'" aria-label="'+w+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(l&&(u+=`<span class="abcjs-midi-clock"></span>
`),s){var x=t.warpTitle?t.warpTitle:"Change the playback speed.",C=t.warpAria?t.warpAria:x,S=t.bpm?t.bpm:"BPM";u+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+x+'" aria-label="'+C+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+S+`)</span></span>
`}u+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',u+=`</div>
`,e.innerHTML=u}function N0(e,t,n,r,i){var a=!0;if(Q0()?a=Q0().state==="suspended":h9(),!pte())throw{status:"NotSupported",message:"This browser does not support audio."};(a||i)&&n&&n.classList.add("abcjs-loading"),a?Q0().resume().then(function(){r?r().then(function(s){gh(e,t,n,i)}):gh(e,t,n,i)}):gh(e,t,n,i)}function gh(e,t,n,r){r?e(t).then(function(){n&&n.classList.remove("abcjs-loading")}):(e(t),n&&n.classList.remove("abcjs-loading"))}function Mte(e){var t=!!e.options.loopHandler,n=!!e.options.restartHandler,r=!!e.options.playHandler||!!e.options.playPromiseHandler,i=!!e.options.progressHandler,a=!!e.options.warpHandler,s=e.parent.querySelector(".abcjs-midi-start");t&&e.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(l){N0(e.options.loopHandler,l,s,e.options.afterResume)}),n&&e.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(l){N0(e.options.restartHandler,l,s,e.options.afterResume)}),r&&s.addEventListener("click",function(l){N0(e.options.playPromiseHandler||e.options.playHandler,l,s,e.options.afterResume,!!e.options.playPromiseHandler)}),i&&e.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(l){N0(e.options.progressHandler,l,s,e.options.afterResume)}),a&&e.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(l){N0(e.options.warpHandler,l,s,e.options.afterResume)})}var p9=_te,Cte=d9,Pte=lg,Ste=n0;function Tte(e,t,n){for(var r=new Cte,i=0;i<e.length;i++){var a=e[i],s=r.addTrack();if(r.setInstrument(s,a.instrument),i===0&&t)for(var l=0;l<t.length;l++){var u=t[l];r.appendNote(s,u.pitch,1/64,u.volume,u.cents)}r.appendNote(s,a.pitch,a.duration,a.volume,a.cents)}var c=Ste();return c.state==="suspended"?c.resume().then(function(){return C5(r,n)}):C5(r,n)}function C5(e,t){var n=new Pte;return n.init({sequence:e,millisecondsPerMeasure:t}).then(function(){return n.prime()}).then(function(){return n.start(),Promise.resolve()})}var Ete=Tte,Ate=p9,kte=lg,Ote=Rp,P5=n0;function Nte(){var e=this;e.warp=100,e.cursorControl=null,e.visualObj=null,e.timer=null,e.midiBuffer=null,e.options=null,e.currentTempo=null,e.control=null,e.isLooping=!1,e.isStarted=!1,e.isLoaded=!1,e.isLoading=!1,e.load=function(n,r,i){i||(i={}),e.control=new Ate(n,{loopHandler:i.displayLoop?e.toggleLoop:void 0,restartHandler:i.displayRestart?e.restart:void 0,playPromiseHandler:i.displayPlay?e.play:void 0,progressHandler:i.displayProgress?e.randomAccess:void 0,warpHandler:i.displayWarp?e.onWarp:void 0,afterResume:e.init}),e.cursorControl=r,e.disable(!0)},e.disable=function(n){e.control&&e.control.disable(n)},e.setTune=function(n,r,i){return e.visualObj=n,e.disable(!1),e.options=i,e.control&&(e.pause(),e.setProgress(0,1),e.control.resetAll(),e.restart(),e.isStarted=!1),e.isLooping=!1,r?e.go():Promise.resolve({status:"no-audio-context"})},e.go=function(){e.isLoading=!0;var n=e.visualObj.millisecondsPerMeasure()*100/e.warp;e.currentTempo=Math.round(e.visualObj.getBeatsPerMeasure()/n*6e4),e.control&&e.control.setTempo(e.currentTempo),e.percent=0;var r;return e.midiBuffer||(e.midiBuffer=new kte),P5().resume().then(function(i){return e.midiBuffer.init({visualObj:e.visualObj,options:e.options,millisecondsPerMeasure:n})}).then(function(i){return r=i,e.midiBuffer.prime()}).then(function(){var i=16;return e.cursorControl&&e.cursorControl.beatSubdivisions!==void 0&&parseInt(e.cursorControl.beatSubdivisions,10)>=1&&parseInt(e.cursorControl.beatSubdivisions,10)<=64&&(i=parseInt(e.cursorControl.beatSubdivisions,10)),e.timer=new Ote(e.visualObj,{beatCallback:e.beatCallback,eventCallback:e.eventCallback,lineEndCallback:e.lineEndCallback,qpm:e.currentTempo,extraMeasuresAtBeginning:e.cursorControl?e.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:e.cursorControl?e.cursorControl.lineEndAnticipation:0,beatSubdivisions:i}),e.cursorControl&&e.cursorControl.onReady&&typeof e.cursorControl.onReady=="function"&&e.cursorControl.onReady(e),e.isLoaded=!0,e.isLoading=!1,Promise.resolve({status:"created",notesStatus:r})})},e.destroy=function(){e.timer&&(e.timer.reset(),e.timer.stop(),e.timer=null),e.midiBuffer&&(e.midiBuffer.stop(),e.midiBuffer=null),e.setProgress(0,1),e.control&&e.control.resetAll()},e.play=function(){return e.runWhenReady(e._play,void 0)};function t(n){return new Promise(function(r){setTimeout(r,n)})}e.runWhenReady=function(n,r){return e.visualObj?e.isLoading?t(500).then(function(){return e.isLoading?e.runWhenReady(n,r):n(r)}):e.isLoaded?n(r):e.go().then(function(){return n(r)}):Promise.resolve({status:"loading"})},e._play=function(){return P5().resume().then(function(){return e.isStarted=!e.isStarted,e.isStarted?(e.cursorControl&&e.cursorControl.onStart&&typeof e.cursorControl.onStart=="function"&&e.cursorControl.onStart(),e.midiBuffer.start(),e.timer.start(e.percent),e.control&&e.control.pushPlay(!0)):e.pause(),Promise.resolve({status:"ok"})})},e.pause=function(){e.timer&&(e.timer.pause(),e.midiBuffer.pause(),e.control&&e.control.pushPlay(!1))},e.toggleLoop=function(){e.isLooping=!e.isLooping,e.control&&e.control.pushLoop(e.isLooping)},e.restart=function(){e.timer&&(e.timer.setProgress(0),e.midiBuffer.seek(0))},e.randomAccess=function(n){return e.runWhenReady(e._randomAccess,n)},e._randomAccess=function(n){var r=n.target.classList.contains("abcjs-midi-progress-indicator")?n.target.parentNode:n.target,i=(n.x-r.offsetLeft)/r.offsetWidth;return i<0&&(i=0),i>1&&(i=1),e.seek(i),Promise.resolve({status:"ok"})},e.seek=function(n,r){e.timer&&e.midiBuffer&&(e.timer.setProgress(n,r),e.midiBuffer.seek(n,r))},e.setWarp=function(n){if(parseInt(n,10)>0){e.warp=parseInt(n,10);var r=e.isStarted,i=e.percent;return e.destroy(),e.isStarted=!1,e.go().then(function(){return e.setProgress(i,e.midiBuffer.duration*1e3),e.control&&e.control.setWarp(e.currentTempo,e.warp),r?e.play().then(function(){return e.seek(i),Promise.resolve()}):(e.seek(i),Promise.resolve())})}return Promise.resolve()},e.onWarp=function(n){var r=n.target.value;return e.setWarp(r)},e.setProgress=function(n,r){e.percent=n,e.control&&e.control.setProgress(n,r)},e.finished=function(){if(e.timer.reset(),e.isLooping)return e.timer.start(0),e.midiBuffer.finished(),e.midiBuffer.start(),"continue";e.timer.stop(),e.isStarted&&(e.control&&e.control.pushPlay(!1),e.isStarted=!1,e.midiBuffer.finished(),e.cursorControl&&e.cursorControl.onFinished&&typeof e.cursorControl.onFinished=="function"&&e.cursorControl.onFinished(),e.setProgress(0,1))},e.beatCallback=function(n,r,i,a){var s=n/r;e.setProgress(s,i),e.cursorControl&&e.cursorControl.onBeat&&typeof e.cursorControl.onBeat=="function"&&e.cursorControl.onBeat(n,r,i,a)},e.eventCallback=function(n){if(n)e.cursorControl&&e.cursorControl.onEvent&&typeof e.cursorControl.onEvent=="function"&&e.cursorControl.onEvent(n);else return e.finished()},e.lineEndCallback=function(n,r){e.cursorControl&&e.cursorControl.onLineEnd&&typeof e.cursorControl.onLineEnd=="function"&&e.cursorControl.onLineEnd(n,r)},e.getUrl=function(){return e.midiBuffer.download()},e.download=function(n){var r=e.getUrl(),i=document.createElement("a");document.body.appendChild(i),i.setAttribute("style","display: none;"),i.href=r,i.download=n||"output.wav",i.click(),window.URL.revokeObjectURL(r),document.body.removeChild(i)}}var g9=Nte,Ite=f9,v9;(function(){function e(f,h){for(var p in h)h.hasOwnProperty(p)&&f.setAttribute(p,h[p]);return f}function t(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}t.prototype.setTempo=function(f){this.trackcount===0&&(this.startTrack(),this.track+="%00%FF%51%03"+l(Math.round(6e7/f),6),this.endTrack())},t.prototype.setGlobalInfo=function(f,h,p,m){if(this.trackcount===0){this.startTrack();var v=Math.round(6e7/f);this.track+="%00%FF%51%03"+l(v,6),p&&(this.track+=i(p)),m&&(this.track+=a(m)),h&&(this.track+=r(h,"%01")),this.endTrack()}},t.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},t.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var f=l(this.track.length/3+4,8);this.track="MTrk"+f+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},t.prototype.setText=function(f,h){switch(f){case"name":this.trackName=r(h,"%03");break}},t.prototype.setInstrument=function(f){this.trackInstrument="%00%C0"+l(f,2),this.instrument=f},t.prototype.setChannel=function(f,h){this.channel=f;var p="%00%B"+this.channel.toString(16);this.track+=p+"%79%00",this.track+=p+"%40%00",this.track+=p+"%5B%30",h||(h=0),h=Math.round((h+1)*64),this.track+=p+"%0A"+l(h,2),this.track+=p+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var n=4096;t.prototype.startNote=function(f,h,p){if(this.track+=c(this.silencelength),this.silencelength=0,p){this.track+="%e"+this.channel.toString(16);var m=Math.round(Ite(p)*n);this.track+=u(8192+m),this.track+=c(0),this.noteWarped[f]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+f.toString(16)+l(h,2)},t.prototype.endNote=function(f){this.track+=c(this.silencelength),this.silencelength=0,this.noteWarped[f]&&(this.track+="%e"+this.channel.toString(16),this.track+=u(8192),this.track+=c(0),this.noteWarped[f]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+f.toString(16)+"%00"},t.prototype.addRest=function(f){this.silencelength+=f,this.silencelength<0&&(this.silencelength=0)},t.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+l(this.trackcount,4)+"%01%e0"+this.trackstrings},t.prototype.embed=function(f,h){var p=this.getData(),m=e(document.createElement("a"),{href:p});if(m.innerHTML="download midi",f.insertBefore(m,f.firstChild),!h){var v=e(document.createElement("embed"),{src:p,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});f.insertBefore(v,f.firstChild)}};function r(f,h){for(var p="",m=0;m<f.length;m++)p+=l(f.charCodeAt(m),2);return"%00%FF"+h+l(p.length/3,2)+p}function i(f){if(!f||!f.accidentals)return"";for(var h="%00%FF%59%02",p=0,m=256,v=0;v<f.accidentals.length;v++)f.accidentals[v].acc==="sharp"?p++:f.accidentals[v].acc==="flat"&&m--;var b=l(m!==256?m:p,2),w=f.mode==="m"?"%01":"%00";return h+b+w}function a(f){var h="%00%FF%58%04"+l(f.num,2),p={1:0,2:1,4:2,8:3,16:4,32:5},m=p[f.den];if(!m)return"";h+=l(m,2);var v;switch(f.num+"/"+f.den){case"2/4":case"3/4":case"4/4":case"5/4":v=24;break;case"6/4":v=72;break;case"2/2":case"3/2":case"4/2":v=48;break;case"3/8":case"6/8":case"9/8":case"12/8":v=36;break}return v?(h+=l(v,2),h+"%08"):""}function s(f){for(var h="",p=0;p<f.length;p+=2)h+="%",h+=f.substr(p,2);return h}function l(f,h){var p=f.toString(16);for(p=p.split(".")[0];p.length<h;)p="0"+p;return p.length>h&&(p=p.substring(0,h)),s(p)}function u(f){f=Math.round(f);var h=f%128,p=f-h;return l(p*2+h,4)}function c(f){var h=0,p=[];for(f=Math.round(f);f!==0;)p.push(f&127),f=f>>7;for(var m=p.length-1;m>=0;m--){h=h<<8;var v=p[m];m!==0&&(v=v|128),h=h|v}var b=h.toString(16).length;return b+=b%2,l(h,b)}v9=function(){return new t}})();var Lte=v9,$te=Lte,m9;(function(){var e=1920;m9=function(n,r){r===void 0&&(r={});var i=n.setUpAudio(r),a=$te(),s=n.metaText?n.metaText.title:void 0;s&&s.length>128&&(s=s.substring(0,124)+"...");var l=n.getKeySignature(),u=n.getMeterFraction(),c=i.tempo/60;a.setGlobalInfo(i.tempo,s,l,u);for(var f=0;f<i.tracks.length;f++){a.startTrack();for(var h={},p=0;p<i.tracks[f].length;p++){var m=i.tracks[f][p];switch(m.cmd){case"text":a.setText(m.type,m.text);break;case"program":var v=0;r.pan&&r.pan.length>f&&(v=r.pan[f]),m.instrument===128?(a.setChannel(9,v),a.setInstrument(0)):(a.setChannel(m.channel,v),a.setInstrument(m.instrument));break;case"note":var b=m.gap*c,w=m.start,x=w+m.duration-b;h[w]||(h[w]=[]),h[w].push({pitch:m.pitch,volume:m.volume,cents:m.cents}),h[x]||(h[x]=[]),h[x].push({pitch:m.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+m.cmd)}}t(a,h,e),a.endTrack()}return a.getData()};function t(n,r,i){for(var a=Object.keys(r),s=0;s<a.length;s++)a[s]=parseFloat(a[s]);a.sort(function(m,v){return m-v});for(var l=0,u=0;u<a.length;u++){var c=r[a[u]];if(a[u]>l){var f=(a[u]-l)*i;n.addRest(f),l=a[u]}for(var h=0;h<c.length;h++){var p=c[h];p.volume?n.startNote(p.pitch,p.volume,p.cents):n.endNote(p.pitch)}}}})();var Bte=m9,Rte=Jp,Fte=Bte,Hte=function(e,t){var n={};if(t)for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.generateInline=!1;function i(a,s,l){var u=Fte(s,n);switch(n.midiOutputType){case"encoded":return u;case"binary":var c=u.replace("data:audio/midi,","");c=c.replace(/MThd/g,"%4d%54%68%64"),c=c.replace(/MTrk/g,"%4d%54%72%6b");for(var f=new ArrayBuffer(c.length/3),h=new Uint8Array(f),p=0;p<c.length/3;p++){var m=p*3+1,v=parseInt(c.substring(m,m+2),16);h[p]=v}return h;case"link":default:return zte(s,n,u,l)}}return typeof e=="string"?Rte.renderEngine(i,"*",e,n):i(null,e,0)};function Dte(e){var t={};return e&&t.toString.call(e)==="[object Function]"}var zte=function(e,t,n,r){var i=["abcjs-download-midi","abcjs-midi-"+r];t.downloadClass&&i.push(t.downloadClass);var a='<div class="'+i.join(" ")+'">';t.preTextDownload&&(a+=t.preTextDownload);var s=e.metaText&&e.metaText.title?e.metaText.title:"Untitled",l;t.downloadLabel&&Dte(t.downloadLabel)?l=t.downloadLabel(e,r):t.downloadLabel?l=t.downloadLabel.replace(/%T/,s):l='Download MIDI for "'+s+'"',s=s.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var u=t.fileName?t.fileName:s+".midi";return a+='<a download="'+u+'" href="'+n+'">'+l+"</a>",t.postTextDownload&&(a+=t.postTextDownload),a+"</div>"},Wte=Hte;try{if(typeof window.CustomEvent!="function"){var S5=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};S5.prototype=window.Event.prototype,window.CustomEvent=S5}}catch{}var Qa=function(e){this.textarea=document.getElementById(e),this.initialText=this.textarea.value,this.isDragging=!1};Qa.prototype.addSelectionListener=function(e){this.textarea.onmousemove=function(t){this.isDragging&&e.fireSelectionChanged()}};Qa.prototype.addChangeListener=function(e){this.changelistener=e,this.textarea.onkeyup=function(){e.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,e.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,e.fireChanged()},this.textarea.onchange=function(){e.fireChanged()}};Qa.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}};Qa.prototype.setSelection=function(e,t){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(e,t);else if(this.textarea.createTextRange){var n=this.textarea.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}this.textarea.focus()};Qa.prototype.getString=function(){return this.textarea.value};Qa.prototype.setString=function(e){this.textarea.value=e,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()};Qa.prototype.getElem=function(){return this.textarea};var b9=Qa,y9=dr,Ute=g9,Vte=vf,qte=u9,jte=b9;function Gte(e){var t={},n;if(e.abcjsParams)for(n in e.abcjsParams)e.abcjsParams.hasOwnProperty(n)&&(t[n]=e.abcjsParams[n]);if(e.midi_options)for(n in e.midi_options)e.midi_options.hasOwnProperty(n)&&(t[n]=e.midi_options[n]);if(e.parser_options)for(n in e.parser_options)e.parser_options.hasOwnProperty(n)&&(t[n]=e.parser_options[n]);if(e.render_options)for(n in e.render_options)e.render_options.hasOwnProperty(n)&&(t[n]=e.render_options[n]);return t.tablature&&e.warnings_id&&(t.tablature.warnings_id=e.warnings_id),t}var Vn=function(e,t){this.abcjsParams=Gte(t),t.indicate_changed&&(this.indicate_changed=!0),typeof e=="string"?this.editarea=new jte(e):this.editarea=e,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),t.canvas_id?this.div=t.canvas_id:t.paper_id?this.div=t.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),typeof this.div=="string"&&(this.div=document.getElementById(this.div)),t.selectionChangeCallback&&(this.selectionChangeCallback=t.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),t.synth&&Vte()&&(this.synth={el:t.synth.el,cursorControl:t.synth.cursorControl,options:t.synth.options}),t.generate_midi&&(this.generate_midi=t.generate_midi,this.abcjsParams.generateDownload&&(typeof t.midi_download_id=="string"?this.downloadMidi=document.getElementById(t.midi_download_id):t.midi_download_id&&(this.downloadMidi=t.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof t.midi_id=="string"?this.inlineMidi=document.getElementById(t.midi_id):t.midi_id&&(this.inlineMidi=t.midi_id))),t.warnings_id?typeof t.warnings_id=="string"?this.warningsdiv=document.getElementById(t.warnings_id):this.warningsdiv=t.warnings_id:t.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=t.onchange,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(n,r){var i=function(a,s){var l=a.className;return l.length>0&&(l===s||new RegExp("(^|\\s)"+s+"(\\s|$)").test(l))};return i(n,r)||(n.className+=(n.className?" ":"")+r),n},this.removeClassName=function(n,r){return n.className=y9.strip(n.className.replace(new RegExp("(^|\\s+)"+r+"(\\s+|$)")," ")),n},this.setReadOnly=function(n){var r="abc_textarea_readonly",i=this.editarea.getElem();n?(i.setAttribute("readonly","yes"),this.addClassName(i,r)):(i.removeAttribute("readonly"),this.removeClassName(i,r))}};Vn.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var e=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(e)}if(this.synth){var t=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new Ute,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],t,this.synth.options)}};Vn.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=qte(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi()}catch(e){console.error("ABCJS error: ",e),this.warnings||(this.warnings=[]),this.warnings.push(e.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}};Vn.prototype.paramChanged=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this.abcjsParams[t]=e[t]);this.currentAbc="",this.fireChanged()};Vn.prototype.synthParamChanged=function(e){if(this.synth){if(this.synth.options={},e)for(var t in e)e.hasOwnProperty(t)&&(this.synth.options[t]=e[t]);this.currentAbc="",this.fireChanged()}};Vn.prototype.parseABC=function(){var e=this.editarea.getString();return e===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=e,!0)};Vn.prototype.updateSelection=function(){var e=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(e.start,e.end)}catch{}this.selectionChangeCallback&&this.selectionChangeCallback(e.start,e.end)};Vn.prototype.fireSelectionChanged=function(){this.updateSelection()};Vn.prototype.setDirtyStyle=function(e){if(this.indicate_changed!==void 0){var t=function(a,s){var l=function(u,c){var f=u.className;return f.length>0&&(f===c||new RegExp("(^|\\s)"+c+"(\\s|$)").test(f))};return l(a,s)||(a.className+=(a.className?" ":"")+s),a},n=function(a,s){return a.className=y9.strip(a.className.replace(new RegExp("(^|\\s+)"+s+"(\\s+|$)")," ")),a},r="abc_textarea_dirty",i=this.editarea.getElem();e?t(i,r):n(i,r)}};Vn.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var e=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){e.modelChanged()},300);var t=this.isDirty();this.wasDirty!==t&&(this.wasDirty=t,this.setDirtyStyle(t)),this.onchangeCallback&&this.onchangeCallback(this)}};Vn.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)};Vn.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()};Vn.prototype.highlight=function(e,t,n,r,i,a){this.editarea.setSelection(e.startChar,e.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(e.startChar,e.endChar),this.clientClickListener&&this.clientClickListener(e,t,n,r,i,a)};Vn.prototype.pause=function(e){this.bIsPaused=e,e||this.fireChanged()};Vn.prototype.millisecondsPerMeasure=function(){return!this.synth||!this.synth.synthControl||!this.synth.synthControl.visualObj?0:this.synth.synthControl.visualObj.millisecondsPerMeasure()};Vn.prototype.pauseMidi=function(e){this.midiPause=e,e||this.redrawMidi()};var Kte=Vn,Yte=Gj,T5=Jj,E5=Jp,Xte=h7,Jte=MY,gi={};gi.signature="abcjs-basic v"+Yte;Object.keys(T5).forEach(function(e){gi[e]=T5[e]});Object.keys(E5).forEach(function(e){gi[e]=E5[e]});gi.renderAbc=u9;gi.TimingCallbacks=Rp;var Qte=Xa;gi.setGlyph=Qte.setSymbol;gi.strTranspose=Jte;var Zte=lg,ene=sg,tne=og,nne=d9,rne=p9,ine=gf,ane=n0,sne=vf,one=Ete,lne=g9,cne=Wte;gi.synth={CreateSynth:Zte,instrumentIndexToName:ene,pitchToNoteName:tne,SynthController:lne,SynthSequence:nne,CreateSynthControl:rne,registerAudioContext:ine,activeAudioContext:ane,supportsAudio:sne,playEvent:one,getMidiFile:cne,sequence:Xte};gi.Editor=Kte;gi.EditArea=b9;var une=gi;const fne=uf(une);const dne=e=>(A1("data-v-f46ec0eb"),e=e(),k1(),e),hne={class:"notation"},pne=dne(()=>Ae("div",{id:"paper"},null,-1)),gne={__name:"Notation",setup(e){const t=zo(),{noteScale:n}=ta(t);Ue(n,i);const r=ie({get:()=>Bu("C"+n.value)});Kt(()=>{i()});function i(){const a=Bu("C"+n.value).reduce((s,l)=>(l=l.replace(/[A-G]b/,"_$&").replace("b",""),l=l.replace(/[A-G]#/,"^$&").replace("#",""),l=l.replace(/[0-9]/,""),`${s} ${l}`),"");fne.renderAbc("paper",`X:1
K
|[${a}]|`)}return(a,s)=>(re(),Le("div",hne,[pne,Ae("p",null,cn(T(r).join(", ")),1)]))}},vne=ff(gne,[["__scopeId","data-v-f46ec0eb"]]);const mne={id:"wrapper"},bne=Ae("p",{class:"settings-description"},[bn("Change the BPM (beats per minute) to modify how fast we advance through the sequence controlled in "),Ae("em",null,"Music Settings")],-1),yne=Ae("p",{class:"settings-description"},[bn("These settings modify the underlying sequence of notes played as we advance from left to right in the "),Ae("em",null,"Weaving Swatch"),bn(" below.")],-1),wne=Ae("p",{class:"setting-title"},"Sequence Type",-1),_ne=Ae("p",{class:"setting-title"},"Chord Name",-1),xne=Ae("p",{class:"setting-title"},"Filter chord by number of notes",-1),Mne=Ae("p",{class:"setting-title"},"Lower Register",-1),Cne=Ae("p",{class:"setting-title"},"Upper Register",-1),Pne={key:1},Sne=Ae("p",null,"Change sine waveform",-1),Tne=Ae("p",{class:"setting-description"},"This waveform is used to generate the note sequence. By adding negative or positive harmonics to a sine wave, this waveform can be transformed from a saw wave to a sine wave.",-1),Ene=Ae("p",{class:"settings-description"},[bn(" In weaving, "),Ae("em",null,"warp"),bn(" refers to the vertical lines and "),Ae("em",null,"warp"),bn(" refers to the horizontal lines, which are woven between the weft. In the swatch below, the warp (vertical) lines represent notes in the note sequence generated by the "),Ae("em",null,"Music Settings"),bn(", and the weft (horizontal) lines represent individual voices that play the notes defined by the warp. To simplify the resulting tonality, the weft lines are handles as octaves, such that when more than one is played simultaneously, they alter the timbre of the voicing rather simply, as stacked octaves. This results in a translation of the weaving pattern that would be rather familiar to anyone who has previously used an MPC sequencer. ")],-1),Ane=Ae("p",{class:"setting-title"},"Warp Count",-1),kne=Ae("p",{class:"setting-description"},null,-1),One=Ae("p",{class:"setting-title"},"Weft Count",-1),Nne=Ae("p",{class:"setting-title"},"Pattern Type",-1),Ine={key:0},Lne=Ae("p",null,"Weave X",-1),$ne=Ae("p",null,"Weave Y",-1),Bne={key:1},Rne=Ae("p",null,"Euclidean Sequence Density",-1),Fne={__name:"OnWeaving",setup(e){const{$event:t}=In(),n=Qo(),r=zo(),i=Ru(),{useWebAudio:a,bpm:s,bpmInterval:l,isOn:u,notesAsNames:c}=ta(n),{chordOptions:f,noteScale:h,chordSizeFilter:p,rangeMin:m,rangeMax:v,sequenceType:b,sequenceTypeOptions:w,sineHarmonics:x}=ta(r),{swatchWidth:C,swatchDepth:S,patternOptions:_,patternType:M,weaveX:P,weaveY:A,euclideanCount:k}=ta(i);Kt(()=>{n.initializeWebAudioSynth()}),Ue(b,n.initNotes),Ue(x,n.initNotes);let B=null;function F(){clearInterval(B),u.value&&(console.log("bpmInterval.value",l.value),B=setInterval(U,l.value))}function U(){t("tick","clock.id")}return Ue(u,R=>{n.startSynth(),F(),R||(clearInterval(B),t("clock-off"))}),Ue(s,()=>{F()}),(R,L)=>{const D=vp,q=fD,N=FD,O=mz,H=xp,V=Pp,ne=Cp,_e=ty;return re(),Le("div",mne,[Pe(T(Bj)),Ae("main",null,[T(a)?Ke("",!0):(re(),qe(T(bj),{key:0,class:"config-section"})),Pe(T(Qd),{title:"Clock Settings"},{default:Oe(()=>[bne,Pe(D,{modelValue:T(s),"onUpdate:modelValue":L[0]||(L[0]=ae=>dt(s)?s.value=ae:null),placeholder:"BPM"},{prepend:Oe(()=>[bn("BPM")]),_:1},8,["modelValue"]),Pe(q,{label:"clock",min:50,max:1e3,step:10,modelValue:T(s),"onUpdate:modelValue":L[1]||(L[1]=ae=>dt(s)?s.value=ae:null)},null,8,["modelValue"])]),_:1}),Pe(T(Qd),{title:"Music Settings"},{default:Oe(()=>[yne,Ae("div",null,[wne,Pe(H,null,{default:Oe(()=>[Pe(O,{class:"settings-info",placement:"top-start",title:"Sequence Type",width:200,trigger:"click",content:"select the type of music sequence: random is random, and 'sine' provides a waveform that produces a set of notes."},{reference:Oe(()=>[Pe(N,{class:"m-2"},{default:Oe(()=>[bn("ⓘ")]),_:1})]),_:1})]),_:1}),Pe(H,null,{default:Oe(()=>[Pe(ne,{modelValue:T(b),"onUpdate:modelValue":L[2]||(L[2]=ae=>dt(b)?b.value=ae:null)},{default:Oe(()=>[(re(!0),Le(Ct,null,sr(T(w),ae=>(re(),qe(V,{key:ae,label:ae,value:ae},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),Ae("div",null,[_ne,Pe(H,null,{default:Oe(()=>[Pe(O,{class:"settings-info",placement:"top-start",title:"Chord Name",width:200,trigger:"click",content:"The notes in the selected chord will be used to populate the note sequence"},{reference:Oe(()=>[Pe(N,{class:"m-2"},{default:Oe(()=>[bn("ⓘ")]),_:1})]),_:1})]),_:1}),Pe(H,null,{default:Oe(()=>[Pe(ne,{modelValue:T(h),"onUpdate:modelValue":L[3]||(L[3]=ae=>dt(h)?h.value=ae:null)},{default:Oe(()=>[(re(!0),Le(Ct,null,sr(T(f),ae=>(re(),qe(V,{key:ae,label:ae,value:ae},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),Pe(T(vne))]),Ae("div",null,[xne,Pe(H,null,{default:Oe(()=>[Pe(O,{class:"settings-info",placement:"top-start",title:"Chord Name",width:200,trigger:"click",content:"Select lower values to filter the chord options with fewer notes"},{reference:Oe(()=>[Pe(N,{class:"m-2"},{default:Oe(()=>[bn("ⓘ")]),_:1})]),_:1})]),_:1}),Pe(H,null,{default:Oe(()=>[Pe(ne,{label:"Filter chord selector by number of notes",modelValue:T(p),"onUpdate:modelValue":L[4]||(L[4]=ae=>dt(p)?p.value=ae:null)},{default:Oe(()=>[(re(),Le(Ct,null,sr([3,4,5,6,7],ae=>Pe(V,{key:ae,label:ae,value:ae},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),Ae("div",null,[Mne,Pe(H,null,{default:Oe(()=>[Pe(O,{class:"settings-info",placement:"top-start",title:"Lower Register",width:200,trigger:"click",content:"Select lower values to filter the chord options with fewer notes"},{reference:Oe(()=>[Pe(N,{class:"m-2"},{default:Oe(()=>[bn("ⓘ")]),_:1})]),_:1})]),_:1}),Pe(q,{min:0,max:8,step:1,"show-stops":"",modelValue:T(m),"onUpdate:modelValue":L[5]||(L[5]=ae=>dt(m)?m.value=ae:null)},null,8,["modelValue"])]),Ae("div",null,[Cne,Pe(H,null,{default:Oe(()=>[Pe(O,{class:"settings-info",placement:"top-start",title:"Upper Register",width:200,trigger:"click",content:"Select the upper register for the note sequence"},{reference:Oe(()=>[Pe(N,{class:"m-2"},{default:Oe(()=>[bn("ⓘ")]),_:1})]),_:1})]),_:1}),Pe(q,{min:0,max:8,step:1,"show-stops":"",modelValue:T(v),"onUpdate:modelValue":L[6]||(L[6]=ae=>dt(v)?v.value=ae:null)},null,8,["modelValue"])]),T(r).sequenceType==="random"?(re(),qe(N,{key:0,class:"border",onClick:T(r).handleRandomize},{default:Oe(()=>[bn("Randomize note sequence")]),_:1},8,["onClick"])):Ke("",!0),T(r).sequenceType==="sine"?(re(),Le("div",Pne,[Sne,Tne,Pe(q,{min:-8,max:8,step:1,modelValue:T(x),"onUpdate:modelValue":L[7]||(L[7]=ae=>dt(x)?x.value=ae:null)},null,8,["modelValue"]),Pe(H)])):Ke("",!0)]),_:1}),Pe(T(Qd),{title:"Weave Settings"},{default:Oe(()=>[Ene,Ae("div",null,[Ane,Pe(H,null,{default:Oe(()=>[Pe(O,{class:"settings-info",placement:"top-start",title:"Warp Count",width:200,trigger:"click",content:"In weaving, a warp is thread hung vertically. In our sequencer, a warp represents a note in the note sequence"},{reference:Oe(()=>[Pe(N,{class:"m-2"},{default:Oe(()=>[bn("ⓘ")]),_:1})]),_:1})]),_:1}),kne,Pe(_e,{modelValue:T(C),"onUpdate:modelValue":L[8]||(L[8]=ae=>dt(C)?C.value=ae:null),step:1,min:2},null,8,["modelValue"])]),Ae("div",null,[One,Pe(H,null,{default:Oe(()=>[Pe(O,{class:"settings-info",placement:"top-start",title:"Weft Count",width:200,trigger:"click",content:"In weaving, a warp is thread hung vertically. In our sequencer, a warp represents a note in the note sequence"},{reference:Oe(()=>[Pe(N,{class:"m-2"},{default:Oe(()=>[bn("ⓘ")]),_:1})]),_:1})]),_:1}),Pe(_e,{modelValue:T(S),"onUpdate:modelValue":L[9]||(L[9]=ae=>dt(S)?S.value=ae:null),step:1,min:2},null,8,["modelValue"])]),Ae("div",null,[Nne,Pe(H,null,{default:Oe(()=>[Pe(O,{class:"settings-info",placement:"top-start",title:"Pattern Type",width:200,trigger:"click",content:"Weave: apply traditional weaving patterns. Euclidean: apply a 'euclidean' algorithm, which will construct a pattern in which notes are evenly spaced across the sequence"},{reference:Oe(()=>[Pe(N,{class:"m-2"},{default:Oe(()=>[bn("ⓘ")]),_:1})]),_:1})]),_:1}),Pe(H,null,{default:Oe(()=>[Pe(ne,{modelValue:T(M),"onUpdate:modelValue":L[10]||(L[10]=ae=>dt(M)?M.value=ae:null)},{default:Oe(()=>[(re(!0),Le(Ct,null,sr(T(_),ae=>(re(),qe(V,{key:ae,label:ae,value:ae},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),T(M)==="weave"?(re(),Le("div",Ine,[Lne,Pe(q,{modelValue:T(P),"onUpdate:modelValue":L[11]||(L[11]=ae=>dt(P)?P.value=ae:null),min:1,max:8,step:1},null,8,["modelValue"]),$ne,T(M)==="weave"?(re(),qe(q,{key:0,modelValue:T(A),"onUpdate:modelValue":L[12]||(L[12]=ae=>dt(A)?A.value=ae:null),min:1,max:8,step:1},null,8,["modelValue"])):Ke("",!0)])):Ke("",!0),T(M)==="euclidean"?(re(),Le("div",Bne,[Rne,Pe(q,{modelValue:T(k),"onUpdate:modelValue":L[13]||(L[13]=ae=>dt(k)?k.value=ae:null),min:1,max:T(C),step:1},null,8,["modelValue","max"])])):Ke("",!0)]),_:1}),Pe(T(Vj))])])}}},Hne={};function Dne(e,t){const n=Fne;return re(),Le("div",null,[Pe(n)])}const zne=ff(Hne,[["render",Dne]]),A5={__name:"nuxt-root",setup(e){const t=YS(()=>c4(()=>import("./error-component.f4a3fb60.js"),[],import.meta.url).then(u=>u.default||u)),n=()=>null,r=In(),i=r.deferHydration(),a=!1;Jn("_route",bk()),r.hooks.callHookWith(u=>u.map(c=>c()),"vue:setup");const s=j1();p6((u,c,f)=>{if(r.hooks.callHook("vue:error",u,c,f).catch(h=>console.error("[nuxt] Error in `vue:error` hook",h)),Mk(u)&&(u.fatal||u.unhandled))return z0(r,_k,[u]),!1});const{islandContext:l}=!1;return(u,c)=>(re(),qe(DS,{onResolve:T(i)},{default:Oe(()=>[T(s)?(re(),qe(T(t),{key:0,error:T(s)},null,8,["error"])):T(l)?(re(),qe(T(n),{key:1,context:T(l)},null,8,["context"])):T(a)?(re(),qe(ar(T(a)),{key:2})):(re(),qe(T(zne),{key:3}))]),_:1},8,["onResolve"]))}};globalThis.$fetch||(globalThis.$fetch=XE.create({baseURL:QE()}));let k5;const Wne=pA(yO);k5=async function(){var i,a;const n=!!((i=window.__NUXT__)!=null&&i.serverRendered||((a=document.getElementById("__NUXT_DATA__"))==null?void 0:a.dataset.ssr)==="true")?hE(A5):dE(A5),r=fA({vueApp:n});try{await hA(r,Wne)}catch(s){await r.callHook("app:error",s),r.payload.error=r.payload.error||s}try{await r.hooks.callHook("app:created",n),await r.hooks.callHook("app:beforeMount",n),n.mount("#"+Rk),await r.hooks.callHook("app:mounted",n),await Et()}catch(s){await r.callHook("app:error",s),r.payload.error=r.payload.error||s}},k5().catch(e=>{console.error("Error while mounting app:",e)});export{Pe as A,Oe as B,bn as C,A1 as D,k1 as E,c4 as _,In as a,Zu as b,qe as c,YS as d,ot as e,ie as f,ST as g,Qu as h,Kt as i,ur as j,U1 as k,Sa as l,H6 as m,Vne as n,re as o,ml as p,z6 as q,Se as r,wk as s,ff as t,T as u,qne as v,Nh as w,Le as x,Ae as y,cn as z};
